/*! For license information please see workbench.bundle.js.LICENSE.txt */
(self.webpackChunk_skybrush_live=self.webpackChunk_skybrush_live||[]).push([[150],{43994:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=r(3400)},22702:(e,t,r)=>{"use strict";r.d(t,{I:()=>d});r(69358),r(59749),r(86544),r(84254),r(89730),r(12826),r(34284),r(64043),r(7409),r(50886),r(45993),r(79288),r(97895),r(77049),r(21694),r(752),r(60228),r(76265);var n=r(64311),o=r.n(n),a=r(98697),i=["algorithm"];function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function u(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.algorithm,n=void 0===r?"greedy":r,s=p(t,i);switch(n){case"hungarian":return o()(e);case"greedy":return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.length,n=r>0?Math.min.apply(Math,u(e.map((function(e){return e.length})))):0,o=[],i=[],s=t.threshold;if(0===r||0===n)return[];("number"!=typeof s||s<=0||Number.isNaN(s))&&(s=Number.POSITIVE_INFINITY);var f,p=l(e.entries());try{for(p.s();!(f=p.n()).done;){var d,y=c(f.value,2),h=y[0],m=l(y[1].entries());try{for(m.s();!(d=m.n()).done;){var v=c(d.value,2),g=v[0],b=v[1];b<=s&&o.push([h,g,b])}}catch(e){m.e(e)}finally{m.f()}}}catch(e){p.e(e)}finally{p.f()}var w,E=(0,a.Z)(o,(function(e){return e[2]})),S=Array.from({length:r}).fill(!1),O=Array.from({length:n}).fill(!1),x=r,A=n,j=l(E);try{for(j.s();!(w=j.n()).done;){var k=c(w.value,3),P=k[0],C=k[1];k[2];if(!(S[P]||O[C]||(i.push([P,C]),S[P]=!0,O[C]=!0,A--,--x&&A)))break}}catch(e){j.e(e)}finally{j.f()}return i}(e,s);default:throw new Error("unknown assignment algorithm: "+n)}}},17479:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>rM});r(752),r(60228),r(73964),r(21694),r(76265),r(59749),r(86544),r(84254),r(58373),r(66793),r(7629),r(77509),r(88052),r(47522),r(34284),r(5399),r(89730),r(69373),r(59903),r(79288),r(76034),r(30050);var n=r(90512),o=r(44683),a=r(45697),i=r.n(a),c=r(67294),l=r(4511),u=r(77158),s=r(86706),f=r(85611),p=r(78603),d=r(58657),y=r(75834),h=r(91072),m=r(84170),v=r(29525),g=r(41423),b=r(76452),w=r(34457),E=(r(50886),r(37238)),S=r(66688),O=r(28889),x=r(22318),A=r(282),j=r(32615),k=function(e){var t=e.dirty,r=e.form,n=e.label,o=e.onSubmit;return c.createElement(O.Z,{display:"flex",flexDirection:"row"},c.createElement(j.Z,{status:t?"warning":"success"},"".concat(n||"Form",t?" changed; do not forget to save.":" saved.")),r&&c.createElement(c.Fragment,null,c.createElement(A.Z,{disabled:!t,onClick:function(){return r.reset()}},"Reset"),c.createElement(A.Z,{color:"primary",disabled:!t,onClick:o},"Save")))};k.propTypes={dirty:i().bool.isRequired,form:i().shape({reset:i().func}),label:i().string,onSubmit:i().func};const P=k;var C=r(80297),T=[{label:"Mapbox",key:"MAPBOX"},{label:"Maptiler",key:"MAPTILER"}],I=function(e){var t=e.apiKeys,r=e.onSubmit;return c.createElement(S.l0,{initialValues:t,onSubmit:r},(function(e){var t=e.dirty,r=e.form,n=e.handleSubmit;return c.createElement(O.Z,{pt:1,pb:2},T.map((function(e){return c.createElement(O.Z,{key:e.key,py:1},c.createElement(E.nv,{fullWidth:!0,name:e.key,label:"".concat(e.label," API key"),variant:"filled"}))})),c.createElement(x.Z,{variant:"body2",color:"textSecondary"},"Some map tile providers work without an API key; in this case, a \n          default API key is used. This API key is shared between all \n          users. We make no guarantees about the availability of map tiles if\n          you use the default shared API key."),c.createElement(O.Z,{pb:2}),c.createElement(P,{dirty:t,form:r,label:"API keys",onSubmit:n}))}))};I.propTypes={apiKeys:i().object,onSubmit:i().func};const L=(0,s.$j)((function(e){return{apiKeys:e.settings.apiKeys}}),{onSubmit:function(e){for(var t={},r=0,n=T;r<n.length;r++){var o=n[r];t[o.key]=e[o.key]?String(e[o.key]):""}return(0,C.IA)("apiKeys",t)}})(I);r(69358),r(38077),r(81919),r(99474);var _=r(13258),Z=r(64436),N=r(30553),R=r(6562),D=r(96394),F=r(85639),M=r(26209),U=r(75491),G=r(23302),V=(r(12826),r(77049),r(64043),r(7409),r(60429),r(34338),r(50576)),B=r(7397),W=r(17812),z=r(39803),H=r(35996),Y=r(48829),q=["onChange","value"];function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K.apply(this,arguments)}function X(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return J(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ie(n.key),n)}}function te(e,t){return te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},te(e,t)}function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=oe(e);if(t){var o=oe(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ne(e)}(this,r)}}function ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oe(e){return oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oe(e)}function ae(e,t,r){return(t=ie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ie(e){var t=function(e,t){if("object"!=$(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$(t)?t:String(t)}var ce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&te(e,t)}(a,e);var t,r,n,o=re(a);function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ae(ne(e=o.call.apply(o,[this].concat(r))),"state",{dirty:!1,error:void 0,originalText:void 0,text:void 0}),ae(ne(e),"_onBlur",(function(t){e._onMaybeCommitValue({text:t.target.value})})),ae(ne(e),"_onChange",(function(t){e._updateValueFromText(t.target.value)})),ae(ne(e),"_onClearField",(function(){e._updateValueFromText("",{commit:!0})})),ae(ne(e),"_onKeyDown",(function(t){"Enter"===t.key&&(t.preventDefault(),e._updateValueFromText(t.target.value,{commit:!0}))})),ae(ne(e),"_onMaybeCommitValue",(function(t){var r=t.mounted,n=void 0===r||r,o=t.text,a=Q(e._validate(o),2),i=a[0],c=a[1];if(i){var l=e.props,u=l.onChange,s=l.value;u&&!(0,V.default)(s,c)&&u(c),n&&e._reset()}})),ae(ne(e),"_onMouseDownOnButton",(function(e){e.preventDefault()})),ae(ne(e),"_reset",(function(){e.setState({dirty:!1,text:void 0})})),ae(ne(e),"_updateValueFromText",(function(t){var r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).commit;e.setState((function(e){return t===e.originalText?{dirty:!1,text:void 0}:{dirty:!0,text:t}})),r?e._onMaybeCommitValue({text:t,mounted:!0}):e._validate(t)})),ae(ne(e),"_validate",(function(t){var r=e.props.required,n=(0,Y.ie)(t),o=(""!==t||r)&&void 0===n;return e.setState({error:o?"Not a valid coordinate":void 0}),[!o,n]})),e}return t=a,n=[{key:"getDerivedStateFromProps",value:function(e){return{originalText:(0,Y.O_)(e.value)}}}],(r=[{key:"componentWillUnmount",value:function(){this.state.dirty&&this._onMaybeCommitValue({text:this.state.text,mounted:!1})}},{key:"render",value:function(){var e=this.props,t=(e.onChange,e.value,X(e,q)),r=this.state,n=r.dirty,o=r.error,a=r.originalText,i=r.text,l=n?i:a,u=l?c.createElement(B.Z,{position:"end"},c.createElement(W.Z,{"aria-label":"Clear field",edge:"end",tabIndex:-1,onClick:this._onClearField,onMouseDown:this._onMouseDownOnButton},c.createElement(H.default,null))):null;return c.createElement(z.Z,K({value:l,error:Boolean(o),InputProps:{endAdornment:u},onBlur:this._onBlur,onChange:this._onChange,onKeyDown:this._onKeyDown},t))}}])&&ee(t.prototype,r),n&&ee(t,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(c.Component);ae(ce,"propTypes",{onChange:i().func,required:i().bool,value:i().arrayOf(i().number)}),ae(ce,"defaultProps",{required:!1,value:void 0});r(57267),r(52362),r(45993);function le(e){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},le(e)}var ue=["onChange","value"];function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},se.apply(this,arguments)}function fe(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return de(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return de(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,we(n.key),n)}}function he(e,t){return he=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},he(e,t)}function me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ge(e);if(t){var o=ge(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===le(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ve(e)}(this,r)}}function ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ge(e){return ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ge(e)}function be(e,t,r){return(t=we(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function we(e){var t=function(e,t){if("object"!=le(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=le(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==le(t)?t:String(t)}var Ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&he(e,t)}(a,e);var t,r,n,o=me(a);function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return be(ve(e=o.call.apply(o,[this].concat(r))),"state",{dirty:!1,error:void 0,originalText:void 0,text:void 0}),be(ve(e),"_onBlur",(function(t){e._onMaybeCommitValue({text:t.target.value})})),be(ve(e),"_onChange",(function(t){e._updateValueFromText(t.target.value)})),be(ve(e),"_onClearField",(function(){e._updateValueFromText("0",{commit:!0})})),be(ve(e),"_onKeyDown",(function(t){"Enter"===t.key&&(t.preventDefault(),e._updateValueFromText(t.target.value,{commit:!0}))})),be(ve(e),"_onMaybeCommitValue",(function(t){var r=t.mounted,n=void 0===r||r,o=t.text,a=pe(e._validate(o),2),i=a[0],c=a[1];if(i){var l=e.props,u=l.onChange,s=l.value;u&&s!==c&&u(c),n&&e._reset()}})),be(ve(e),"_onMouseDownOnButton",(function(e){e.preventDefault()})),be(ve(e),"_reset",(function(){e.setState({dirty:!1,text:void 0})})),be(ve(e),"_updateValueFromText",(function(t){var r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).commit;e.setState((function(e){return t===e.originalText?{dirty:!1,text:void 0}:{dirty:!0,text:t}})),r?e._onMaybeCommitValue({text:t,mounted:!0}):e._validate(t)})),be(ve(e),"_validate",(function(t){var r=Number.parseFloat(t),n=Number.isNaN(r);return e.setState({error:n?"Not a valid angle":void 0}),[!n,(0,Y.LW)(r)]})),e}return t=a,n=[{key:"getDerivedStateFromProps",value:function(e){return{originalText:(t=e.value,(0,Y.LW)(t).replace(",",".")+"\xb0")};var t}}],(r=[{key:"componentWillUnmount",value:function(){var e=this.state,t=e.dirty,r=e.originalText,n=e.text,o=t?n:r;this._onMaybeCommitValue({mounted:!1,text:o})}},{key:"render",value:function(){var e=this.props,t=(e.onChange,e.value,fe(e,ue)),r=this.state,n=r.dirty,o=r.error,a=r.originalText,i=r.text,l=n?i:a,u=l?c.createElement(B.Z,{position:"end"},c.createElement(W.Z,{"aria-label":"Clear field",edge:"end",tabIndex:-1,onClick:this._onClearField,onMouseDown:this._onMouseDownOnButton},c.createElement(H.default,null))):null;return c.createElement(z.Z,se({error:Boolean(o),value:l,InputProps:{endAdornment:u},onBlur:this._onBlur,onChange:this._onChange,onKeyDown:this._onKeyDown},t))}}])&&ye(t.prototype,r),n&&ye(t,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(c.Component);be(Ee,"propTypes",{onChange:i().func,value:i().oneOfType([i().string,i().number])}),be(Ee,"defaultProps",{value:void 0});var Se=function(e){var t=e.orientation,r=e.orientationLabel,n=e.origin,o=e.originLabel,a=e.type,i=e.onOrientationChanged,l=e.onOriginChanged,u=e.onTypeChanged;return c.createElement(O.Z,{display:"flex",flexDirection:"row"},c.createElement(Z.Z,{style:{minWidth:90},variant:"filled"},c.createElement(D.Z,{htmlFor:"coordinate-system-type"},"Type"),c.createElement(M.Z,{disabled:!u,value:a,inputProps:{id:"coordinate-system-type"},onChange:u},c.createElement(F.Z,{value:"neu"},"NEU"),c.createElement(F.Z,{value:"nwu"},"NWU"))),c.createElement(O.Z,{p:1}),c.createElement(ce,{fullWidth:!0,label:o,value:n,variant:"filled",onChange:l}),c.createElement(O.Z,{p:1}),c.createElement(Ee,{style:{minWidth:160},label:r,value:t,variant:"filled",onChange:i}))};Se.propTypes={onOrientationChanged:i().func,onOriginChanged:i().func,onTypeChanged:i().func,orientation:i().oneOfType([i().number,i().string]),orientationLabel:i().string,origin:i().arrayOf(i().number),originLabel:i().string,type:i().string.isRequired},Se.defaultProps={originLabel:"Origin",orientationLabel:"Orientation (X+ axis)"};const Oe=Se;var xe=r(71817),Ae=r(52169),je=r(35122),ke=r(24652);function Pe(e){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pe(e)}var Ce=["t"];function Te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ie(e,t,r){var n;return n=function(e,t){if("object"!=Pe(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Pe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Pe(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Le(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var _e=[je.mY.DEGREES,je.mY.DEGREES_MINUTES,je.mY.DEGREES_MINUTES_SECONDS,je.mY.SIGNED_DEGREES,je.mY.SIGNED_DEGREES_MINUTES,je.mY.SIGNED_DEGREES_MINUTES_SECONDS],Ze=function(e){var t=e.t,r=Le(e,Ce);return c.createElement(c.Fragment,null,c.createElement(O.Z,{my:2},c.createElement(Z.Z,{fullWidth:!0,variant:"filled"},c.createElement(D.Z,{id:"language-selector-label"},t("settings.display.language")),c.createElement(M.Z,{labelId:"language-selector-label",name:"language",value:r.language,onChange:r.onFieldChanged},Ae.m.map((function(e){var t=e.code,r=e.label;return c.createElement(F.Z,{key:t,value:t},r)}))))),c.createElement(O.Z,{my:2},c.createElement(G.Z,{value:r.theme,onChange:r.onFieldChanged})),c.createElement(O.Z,{my:2},c.createElement(Z.Z,{fullWidth:!0,variant:"filled"},c.createElement(D.Z,{id:"coordinate-format-label"},t("settings.display.coordinateFormat")),c.createElement(M.Z,{labelId:"coordinate-format-label",name:"coordinateFormat",value:r.coordinateFormat,onChange:r.onFieldChanged},_e.map((function(e){return c.createElement(F.Z,{key:e,value:e},(0,je.ON)(e))})))),c.createElement(R.Z,null,c.createElement(U.Z,null,t("settings.display.mapWidgets")),c.createElement(N.Z,{label:t("settings.display.showMouseCoordinates"),control:c.createElement(_.Z,{checked:r.showMouseCoordinates,name:"showMouseCoordinates",onChange:r.onCheckboxToggled})}),c.createElement(N.Z,{label:t("settings.display.showScaleLine"),control:c.createElement(_.Z,{checked:r.showScaleLine,name:"showScaleLine",onChange:r.onCheckboxToggled})})),c.createElement(R.Z,null,c.createElement(U.Z,null,t("settings.display.flatEarthCoordinateSystem")),c.createElement(Oe,{origin:r.origin,originLabel:t("settings.display.mapOrigin"),orientation:r.orientation,type:r.coordinateSystemType,onOrientationChanged:r.onOrientationChanged,onOriginChanged:r.onOriginChanged,onTypeChanged:r.onCoordinateSystemTypeChanged})),c.createElement(R.Z,null,c.createElement(U.Z,null,t("settings.display.operationModes")),c.createElement(N.Z,{label:t("settings.display.optimizeForSingleUAV"),control:c.createElement(_.Z,{checked:r.optimizeForSingleUAV,disabled:o.Z.optimizeForSingleUAV.force,name:"optimizeForSingleUAV",onChange:r.onCheckboxToggled})}),c.createElement(N.Z,{label:t("settings.display.optimizeUIForTouch"),control:c.createElement(_.Z,{checked:r.optimizeUIForTouch,disabled:o.Z.optimizeUIForTouch.force,name:"optimizeUIForTouch",onChange:r.onCheckboxToggled})})),c.createElement(R.Z,null,c.createElement(U.Z,null,t("settings.display.miscellaneous")),c.createElement(N.Z,{label:t("settings.display.hideInactiveSegmentsOnDarkLCD"),control:c.createElement(_.Z,{checked:r.hideInactiveSegmentsOnDarkLCD,name:"hideInactiveSegmentsOnDarkLCD",onChange:r.onCheckboxToggled})}),c.createElement(N.Z,{label:t("settings.display.enableExperimentalFeatures"),control:c.createElement(_.Z,{checked:r.experimentalFeaturesEnabled,name:"experimentalFeaturesEnabled",onChange:r.onCheckboxToggled})}))))};Ze.propTypes={coordinateFormat:i().oneOf(_e),coordinateSystemType:i().oneOf(["neu","nwu"]),experimentalFeaturesEnabled:i().bool,language:i().string,origin:i().arrayOf(i().number),onCheckboxToggled:i().func,onCoordinateSystemTypeChanged:i().func,onFieldChanged:i().func,onOriginChanged:i().func,onOrientationChanged:i().func,optimizeForSingleUAV:i().bool,optimizeUIForTouch:i().bool,orientation:i().number,hideInactiveSegmentsOnDarkLCD:i().bool,showMouseCoordinates:i().bool,showScaleLine:i().bool,t:i().func,theme:i().oneOf(["auto","dark","light"])},Ze.defaultProps={language:"en"};const Ne=(0,s.$j)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(r),!0).forEach((function(t){Ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({coordinateSystemType:e.map.origin.type,origin:e.map.origin.position,orientation:(0,ke.Xq)(e)},e.settings.display)}),(function(e){return{onCheckboxToggled:function(t){e((0,C.IA)("display",Ie({},t.target.name,t.target.checked)))},onCoordinateSystemTypeChanged:function(t){e((0,xe.y_)(t.target.value))},onFieldChanged:function(t){e((0,C.IA)("display",Ie({},t.target.name,t.target.value)))},onOriginChanged:function(t){e((0,xe.ZG)(t))},onOrientationChanged:function(t){e((0,xe.FY)(t||0))}}}))((0,h.Zh)()(Ze));r(28436);var Re=r(95656),De=r(21147);function Fe(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Me(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Me(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r(6203);var Ue=r(27601),Ge=r(22222);function Ve(e){return Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ve(e)}function Be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(r),!0).forEach((function(t){ze(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ze(e,t,r){var n;return n=function(e,t){if("object"!=Ve(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ve(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ve(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function He(e){return function(e){if(Array.isArray(e))return qe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ye(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(e,t){if(e){if("string"==typeof e)return qe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qe(e,t):void 0}}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var $e=(0,Ge.createSelector)((function(e){return e.preflight.groups}),Re.vA),Ke=(0,Ge.createSelector)((function(e){return e.preflight.items}),Re.vA),Xe=(0,Ge.createSelector)($e,Ke,(function(e,t){var r,n=t.filter((function(e){return(0,Ue.default)(e.groupId)})),o=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Ye(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}(e);try{var a=function(){var e=r.value,o=t.filter((function(t){return t.groupId===e.id}));o.length>0&&n.push.apply(n,[We({type:"header"},e)].concat(He(o)))};for(o.s();!(r=o.n()).done;)a()}catch(e){o.e(e)}finally{o.f()}return n})),Qe=function(e){return e.preflight.checked},Je=(0,Ge.createSelector)(Ke,(function(e){return e.preflight.checked}),(function(e,t){return e.length===t.length})),et=(0,Ge.createSelector)(Xe,(function(e){return e.map((function(e){var t=(e.label||"").trim();return"header"===e.type?"\n".concat(t,":"):t?"- ".concat(t):t})).join("\n").trim()})),tt=function(e){return e.preflight.items.order.length>0},rt=function(e){var t=e.items,r=e.onSubmit;return c.createElement(S.l0,{initialValues:{items:t},onSubmit:r},(function(e){var t=e.dirty,r=e.form,n=e.handleSubmit;return c.createElement(O.Z,{pt:1,pb:2},c.createElement(x.Z,null,"Enter your preferred manual preflight check items, one per line."),c.createElement(O.Z,{py:1},c.createElement(E.nv,{fullWidth:!0,multiline:!0,name:"items",label:"Manual preflight check items",minRows:10,variant:"filled",helperText:"Lines ending with a colon (:) become headings."})),c.createElement(P,{label:"Preflight check items",dirty:t,form:r,onSubmit:n}))}))};rt.propTypes={items:i().string,onSubmit:i().func};const nt=(0,s.$j)((function(e){return{items:et(e)}}),{onSubmit:function(e){var t,r=e.items;return t=r,function(e){var r=[],n=[],o="General",a="group0",i=!0;function c(){i||(r.push({label:o,id:a}),i=!0,a="group".concat(r.length))}var l,u=Fe((t||"").split("\n"));try{for(u.s();!(l=u.n()).done;){var s=l.value;if(0!==(s=s.trim()).length)if(":"===s.charAt(s.length-1))c(),o=s.slice(0,-1).trim();else{for(;"-"===s.charAt(0)||" "===s.charAt(0);)s=s.slice(1);s.length>0&&(n.push({label:s,id:"item".concat(n.length),groupId:a}),i=!1)}}}catch(e){u.e(e)}finally{u.f()}c(),r=(0,Re.U9)(r),n=(0,Re.U9)(n),e((0,De.mS)({groups:r,items:n}))}}})(rt);var ot=r(18124),at=r(16390),it=r(62576),ct=r(62822),lt=r(50998),ut=r(46869),st=r(95757),ft=r(9570),pt=r(58713),dt=r(60413);var yt=[],ht=function(e){var t=e.settings.localServer.searchPath;return Array.isArray(t)?t:yt},mt=function(e){return e.localServer.pathScan.result},vt=(0,Ge.createSelector)(mt,(function(e){return"string"==typeof e&&e.length>0})),gt=(0,Ge.createSelector)((function(e){return e.dialogs.serverSettings}),(function(e){return e.settings.localServer}),vt,(function(e,t,r){return window.bridge&&window.bridge.localServer&&t.enabled&&("localhost"===(n=e.hostName)||(0,dt.isLoopback)(n))&&e.active&&r;var n})),bt=(r(41830),r(95477)),wt=r(18334),Et=r(96984),St=r(20907),Ot=r(41120),xt=r(10637),At=r(21727),jt=r(73435);function kt(){return kt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kt.apply(this,arguments)}var Pt=(0,Ot.Z)((function(e){return{root:{backgroundColor:(0,jt.isThemeDark)(e)?e.palette.grey.A400:e.palette.grey[200],paddingTop:6}}}),{name:"DialogHeaderListItem"}),Ct=Object.freeze({success:c.createElement(ut.Z,{style:{color:wt.Z[500],margin:"0 0 0 19px"}},c.createElement(xt.default,null)),warning:c.createElement(ut.Z,{style:{color:Et.Z[700],margin:"0 0 0 19px"}},c.createElement(At.Z,null)),inProgress:c.createElement(ut.Z,{style:{margin:"0 0 0 19px"}},c.createElement(bt.Z,{variant:"indeterminate",color:"secondary",size:32})),error:c.createElement(ut.Z,{style:{color:St.Z[500],margin:"0 0 0 19px"}},c.createElement(H.default,null))});const Tt=function(e){var t=Pt();return c.createElement(lt.Z,kt({divider:!0,className:t.root},e))};var It=r(53743);function Lt(e){return Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lt(e)}function _t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zt(e,t,r){var n;return n=function(e,t){if("object"!=Lt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Lt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Lt(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Nt=function(e){var t=e.error,r=e.notFoundMessage,n=e.onRequestReload,o=e.result,a=e.scanning,i=e.scanningMessage,l=e.successMessage;return c.createElement(Tt,{button:!0,onClick:n},a?Ct.inProgress:t?Ct.error:o?Ct.success:Ct.warning,c.createElement(st.Z,{primary:t||(o?l:a?i:r),secondary:a?"Looking for server":o||"Click to scan again"}))};Nt.propTypes={error:i().string,notFoundMessage:i().string,onRequestReload:i().func,result:i().string,scanning:i().bool,scanningMessage:i().string,successMessage:i().string},Nt.defaultProps={notFoundMessage:"Server executable not found.",scanningMessage:"Please wait\u2026",successMessage:"Server executable found successfully."};const Rt=(0,s.$j)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(r),!0).forEach((function(t){Zt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.localServer.pathScan)}),{onRequestReload:It.CB})(Nt);var Dt,Ft;function Mt(e){return Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mt(e)}function Ut(){Ut=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==Mt(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(Mt(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function Gt(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Vt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(r),!0).forEach((function(t){Wt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Wt(e,t,r){var n;return n=function(e,t){if("object"!=Mt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Mt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Mt(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var zt=function(e){var t=e.cliArguments,r=e.enabled,n=e.onDisable,o=e.onEnable,a=e.onSearchPathChanged,i=e.onSelectSearchPath,l=e.onTextFieldChanged,u=e.searchPath;return c.createElement("div",{style:{position:"relative",top:-8}},c.createElement(ct.Z,{dense:!0,disablePadding:!0,style:{margin:"0 -24px"}},c.createElement(Rt,null),c.createElement(lt.Z,{button:!0,disableRipple:!0,onClick:r?n:o},c.createElement(ut.Z,{style:{margin:"0 17px 0 2px"}},c.createElement(ft.Z,{checked:r})),c.createElement(st.Z,{primary:"Launch local server automatically",secondary:"Only if the application is connecting to localhost"}))),c.createElement(R.Z,null,c.createElement(O.Z,{mt:1},c.createElement(z.Z,{fullWidth:!0,id:"cliArguments",label:"Command line arguments",value:t,variant:"filled",helperText:"These arguments will be supplied to the local server upon startup.",onChange:l})),c.createElement(O.Z,{mt:1,display:"flex",flexDirection:"row",alignItems:"baseline"},c.createElement(z.Z,{fullWidth:!0,multiline:!0,id:"searchPath",label:"Search path",value:u,variant:"filled",helperText:"Enter directories to search for the Skybrush server executable, one per line.",onChange:a}),i&&c.createElement(pt.default,{content:"Select folder containing server executable"},c.createElement(W.Z,{onClick:i},c.createElement(it.Z,null))))))};zt.propTypes={cliArguments:i().string,enabled:i().bool,onDisable:i().func,onEnable:i().func,onSearchPathChanged:i().func,onSelectSearchPath:i().func,onTextFieldChanged:i().func,searchPath:i().string};const Ht=(0,s.$j)((function(e){return Bt(Bt({},e.settings.localServer),{},{searchPath:ht(e).join("\n")})}),{onCheckboxToggled:function(e){return(0,C.IA)("localServer",Wt({},e.target.name,e.target.checked))},onDisable:function(){return(0,C.IA)("localServer",{enabled:!1})},onEnable:function(){return(0,C.IA)("localServer",{enabled:!0})},onSearchPathChanged:function(e){var t=e.target.value.split("\n").map((function(e){return(0,at.Z)(e)})),r=t.indexOf("");return(0,ot.Z)(t,(function(e,t){return!e&&t>r})),(0,C.IA)("localServer",{searchPath:t})},onSelectSearchPath:null!==(Dt=window.bridge)&&void 0!==Dt&&Dt.isElectron&&null!==(Ft=window.bridge)&&void 0!==Ft&&null!==(Ft=Ft.localServer)&&void 0!==Ft&&Ft.selectPath?function(){return function(){var e,t=(e=Ut().mark((function e(t,r){var n,o,a;return Ut().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ht(r()),o=Array.isArray(n)&&n.length>0?n[0]:null,e.next=4,window.bridge.localServer.selectPath(o);case 4:"string"==typeof(a=e.sent)&&a.length>0&&t((0,C.IA)("localServer",{searchPath:[a]}));case 6:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Gt(a,n,o,i,c,"next",e)}function c(e){Gt(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e,r){return t.apply(this,arguments)}}()}:null,onTextFieldChanged:function(e){return(0,C.IA)("localServer",Wt({},e.target.id,e.target.value))}})(zt);var Yt=r(25476);function qt(e){return qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qt(e)}function $t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Kt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(r),!0).forEach((function(t){Xt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xt(e,t,r){var n;return n=function(e,t){if("object"!=qt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=qt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==qt(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Qt=[{id:"auto",label:"settings.threeDView.auto"},{id:"outdoor",label:"settings.threeDView.outdoor"},{id:"indoor",label:"settings.threeDView.indoor"}],Jt=[{id:"light",label:"settings.threeDView.light"},{id:"dark",label:"settings.threeDView.dark"}],er=[{id:"none",label:"settings.threeDView.none"},{id:"1x1",label:"settings.threeDView.1x1"},{id:"2x2",label:"settings.threeDView.2x2"}],tr=function(e){return c.createElement(h.Wb,null,(function(t){return c.createElement(O.Z,{mb:2},c.createElement(R.Z,null,c.createElement(U.Z,null,t("settings.threeDView.environment")),c.createElement(O.Z,{display:"flex"},c.createElement(Z.Z,{fullWidth:!0,variant:"filled"},c.createElement(D.Z,{id:"threed-scenery-label"},t("settings.threeDView.scenery")),c.createElement(M.Z,{labelId:"threed-scenery-label",name:"scenery",value:e.scenery,onChange:e.onFieldChanged},Qt.map((function(e){return c.createElement(F.Z,{key:e.id,value:e.id},t(e.label))})))),c.createElement(O.Z,{px:1}),c.createElement(Z.Z,{fullWidth:!0,variant:"filled"},c.createElement(D.Z,{id:"threed-lighting-label"},t("settings.threeDView.lighting")),c.createElement(M.Z,{labelId:"threed-lighting-label",name:"lighting",value:e.lighting,onChange:e.onFieldChanged},Jt.map((function(e){return c.createElement(F.Z,{key:e.id,value:e.id},t(e.label))})))),c.createElement(O.Z,{px:1}),c.createElement(Z.Z,{fullWidth:!0,variant:"filled"},c.createElement(D.Z,{id:"threed-grid-label"},t("settings.threeDView.grid")),c.createElement(M.Z,{labelId:"threed-grid-label",name:"grid",value:e.grid,onChange:e.onFieldChanged},er.map((function(e){return c.createElement(F.Z,{key:e.id,value:e.id},t(e.label))}))))),c.createElement(N.Z,{label:t("settings.threeDView.showAxes"),control:c.createElement(_.Z,{checked:e.showAxes,name:"showAxes",onChange:e.onCheckboxToggled})}),c.createElement(N.Z,{label:t("settings.threeDView.showHomePositions"),control:c.createElement(_.Z,{checked:e.showHomePositions,name:"showHomePositions",onChange:e.onCheckboxToggled})}),c.createElement(N.Z,{label:t("settings.threeDView.showLandingPositions"),control:c.createElement(_.Z,{checked:e.showLandingPositions,name:"showLandingPositions",onChange:e.onCheckboxToggled})}),c.createElement(N.Z,{label:t("settings.threeDView.showTrajectoriesOfSelection"),control:c.createElement(_.Z,{checked:e.showTrajectoriesOfSelection,name:"showTrajectoriesOfSelection",onChange:e.onCheckboxToggled})})),c.createElement(R.Z,null,c.createElement(U.Z,null,t("settings.threeDView.rendering")),c.createElement(N.Z,{label:t("settings.threeDView.showStatistics"),control:c.createElement(_.Z,{checked:e.showStatistics,name:"showStatistics",onChange:e.onCheckboxToggled})})))}))};tr.propTypes={grid:i().string,lighting:i().string,onCheckboxToggled:i().func,onFieldChanged:i().func,scenery:i().string,showAxes:i().bool,showHomePositions:i().bool,showLandingPositions:i().bool,showTrajectoriesOfSelection:i().bool,showStatistics:i().bool};const rr=(0,s.$j)((function(e){return Kt(Kt({},e.settings.threeD),{},{scenery:(0,Yt.y3)(e),lighting:(0,Yt.yI)(e)})}),(function(e){return{onCheckboxToggled:function(t){e((0,C.IA)("threeD",Xt({},t.target.name,t.target.checked)))},onFieldChanged:function(t){e((0,C.IA)("threeD",Xt({},t.target.name,t.target.value)))}}}))(tr);r(21552),r(82243);var nr=r(8920),or=r(35806);function ar(e){return ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ar(e)}function ir(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(r),!0).forEach((function(t){lr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ir(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lr(e,t,r){var n;return n=function(e,t){if("object"!=ar(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ar(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ar(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ur=[je.ol.VOLTAGE,je.ol.PERCENTAGE,je.ol.FORCED_PERCENTAGE],sr=[je.iU.NEVER,je.iU.ONLY_MULTIPLE,je.iU.ALWAYS],fr=function(e){var t=e.autoRemove,r=e.criticalVoltageThreshold,n=e.defaultBatteryCellCount,o=e.forgetThreshold,a=e.fullChargeVoltage,i=e.goneThreshold,l=e.lowVoltageThreshold,u=e.onCheckboxToggled,s=e.onDistanceFieldUpdated,f=e.onEnumFieldUpdated,p=e.onIntegerFieldUpdated,d=e.onVoltageFieldUpdated,y=e.placementAccuracy,h=e.preferredBatteryDisplayStyle,m=e.t,v=e.takeoffHeadingAccuracy,g=e.uavOperationConfirmationStyle,b=e.warnThreshold,w=(0,nr.Z)();return c.createElement(c.Fragment,null,c.createElement(R.Z,{style:{marginBottom:w.spacing(2)}},c.createElement(Z.Z,{style:{alignItems:"center",flexDirection:"row"}},c.createElement(N.Z,{label:m("settings.uavs.warn"),control:c.createElement(_.Z,{checked:!0,style:{visibility:"hidden"}})}),c.createElement(or.uI,{name:"warnThreshold",min:1,max:3600,value:b,variant:"standard",onChange:p})),c.createElement(Z.Z,{style:{alignItems:"center",flexDirection:"row"}},c.createElement(N.Z,{label:m("settings.uavs.gone"),control:c.createElement(_.Z,{checked:!0,style:{visibility:"hidden"}})}),c.createElement(or.uI,{name:"goneThreshold",min:1,max:3600,value:i,variant:"standard",onChange:p})),c.createElement(Z.Z,{style:{alignItems:"center",flexDirection:"row"}},c.createElement(N.Z,{label:m("settings.uavs.forget"),control:c.createElement(_.Z,{checked:Boolean(t),name:"autoRemove",onChange:u})}),c.createElement(or.uI,{name:"forgetThreshold",min:1,max:3600,value:o,disabled:!t,variant:"standard",onChange:p}))),c.createElement(O.Z,{display:"flex",flexDirection:"row",mb:1},c.createElement(Z.Z,{fullWidth:!0,variant:"filled"},c.createElement(D.Z,{id:"uav-operation-confirmation-style"},"UAV operation confirmations"),c.createElement(M.Z,{labelId:"uav-operation-confirmation-style",name:"uavOperationConfirmationStyle",value:g||je.iU.NEVER,onChange:f},sr.map((function(e){return c.createElement(F.Z,{key:e,value:e},(0,je.hn)(e))}))))),c.createElement(O.Z,{my:2},c.createElement(U.Z,null,m("settings.uavs.defaultBatterySettings")),c.createElement(O.Z,{display:"flex",flexDirection:"row",mb:1},c.createElement(or._r,{fullWidth:!0,label:m("settings.uavs.cellCount"),name:"defaultBatteryCellCount",min:1,max:24,step:1,value:n,onChange:p}),c.createElement(O.Z,{width:w.spacing(2)}),c.createElement(or.cN,{fullWidth:!0,name:"fullChargeVoltage",label:m("settings.uavs.fullCharge"),min:.1,max:20,step:.1,value:a,onChange:d}),c.createElement(O.Z,{width:w.spacing(2)}),c.createElement(or.cN,{fullWidth:!0,name:"lowVoltageThreshold",label:m("settings.uavs.lowTreshold"),min:.1,max:20,step:.1,value:l,onChange:d}),c.createElement(O.Z,{width:w.spacing(2)}),c.createElement(or.cN,{fullWidth:!0,name:"criticalVoltageThreshold",label:m("settings.uavs.criticalTreshold"),min:.1,max:20,step:.1,value:r,onChange:d})),c.createElement(O.Z,{display:"flex",flexDirection:"row",mb:1},c.createElement(Z.Z,{fullWidth:!0,variant:"filled"},c.createElement(D.Z,{id:"uav-battery-display-style"},m("settings.uavs.batteryDisplayStyle")),c.createElement(M.Z,{labelId:"uav-battery-display-style",name:"preferredBatteryDisplayStyle",value:h,onChange:f},ur.map((function(e){return c.createElement(F.Z,{key:e,value:e},(0,je.KZ)(e))})))))),c.createElement(O.Z,{my:2},c.createElement(U.Z,null,m("settings.uavs.missionSetup")),c.createElement(O.Z,{display:"flex",flexDirection:"row",mb:1},c.createElement(or.vd,{fullWidth:!0,name:"placementAccuracy",label:m("settings.uavs.desiredPlacementAccuracy"),min:.5,max:20,step:.5,value:y,onChange:s}),c.createElement(O.Z,{width:w.spacing(2)}),c.createElement(or.zb,{fullWidth:!0,name:"takeoffHeadingAccuracy",label:m("settings.uavs.desiredHeadingAccuracy"),min:1,max:45,step:1,value:v,onChange:p})),c.createElement(x.Z,{variant:"body2",color:"textSecondary"},m("settings.uavs.missionSetupDescription"))))};fr.propTypes={autoRemove:i().bool,criticalVoltageThreshold:i().number,defaultBatteryCellCount:i().number,forgetThreshold:i().number,fullChargeVoltage:i().number,goneThreshold:i().number,lowVoltageThreshold:i().number,onCheckboxToggled:i().func,onDistanceFieldUpdated:i().func,onEnumFieldUpdated:i().func,onIntegerFieldUpdated:i().func,onVoltageFieldUpdated:i().func,placementAccuracy:i().number,preferredBatteryDisplayStyle:i().oneOf(ur),t:i().func,takeoffHeadingAccuracy:i().number,uavOperationConfirmationStyle:i().oneOf(sr),warnThreshold:i().number},fr.defaultProps={preferredBatteryDisplayStyle:je.ol.VOLTAGE};const pr=(0,s.$j)((function(e){return cr(cr({},e.settings.uavs),{},{placementAccuracy:(0,Yt.eD)(e),takeoffHeadingAccuracy:(0,Yt.sx)(e)})}),(function(e){return{onCheckboxToggled:function(t){e((0,C.IA)("uavs",lr({},t.target.name,t.target.checked)))},onDistanceFieldUpdated:function(t){var r=Math.round(1e3*Number.parseFloat(t.target.value));r>0&&e((0,C.IA)("uavs",lr({},t.target.name,r)))},onEnumFieldUpdated:function(t){e((0,C.IA)("uavs",lr({},t.target.name,t.target.value)))},onIntegerFieldUpdated:function(t){var r=Number.parseInt(t.target.value,10);r>0&&e((0,C.IA)("uavs",lr({},t.target.name,r)))},onVoltageFieldUpdated:function(t){var r=Number.parseFloat(t.target.value);r>0&&Number.isFinite(r)&&e((0,w._v)(t.target.name,r))}}}))((0,h.Zh)()(fr));var dr={apiKeys:c.createElement(L,null),display:c.createElement(Ne,null),preflight:c.createElement(nt,null),server:c.createElement(Ht,null),threeD:c.createElement(rr,null),uavs:c.createElement(pr,null)},yr=function(e){var t=e.onClose,r=e.onTabSelected,n=e.open,o=e.selectedTab,a=e.t;return c.createElement(m.Z,{fullWidth:!0,open:n,maxWidth:"sm",onClose:t},c.createElement(b.Z,{alignment:"center",value:o,onChange:r},c.createElement(g.Z,{value:"display",label:a("settings.tabs.display")}),c.createElement(g.Z,{value:"threeD",label:a("settings.tabs.threeDView")}),c.createElement(g.Z,{value:"uavs",label:a("settings.tabs.uavs")}),c.createElement(g.Z,{value:"preflight",label:a("settings.tabs.preflight")}),window.bridge&&window.bridge.isElectron?c.createElement(g.Z,{value:"server",label:a("settings.tabs.server")}):null,c.createElement(g.Z,{value:"apiKeys",label:a("settings.tabs.apiKeys")})),c.createElement(v.Z,{style:{minHeight:200}},dr[o]))};yr.propTypes={onClose:i().func,onTabSelected:i().func,open:i().bool,selectedTab:i().string,t:i().func},yr.defaultProps={open:!1,selectedTab:"auto"};var hr=(0,s.$j)((function(e){return e.dialogs.appSettings}),(function(e){return{onClose:function(){e((0,w.Pb)())},onTabSelected:function(t,r){e((0,w.Hy)(r))}}}))((0,h.Zh)()(yr));const mr=hr;var vr=r(66856),gr=r(20858),br=r(36952),wr=r(1227);var Er=function(e){return function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),c.createElement("div",null,"Not implemented yet")};Er.propTypes={feature:i().object.isRequired,featureId:i().string.isRequired};const Sr=(0,s.$j)(null,{})(Er);var Or=r(29227),xr=r(43800),Ar=r(86686),jr=function(e){var t=e.feature,r=e.onSetFeatureColor,n=e.onSetFeatureLabel,o=e.onToggleFeatureFillVisible,a=e.onToggleFeatureMeasurementVisible,i=e.onToggleFeaturePointsVisible,l=e.onToggleFeatureVisibility,u=e.optimizeUIForTouch,s=e.shouldShowPoints;return c.createElement("div",null,c.createElement("div",{style:{display:"flex",padding:"1em 0"}},c.createElement("div",{style:{flex:"auto"}},c.createElement(z.Z,{fullWidth:!0,autoFocus:!u,label:"Label",variant:"filled",value:t.label||"",onChange:n})),c.createElement(ft.Z,{checked:t.visible,color:"primary",style:{flex:"none"},onChange:l})),c.createElement(Or.Z,{color:t.color||xr.lr,onChangeComplete:r}),c.createElement("div",null,(0,Ar.Ku)(t.type)&&c.createElement(N.Z,{control:c.createElement(_.Z,{checked:t.filled,color:"primary",onChange:o}),label:"Fill interior"}),(0,Ar.r3)(t.type)&&c.createElement(N.Z,{control:c.createElement(_.Z,{checked:s,indeterminate:s&&!t.showPoints,color:"primary",onChange:i}),label:"Show individual points"}),(0,Ar.Ci)(t.type)&&c.createElement(N.Z,{control:c.createElement(_.Z,{checked:t.measure,color:"primary",onChange:a}),label:"Show measurements"})))};jr.propTypes={feature:i().object.isRequired,onSetFeatureColor:i().func,onSetFeatureLabel:i().func,onToggleFeatureFillVisible:i().func,onToggleFeatureMeasurementVisible:i().func,onToggleFeaturePointsVisible:i().func,onToggleFeatureVisibility:i().func,optimizeUIForTouch:i().bool,shouldShowPoints:i().bool};const kr=(0,s.$j)((function(e,t){var r=t.featureId;return{optimizeUIForTouch:(0,Yt.f8)(e),shouldShowPoints:(0,br.Z4)(e,r)}}),(function(e,t){var r=t.featureId;return{onSetFeatureColor:function(t){e((0,wr.Rq)({id:r,color:t.hex}))},onSetFeatureLabel:function(t){e((0,wr.GX)({id:r,name:t.target.value}))},onToggleFeatureFillVisible:function(t,n){e((0,wr.o)({id:r,filled:n}))},onToggleFeatureMeasurementVisible:function(t,n){e((0,wr.gG)({id:r,measure:n}))},onToggleFeaturePointsVisible:function(t,n){e((0,wr.cu)({id:r,visible:n}))},onToggleFeatureVisibility:function(t,n){e((0,wr.Co)({id:r,visible:n}))}}}))(jr);function Pr(e){return Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pr(e)}function Cr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Tr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cr(Object(r),!0).forEach((function(t){Ir(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ir(e,t,r){var n;return n=function(e,t){if("object"!=Pr(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Pr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Pr(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Lr=function(e){var t,r=e.feature,n=e.featureId,o=e.onClose,a=e.onRemoveFeature,i=e.onTabSelected,l=e.open,u=e.selectedTab,s=[];if(r)if("general"===u)t=c.createElement(v.Z,null,c.createElement(kr,{feature:r,featureId:n}));else t=c.createElement(v.Z,null,c.createElement(Sr,{feature:r,featureId:n}));else t=c.createElement(v.Z,null,c.createElement("p",null,"Feature does not exist"));return s.push(c.createElement(A.Z,{key:"remove",color:"secondary",disabled:!r,onClick:a},"Remove"),c.createElement(A.Z,{key:"close",onClick:o},"Close")),c.createElement(m.Z,{fullWidth:!0,open:l,maxWidth:"sm",onClose:o},c.createElement(b.Z,{value:u,onChange:i},c.createElement(g.Z,{value:"general",label:"General"})),t,c.createElement(vr.Z,null,s))};Lr.propTypes={feature:i().object,featureId:i().string,onClose:i().func,onRemoveFeature:i().func,onTabSelected:i().func,open:i().bool.isRequired,selectedTab:i().string},Lr.defaultProps={selectedTab:"general"};var _r=(0,s.$j)((function(e){var t=(0,br.yW)(e);return{featureId:t,selectedTab:(0,br.Iy)(e),feature:e.features.byId[t],open:(0,br.uC)(e)}}),(function(e){return{onClose:function(){e((0,gr.W1)())},onRemoveFeature:function(t){e((0,wr.hW)([t])),e((0,gr.W1)())},onTabSelected:function(t,r){e((0,gr.xH)(r))}}}),(function(e,t){return Tr(Tr(Tr({},e),t),{},{onRemoveFeature:function(){return t.onRemoveFeature(e.featureId)}})}))(Lr);const Zr=_r;var Nr=r(93600),Rr=r(52300),Dr=r(58147),Fr=r.n(Dr),Mr=r(90694),Ur=(r(62506),r(41343)),Gr=r(98697),Vr=r(66090),Br=r(71859);function Wr(e){return Wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wr(e)}function zr(){zr=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==Wr(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(Wr(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function Hr(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Yr(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Hr(a,n,o,i,c,"next",e)}function c(e){Hr(a,n,o,i,c,"throw",e)}i(void 0)}))}}function qr(e){return $r.apply(this,arguments)}function $r(){return $r=Yr(zr().mark((function e(t){var r,n,o,a,i,c,l,u,s,f,p,d,y,h,m,v,g,b,w,E,S,O,x,A,j=arguments;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(j.length>1&&void 0!==j[1]?j[1]:{}).method,"threshold"!==(n=void 0===r?"single":r)){e.next=17;break}return i=5,c=function(){return qr(t,{method:"single"})},e.next=7,c();case 7:o=e.sent;case 8:if(!(i>0&&o.roundTripTime>Br.b)){e.next=16;break}return i--,e.next=12,c();case 12:(a=e.sent).roundTripTime<o.roundTripTime&&(o=a),e.next=8;break;case 16:return e.abrupt("return",o);case 17:if("accurate"!==n){e.next=47;break}l=10,u=[],s=function(){return qr(t,{method:"single"})};case 21:if(!(l>0)){e.next=40;break}return f=performance.now(),l--,e.prev=24,e.next=27,s();case 27:!(p=e.sent)||(0,Ue.default)(p.clockSkew)||(0,Ue.default)(p.roundTripTime)||u.push(p),e.next=33;break;case 31:e.prev=31,e.t0=e.catch(24);case 33:if(d=performance.now()-f,y=Math.max(500-d,0),!(l>0&&y>0)){e.next=38;break}return e.next=38,(0,Ur.ZP)(y);case 38:e.next=21;break;case 40:if(0!==(h=(0,Gr.Z)(u,"roundTripTime")).length){e.next=43;break}throw new Error("Failed to calculate clock skew and round-trip time");case 43:return h.length>5?h.splice(-2,2):h.length>3&&h.splice(-1,1),m=(0,Vr.Z)(h,"roundTripTime")/h.length,v=(0,Vr.Z)(h.slice(0,3),"clockSkew")/Math.min(h.length,3),e.abrupt("return",{roundTripTime:m,clockSkew:v});case 47:return g=performance.now(),e.next=50,t.sendMessage("SYS-TIME");case 50:return b=e.sent,w=performance.now(),E=Date.now(),S=w-g,O=b.body.timestamp&&"number"==typeof b.body.timestamp?b.body.timestamp:null,x=(0,Ue.default)(O)?null:O+S/2,A=(0,Ue.default)(x)?null:x-E,e.abrupt("return",{clockSkew:A,roundTripTime:S});case 58:case"end":return e.stop()}}),e,null,[[24,31]])}))),$r.apply(this,arguments)}function Kr(){return(Kr=Yr(zr().mark((function e(t,r){var n,o;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.sendMessage({type:"SYS-TIME",adjustment:-r});case 3:n=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n=void 0;case 9:if((o=(n||{}).body)&&"SYS-TIME"===o.type){e.next=12;break}throw new Error(o&&"ACK-NAK"===o.type&&n.reason?"Failed to adjust server time: ".concat(n.reason):"Failed to adjust server time");case 12:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}var Xr=r(41137),Qr=r(71579),Jr=r(18661),en=r(3419),tn=r(11967);function rn(e){return rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rn(e)}function nn(){nn=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==rn(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(rn(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function on(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}var an=en.Nw.closeServerSettingsDialog,cn=en.Nw.disconnectFromServer,ln=en.Nw.setServerSettingsDialogTab,un=en.Nw.showServerSettingsDialog,sn=en.Nw.updateServerSettings,fn=Qr.N.closeAuthenticationDialog,pn=Qr.N.showAuthenticationDialog,dn=Jr.N.closeDeauthenticationDialog,yn=Jr.N.showDeauthenticationDialog,hn=(0,Xr.FZ)("servers/authenticateToServer",function(){var e,t=(e=nn().mark((function e(t){var r,n,o,a,i,c;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.method,n=t.data,o=t.messageHub,e.prev=1,e.next=4,o.sendMessage({type:"AUTH-REQ",method:r,data:n});case 4:if(a=e.sent,"AUTH-RESP"!==(i=a.body).type){e.next=18;break}if(!i.data){e.next=11;break}throw new Error("Multi-step authentication not supported");case 11:if(!i.result){e.next=15;break}return e.abrupt("return",{result:!0,user:i.user});case 15:throw new Error(String(i.reason)||"Authentication failed");case 16:e.next=20;break;case 18:throw new Error(String(i.reason)||"Unexpected message received from server");case 20:e.next=26;break;case 22:return e.prev=22,e.t0=e.catch(1),c=e.t0 instanceof Fr().TimeoutError?"Authentication timeout; try again later":(0,Mr.VK)(e.t0),e.abrupt("return",{result:!1,reason:c});case 26:case"end":return e.stop()}}),e,null,[[1,22]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){on(a,n,o,i,c,"next",e)}function c(e){on(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}());var mn=(0,Xr.FZ)("servers/calculateClockSkew",qr),vn=(0,Xr.FZ)("servers/calculateClockSkew",qr,{minDelay:1e3}),gn=(0,Xr.FZ)("servers/adjustServerTime",(function(e,t){return Kr.apply(this,arguments)}),{minDelay:1e3}),bn=r(38305);function wn(e){return wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wn(e)}var En=["open","title"];function Sn(){Sn=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==wn(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(wn(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function On(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function xn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function An(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(r),!0).forEach((function(t){jn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function jn(e,t,r){var n;return n=function(e,t){if("object"!=wn(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=wn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==wn(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kn(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Pn=(0,Ot.Z)((function(e){return{root:{marginBottom:0,"& .MuiDialogContent-root":{paddingTop:0},"& .MuiTextField-root":{marginBottom:e.spacing(1)}}}}),{name:"AuthenticationForm"}),Cn=function(e){var t=e.initialValues,r=e.isAuthenticating,n=e.onCancel,o=e.onSubmit,a=e.optimizeUIForTouch,i=Pn();return c.createElement(O.Z,{pt:4},c.createElement(S.l0,{initialValues:t,onSubmit:o},(function(e){var t=e.handleSubmit;return c.createElement("form",{className:i.root,onSubmit:t},c.createElement(v.Z,null,c.createElement(E.nv,{fullWidth:!0,autoFocus:!a,name:"username",label:"Username",autoComplete:"username",variant:"filled"}),c.createElement(or.ZI,{fullWidth:!0,name:"password",label:"Password",autoComplete:"current-password"})),c.createElement(vr.Z,null,c.createElement(A.Z,{disabled:r,color:"primary",type:"submit"},r?"Logging in\u2026":"Log in"),c.createElement(A.Z,{onClick:n},"Cancel")))})))};Cn.propTypes={initialValues:i().object,isAuthenticating:i().bool,onCancel:i().func,onSubmit:i().func,optimizeUIForTouch:i().bool};var Tn=function(e){var t=e.open,r=e.title,n=kn(e,En);return c.createElement(Nr.Z,{maxWidth:"xs",open:t,title:r},c.createElement(Cn,n))};Tn.propTypes={isAuthenticating:i().bool.isRequired,lastError:i().string,onCancel:i().func,onSubmit:i().func,open:i().bool,optimizeUIForTouch:i().bool,title:i().string.isRequired},Tn.defaultProps={open:!1};var In=(0,s.$j)((function(e){return An(An({},e.dialogs.authentication),{},{isAuthenticating:(0,tn.xd)(e),optimizeUIForTouch:(0,Yt.f8)(e),title:(0,tn.AV)(e)?"Authentication required":"Authenticate to server"})}),(function(e){return{onCancel:function(){e(fn())},onSubmit:function(t){return(r=Sn().mark((function r(){var n;return Sn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e((o=An(An({},t),{},{messageHub:bn.Z}),a=void 0,i=void 0,c=void 0,a=o.username,i=o.password,c=o.messageHub,hn({method:"basic",data:Rr.DS.encode("".concat(a,":").concat(i)),messageHub:c})));case 2:(n=r.sent)&&n.value&&n.value.result&&e(fn());case 5:case"end":return r.stop()}var o,a,i,c}),r)})),function(){var e=this,t=arguments;return new Promise((function(n,o){var a=r.apply(e,t);function i(e){On(a,n,o,i,c,"next",e)}function c(e){On(a,n,o,i,c,"throw",e)}i(void 0)}))})();var r}}}))(Tn);const Ln=In;var _n=r(43280);function Zn(e){return Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zn(e)}function Nn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nn(Object(r),!0).forEach((function(t){Dn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Dn(e,t,r){var n;return n=function(e,t){if("object"!=Zn(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Zn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Zn(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Fn=function(e){var t=e.onCancel,r=e.onDisconnect,n=e.open,o=e.title,a=e.user;return c.createElement(Nr.Z,{maxWidth:"xs",open:n,title:o},c.createElement(v.Z,null,c.createElement(O.Z,{pt:2},c.createElement(x.Z,{paragraph:!0},a?c.createElement(c.Fragment,null,"You are currently authenticated as ",c.createElement("code",null,a),". Are you sure you would like to disconnect?"):c.createElement(c.Fragment,null,"You are not authenticated at the moment. Are you sure you would like to disconnect?")))),c.createElement(vr.Z,null,c.createElement(A.Z,{color:"secondary",onClick:r},"Disconnect"),c.createElement(A.Z,{onClick:t},"Cancel")))};Fn.propTypes={onCancel:i().func,onDisconnect:i().func,open:i().bool,title:i().string.isRequired,user:i().string},Fn.defaultProps={open:!1};const Mn=(0,s.$j)((function(e){return Rn(Rn({},e.dialogs.deauthentication),{},{title:"Log out from server",user:(0,tn.IC)(e)})}),(function(e){return{onCancel:function(){e(dn())},onDisconnect:function(){(0,s.dC)((function(){e(dn()),e((0,_n.MA)()),e(cn())}))}}}))(Fn);var Un=r(23664),Gn=r(6767),Vn=r.n(Gn),Bn=r(33901),Wn=r(11648),zn=(0,Ot.Z)((function(e){return{root:{position:"relative",marginBottom:e.spacing(.5)},avatar:{backgroundColor:Wn.ZP.off,color:e.palette.getContrastText(Wn.ZP.off),borderRadius:"25%"},"avatar-off":{opacity:.5},"avatar-editing":{backgroundColor:Wn.ZP.info,color:e.palette.getContrastText(Wn.ZP.info),animation:"$pulse 0.5s infinite",animationDirection:"alternate"},"avatar-error":{backgroundColor:Wn.ZP.error,boxShadow:"0 0 8px 2px ".concat(Wn.ZP.error),color:e.palette.getContrastText(Wn.ZP.error)},"avatar-success":{backgroundColor:Wn.ZP.success,color:e.palette.getContrastText(Wn.ZP.success)},"@keyframes pulse":{"0%":{boxShadow:"0 0 8px 2px ".concat(Gn(Wn.ZP.info).alpha(0))},"100%":{boxShadow:"0 0 8px 2px ".concat(Wn.ZP.info)}}}}),{name:"DronePlaceholder"}),Hn=function(e){var t=e.editing,r=e.label,o=e.status,a=zn();return c.createElement("div",{className:a.root},c.createElement(Bn.Z,{className:(0,n.Z)(a.avatar,a["avatar-".concat(t?"editing":o)])},r))};Hn.propTypes={editing:i().bool,label:i().node,status:i().oneOf(["off","editing","error","success"])},Hn.defaultProps={status:"off"};const Yn=Hn;var qn=r(42871),$n=["actions","emptyMessage","items","maxCount","preferEmptyMessage","successMessage","title"];function Kn(){return Kn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kn.apply(this,arguments)}function Xn(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Qn=function(e){var t=e.actions,r=e.emptyMessage,n=e.items,o=void 0===n?[]:n,a=e.maxCount,i=e.preferEmptyMessage,l=e.successMessage,u=e.title,s=Xn(e,$n),f=(0,Un.X)(o.slice(0,a).map((function(e){return"number"==typeof e?(0,qn.Bq)(e):String(e)})));return c.createElement(O.Z,Kn({mt:1},s),c.createElement(O.Z,{display:"flex",flexDirection:"row",alignItems:"center",minHeight:44},u&&c.createElement(O.Z,{key:"lead",minWidth:85},u),f.map((function(e,t){return c.createElement(O.Z,{key:e,ml:t>0||u?1:0},c.createElement(Yn,{label:e}))})),o.length>a?c.createElement(O.Z,{key:"more",ml:1,color:"text.secondary"},c.createElement(x.Z,{variant:"body2"},"+ ",o.length-a," more")):null,0===o.length?l&&!i?c.createElement(c.Fragment,null,c.createElement(O.Z,{key:"ok",ml:u?1:0},c.createElement(Yn,{label:"OK",status:"success"})),c.createElement(O.Z,{key:"successMessage",color:"success.main",ml:1},c.createElement(x.Z,{variant:"body2"},l))):c.createElement(O.Z,{key:"emptyMessage",color:u?"text.secondary":null,ml:u?1:0},c.createElement(x.Z,{variant:"body2"},r)):null,t&&c.createElement(c.Fragment,null,c.createElement(O.Z,{key:"padding",flex:1}),c.createElement(O.Z,{key:"actions",ml:1},t))))};Qn.propTypes={actions:i().oneOfType([i().node,i().arrayOf(i().node)]),emptyMessage:i().node,items:i().arrayOf(i().oneOfType([i().number,i().string])),maxCount:i().number,preferEmptyMessage:i().bool,successMessage:i().node,title:i().string},Qn.defaultProps={maxCount:8};const Jn=Qn;var eo=r(37390),to=r(30263),ro=r(32246),no=r(79237);function oo(e){return oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oo(e)}var ao=["onClose","open"];function io(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function co(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?io(Object(r),!0).forEach((function(t){lo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):io(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lo(e,t,r){var n;return n=function(e,t){if("object"!=oo(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=oo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==oo(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uo(){return uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uo.apply(this,arguments)}function so(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var fo=i().shape({coords:i().string,mode:i().oneOf(["relative","amsl","ahl"]),altitude:i().number}),po=function(e){var t=e.coordinateFormatter,r=e.initialValues,n=e.onCancel,o=e.onSubmit,a=e.optimizeUIForTouch,i=e.uavIds;return c.createElement(S.l0,{initialValues:r,onSubmit:o},(function(e){var r=e.handleSubmit;return c.createElement(O.Z,null,c.createElement(v.Z,null,c.createElement(Jn,{title:"Selection:",items:i,mt:0,mb:1}),c.createElement(or.mB,{autoFocus:!a,name:"coords",label:"Target coordinate",formatter:t}),c.createElement(O.Z,{display:"flex",flexDirection:"row"},c.createElement(O.Z,{flex:1},c.createElement(or.vy,{name:"altitude",label:"Altitude",margin:"normal"})),c.createElement(O.Z,{flex:2},c.createElement(or.Ph,{name:"mode",label:"Alt mode",margin:"normal"},c.createElement(F.Z,{value:"relative"},"above current altitude"),c.createElement(F.Z,{value:"amsl"},"above mean sea level"),c.createElement(F.Z,{value:"ahl"},"above home level"))))),c.createElement(vr.Z,null,c.createElement(A.Z,{color:"primary",onClick:r},"Confirm"),c.createElement(A.Z,{onClick:n},"Cancel")))}))};po.propTypes={coordinateFormatter:i().func,initialValues:fo,onCancel:i().func,onSubmit:i().func,optimizeUIForTouch:i().bool,uavIds:i().arrayOf(i().string)};var yo=function(e){var t=e.onClose,r=e.open,n=so(e,ao);return c.createElement(Nr.Z,{open:r,maxWidth:"xs",title:"Fly to target",onClose:t},c.createElement(po,uo({onCancel:t},n)))};yo.propTypes={coordinateFormatter:i().func,initialValues:fo,onClose:i().func,onSubmit:i().func,open:i().bool,optimizeUIForTouch:i().bool,uavIds:i().arrayOf(i().string)};const ho=(0,s.$j)((function(e){return co(co({},e.uavControl.flyToTargetDialog),{},{coordinateFormatter:(0,no.EQ)(e),optimizeUIForTouch:(0,Yt.f8)(e),uavIds:(0,ro.yi)(e)})}),{onClose:to.z0,onSubmit:eo.p})(yo);var mo=r(7212),vo=r(66083),go=r(44613),bo=go.N.closeErrorDialog,wo=go.N.showErrorMessage,Eo=function(e){var t=e.open,r=e.message,n=e.onClose;return c.createElement(m.Z,{open:t},c.createElement(vo.Z,null,"An error happened"),c.createElement(v.Z,null,c.createElement(mo.Z,null,r)),c.createElement(vr.Z,null,c.createElement(A.Z,{onClick:n},"Close")))};Eo.propTypes={message:i().string,open:i().bool.isRequired,onClose:i().func};const So=(0,s.$j)((function(e){return e.dialogs.error}),{onClose:bo})(Eo);var Oo=r(89039),xo=r(43340),Ao=r(39445),jo=r(34199),ko=r(14814),Po=r(35543),Co=r(99234),To=r(77932),Io=r(23112);function Lo(e){return Lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lo(e)}function _o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vo(n.key),n)}}function No(e,t,r){return t&&Zo(e.prototype,t),r&&Zo(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ro(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Do(e,t)}function Do(e,t){return Do=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Do(e,t)}function Fo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Uo(e);if(t){var o=Uo(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Lo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Mo(e)}(this,r)}}function Mo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uo(e){return Uo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Uo(e)}function Go(e,t,r){return(t=Vo(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vo(e){var t=function(e,t){if("object"!=Lo(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Lo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Lo(t)?t:String(t)}var Bo=(0,Co.jd)({label:Co.C1}),Wo=function(e){var t=e.initialValues,r=e.layer,n=e.onSubmit,o=e.onToggleLayerVisibility,a=e.validate;return c.createElement(S.l0,{validateOnBlur:!0,initialValues:t,validate:a,onSubmit:n},(function(e){var t=e.handleSubmit;return c.createElement("form",{id:"basicLayerSettings",onSubmit:t},c.createElement(O.Z,{display:"flex",alignItems:"center",pb:2},c.createElement(E.nv,{name:"label",variant:"filled",label:"Layer name",placeholder:"New layer",style:{flex:"auto"}}),c.createElement("div",null,"\xa0"),c.createElement(ft.Z,{checked:r.visible,color:"primary",disabled:r.type===Po.F5.UNAVAILABLE||r.type===Po.F5.UNTYPED,style:{flex:"none"},onChange:o})))}))};Wo.propTypes={layer:i().shape({visible:i().bool,type:i().string}),initialValues:i().object,validate:i().func,onSubmit:i().func,onToggleLayerVisibility:i().func};var zo=(0,s.$j)((function(e,t){return{initialValues:{label:t.layer.label}}}),(function(e,t){return{onSubmit:function(r){e((0,ko.$n)(t.layerId,r.label))},validate:function(e){var t=Bo(e);return void 0!==t&&0!==Object.keys(t).length||(0,or.xe)("basicLayerSettings"),t},onToggleLayerVisibility:function(){e((0,ko.vr)(t.layerId))}}}))(Wo),Ho=function(e){Ro(r,e);var t=Fo(r);function r(){return _o(this,r),t.apply(this,arguments)}return No(r,[{key:"createChildrenForLayer",value:function(e,t){return e.type in To.l9?(0,To.ml)(e,t):[c.createElement("div",{key:"_hint",style:{position:"relative",height:48}},c.createElement(Ao.Z,{text:"This layer has no additional settings."}))]}},{key:"render",value:function(){var e=this.props,t=e.layer,r=e.layerId;return r?void 0!==t&&c.createElement("div",{key:"settings_"+r},t.type===Po.F5.UNTYPED?null:c.createElement(zo,{layer:t,layerId:r}),this.createChildrenForLayer(t,r)):c.createElement("div",{key:"_hint",style:{position:"relative",height:48,marginTop:"2em"}},c.createElement(Ao.Z,{text:"Please select a layer from the layer list.",style:{marginTop:"2em"}}))}}]),r}(c.Component);Go(Ho,"propTypes",{layer:i().object,layerId:i().string});var Yo=(0,s.$j)((function(e,t){return{layer:(0,Io.g7)(t.layerId)(e)}}),{})(Ho),qo=function(e){Ro(r,e);var t=Fo(r);function r(){var e;_o(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return Go(Mo(e=t.call.apply(t,[this].concat(o))),"_moveSelectedLayer",(function(t){var r=e.props,n=r.selectedLayerId;(0,r.onMoveLayer)(n,t)})),Go(Mo(e),"_moveSelectedLayerDown",(function(){e._moveSelectedLayer(-1)})),Go(Mo(e),"_moveSelectedLayerUp",(function(){e._moveSelectedLayer(1)})),Go(Mo(e),"_removeSelectedLayer",(function(){var t=e.props,r=t.selectedLayerId;(0,t.onRemoveLayer)(r)})),e}return No(r,[{key:"render",value:function(){var e=this.props,t=e.canMoveUp,r=e.canMoveDown,n=e.dialogVisible,o=e.selectedLayerId,a=this.props.onClose,i=[];return o&&i.push(c.createElement(W.Z,{key:"moveUp",disabled:!t,onClick:this._moveSelectedLayerUp},c.createElement(xo.Z,null)),c.createElement(W.Z,{key:"moveDown",disabled:!r,onClick:this._moveSelectedLayerDown},c.createElement(Oo.Z,null)),c.createElement(A.Z,{key:"remove",color:"secondary",onClick:this._removeSelectedLayer},"Remove")),i.push(c.createElement(A.Z,{key:"close",color:"primary",onClick:a},"Close")),c.createElement(Nr.Z,{fullWidth:!0,maxWidth:"sm",open:n,onClose:a},c.createElement(v.Z,{style:{overflow:"auto"}},c.createElement(Yo,{layerId:o})),c.createElement(vr.Z,null,i))}}]),r}(c.Component);Go(qo,"propTypes",{canMoveDown:i().bool.isRequired,canMoveUp:i().bool.isRequired,dialogVisible:i().bool.isRequired,selectedLayerId:i().string,onClose:i().func,onMoveLayer:i().func,onRemoveLayer:i().func});const $o=(0,s.$j)((function(e){var t=e.dialogs.layerSettings,r=(0,Io.xb)(e).order,n=t.dialogVisible,o=t.selectedLayer,a=o&&r?r.indexOf(o):-1;return{canMoveDown:a>0,canMoveUp:a>=0&&a<r.length-1,dialogVisible:n,selectedLayerId:o}}),{onClose:function(){return function(e,t){var r=t(),n=(r.dialogs.layerSettings||{}).selectedLayer,o=n?(0,Io.g7)(n)(r):void 0;o&&o.type===Po.F5.UNTYPED&&e((0,ko.$o)(n)),e((0,jo.Wb)())}},onMoveLayer:ko.wS,onRemoveLayer:ko.$o})(qo);r(2918);var Ko=r(52398),Xo=r(1942),Qo=r(59067),Jo=r(47119),ea=r(79427),ta=r(48153),ra=(r(61514),r(78730),r(79307),r(76801),r(4930)),na=r.n(ra),oa=r(16423);function aa(e){return aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aa(e)}function ia(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pa(n.key),n)}}function ca(e,t){return ca=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ca(e,t)}function la(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=sa(e);if(t){var o=sa(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===aa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ua(e)}(this,r)}}function ua(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sa(e){return sa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sa(e)}function fa(e,t,r){return(t=pa(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pa(e){var t=function(e,t){if("object"!=aa(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=aa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==aa(t)?t:String(t)}var da=window.bridge&&window.bridge.createSSDPClient&&!(0,oa.Z)(o.Z,"server.preventAutodetection"),ya=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ca(e,t)}(i,e);var t,r,n,a=la(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),fa(ua(t=a.call(this,e)),"_onTimerFired",(function(){t._ssdpClient.search("urn:collmot-com:service:flockwave-tcp:1")})),t._ssdpClient=void 0,t._timer=void 0,t}return t=i,(r=[{key:"componentDidMount",value:function(){var e=this,t=this.props,r=t.onScanningStarted,n=t.onServerInferred;da?(r&&r(),this._ssdpClient=window.bridge.createSSDPClient((function(t){if(void 0!==e._ssdpClient){var r=na()(t);if(200===r.statusCode){var n=r.headers.location;if(void 0!==n){var o=new URL(n).protocol;if(["tcp:","tcp+tls:"].includes(o)){var a="http:".concat(n.slice(o.length)),i=new URL(a),c=i.hostname,l=i.port,u=Number(l);if(!(!c||Number.isNaN(u)||u<=0||u>65535)&&e.props.onServerDetected){var s=e.props.onServerDetected({hostName:c,port:u,label:r.headers["label.collmot.com"],protocol:o}),f=s.key,p=s.wasAdded;if(f&&p&&((0,dt.isV4Format)(c)||(0,dt.isV6Format)(c))){var d=(0,Ko.Z)(e.props.onServerHostnameResolved,f);(0,dt.isLoopback)(c)?d("localhost"):window.bridge&&window.bridge.reverseDNSLookup(c).then((function(e){e&&e.length>0&&d(e[0])})).catch((function(e){}))}}}}}}})),this._timer=setInterval(this._onTimerFired,5e3),this._onTimerFired()):n&&((0,oa.Z)(o.Z,"server.hostName")?n({hostName:o.Z.server.hostName,port:o.Z.server.port||(o.Z.server.isSecure?443:80),protocol:o.Z.server.isSecure?"sio+tls:":"sio:"}):"localhost"===window.location.hostname?n({hostName:window.location.hostname,port:5e3,protocol:"sio:"}):n({hostName:window.location.hostname,port:window.location.port||("http:"===window.location.protocol?80:443),protocol:"sio:"}))}},{key:"componentWillUnmount",value:function(){if(da){var e=this.props.onScanningStopped;e&&e(),void 0!==this._timer&&(clearInterval(this._timer),this._timer=void 0),void 0!==this._ssdpClient&&(this._ssdpClient=void 0)}}},{key:"render",value:function(){return null}}])&&ia(t.prototype,r),n&&ia(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(c.Component);fa(ya,"propTypes",{onScanningStarted:i().func,onScanningStopped:i().func,onServerDetected:i().func,onServerHostnameResolved:i().func,onServerInferred:i().func});var ha=(0,s.$j)(null,(function(e){return{onScanningStarted:function(){e((0,_n.$A)()),e((0,_n.D$)())},onScanningStopped:function(){e((0,_n.WU)())},onServerDetected:function(t){var r=t.hostName,n=t.port,o=t.protocol,a=t.label,i=(0,_n.GP)({hostName:r,port:n,protocol:o,label:a});return e(i),{key:i.key,wasAdded:Boolean(i.wasAdded)}},onServerHostnameResolved:function(t,r){e((0,_n.V3)({key:t,hostName:r}))},onServerInferred:function(t){var r=t.hostName,n=t.port,o=t.protocol,a=(0,_n.pv)({hostName:r,port:n,protocol:o});return e(a),a.key}}}))(ya),ma=r(48002);function va(e){return va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},va(e)}var ga,ba=["hostName"];function wa(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Pa(n.key),n)}}function Ea(e,t){return Ea=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ea(e,t)}function Sa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=xa(e);if(t){var o=xa(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===va(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Oa(e)}(this,r)}}function Oa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xa(e){return xa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xa(e)}function Aa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ja(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Aa(Object(r),!0).forEach((function(t){ka(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ka(e,t,r){return(t=Pa(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pa(e){var t=function(e,t){if("object"!=va(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=va(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==va(t)?t:String(t)}function Ca(){return Ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ca.apply(this,arguments)}function Ta(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Ia=function(e){return"sio+tls:"===e.protocol},La=function(e){return"localhost"===e.hostName},_a=function(e){var t=e.hostName,r=e.port;return"".concat(t,":").concat(r)},Za=function(e){return e.label||_a(e)},Na=function(e){return e.label?"".concat(_a(e)).concat(function(e){return Ia(e)||La(e)?"":" (unsecured)"}(e)):function(e){return Ia(e)?"Secure connection":La(e)?"Local connection":"Unsecured connection"}(e)},Ra=!(null!==o.Z&&void 0!==o.Z&&null!==(ga=o.Z.server)&&void 0!==ga&&ga.preventManualSetup),Da=function(e){var t=e.hostName,r=Ta(e,ba);return c.createElement(ta.Z,Ca({label:t?"Connecting to ".concat(t,"..."):"Connecting..."},r))};Da.propTypes={hostName:i().string};var Fa=function(e){var t=e.isScanning,r=e.items,n=e.onItemSelected;return c.createElement(ct.Z,{disablePadding:!0,style:{height:160,overflow:"auto"}},!t||r&&0!==r.length?null:c.createElement(lt.Z,{key:"__scanning"},c.createElement(ut.Z,null,c.createElement(bt.Z,{color:"secondary",size:24})),c.createElement(st.Z,{primary:"Please wait\u2026",secondary:"Scanning network for servers\u2026"})),r.map((function(e){return c.createElement(lt.Z,{key:e.id,button:!0,onClick:(0,Ko.Z)(n,e)},c.createElement(ut.Z,null,(r=(t=e).hostName,"inferred"===t.type?c.createElement(Jo.Z,null):"localhost"===r?c.createElement(Xo.Z,null):c.createElement(ea.Z,null))),c.createElement(st.Z,{primary:Za(e),secondary:Na(e)}));var t,r})),Ra&&c.createElement(lt.Z,{key:"__manual",button:!0,onClick:(0,Ko.Z)(n,null)},c.createElement(ut.Z,null,c.createElement(Qo.Z,null)),c.createElement(st.Z,{primary:"Enter manually"})))};Fa.propTypes={isScanning:i().bool,items:i().array,onItemSelected:i().func};var Ma=(0,s.$j)((function(e){return{isScanning:e.servers.isScanning,items:(0,tn.$F)(e)}}))(Fa),Ua=(0,Co.jd)({hostName:Co.C1,port:[Co.C1,Co._L,(0,Co.vX)(1,65535)]}),Ga=function(e){var t=e.initialValues,r=e.onKeyPress,n=e.onSubmit;return c.createElement(S.l0,{initialValues:t,validate:Ua,onSubmit:n},(function(e){var t=e.handleSubmit;return c.createElement("form",{id:"serverSettings",onSubmit:t,onKeyPress:r},c.createElement(E.nv,{fullWidth:!0,name:"hostName",label:"Hostname",variant:"filled",margin:"normal"}),c.createElement(E.nv,{fullWidth:!0,name:"port",label:"Port",variant:"filled",margin:"normal"}),c.createElement(E.Fz,{name:"isSecure",data:{label:"Use secure connection"}}),en.SW?c.createElement(E.Fz,{name:"isWebSocket",data:{label:"Use WebSocket protocol instead of TCP"},helperText:"For backwards compatibility only."}):null)}))};Ga.propTypes={initialValues:i().object,onKeyPress:i().func,onSubmit:i().func};var Va=(0,s.$j)((function(e){return{initialValues:ja(ja({},e.dialogs.serverSettings),{},{isWebSocket:(0,tn.cV)(e)===ma.b.WS})}}))(Ga),Ba=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ea(e,t)}(a,e);var t,r,n,o=Sa(a);function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ka(Oa(e=o.call.apply(o,[this].concat(r))),"_handleKeyPress",(function(t){"Enter"===t.nativeEvent.code&&e.props.forceFormSubmission()})),ka(Oa(e),"_handleServerSelection",(function(t){null==t?Ra&&e.props.onTabSelected(null,"manual"):e.props.onSubmit(ja(ja({},t),{},{isSecure:t.protocol.endsWith("+tls:")}))})),e}return t=a,r=[{key:"render",value:function(){var e=this.props,t=e.active,r=e.forceFormSubmission,n=e.hostName,o=e.isConnecting,a=e.onClose,i=e.onDisconnect,l=e.onSubmit,u=e.onTabSelected,s=e.open,f=e.selectedTab,p=[],d=[];switch(p.push(c.createElement(Da,{key:"__connectionIndicator",hostName:n,visible:o})),f){case"auto":d.push(c.createElement(Ma,{key:"serverList",onItemSelected:this._handleServerSelection})),Ra?da||d.push(c.createElement(v.Z,{key:"contents"},c.createElement(x.Z,{variant:"body2",color:"textSecondary"},"Auto-discovery is not available in this version."))):d.push(c.createElement(v.Z,{key:"contents"},c.createElement(x.Z,{variant:"body2",color:"textSecondary"},"Connecting to other servers is not supported in this version.")));break;case"manual":Ra&&(d.push(c.createElement(v.Z,{key:"contents"},c.createElement(Va,{onSubmit:l,onKeyPress:this._handleKeyPress}))),p.push(c.createElement(A.Z,{key:"connect",color:"primary",onClick:r},"Connect")))}return Ra&&p.push(c.createElement(A.Z,{key:"disconnect",disabled:!t,onClick:t?i:void 0},"Disconnect")),p.push(c.createElement(A.Z,{key:"close",onClick:a},"Close")),c.createElement(m.Z,{fullWidth:!0,open:s,maxWidth:"xs",onClose:a},c.createElement(b.Z,{value:f,onChange:u},c.createElement(g.Z,{value:"auto",label:Ra?"Autodetected":"Preconfigured server"}),Ra&&c.createElement(g.Z,{value:"manual",label:"Manual"})),c.createElement(ha,null),d,c.createElement(vr.Z,null,p))}}],r&&wa(t.prototype,r),n&&wa(t,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(c.Component);ka(Ba,"propTypes",{active:i().bool,forceFormSubmission:i().func,hostName:i().string,isConnecting:i().bool,onClose:i().func,onDisconnect:i().func,onSubmit:i().func,onTabSelected:i().func,open:i().bool.isRequired,selectedTab:i().string}),ka(Ba,"defaultProps",{selectedTab:"auto"});var Wa=(0,s.$j)((function(e){return{active:e.dialogs.serverSettings.active,hostName:(0,tn.uF)(e),isConnecting:(0,tn.J9)(e),open:e.dialogs.serverSettings.dialogVisible,selectedTab:e.dialogs.serverSettings.selectedTab}}),(function(e){return{forceFormSubmission:function(){(0,or.xe)("serverSettings")},onClose:function(){e(an())},onDisconnect:function(){e(cn())},onSubmit:function(t){e(an({active:!0,hostName:t.hostName,isSecure:t.isSecure,port:Number(t.port),protocol:!en.SW||t.isWebSocket?ma.b.WS:ma.b.TCP}))},onTabSelected:function(t,r){e(ln(r))}}}))(Ba);const za=Wa;var Ha=function(e){var t=e.onClose,r=e.open;return c.createElement(m.Z,{open:r},c.createElement(vo.Z,null,"Session expired"),c.createElement(v.Z,null,c.createElement(mo.Z,null,"Your demo session has expired. Thank you for evaluating Skybrush Live!"),c.createElement(A.Z,{fullWidth:!0,onClick:t},"Click here to return to your Skybrush account")))};Ha.propTypes={onClose:i().func,open:i().bool};const Ya=(0,s.$j)((function(e){return{open:e.session.isExpired}}),(function(){return{onClose:function(e,t){"backdropClick"!==t&&"escapeKeyDown"!==t&&window.location.replace(o.Z.urls.exit||"https://skybrush.io")}}}))(Ha);var qa=r(53514),$a=r(38779),Ka=r(92977),Xa=r(2414),Qa=["clockSkew","component","format","updateInterval"];function Ja(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var ei=function(e){var t=e.clockSkew,r=e.component,n=e.format,o=e.updateInterval,a=Ja(e,Qa),i=Date.now()+(t||0),l="function"==typeof n?n(i):(0,$a.Z)(i,n),u=(0,Ka.Z)();return(0,Xa.Z)(u,o||1e3),c.createElement(r,a,l)};ei.propTypes={component:i().string,clockSkew:i().number,format:i().string,updateInterval:i().number},ei.defaultProps={component:"span",format:"yyyy-MM-dd HH:mm:ss"};const ti=ei;var ri=(0,Ot.Z)((function(e){return{content:{"& strong":{color:e.palette.text.primary}},card:{flex:1,fontSize:"16px",margin:e.spacing(0,2)},cardLeft:{textAlign:"right"},localTime:{color:Wn.ZP.info,fontWeight:"bold"},serverTime:{color:Wn.ZP.warning,fontWeight:"bold"}}})),ni=function(e){var t=e.clockSkew,r=ri();return c.createElement(O.Z,{display:"flex",flexDirection:"row",mx:-2,mb:2},c.createElement(O.Z,{className:(0,n.Z)(r.card,r.cardLeft)},c.createElement(x.Z,{gutterBottom:!0,color:"textPrimary"},"Time on this device"),c.createElement(ti,{className:r.localTime,component:"div"})),c.createElement(O.Z,{variant:"outlined",className:r.card},c.createElement(x.Z,{gutterBottom:!0,color:"textPrimary"},"Server time"),(0,Ue.default)(t)?c.createElement("div",{className:r.serverTime},"unknown"):c.createElement(ti,{className:r.serverTime,clockSkew:t,component:"div"})))};ni.propTypes={clockSkew:i().number};var oi=function(e){var t=e.clockSkew,r=ri();return c.createElement(v.Z,{className:r.content},c.createElement(O.Z,{my:2},c.createElement(mo.Z,null,"The internal clock of your device and the clock of the Skybrush server are now in sync:")),c.createElement(ni,{clockSkew:t}))};oi.propTypes={clockSkew:i().number};var ai=function(e){var t=e.clockSkew,r=ri();return c.createElement(v.Z,{className:r.content},c.createElement(O.Z,{my:2},c.createElement(x.Z,{variant:"h6"},"Why am I seeing this warning?")),c.createElement(mo.Z,null,"The internal clock of your device and the clock of the Skybrush server you have connected to are not in sync:"),c.createElement(ni,{clockSkew:t}),c.createElement(mo.Z,null,"Scheduled actions (such as the coordinated start of a drone swarm at a given time) are performed according to the server clock. If the server clock is behind or ahead of wall clock time, these actions may happen too early or too late."," ",c.createElement("strong",null,"It is your responsibility to ensure that the clock of the server is synchronized to UTC.")),c.createElement(O.Z,{my:2},c.createElement(x.Z,{variant:"h6"},"What should I do now?")),c.createElement(mo.Z,null,"Please check the timestamps reported above and decide which one is correct."),c.createElement(mo.Z,null,c.createElement("span",{className:r.localTime},"If the local time is correct"),", please click on the ",c.createElement("strong",null,"Adjust server time")," button below to adjust the server clock to match the time on this device."),c.createElement(mo.Z,null,c.createElement("span",{className:r.serverTime},"If the server time is correct"),", please update the time on this device and then click on the"," ",c.createElement("strong",null,"Check clock skew")," button to perform another measurement after the update."))};ai.propTypes={clockSkew:i().number};var ii=function(e){var t=e.clockSkew,r=e.isAdjustingServerTime,n=e.isCalculatingClockSkew,o=e.isClockSkewSignificant,a=e.onAdjustServerTime,i=e.onCalculateAndStoreClockSkew,l=e.onClose,u=e.open;return c.createElement(Nr.Z,{open:u,title:o?"Clock skew detected between server and client":"Server and client clocks are in sync"},n&&(0,Ue.default)(t)?c.createElement(v.Z,null,c.createElement(O.Z,{align:"center",my:4},c.createElement(O.Z,null,c.createElement(bt.Z,null)),"Please wait, estimating clock skew...")):o?c.createElement(ai,{clockSkew:t}):c.createElement(oi,{clockSkew:t}),c.createElement(vr.Z,{className:"bottom-bar"},c.createElement(ta.Z,{label:r?"Adjusting server time...":"Calculating clock skew...",visible:r||n,flex:1}),c.createElement(A.Z,{disabled:(0,Ue.default)(t)||n||!o,onClick:a},"Adjust server time"),c.createElement(A.Z,{disabled:n,onClick:i},"Check clock skew"),c.createElement(A.Z,{onClick:l},"Close")))};ii.propTypes={clockSkew:i().number,isAdjustingServerTime:i().bool,isCalculatingClockSkew:i().bool,isClockSkewSignificant:i().bool,onAdjustServerTime:i().func,onCalculateAndStoreClockSkew:i().func,onClose:i().func,open:i().bool};const ci=(0,s.$j)((function(e){return{clockSkew:(0,tn.B_)(e),isAdjustingServerTime:(0,tn.gc)(e),isCalculatingClockSkew:(0,tn.wI)(e),isClockSkewSignificant:(0,tn.Lm)(e),open:(0,tn.Q7)(e)}}),{onAdjustServerTime:function(){return e=bn.Z,(0,Mr.Q$)((function(t,r){var n=(0,tn.B_)(r());if((0,Ue.default)(n))throw new Error("Clock skew between server and client is not known");t(gn(e,n)),t(mn(e,{method:"accurate"}))}));var e},onCalculateAndStoreClockSkew:function(){return vn(bn.Z,{method:"accurate"})},onClose:_n.Fy})(ii);const li={AppSettingsDialog:mr,AuthenticationDialog:Ln,DeauthenticationDialog:Mn,FeatureEditorDialog:Zr,FlyToTargetDialog:ho,GlobalErrorDialog:So,LayerSettingsDialog:$o,ServerSettingsDialog:za,SessionExpiryDialog:Ya,SubscriptionDialog:qa.Z,TimeSyncDialog:ci};r(54564),r(90385);var ui=r(17905),si=r(54047),fi=r(89048),pi=r(43337),di=r(48825),yi=r(82484),hi=r(13012),mi=r(20306),vi=r(92730);const gi=r.p+"b9fe6803b785d337ce8e.mp3";var bi=["count","muted","t"];function wi(){return wi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wi.apply(this,arguments)}function Ei(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Si(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Oi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Oi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var xi=(0,Ot.Z)({bell:{animation:"$ring ".concat(5,"s ease-in-out infinite"),transformOrigin:"50% 4px"},"@keyframes ring":{"0%":{transform:"rotate(0)"},"2%":{transform:"rotate(30deg)"},"5%":{transform:"rotate(-28deg)"},"8%":{transform:"rotate(34deg)"},"11%":{transform:"rotate(-32deg)"},"14%":{transform:"rotate(30deg)"},"17%":{transform:"rotate(-28deg)"},"20%":{transform:"rotate(26deg)"},"23%":{transform:"rotate(-24deg)"},"26%":{transform:"rotate(22deg)"},"29%":{transform:"rotate(-20deg)"},"32%":{transform:"rotate(18deg)"},"35%":{transform:"rotate(-16deg)"},"38%":{transform:"rotate(14deg)"},"41%":{transform:"rotate(-12deg)"},"44%":{transform:"rotate(10deg)"},"47%":{transform:"rotate(-8deg)"},"50%":{transform:"rotate(6deg)"},"53%":{transform:"rotate(-4deg)"},"56%":{transform:"rotate(2deg)"},"59%":{transform:"rotate(-1deg)"},"62%":{transform:"rotate(1deg)"},"65%":{transform:"rotate(0)"},"100%":{transform:"rotate(0)"}}}),Ai=function(){var e=Si((0,si.Z)(c.createElement("audio",{src:gi})),3),t=e[0],r=e[1],n=e[2];return(0,fi.Z)((function(){return n.play()})),(0,pi.Z)((function(){r.playing||n.play()}),5e3),t},ji=function(e){var t=e.count,r=e.muted,n=e.t,o=Ei(e,bi),a=xi(),i=t>0;return c.createElement(hi.ZP,wi({},o,{tooltip:n(r?"alerts.muted":i?"alerts.acknowledgeAlerts":"alerts.clickToMute")}),r?c.createElement(yi.Z,{className:i?a.bell:""}):c.createElement(di.Z,{className:i?a.bell:""}),c.createElement(mi.Z,{visible:i,color:Wn.ZP.error},t>1&&(t>=10?"9+":String(t))),!r&&i&&c.createElement(Ai,null))};ji.propTypes={count:i().number,muted:i().bool,t:i().func};const ki=(0,s.$j)((function(e){return e.alert}),{onClick:function(){return function(e,t){var r=t().alert;r.count>0?e((0,vi.W9)()):e((0,vi.Zj)(!r.muted))}}})((0,h.Zh)()(ji));var Pi=r(9969);function Ci(e){return Ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ci(e)}function Ti(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ii(e,t,r){var n;return n=function(e,t){if("object"!=Ci(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ci(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ci(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Li(){return Li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Li.apply(this,arguments)}var _i=function(e){return c.createElement(h.Wb,null,(function(t){return c.createElement(hi.ZP,Li({},e,{tooltip:t("preferences")}),c.createElement(Pi.Z,null))}))};_i.propTypes=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ti(Object(r),!0).forEach((function(t){Ii(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ti(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},hi.ZP.propTypes);const Zi=(0,s.$j)(null,{onClick:w.Nk})(_i);var Ni=r(3646),Ri={authenticated:Wn.ZP.success,authenticating:Wn.ZP.warning,notAuthenticated:Wn.ZP.error,authenticationNotRequired:void 0};const Di=(0,s.$j)((function(e){var t=(0,tn.$8)(e)?"authenticated":(0,tn.xd)(e)?"authenticating":(0,tn.AV)(e)?"notAuthenticated":"authenticationNotRequired",r=Ri[t];return{color:r,visible:void 0!==r}}),{})(mi.Z);var Fi=function(e){var t=e.isAuthenticated,r=e.isDisabled,o=e.label,a=e.onAuthenticate,i=e.onDeauthenticate,l=e.t;return c.createElement(pt.default,{content:l("authentication")},c.createElement("div",{className:(0,n.Z)("wb-module",r&&"wb-module-disabled"),onClick:r?null:t?i:a},c.createElement("span",{className:(0,n.Z)("wb-icon","wb-module-icon")},c.createElement(Di,null),c.createElement(Ni.Z,null)),o?c.createElement("span",{className:"wb-label wb-module-label"},o):null))};Fi.propTypes={isAuthenticated:i().bool,isDisabled:i().bool,label:i().string,onAuthenticate:i().func,onDeauthenticate:i().func,t:i().func};const Mi=(0,s.$j)((function(e){return{isAuthenticated:(0,tn.$8)(e),isAuthRequired:(0,tn.AV)(e),isDisabled:!(0,tn.Io)(e)}}),(function(e){return{onAuthenticate:function(){return e(pn())},onDeauthenticate:function(){return e(yn())}}}))((0,h.Zh)()(Fi));var Ui=r(22345),Gi=r(87172),Vi=r(63786);const Bi=(0,Vi.Z)(c.createElement("path",{d:"M18 11v2h4v-2h-4zm-2 6.61c.96.71 2.21 1.65 3.2 2.39.4-.53.8-1.07 1.2-1.6-.99-.74-2.24-1.68-3.2-2.4-.4.54-.8 1.08-1.2 1.61zM20.4 5.6c-.4-.53-.8-1.07-1.2-1.6-.99.74-2.24 1.68-3.2 2.4.4.53.8 1.07 1.2 1.6.96-.72 2.21-1.65 3.2-2.4zM4 9c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h1v4h2v-4h1l5 3V6L8 9H4zm11.5 3c0-1.33-.58-2.53-1.5-3.35v6.69c.92-.81 1.5-2.01 1.5-3.34z"}),"Campaign");var Wi=function(e){return"number"==typeof e&&e>0},zi=(0,Ot.Z)({underlay:{position:"absolute",right:"0px",bottom:"0px",left:"0px",height:"0%",backgroundColor:Wn.ZP.warning,opacity:.5},underlayActive:{animationName:"$cooldown",animationDuration:function(e){var t=e.timeoutLength;return Wi(t)&&Number.isFinite(t)?"".concat(t,"s"):"100000s"},animationTimingFunction:"linear",animationIterationCount:"1"},iconWrapper:{position:"relative"},"@keyframes cooldown":{"0%":{height:"100%"},"100%":{height:"0%"}}}),Hi=function(e){var t=e.isBroadcast,r=e.setBroadcast,o=e.t,a=e.timeoutLength,i=zi({timeoutLength:a}),l=(0,c.useRef)(void 0);return(0,c.useEffect)((function(){t&&Wi(a)?l.current=setTimeout((function(){r(!1)}),1e3*a):!t&&l.current&&(clearTimeout(l.current),l.current=void 0)}),[t,r,a]),c.createElement(pt.default,{content:t?o("broadcastButton.disable"):o("broadcastButton.enable",{time:a})},c.createElement(hi.ZP,{onClick:function(){return r(!t)}},c.createElement("div",{className:(0,n.Z)(i.underlay,t&&i.underlayActive)}),c.createElement(mi.Z,{color:Wn.ZP.warning,visible:t}),c.createElement("div",{style:{position:"relative"}},c.createElement(Bi,null))))};Hi.propTypes={isBroadcast:i().bool,setBroadcast:i().func,t:i().func,timeoutLength:i().number};const Yi=(0,s.$j)((function(e){return{isBroadcast:(0,Gi.d)(e)}}),{setBroadcast:Ui.pW})((0,h.Zh)()(Hi));var qi=r(90222),$i=r(97581),Ki=r(904),Xi=r(59339),Qi=r(36643),Ji=r(94800),ec=r(27079),tc=r(93176),rc=r(7482);function nc(){return nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nc.apply(this,arguments)}var oc=function(e){var t=e.id,r=e.name,n=e.state,o=e.stateChangedAt;return c.createElement(Ji.Z,{key:t,iconPreset:n,primaryText:r,secondaryText:c.createElement(Ki.Z,{formatter:qn.$s,date:o})})};oc.propTypes={id:i().string,name:i().string,state:i().string,stateChangedAt:i().number};var ac=function(e){var t=e.connections,r=e.onSwitchSecondaryChannel,n=e.t,o=e.useSecondaryChannel;return c.createElement(Xi.Z,null,t.map((function(e){return c.createElement(oc,nc({key:e.id},e))})),0===t.length&&c.createElement(Ji.Z,{primaryText:n("ConnectionStatusMiniList.noConnections")}),c.createElement(Qi.Z,null),c.createElement(N.Z,{control:c.createElement(O.Z,{pl:1},c.createElement(ft.Z,{size:"small",checked:o,onChange:r})),label:c.createElement(x.Z,{variant:"body2"},n("ConnectionStatusMiniList.useSecondaryChannel"))}))};ac.propTypes={connections:i().arrayOf(i().any),onSwitchSecondaryChannel:i().func,t:i().func,useSecondaryChannel:i().bool};const ic=(0,s.$j)((function(e){return{connections:(0,rc.MT)(e),useSecondaryChannel:0!==(0,tc.ML)(e)}}),{onSwitchSecondaryChannel:function(){return(0,ec.s1)()}})((0,h.Zh)()(ac));var cc=r(19064),lc=r(49998),uc=["error","warning","ok"],sc={ok:Wn.ZP.success,warning:Wn.ZP.warning,error:Wn.ZP.error};function fc(e){switch(e.state){case lc.em.CONNECTED:return"ok";case lc.em.CONNECTING:case lc.em.DISCONNECTING:return"warning";default:return"error"}}var pc=(0,Ge.createSelector)(rc.MT,(function(e){for(var t=(0,cc.Z)(e,fc),r=0,n=uc;r<n.length;r++){var o=n[r];if(t[o])return{level:o,count:t[o]}}return{level:"ok",count:e.length}}));const dc=(0,s.$j)((function(e,t){var r=pc(e),n=r.count,o=r.level;return{color:sc[o],visible:t.isAlwaysVisible?n>0:"ok"!==o}}),{})(mi.Z);function yc(e){return yc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yc(e)}function hc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function mc(e,t,r){var n;return n=function(e,t){if("object"!=yc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=yc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==yc(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var vc=function(e){return c.createElement($i.Z,{interactive:!0,content:c.createElement(ic,null),disabled:e.disabled},c.createElement(hi.ZP,e,c.createElement(dc,null),c.createElement(qi.default,null)))};vc.propTypes=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hc(Object(r),!0).forEach((function(t){mc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},hi.ZP.propTypes);const gc=(0,s.$j)((function(e){return{disabled:!(0,tn.Mb)(e)}}),(function(){return{onClick:function(){}}}))(vc);var bc=r(79929),wc=r(47489),Ec=r(57118),Sc=r(96977),Oc=["isFullscreen"];function xc(){return xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xc.apply(this,arguments)}function Ac(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var jc=function(e){var t=e.isFullscreen,r=Ac(e,Oc);return c.createElement(h.Wb,null,(function(e){return c.createElement(hi.ZP,xc({},r,{tooltip:e(t?"fullScreen.exit":"fullScreen.on")}),t?c.createElement(Sc.Z,null):c.createElement(Ec.Z,null))}))};jc.propTypes={disabled:i().bool.isRequired,isFullscreen:i().bool.isRequired,label:i().string,onClick:i().func};const kc=function(){var e=(0,c.useCallback)((function(){return wc.Z.toggle()}),[]),t=(0,Ka.Z)();return(0,bc.Z)("change",t,wc.Z),(0,bc.Z)("error",t,wc.Z),c.createElement(jc,{isFullscreen:wc.Z.isFullscreen,disabled:!wc.Z.isEnabled,onClick:e})};var Pc=r(63714);const Cc=(0,s.$j)((function(e){var t=(0,tc.Q8)(e);return{color:(0,Wn.cr)(t),visible:t!==Pc.q.OFF}}),{})(mi.Z);var Tc=r(544);const Ic=(0,Vi.Z)(c.createElement("path",{d:"M21,12v-2h-2V7l-3-3l-2,2l-2-2l-2,2L8,4L5,7v3H3v2h2v2H3v2h2v4h14v-4h2v-2h-2v-2H21z M16,6.83l1,1V10h-2V7.83l0.41-0.41 L16,6.83z M12,6.83l0.59,0.59L13,7.83V10h-2V7.83l0.41-0.41L12,6.83z M11,14v-2h2v2H11z M13,16v2h-2v-2H13z M7,7.83l1-1l0.59,0.59 L9,7.83V10H7V7.83z M7,12h2v2H7V12z M7,16h2v2H7V16z M17,18h-2v-2h2V18z M17,14h-2v-2h2V14z"}),"PlacesFence");function Lc(){return Lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lc.apply(this,arguments)}var _c=function(e){return c.createElement(h.Wb,null,(function(t){return c.createElement(hi.ZP,Lc({},e,{tooltip:t("geofenceDialog.title")}),c.createElement(Cc,null),c.createElement(Ic,null))}))};_c.propTypes={onClick:i().func,t:i().func};const Zc=(0,s.$j)(null,{onClick:Tc.Oi})(_c);var Nc=r(82369),Rc=function(){o.Z.urls.help&&window.open(o.Z.urls.help,"_blank")};const Dc=function(){return c.createElement(h.Wb,null,(function(e){return c.createElement(hi.ZP,{id:"tour-help-button",tooltip:e("help"),onClick:Rc},c.createElement(Nc.Z,null))}))};var Fc=r(77071);r(97389);function Mc(e){return Mc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(e)}function Uc(e,t,r){var n;return n=function(e,t){if("object"!=Mc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Mc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Mc(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Gc=Uc(Uc(Uc(Uc({},lc.em.CONNECTED,(function(e){return e("serverConnectionStatus.connected")})),lc.em.CONNECTING,(function(e){return e("serverConnectionStatus.connecting")})),lc.em.DISCONNECTED,(function(e){return e("serverConnectionStatus.disconnected")})),lc.em.DISCONNECTING,(function(e){return e("serverConnectionStatus.disconnecting")})),Vc=function(e){return e("serverConnectionStatus.unknownState")},Bc=function(e){return(0,Ue.default)(e)?"unknown":Number.isFinite(e)?Math.abs(e)<1e3?"".concat(e.toFixed(0),"ms"):Math.abs(e)<=3e4?"".concat((e/1e3).toFixed(1),"s"):">30s":e<0?"-\u221e":"\u221e"},Wc=function(e){var t=e.clockSkew,r=e.connectionState,n=e.roundTripTime,o=e.serverHostname,a=e.serverVersion,i=e.t;return c.createElement(Xi.Z,null,c.createElement(Ji.Z,{iconPreset:r,primaryText:(Gc[r]||Vc)(i),secondaryText:r===lc.em.CONNECTED?o:null}),r===lc.em.CONNECTED?c.createElement(c.Fragment,null,c.createElement(Ji.Z,{iconPreset:"empty",primaryText:i("serverConnectionStatus.version"),secondaryText:a}),c.createElement(Qi.Z,null),0===t?c.createElement(Ji.Z,{iconPreset:"success",primaryText:i("serverConnectionStatus.clocksSync")}):c.createElement(Ji.Z,{iconPreset:Math.abs(t)>n/2?"warning":"empty",primaryText:i("serverConnectionStatus.clockSkew"),secondaryText:Bc(t)}),c.createElement(Ji.Z,{iconPreset:n>Br.b?"warning":"empty",primaryText:i("serverConnectionStatus.roundTripTime"),secondaryText:Bc(n)})):null)};Wc.propTypes={clockSkew:i().number,connectionState:i().string,roundTripTime:i().number,serverHostname:i().string,serverVersion:i().string,t:i().func};const zc=(0,s.$j)((function(e){return{connectionState:(0,tn.oY)(e).state,clockSkew:(0,tn.iO)(e),roundTripTime:(0,tn.QE)(e),serverHostname:(0,tn.uF)(e),serverVersion:(0,tn.BJ)(e)}}),{})((0,h.Zh)()(Wc));function Hc(e){return Hc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(e)}function Yc(e,t,r){var n;return n=function(e,t){if("object"!=Hc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Hc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Hc(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var qc=Yc(Yc(Yc(Yc({},lc.em.CONNECTED,Wn.ZP.success),lc.em.CONNECTING,Wn.ZP.warning),lc.em.DISCONNECTING,Wn.ZP.warning),lc.em.DISCONNECTED,Wn.ZP.error);const $c=(0,s.$j)((function(e){return{color:qc[(0,tn.oY)(e).state],visible:e.dialogs.serverSettings.active}}),{})(mi.Z);var Kc=["hideTooltip"];function Xc(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Qc=function(e){var t=e.hideTooltip,r=Xc(e,Kc),n=c.createElement(hi.ZP,r,c.createElement($c,null),c.createElement(Fc.Z,null));return t?n:c.createElement($i.Z,{content:c.createElement(zc,null)},n)};Qc.propTypes={hideTooltip:i().bool,onClick:i().func};const Jc=(0,s.$j)(null,{onClick:un})(Qc);var el=function(e,t,r){return"ago"===r?"Session expired":"Session expires"},tl=function(e){var t=e.expiresAt;return t?c.createElement(O.Z,{alignSelf:"center",px:1,style:{color:"white",fontSize:"0.875rem",textAlign:"right"}},c.createElement("div",{style:{color:"rgba(255, 255, 255, 0.54)"}},c.createElement(Ki.Z,{date:t,formatter:el})),c.createElement("div",null,c.createElement("b",null,c.createElement(Ki.Z,{date:t})))):null};tl.propTypes={expiresAt:i().number};const rl=(0,s.$j)((function(e){return{expiresAt:e.session.expiresAt}}))(tl);var nl=r(55517),ol=r(38396),al=r(36350),il=r(10314),cl=r(12493),ll=r(26774);function ul(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return sl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sl(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function sl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var fl=(0,Ge.createSelector)((function(e){return e.measurement.averagingResults}),(function(e){var t,r=e.byId,n=[],o=ul(e.order);try{for(o.s();!(t=o.n()).done;){var a=t.value;r[a]&&r[a].sampling&&n.push(a)}}catch(e){o.e(e)}finally{o.f()}return n})),pl=function(e){return e.measurement.averagingResults.order},dl=(0,Ge.createSelector)((function(e){return e.measurement.averagingResults}),Re.vA),yl=function(e){return e.measurement.averagingResults.byId},hl=function(e,t){var r,n=yl(e),o=[],a=[],i=ul(t);try{for(i.s();!(r=i.n()).done;){var c=n[r.value];!c||(0,Ue.default)(c.mean.lat)||(0,Ue.default)(c.mean.lon)||(o.push(c.mean.lat),a.push(c.mean.lon))}}catch(e){i.e(e)}finally{i.f()}if(o.length>0)return[(0,ll.Z)(a)/a.length,(0,ll.Z)(o)/o.length]},ml=function(e){return e.measurement.averagingDialog.selectedUAVIds},vl=(0,Ge.createSelector)(pl,(function(e){return e&&e.length>0})),gl=(0,Ge.createSelector)(pl,yl,(function(e,t){var r,n=ul(e);try{for(n.s();!(r=n.n()).done;){var o=r.value;if(t&&t[o]&&t[o].sampling)return!0}}catch(e){n.e(e)}finally{n.f()}return!1})),bl=(0,Ge.createSelector)(ml,(function(e){return e&&e.length>0})),wl=r(13064),El=(r(43843),{ALL:"all",MISSION:"mission"}),Sl={};function Ol(e){var t;return null!==(t=Sl[e])&&void 0!==t?t:null}function xl(e){var t,r;return null!==(t=null===(r=Ol(e))||void 0===r?void 0:r.scope)&&void 0!==t?t:El.ALL}function Al(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=kl(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function jl(e){return function(e){if(Array.isArray(e))return Pl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||kl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kl(e,t){if(e){if("string"==typeof e)return Pl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pl(e,t):void 0}}function Pl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Cl=(0,Ge.createSelector)((function(e){return e.upload.currentJob}),(function(e){return{type:e.type||null,payload:e.payload}})),Tl=(0,Ge.createSelector)((function(e){return e.upload.currentJob}),(function(e){var t=e.type,r=e.running;return!(0,Ue.default)(t)&&r?t:null})),Il=function(e,t){var r;return t?null===(r=e.upload.history.byId[t])||void 0===r?void 0:r.result:null},Ll=(0,Ge.createSelector)((function(e){return e.upload.queues.itemsQueued}),(function(e){return e.upload.queues.itemsInProgress}),(function(e,t){return[].concat(jl(e),jl(t))})),_l=(0,Ge.createSelector)((function(e){return e.upload.queues.itemsQueued}),(function(e){return e.upload.queues.itemsWaitingToStart}),(function(e,t){return[].concat(jl(e),jl(t))}));function Zl(e,t){var r=e.upload.queues,n=r.itemsQueued;return r.itemsWaitingToStart.includes(t)||n.includes(t)}var Nl=function(e){var t=e.upload.queues.itemsWaitingToStart;if(t&&t.length>0)return t[0]},Rl=function(e){return e.upload.dialog},Dl=function(e){var t,r;return null!==(t=null===(r=Rl(e))||void 0===r?void 0:r.selectedJob)&&void 0!==t?t:{}},Fl=(0,Ge.createSelector)(Dl,(function(e){return xl(e.type)===El.MISSION})),Ml=function(e){return e.upload.errors},Ul=(0,Ge.createSelector)((function(e){return e.upload.queues}),(function(e){var t=e.failedItems,r=e.itemsFinished,n=e.itemsInProgress,o=e.itemsQueued,a=e.itemsWaitingToStart;return{failed:Array.isArray(t)?t.length:0,finished:Array.isArray(r)?r.length:0,inProgress:Array.isArray(n)?n.length:0,waiting:(Array.isArray(o)?o.length:0)+(Array.isArray(a)?a.length:0)}})),Gl=(0,Ge.createSelector)((function(e){return e.upload.queues}),(function(e){var t,r=e.failedItems,n=e.itemsFinished,o=e.itemsInProgress,a=e.itemsQueued,i={},c=Al(e.itemsWaitingToStart);try{for(c.s();!(t=c.n()).done;){i[t.value]=Pc.q.WAITING}}catch(e){c.e(e)}finally{c.f()}var l,u=Al(a);try{for(u.s();!(l=u.n()).done;){i[l.value]=Pc.q.NEXT}}catch(e){u.e(e)}finally{u.f()}var s,f=Al(o);try{for(f.s();!(s=f.n()).done;){i[s.value]=Pc.q.WARNING}}catch(e){f.e(e)}finally{f.f()}var p,d=Al(n);try{for(d.s();!(p=d.n()).done;){i[p.value]=Pc.q.SUCCESS}}catch(e){d.e(e)}finally{d.f()}var y,h=Al(r);try{for(h.s();!(y=h.n()).done;){i[y.value]=Pc.q.ERROR}}catch(e){h.e(e)}finally{h.f()}return i})),Vl=(0,Ge.createSelector)(Ul,(function(e){var t=e.failed,r=e.finished,n=e.inProgress,o=t+r+n+e.waiting;return o>0?[Math.round(100*r/o),Math.round(100*(r+n)/o)]:[0,0]})),Bl=function(e){return _l(e).length>0},Wl=function(e){return e.upload.currentJob.running},zl=function(e){var t;return Boolean(null===(t=e.upload.settings)||void 0===t?void 0:t.autoRetry)},Hl=function(e){var t;return Boolean(null===(t=e.upload.settings)||void 0===t?void 0:t.flashFailed)},Yl=r(647);const ql="parameterUpload";r(268);function $l(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Kl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kl(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Kl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xl(e){var t,r=[],n=0,o=$l((e||"").split("\n"));try{for(o.s();!(t=o.n()).done;){var a=t.value;if(n++,0!==(a=a.trim()).length&&!a.startsWith("#")&&!a.startsWith("//")){var i=a.replace(",","=").indexOf("=");if(i<0)throw new Error("Line ".concat(n," does not contain an equals sign (=) or a comma."));var c=a.slice(0,i).trim(),l=a.slice(i+1).trim();if(0===c.length)throw new Error("Line ".concat(n," contains no parameter name, only a value"));r.push({name:c,value:l})}}}catch(e){o.e(e)}finally{o.f()}return r}var Ql=function(e){return Boolean(e.parameters.rebootAfterUpload)};function Jl(e){return 0===e.parameters.manifest.order.length}function eu(e){return e.parameters.dialog.open}var tu=(0,Ge.createSelector)((function(e){return e.parameters.manifest}),Re.vA),ru=(0,Ge.createSelector)(tu,Ql,(function(e,t){return{items:e.map((function(e){return{name:e.name,value:e.value}})).filter((function(e){var t=e.name;return"string"==typeof t&&t.length>0})),meta:{shouldReboot:t}}})),nu=r(53096);function ou(e){return ou="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(e)}function au(){au=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==ou(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(ou(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function iu(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function cu(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){iu(a,n,o,i,c,"next",e)}function c(e){iu(a,n,o,i,c,"throw",e)}i(void 0)}))}}var lu=r(42047);function uu(e){return uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(e)}function su(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?su(Object(r),!0).forEach((function(t){pu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):su(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pu(e,t,r){var n;return n=function(e,t){if("object"!=uu(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=uu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==uu(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function du(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var hu=function(e){var t=e.isConnected,r=e.isUploadInProgress,n=e.numberOfAveragingInProgress,o=e.showAveragingDialog,a=e.showLicenseInfoDialog,i=e.showMapCachingDialog,l=e.showParameterUploadDialog,u=e.t,s=du((0,c.useState)(null),2),f=s[0],p=s[1],d=function(){p(null)},y=function(e){return function(){d(),e()}},h=n>0;return c.createElement(c.Fragment,null,c.createElement(hi.ZP,{"aria-controls":"toolbox-menu","aria-haspopup":"true",tooltip:u("toolbox.tooltip"),onClick:function(e){p(e.currentTarget)}},c.createElement(mi.Z,{color:Wn.ZP.warning,visible:h}),c.createElement(al.Z,null)),c.createElement(ol.Z,{id:"toolbox-menu",anchorEl:f,open:Boolean(f),onClose:d},c.createElement(F.Z,{onClick:y(o)},c.createElement(st.Z,{primary:u("toolbox.coordinateAveraging"),secondary:n>0?u("toolbox.averagingInProgress",{number:n}):void 0})),c.createElement(F.Z,{onClick:y(i)},c.createElement(st.Z,{primary:u("toolbox.offlineMaps")})),c.createElement(F.Z,{onClick:y(l)},c.createElement(st.Z,{primary:u("toolbox.paramUpload"),secondary:r?u("toolbox.uploadInProgress"):void 0})),c.createElement(nl.Z,null),c.createElement(F.Z,{disabled:!t,onClick:y(a)},c.createElement(st.Z,{primary:u("toolbox.licenseInfo")}))))};hu.propTypes=fu(fu({},hi.ZP.propTypes),{},{isConnected:i().bool,isUploadInProgress:i().bool,numberOfAveragingInProgress:i().number,showAveragingDialog:i().func,showMapCachingDialog:i().func,showParameterUploadDialog:i().func,showLicenseInfoDialog:i().func,t:i().func});const mu=(0,s.$j)((function(e){return{isConnected:(0,tn.Mb)(e),isUploadInProgress:Wl(e),numberOfAveragingInProgress:fl(e).length}}),{showAveragingDialog:wl.XC,showLicenseInfoDialog:il.Pf,showMapCachingDialog:cl.kA,showParameterUploadDialog:function(){return function(e,t){e(Tl(t())===ql?(0,Yl.KE)({backAction:(0,nu.on)()}):(0,nu.on)())}},showVersionCheckDialog:lu.AU})((0,h.Zh)()(hu));var vu=r(69203),gu=r(82905),bu=r(81545),wu=r(39535),Eu=r(31175),Su=(r(36585),r(99111)),Ou=r(73935);const xu=(0,Vi.Z)(c.createElement("path",{d:"M 19,19 H 5 V 5 h 7 V 3 H 5 C 3.89,3 3,3.9 3,5 v 14 c 0,1.1 0.89,2 2,2 h 14 c 1.1,0 2,-0.9 2,-2 v -7 h -2 z m -4.24,-2.76 v -2 H 11.17 L 21,4.41 19.59,3 9.76,12.83 V 9.24 h -2 v 7 z"}),"RestoreWindow");var Au=function(e){return e.detachablePanels.detachedPanels},ju=function(e,t){return e.detachablePanels.detachedPanels.includes(t)},ku=r(98168);function Pu(e){return Pu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pu(e)}var Cu=["glContainer"];function Tu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Iu(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Lu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Du(n.key),n)}}function _u(e,t){return _u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_u(e,t)}function Zu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Nu(e);if(t){var o=Nu(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Pu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function Nu(e){return Nu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Nu(e)}function Ru(e,t,r){return(t=Du(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Du(e){var t=function(e,t){if("object"!=Pu(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Pu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Pu(t)?t:String(t)}function Fu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Mu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Uu=function(e){var t=e.element[0].querySelector(".portal-container");if(null!==t)return t;var r=document.createElement("div");return r.classList.add("portal-container"),r.style.display="inline-block",e.titleElement[0].after(r),r},Gu=function(e){var t=e.glContainer,r=e.label,n=e.onClick,o=Fu((0,c.useState)(Uu(t.tab)),2),a=o[0],i=o[1];(0,c.useEffect)((function(){var e=function(e){return i(Uu(e))};return t.on("tab",e),function(){t.off("tab",e)}}),[t]);var l=c.createElement("div",{style:{width:"18px",height:"18px",position:"relative",marginLeft:"5px",marginRight:"-10px"}},c.createElement("ul",{className:"lm_controls"},c.createElement("li",{className:"lm_popout",title:"Detach ".concat(r," panel"),onClick:n})));return Ou.createPortal(l,a)};Gu.propTypes={glContainer:i().object.isRequired,label:i().string.isRequired,onClick:i().func};var Vu=function(e){var t=e.children,r=e.detached,n=e.glContainer,o=e.label,a=e.onAttach,i=e.onDetach;return r?c.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-around",height:"100%",textAlign:"center"}},c.createElement("div",null,o," panel has been detached.",c.createElement("div",{style:{minHeight:"1em"}}),c.createElement(A.Z,{variant:"outlined",startIcon:c.createElement(xu,null),onClick:a},"Attach"))):c.createElement(c.Fragment,null,c.createElement(Gu,{glContainer:n,label:o,onClick:i}),t)};Vu.propTypes={children:i().node.isRequired,detached:i().bool.isRequired,glContainer:i().object.isRequired,label:i().string.isRequired,onAttach:i().func.isRequired,onDetach:i().func.isRequired};var Bu=(0,s.$j)((function(e,t){return{detached:ju(e,t.name)}}),(function(e,t){var r=t.name;return{onAttach:function(){e((0,ku.ht)(r))},onDetach:function(){e((0,ku.k5)(r))}}}))(Vu);var Wu=function(e,t,r){var n;return n=function(n){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_u(e,t)}(u,n);var o,a,i,l=Zu(u);function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),l.apply(this,arguments)}return o=u,a=[{key:"render",value:function(){var n=this.props,o=n.glContainer,a=Iu(n,Cu);return c.createElement(Bu,{glContainer:o,name:e,label:t},c.createElement(r,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tu(Object(r),!0).forEach((function(t){Ru(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({glContainer:o},a)))}}],a&&Lu(o.prototype,a),i&&Lu(o,i),Object.defineProperty(o,"prototype",{writable:!1}),u}(c.Component),Ru(n,"propTypes",{glContainer:i().object.isRequired}),n};const zu={default:{label:"Default",layout:{type:"columns",contents:[{type:"stack",contents:[{type:"panel",component:"map",id:"map"},{type:"panel",component:"uav-list",id:"uavs"},{type:"panel",component:"three-d-view",id:"threeDView"}]},{type:"rows",contents:[{type:"stack",contents:[{type:"panel",component:"lcd-clock-panel",id:"clocks"},{type:"panel",component:"saved-location-list",id:"locations"},{type:"panel",component:"layer-list",id:"layers"}],height:25},{type:"stack",contents:[{type:"panel",component:"show-control",id:"show"},{type:"panel",component:"light-control",id:"lights"}]}],width:25}]}}};function Hu(e){return Hu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(e)}function Yu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yu(Object(r),!0).forEach((function(t){$u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $u(e,t,r){var n;return n=function(e,t){if("object"!=Hu(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Hu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Hu(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ku(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Xu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xu(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Xu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Qu=function e(t,r){var n=r.perspectiveBuilder,o=r.componentRegistry;switch(t.type){case"columns":case"rows":case"stack":n[{rows:"makeRows",columns:"makeColumns",stack:"makeStack"}[t.type]]();var a,i=Ku(t.contents);try{for(i.s();!(a=i.n()).done;){e(a.value,r)}}catch(e){i.e(e)}finally{i.f()}n.finish();break;case"panel":n.add(t.component).setTitle(o[t.component].label),t.id&&n.setId(t.id);break;default:throw new Error("Unknown layout type: ".concat(t.type))}t.width&&n.setRelativeWidth(t.width),t.height&&n.setRelativeHeight(t.height)},Ju=function(e,t){return function(r){for(var n=("string"==typeof r?{inherits:r}:r)||{};n.inherits;){var o=zu[n.inherits]||{};delete n.inherits,n=qu(qu({},o),n)}var a=n,i=a.hideHeaders,c=a.isFixed,l=a.label,s=a.layout,f=new u.dG(t);return Qu(s,{perspectiveBuilder:f,componentRegistry:e}),{label:l,isFixed:c,state:{content:f.build(),settings:{hasHeaders:!i}}}}},es=r(16310),ts=r(15883),rs=r(90855),ns=r(19578),os=r(81860),as=r(88995),is=r(51914),cs=r(95622),ls=r(15222),us=r(96424),ss=r(37381),fs=["onItemActivated","onSelectionChanged","selectedIds"];function ps(){return ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ps.apply(this,arguments)}function ds(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var ys=(0,is.l0)((function(e,t,r){var n=e.position?c.createElement(pt.default,{content:"Show on map"},c.createElement(W.Z,{edge:"end",onClick:function(){return(0,ss.Kc)(e.position)}},c.createElement(as.Z,null))):null;return c.createElement(lt.Z,{key:e.id,button:!0,className:r?"selected-list-item":void 0,onClick:t.onItemSelected},c.createElement(gu.default,{status:e.active?"success":"error"}),c.createElement(st.Z,{primary:(0,us.P$)(e)}),c.createElement(os.Z,null,n))}),{backgroundHint:"No beacons",dataProvider:"beacons"}),hs=function(e){var t=e.onItemActivated,r=e.onSelectionChanged,n=e.selectedIds,o=ds(e,fs);return c.createElement(O.Z,{display:"flex",flexDirection:"column",height:"100%"},c.createElement(O.Z,{height:"100%",overflow:"auto"},c.createElement(ys,ps({dense:!0,value:n||[],onActivate:t,onChange:r},o))))};hs.propTypes={selectedIds:i().arrayOf(i().string).isRequired,onItemActivated:i().func,onSelectionChanged:i().func};const ms=(0,s.$j)((function(e){return{beacons:(0,us.U7)(e),selectedIds:(0,us.E8)(e)}}),{onSelectionChanged:function(e){return(0,cs.Z5)(e.map(ls.YA))}})(hs);var vs=r(66652),gs=r(66054),bs=r(45667);function ws(e){return ws="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ws(e)}function Es(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ss(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Es(Object(r),!0).forEach((function(t){Os(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Es(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Os(e,t,r){var n;return n=function(e,t){if("object"!=ws(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ws(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ws(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xs=function(e,t){return e.clocks.byId[t]},As=(0,Ge.createSelector)((function(e){return e.clocks}),Re.vA),js=(0,Ge.createSelector)(As,(function(e){return e.map((function(e){return Ss(Ss({},e),{},{updateInterval:(0,bs.tG)(e)})}))})),ks=[c.createElement(Bn.Z,{key:"stop",style:{backgroundColor:St.Z.A700}},c.createElement(gs.Z,null)),c.createElement(Bn.Z,{key:"play",style:{backgroundColor:wt.Z[500]}},c.createElement(vs.Z,null))],Ps=function(e){var t=e.affectedByClockSkew,r=e.clock,n=e.clockSkew,o=e.format,a=r.running,i=r.updateInterval,l=ks[a?1:0],u=(0,bs.v_)(r),s=Date.now()+(t&&!(0,Ue.default)(n)?n:0),f=(0,bs.Nu)(r,s),p=(0,bs.J8)(f,r,{format:o}),d=(0,Ka.Z)();return(0,Xa.Z)(d,a?i:null),c.createElement(lt.Z,null,c.createElement(ut.Z,null,l),c.createElement(st.Z,{primary:p,secondary:u}))};Ps.propTypes={affectedByClockSkew:i().bool,clock:i().shape({epoch:i().number,id:i().string.isRequired,referenceTime:i().number.isRequired,ticks:i().number.isRequired,ticksPerSecond:i().number.isRequired,running:i().bool.isRequired,updateInterval:i().number.isRequired}),clockSkew:i().number,format:i().oneOfType([i().string,i().func])},Ps.defaultProps={affectedByClockSkew:!1,clockSkew:0,format:"yyyy-MM-dd HH:mm:ss xx"};var Cs=(0,is.P7)((function(e){return c.createElement(Ps,{key:e.id,clock:e})}),{dataProvider:"clocks",backgroundHint:"No clocks"});Cs.displayName="ClockDisplayListPresentation";const Ts=(0,s.$j)((function(e){return{clocks:js(e),dense:!0}}),void 0)(Cs);var Is=r(88105);function Ls(e){return Ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ls(e)}function _s(){return _s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_s.apply(this,arguments)}function Zs(e,t,r){var n;return n=function(e,t){if("object"!=Ls(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ls(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ls(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ns=Zs(Zs(Zs(Zs({},lc.em.CONNECTED,c.createElement(ut.Z,{style:{color:wt.Z[500]}},c.createElement(xt.default,null))),lc.em.CONNECTING,c.createElement(ut.Z,{style:{color:Et.Z[700]}},c.createElement(qi.default,null))),lc.em.DISCONNECTED,c.createElement(ut.Z,{style:{color:St.Z.A700}},c.createElement(H.default,null))),lc.em.DISCONNECTING,c.createElement(ut.Z,{style:{color:Et.Z[700]}},c.createElement(qi.default,null))),Rs=c.createElement(ut.Z,{style:{color:Is.Z[500]}},c.createElement(Nc.Z,null)),Ds=Zs(Zs(Zs(Zs({},lc.em.CONNECTED,"Connected"),lc.em.CONNECTING,"Connecting"),lc.em.DISCONNECTED,"Disconnected"),lc.em.DISCONNECTING,"Disconnecting"),Fs=function(e){var t=e.action,r=e.name,n=e.state,o=e.stateChangedAt,a=Ns[n]||Rs,i=o?c.createElement(Ki.Z,{date:o}):null,l=t?c.createElement(W.Z,{edge:"end",onClick:t},c.createElement(Pi.Z,null)):null,u=Ds[n]||"Unknown state";return i&&(u=c.createElement("span",null,u," ",i)),c.createElement(lt.Z,null,a,c.createElement(st.Z,{primary:r,secondary:u}),c.createElement(os.Z,null,l))};Fs.propTypes={name:i().string.isRequired,state:i().string.isRequired,stateChangedAt:i().number,action:i().func};var Ms=(0,is.P7)((function(e){return c.createElement(Fs,_s({key:e.id},e))}),{dataProvider:"connections",backgroundHint:"No connections"});Ms.displayName="ConnectionListPresentation";const Us=(0,s.$j)((function(e){return{connections:(0,rc.MT)(e)}}),(function(e){return{onShowSettings:function(){e(un())}}}))(Ms);var Gs=(0,Ge.createSelector)((function(e){return e.datasets}),Re.vA),Vs=function(){return c.createElement(lt.Z,null,c.createElement(st.Z,{primary:"Dataset"}))};Vs.propTypes={id:i().string.isRequired},Vs.defaultProps={};var Bs=(0,is.P7)(Vs,{dataProvider:"datasets",backgroundHint:"No datasets"});Bs.displayName="DatasetListPresentation";const Ws=(0,s.$j)((function(e){return{datasets:Gs(e),dense:!0}}),void 0)(Bs);var zs=r(51712),Hs=r(37400),Ys=["onItemActivated","onSelectionChanged","selectedIds"];function qs(){return qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qs.apply(this,arguments)}function $s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Ks=(0,is.l0)((function(e,t,r){var n=e.position?c.createElement(pt.default,{content:"Show on map"},c.createElement(W.Z,{edge:"end",onClick:function(){return(0,ss.Kc)(e.position)}},c.createElement(as.Z,null))):null;return c.createElement(lt.Z,{key:e.id,button:!0,className:r?"selected-list-item":void 0,onClick:t.onItemSelected},c.createElement(st.Z,{primary:e.id}),c.createElement(os.Z,null,n))}),{backgroundHint:"No docking stations",dataProvider:"docks"}),Xs=function(e){var t=e.onItemActivated,r=e.onSelectionChanged,n=e.selectedIds,o=$s(e,Ys);return c.createElement(O.Z,{display:"flex",flexDirection:"column",height:"100%"},c.createElement(O.Z,{height:"100%",overflow:"auto"},c.createElement(Ks,qs({dense:!0,value:n||[],onActivate:t,onChange:r},o))))};Xs.propTypes={selectedIds:i().arrayOf(i().string).isRequired,onItemActivated:i().func,onSelectionChanged:i().func};const Qs=(0,s.$j)((function(e){return{docks:(0,Hs.t)(e),selectedIds:(0,Hs.h)(e)}}),{onItemActivated:zs.qc,onSelectionChanged:function(e){return(0,cs.Z5)(e.map(ls.cf))}})(Xs);var Js=r(28428),ef=r(8951),tf=r(78513),rf=r(20067),nf=r(28270),of=r(83328);function af(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return cf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const lf=function(){var e=af((0,c.useState)(null),2),t=e[0],r=e[1];return[t,function(e){return r(e.currentTarget)},function e(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];if(n.length>0){if("function"==typeof n[0])return function(t){n[0](t),e()};if(void 0===n[0])return}r(null)}]};function uf(e){return uf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(e)}var sf=["featuresByIds"],ff=["onSetFeatureVisibility"];function pf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function df(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pf(Object(r),!0).forEach((function(t){yf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function yf(e,t,r){var n;return n=function(e,t){if("object"!=uf(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=uf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==uf(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hf(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function mf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gf=(0,Ot.Z)({container:{containerType:"inline-size"},item:{"@container (min-width: 351px)":{paddingRight:function(e){return 24*e.actions.length+12*(e.actions.length+1)}}},button:{"@container (max-width: 350px)":{display:"none"}},menu:{"@container (min-width: 351px)":{display:"none"}}},{name:"FeatureList"}),bf=function(e){var t=e.feature,r=e.onEditFeature,n=e.onFocusFeature,o=e.onRemoveFeature,a=e.onSelectFeature,i=e.onToggleFeatureVisibility,l=e.selected,u=t.id,s=t.color,f=t.label,p=t.type,d=t.visible,y=(0,Ar.GA)(p),h=[{action:n,icon:c.createElement(ef.Z,null),key:"focus",label:"Focus feature"},{action:i,icon:d?c.createElement(rf.Z,null):c.createElement(nf.Z,{color:"disabled"}),key:"visibility",label:"Toggle visibility"},{action:r,icon:c.createElement(Qo.Z,null),key:"edit",label:"Feature properties"},{action:o,icon:c.createElement(Js.Z,null),key:"delete",label:"Remove"}],m=gf({actions:h}),v=c.createElement(c.Fragment,null,h.map((function(e){var t=e.action,r=e.icon,n=e.key,o=e.label;return c.createElement(of.kR,{key:n,content:o},c.createElement(W.Z,{className:m.button,edge:"end","data-id":u,onClick:t},r))}))),g=mf(lf(),3),b=g[0],w=g[1],E=g[2],S=c.createElement(c.Fragment,null,c.createElement(W.Z,{className:m.menu,edge:"end",onClick:w},c.createElement(tf.Z,null)),c.createElement(ol.Z,{anchorEl:b,open:null!==b,variant:"menu",onClose:E},h.map((function(e){var t=e.action,r=e.icon,n=e.key,o=e.label;return c.createElement(F.Z,{key:n,"data-id":u,onClick:E(t)},c.createElement(ut.Z,null,r),c.createElement(st.Z,{primary:o}))}))));return c.createElement(lt.Z,{button:!0,ContainerProps:{className:m.container},className:m.item,selected:l,"data-id":u,onClick:a},c.createElement(ut.Z,{style:{color:s,minWidth:0,marginRight:"16px"}},c.createElement(y,null)),f?c.createElement(st.Z,{style:{overflowWrap:"break-word"},primary:f}):c.createElement(st.Z,{secondary:(0,Ar.IQ)(p)}),c.createElement(os.Z,null,v,S))};bf.propTypes={onEditFeature:i().func,onFocusFeature:i().func,onRemoveFeature:i().func,onSelectFeature:i().func,onToggleFeatureVisibility:i().func,feature:i().object.isRequired,selected:i().bool};var wf=(0,is.P7)((function(e,t){var r=t.onEditFeature,n=t.onFocusFeature,o=t.onRemoveFeature,a=t.onSelectFeature,i=t.onToggleFeatureVisibility,l=t.selectedFeatureIds;return c.createElement(bf,{key:e.id,feature:e,selected:l.includes(e.id),onEditFeature:r,onFocusFeature:n,onRemoveFeature:o,onSelectFeature:a,onToggleFeatureVisibility:i})}),{dataProvider:"features",backgroundHint:"No features"});wf.displayName="FeatureListPresentation";const Ef=(0,s.$j)((function(e){return{dense:!0,features:(0,br.vQ)(e),featuresByIds:(0,br.Sf)(e),selectedFeatureIds:(0,br.zf)(e)}}),(function(e){return{onEditFeature:function(t){var r=t.currentTarget.dataset.id;r&&e((0,gr.B$)(r))},onRemoveFeature:function(t){var r=t.currentTarget.dataset.id;r&&e((0,wr.hW)([r]))},onSelectFeature:function(t){var r=t.currentTarget.dataset.id,n=t.shiftKey?cs.cY:t.altKey?cs.Vx:t.ctrlKey||t.metaKey?cs.Iv:cs.Z5;r&&e(n([(0,ls.Pe)(r)]))},onSetFeatureVisibility:function(t,r){var n=t.currentTarget.dataset.id;n&&e((0,wr.Co)({id:n,visible:r}))}}}),(function(e,t,r){var n=e.featuresByIds,o=hf(e,sf),a=t.onSetFeatureVisibility,i=hf(t,ff);return df(df(df(df({},r),o),i),{},{onFocusFeature:function(e){var t=e.currentTarget.dataset.id;t&&(0,ss.P7)(n[t].points)},onToggleFeatureVisibility:function(e){var t=e.currentTarget.dataset.id;t&&a(e,!n[t].visible)}})}))(wf);var Sf=r(61139);function Of(e){return function(e){if(Array.isArray(e))return xf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return xf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xf(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Af=function(e){return c.createElement(lt.Z,{key:"__newItem__",button:!0,onClick:e.onNewItem},c.createElement(ut.Z,null,c.createElement(Sf.Z,null)),c.createElement(st.Z,{primary:"Add new layer"}))},jf=(0,is.S6)((function(e,t){var r=(0,Po.gc)(e.type);return c.createElement(lt.Z,{key:e.id,button:!0,style:e.visible?void 0:{opacity:.3},onClick:t.onItemSelected},r&&c.createElement(ut.Z,null,r),c.createElement(st.Z,{primary:e.label,secondary:(0,Po.DT)(e.type)}))}),{dataProvider:"layers",postprocess:function(e,t){return[Af(t)].concat(Of(e))}});jf.propTypes={onChange:i().func,onNewItem:i().func,layers:i().arrayOf(i().oneOfType([i().object,i().string])).isRequired};const kf=(0,s.$j)((function(e){return{dense:!0,layers:(0,rc.Yo)(e)}}),(function(e){return{onChange:function(t,r){e((0,jo.wp)(r))},onNewItem:function(){var t=(0,ko.A4)();e(t),t.id&&e((0,jo.wp)(t.id))}}}))(jf);var Pf=r(43590),Cf=r(22230);function Tf(e){return Tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(e)}var If=["children","color","decoration","height","off","offSegments","variant"];function Lf(){return Lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lf.apply(this,arguments)}function _f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_f(Object(r),!0).forEach((function(t){Nf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Nf(e,t,r){var n;return n=function(e,t){if("object"!=Tf(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Tf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Tf(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rf(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}r(87009);var Df={default:{},"7segment":{fontFamily:"DSEG7-Classic",allSegmentsChar:"8"},"14segment":{fontFamily:"DSEG14-Classic",allSegmentsChar:"~"}},Ff={position:"absolute",left:0,top:0,opacity:.2},Mf=function(e){var t=e.children,r=e.color,n=e.decoration,o=e.height,a=e.off,i=e.offSegments,l=e.variant,u=Rf(e,If),s=(0,c.useMemo)((function(){var e=void 0===o?void 0:Math.floor(.7*o),t={fontSize:e,height:o};if(void 0!==r&&(t.color=r),a&&(t.opacity=.3),!a)switch(n){case"glow":var i=void 0===e?4:Math.round(e);t.textShadow="0 0 ".concat(i,"px ").concat(r||"currentColor");break;case"shadow":var c=void 0===e||e<=16?1:2,l=new(Vn())(r||"black").alpha(.3).string();t.textShadow="".concat(c,"px ").concat(c,"px 0 ").concat(l)}return t.transition="color 150ms",t}),[r,n,o,a]),f=(0,c.useMemo)((function(){var e=Math.floor(.7*o);return Zf(Zf({},Ff),{},{color:r||"black",fontSize:e,height:o})}),[r,o]);return l=l||"default",c.createElement(O.Z,Lf({position:"relative",display:"inline-block",fontFamily:Df[l].fontFamily},u),i&&"default"!==l&&c.createElement("div",{style:f},t.replace(/[^:. ]/g,Df[l].allSegmentsChar||"")),c.createElement("div",{style:s},t))};Mf.propTypes={children:i().node,color:i().string,decoration:i().oneOf(["plain","glow","shadow"]),height:i().number,off:i().bool,offSegments:i().bool,variant:i().oneOf(["default","7segment","14segment"])},Mf.defaultProps={decoration:"plain",variant:"default"};const Uf=Mf;function Gf(){return Gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gf.apply(this,arguments)}var Vf=function(e){var t=e.clocks,r=e.lcdStyle,n=e.onClick,o=e.selectedClockId;return t.map((function(e){return c.createElement(Uf,Gf({key:e.id},r,{p:.5,off:e.id!==o,onClick:e.id!==o&&n?function(){return n(e.id)}:void 0}),e.label)}))};Vf.propTypes={clocks:i().arrayOf(i().shape({id:i().string,label:i().string})),lcdStyle:i().object,onClock:i().func,selectedClockId:i().string};const Bf=Vf;var Wf=["affectedByClockSkew","clock","clockId","clockSkew","format","signed","updateInterval"];function zf(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Hf=function(e){var t=e.affectedByClockSkew,r=e.clock,n=(e.clockId,e.clockSkew),o=e.format,a=e.signed,i=e.updateInterval,l=zf(e,Wf),u=(r||{}).running,s=Date.now()+(t&&!(0,Ue.default)(n)?n:0),f=r?(0,bs.Nu)(r,s):void 0,p=void 0===f?"--:--:--":(0,bs.J8)(f,r,{format:o}),d=(0,Ka.Z)();return a&&"-"!==p.charAt(0)&&(p="!"+p),(0,Xa.Z)(d,u?i:null),c.createElement(Uf,l,p)};Hf.propTypes={affectedByClockSkew:i().bool,clock:i().object,clockId:i().string,clockSkew:i().number,format:i().string,signed:i().bool,updateInterval:i().number},Hf.defaultProps={format:"HH:mm:ss"};const Yf=(0,s.$j)((function(e,t){var r=xs(e,t.clockId),n=(0,bs.m7)(r),o=(0,bs._o)(r),a=(0,bs.tG)(r);return{affectedByClockSkew:o,clock:r,clockSkew:(0,tn.iO)(e),signed:n,updateInterval:a}}),{})(Hf),qf=5;r(86466),r(65137),r(97895);var $f=r(77186);function Kf(e){return function(e){if(Array.isArray(e))return Jf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Qf(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xf(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Qf(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Qf(e,t){if(e){if("string"==typeof e)return Jf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Jf(e,t):void 0}}function Jf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ep=function(e,t){var r=e.lcdClock.byId[t];return r?r.clockId:void 0},tp=function(e,t){var r=e.lcdClock.byId[t];return r?r.preset:0},rp=(0,Ge.createSelector)(As,(function(e){for(var t=e.map((function(e){return{id:e.id,label:(0,bs.jl)(e)}})),r=(0,cc.Z)(t,"label"),n=0,o=Object.keys(r);n<o.length;n++){var a=o[n];if(r[a]>1){var i,c=1,l=Xf(t);try{for(l.s();!(i=l.n()).done;){var u=i.value;u.label===a&&(u.label="".concat(a).concat(c),c++)}}catch(e){l.e(e)}finally{l.f()}}}return t})),np=((0,Ge.createSelector)((function(e){return e.lcdClock}),Re.vA),function(e){var t,r=e.lcdClock,n=r.byId,o=r.order.map((function(e){return n[e]?n[e].clockId:void 0})).filter(Boolean),a=Xf(As(e));try{for(a.s();!(t=a.n()).done;){var i=t.value;if(!o.includes(i.id))return i.id}}catch(e){a.e(e)}finally{a.f()}var c=(0,cc.Z)(o),l=Math.min.apply(Math,Kf(Object.values(c))),u=Object.keys((0,$f.Z)(c,(function(e){return e===l})));return u.sort(),u[0]}),op=function(e){var t,r=e.lcdClock,n=r.byId,o=r.order,a=new Array(qf).fill(0),i=Xf(o);try{for(i.s();!(t=i.n()).done;){var c=n[t.value];c&&"number"==typeof c.preset&&c.preset>=0&&c.preset<qf&&a[c.preset]++}}catch(e){i.e(e)}finally{i.f()}return a.indexOf(Math.min.apply(Math,Kf(a)))},ap=r(68327);function ip(e){return ip="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ip(e)}var cp=["clocks","id","onAdd","onClockSelected","onNextPreset","onRemove","preset","selectedClockId","hideInactiveSegmentsOnDarkLCD","style"];function lp(){return lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lp.apply(this,arguments)}function up(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sp(e,t,r){var n;return n=function(e,t){if("object"!=ip(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ip(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ip(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dp(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var yp=(0,Ot.Z)((function(e){return{root:{alignItems:"stretch",borderBottom:"light"===e.palette.type?"4px solid #f4f4f4":"4px solid black",display:"flex",flexDirection:"column",height:"100%",overflow:"hidden",position:"relative",userSelect:"none",boxShadow:"light"===e.palette.type?"0 0 6px 2px rgba(0, 0, 0, 0.4) inset":void 0,transition:"background-color 150ms","&:last-child":{borderBottom:"none"}},button:{width:24,textAlign:"center",lineHeight:"24px"}}}),{name:"LCDClockDisplay"}),hp={dark:[{backgroundColor:"black",color:function(e){return e.palette.secondary.main}},{backgroundColor:"black",color:"#f00"},{backgroundColor:"black",color:"#0f0"},{backgroundColor:"black",color:"#fc0"},{backgroundColor:"black",color:"#c0f"}],light:[{backgroundColor:"rgb(149, 177, 89)",color:"black",noise:!0},{backgroundColor:"#f80",color:"black",noise:!0},{backgroundColor:"#0cf",color:"black",noise:!0},{backgroundColor:"#fc0",color:"black",noise:!0},{backgroundColor:"#4fc",color:"black",noise:!0}]},mp=function(e,t,r){return("function"==typeof t?t(e):t)||r},vp=function(e){var t=e.clocks,r=(e.id,e.onAdd),o=e.onClockSelected,a=e.onNextPreset,i=e.onRemove,l=e.preset,u=e.selectedClockId,s=e.hideInactiveSegmentsOnDarkLCD,f=e.style,p=dp(e,cp),d=yp(),y=(0,nr.Z)(),h=fp((0,Pf.Z)(),2),m=h[0],v=h[1],g=v.height,b=v.width,w=(0,jt.isThemeDark)(y)?"dark":"light",E=hp[w][l]||hp[w][0],S="dark"===w?{color:mp(y,E.color,y.palette.secondary.main),decoration:"glow",offSegments:!s}:{color:mp(y,E.color,"black"),decoration:"shadow"},x=b>0&&g>0?Math.floor(b<5*g?b/5:g):0,A=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?up(Object(r),!0).forEach((function(t){sp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):up(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({backgroundColor:mp(y,E.backgroundColor,"black"),backgroundImage:mp(y,E.noise,!1)?"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAUVBMVEWFhYWDg4N3d3dtbW17e3t1dXWBgYGHh4d5eXlzc3OLi4ubm5uVlZWPj4+NjY19fX2JiYl/f39ra2uRkZGZmZlpaWmXl5dvb29xcXGTk5NnZ2c8TV1mAAAAG3RSTlNAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAvEOwtAAAFVklEQVR4XpWWB67c2BUFb3g557T/hRo9/WUMZHlgr4Bg8Z4qQgQJlHI4A8SzFVrapvmTF9O7dmYRFZ60YiBhJRCgh1FYhiLAmdvX0CzTOpNE77ME0Zty/nWWzchDtiqrmQDeuv3powQ5ta2eN0FY0InkqDD73lT9c9lEzwUNqgFHs9VQce3TVClFCQrSTfOiYkVJQBmpbq2L6iZavPnAPcoU0dSw0SUTqz/GtrGuXfbyyBniKykOWQWGqwwMA7QiYAxi+IlPdqo+hYHnUt5ZPfnsHJyNiDtnpJyayNBkF6cWoYGAMY92U2hXHF/C1M8uP/ZtYdiuj26UdAdQQSXQErwSOMzt/XWRWAz5GuSBIkwG1H3FabJ2OsUOUhGC6tK4EMtJO0ttC6IBD3kM0ve0tJwMdSfjZo+EEISaeTr9P3wYrGjXqyC1krcKdhMpxEnt5JetoulscpyzhXN5FRpuPHvbeQaKxFAEB6EN+cYN6xD7RYGpXpNndMmZgM5Dcs3YSNFDHUo2LGfZuukSWyUYirJAdYbF3MfqEKmjM+I2EfhA94iG3L7uKrR+GdWD73ydlIB+6hgref1QTlmgmbM3/LeX5GI1Ux1RWpgxpLuZ2+I+IjzZ8wqE4nilvQdkUdfhzI5QDWy+kw5Wgg2pGpeEVeCCA7b85BO3F9DzxB3cdqvBzWcmzbyMiqhzuYqtHRVG2y4x+KOlnyqla8AoWWpuBoYRxzXrfKuILl6SfiWCbjxoZJUaCBj1CjH7GIaDbc9kqBY3W/Rgjda1iqQcOJu2WW+76pZC9QG7M00dffe9hNnseupFL53r8F7YHSwJWUKP2q+k7RdsxyOB11n0xtOvnW4irMMFNV4H0uqwS5ExsmP9AxbDTc9JwgneAT5vTiUSm1E7BSflSt3bfa1tv8Di3R8n3Af7MNWzs49hmauE2wP+ttrq+AsWpFG2awvsuOqbipWHgtuvuaAE+A1Z/7gC9hesnr+7wqCwG8c5yAg3AL1fm8T9AZtp/bbJGwl1pNrE7RuOX7PeMRUERVaPpEs+yqeoSmuOlokqw49pgomjLeh7icHNlG19yjs6XXOMedYm5xH2YxpV2tc0Ro2jJfxC50ApuxGob7lMsxfTbeUv07TyYxpeLucEH1gNd4IKH2LAg5TdVhlCafZvpskfncCfx8pOhJzd76bJWeYFnFciwcYfubRc12Ip/ppIhA1/mSZ/RxjFDrJC5xifFjJpY2Xl5zXdguFqYyTR1zSp1Y9p+tktDYYSNflcxI0iyO4TPBdlRcpeqjK/piF5bklq77VSEaA+z8qmJTFzIWiitbnzR794USKBUaT0NTEsVjZqLaFVqJoPN9ODG70IPbfBHKK+/q/AWR0tJzYHRULOa4MP+W/HfGadZUbfw177G7j/OGbIs8TahLyynl4X4RinF793Oz+BU0saXtUHrVBFT/DnA3ctNPoGbs4hRIjTok8i+algT1lTHi4SxFvONKNrgQFAq2/gFnWMXgwffgYMJpiKYkmW3tTg3ZQ9Jq+f8XN+A5eeUKHWvJWJ2sgJ1Sop+wwhqFVijqWaJhwtD8MNlSBeWNNWTa5Z5kPZw5+LbVT99wqTdx29lMUH4OIG/D86ruKEauBjvH5xy6um/Sfj7ei6UUVk4AIl3MyD4MSSTOFgSwsH/QJWaQ5as7ZcmgBZkzjjU1UrQ74ci1gWBCSGHtuV1H2mhSnO3Wp/3fEV5a+4wz//6qy8JxjZsmxxy5+4w9CDNJY09T072iKG0EnOS0arEYgXqYnXcYHwjTtUNAcMelOd4xpkoqiTYICWFq0JSiPfPDQdnt+4/wuqcXY47QILbgAAAABJRU5ErkJggg==)":void 0},f);return c.createElement(O.Z,lp({className:(0,n.Z)(d.root),style:A},p),c.createElement(O.Z,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},r&&c.createElement(O.Z,{className:(0,n.Z)(d.button),onClick:r},c.createElement(Uf,S,"+")),i&&c.createElement(O.Z,{className:(0,n.Z)(d.button),onClick:i},c.createElement(Uf,S,"X")),c.createElement(O.Z,{flex:1}),c.createElement(Bf,{clocks:t,lcdStyle:S,selectedClockId:u,onClick:o}),c.createElement(O.Z,{flex:1}),c.createElement(O.Z,{className:(0,n.Z)(d.button),onClick:a},c.createElement(Uf,S,c.createElement(Cf.Z,{style:{fontSize:12}})))),c.createElement(O.Z,{ref:m,flex:1,overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center"},c.createElement(Yf,lp({clockId:u,height:x,variant:"14segment"},S))))};vp.propTypes={clocks:i().arrayOf(i().shape({id:i().string,label:i().string})),id:i().string,preset:i().number,onAdd:i().func,onClockSelected:i().func,onNextPreset:i().func,onRemove:i().func,selectedClockId:i().string,hideInactiveSegmentsOnDarkLCD:i().bool,style:i().object},vp.defaultProps={preset:0};const gp=(0,s.$j)((function(e,t){return{clocks:rp(e),preset:tp(e,t.id),selectedClockId:ep(e,t.id),hideInactiveSegmentsOnDarkLCD:(0,Yt.nx)(e)}}),(function(e,t){return{onClockSelected:function(r){e((0,ap.Ft)({clockId:r,id:t.id}))},onNextPreset:function(){var r;e((r=t.id,function(e,t){var n,o=t().lcdClock.byId[r],a=o?o.preset:-1;e((0,ap.AL)({id:r,preset:(n=a,(n+1)%qf)}))}))}}}))(vp);var bp=(0,Ot.Z)((function(){return{root:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"}}}),{name:"LCDClockPanel"}),wp=function(e){var t=e.addClockDisplay,r=e.ids,o=e.removeClockDisplay,a=bp();return c.createElement(O.Z,{className:(0,n.Z)(a.root)},(r||[]).map((function(e,r){return c.createElement(gp,{key:e,id:e,flex:1,onAdd:0===r?t:null,onRemove:0===r?null:function(){return o(e)}})})))};wp.propTypes={ids:i().arrayOf(i().string),addClockDisplay:i().func,removeClockDisplay:i().func},wp.defaultProps={};const Ep=(0,s.$j)((function(e){return{ids:e.lcdClock.order}}),{addClockDisplay:function(){return function(e,t){var r=t();e((0,ap.YZ)({clockId:np(r),preset:op(r)}))}},removeClockDisplay:ap.cs})(wp);var Sp=r(55651),Op=r(32467),xp=["children","className","color","dense","icon"];function Ap(e){return Ap="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(e)}function jp(){return jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jp.apply(this,arguments)}function kp(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Pp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Cp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pp(Object(r),!0).forEach((function(t){Tp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Tp(e,t,r){var n;return n=function(e,t){if("object"!=Ap(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ap(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ap(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ip=(0,Ot.Z)((function(e){return{icon:{fontSize:"48px"},root:function(t){var r=t.color,n=t.dense,o=Vn()(r);return Cp(Cp({},e.typography.button),{},{backgroundColor:r,borderRadius:e.spacing(.5),boxShadow:e.shadows[2],boxSizing:"border-box",color:o.isLight()?"rgba(0, 0, 0, 0.87)":"rgba(255, 255, 255, 0.87)",flexDirection:"column",padding:e.spacing(1,n?1:3),textDecoration:"none",transition:e.transitions.create(["background-color","box-shadow"],{duration:e.transitions.duration.short}),"&:hover":{backgroundColor:o.darken(.16).string(),boxShadow:e.shadows[4]}})}}}),{name:"ColoredButton"}),Lp=function(e){var t=e.children,r=e.className,o=e.color,a=e.dense,i=e.icon,l=kp(e,xp),u=Ip({color:o,dense:a});return c.createElement(Op.Z,jp({focusRipple:!0,className:(0,n.Z)(r,u.root)},l),i&&c.createElement("div",{className:u.icon},i),c.createElement("div",{className:u.label},t))};Lp.propTypes={children:i().oneOfType([i().node,i().arrayOf(i().node)]),className:i().string,color:i().string,dense:i().bool,icon:i().node};const _p=Lp;function Zp(e){return e.lightControl.active}function Np(e){return e.lightControl.color}var Rp=r(34190),Dp=r(25161);function Fp(e){return Fp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fp(e)}function Mp(){Mp=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==Fp(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(Fp(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function Up(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Gp(e,t){return Vp.apply(this,arguments)}function Vp(){var e;return e=Mp().mark((function e(t,r){var n,o,a;return Mp().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r(),o=Zp(n),a=Np(n),e.prev=3,e.next=6,bn.Z.execute.setShowLightConfiguration({effect:o?"solid":"off",color:Vn()(a).rgb().array()});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),t((0,Dp.c)({message:"Failed to update light configuration on the server.",semantics:wu.j.ERROR}));case 11:case"end":return e.stop()}}),e,null,[[3,8]])})),Vp=function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Up(a,n,o,i,c,"next",e)}function c(e){Up(a,n,o,i,c,"throw",e)}i(void 0)}))},Vp.apply(this,arguments)}var Bp=["color","label","onClick"];function Wp(){return Wp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wp.apply(this,arguments)}function zp(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Hp=function(e){var t=e.color,r=e.label,n=e.onClick,o=zp(e,Bp);return c.createElement(_p,Wp({dense:!0,color:t},o,{onClick:n?function(){return n(t)}:void 0}),r)};Hp.propTypes={color:i().string,label:i().string,onClick:i().func},Hp.defaultProps={label:"\xa0"};var Yp=(0,Ot.Z)((function(e){return{root:{display:"flex",flex:1,flexDirection:"column",height:"100%",padding:e.spacing(1),"& .react-colorful":{borderRadius:e.shape.borderRadius,width:"100%"},"& .react-colorful__saturation":{borderRadius:"".concat(e.shape.borderRadius,"px ").concat(e.shape.borderRadius,"px 0 0")},"& .react-colorful__last_control":{borderRadius:"0 0 ".concat(e.shape.borderRadius,"px ").concat(e.shape.borderRadius,"px")}},grid:{display:"grid",gridTemplateColumns:"repeat(6, 1fr)",gridGap:e.spacing(.5)},picker:{flex:1,padding:e.spacing(1,0)},textField:{background:e.palette.action.hover,border:"none",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,padding:e.spacing(1),textAlign:"center",textTransform:"uppercase","&:focus":{outline:"none"}}}}),{name:"LightControlGrid"}),qp=function(e){var t=e.color,r=e.onSetColor,n=e.onSetColorAndActivate,o=Yp();return c.createElement(O.Z,{className:o.root},c.createElement(O.Z,{className:o.grid},c.createElement(Hp,{color:"#000000",label:"All off",style:{gridColumn:"1 / span 2"},onClick:n}),c.createElement(Hp,{color:"#404040",label:"25%",onClick:n}),c.createElement(Hp,{color:"#808080",label:"50%",onClick:n}),c.createElement(Hp,{color:"#ffffff",label:"All on",style:{gridColumn:"5 / span 3"},onClick:n}),c.createElement(Hp,{color:"#ff0000",onClick:n}),c.createElement(Hp,{color:"#ffff00",onClick:n}),c.createElement(Hp,{color:"#00ff00",onClick:n}),c.createElement(Hp,{color:"#00ffff",onClick:n}),c.createElement(Hp,{color:"#0000ff",onClick:n}),c.createElement(Hp,{color:"#ff00ff",onClick:n})),c.createElement(Sp.gW,{className:o.picker,color:t,onChange:r}),c.createElement(Sp.ZE,{prefixed:!0,className:o.textField,color:t,onChange:r}))};qp.propTypes={color:i().string,onSetColor:i().func,onSetColorAndActivate:i().func};const $p=(0,s.$j)((function(e){return{color:Np(e)}}),{onSetColor:function(e){return function(t,r){var n=Zp(r());t((0,Rp.vk)(e)),n&&Gp(t,r)}},onSetColorAndActivate:function(e){return function(t,r){t((0,Rp.vk)(e)),t((0,Rp.__)(!0)),Gp(t,r)}}})(qp);var Kp=function(e){var t=e.active,r=e.connected,n=e.onToggle,o=e.t;return c.createElement(lt.Z,{button:!0,disabled:!r,onClick:r?n:void 0},c.createElement(ft.Z,{checked:t&&r}),c.createElement(st.Z,{primary:o(r?t?"lightControl.fromGCS":"lightControl.notFromGCS":"lightControl.notConnected"),secondary:r?t?"Click to restore default light program":"Click to take control":"Connect to a server to control lights"}))};Kp.propTypes={active:i().bool,connected:i().bool,onToggle:i().func,t:i().func};const Xp=(0,s.$j)((function(e){return{active:Zp(e),connected:(0,tn.Mb)(e)}}),{onToggle:function(){return function(e,t){var r=Zp(t());e((0,Rp.__)(!r)),Gp(e,t)}}})((0,h.Zh)()(Kp));const Qp=function(){return c.createElement(O.Z,{display:"flex",flexDirection:"column",height:"100%",id:"tour-light-control",overflow:"hidden"},c.createElement(ct.Z,{dense:!0},c.createElement(Xp,null)),c.createElement(nl.Z,null),c.createElement($p,null))};var Jp=(0,Ge.createSelector)((function(e){return e.savedLocations}),Re.vA),ed=(0,Ge.createSelector)((function(e){return e.map.view}),(function(e){return(0,ke.VM)(e)}),(function(e,t){return{center:{lon:e.position[0].toFixed(6),lat:e.position[1].toFixed(6)},rotation:t,zoom:Math.round(e.zoom)}})),td=function(e){return e.dialogs.savedLocationEditor.editedLocationId},rd=function(e){return e.dialogs.savedLocationEditor.dialogVisible},nd=r(82985),od=r(66409);function ad(e){return ad="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(e)}function id(){id=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==ad(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(ad(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function cd(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}nd.N.addSavedLocation;var ld=nd.N.createNewSavedLocation,ud=nd.N.deleteSavedLocation,sd=nd.N.updateSavedLocation,fd=od.N.editSavedLocation,pd=od.N._cancelLocationEditing,dd=od.N._closeSavedLocationEditorDialog,yd=function(){return function(){var e,t=(e=id().mark((function e(t,r){return id().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(dd()),e.next=3,(0,Ur.ZP)(1e3);case 3:rd(r())||t(pd());case 4:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){cd(a,n,o,i,c,"next",e)}function c(e){cd(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e,r){return t.apply(this,arguments)}}()};function hd(e){return function(e){if(Array.isArray(e))return md(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return md(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return md(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function md(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var vd=function(e){var t=e.location,r=e.onEditItem,n=t.id,o=t.name,a=c.createElement(of.kR,{content:"Edit location"},c.createElement(W.Z,{edge:"end",onClick:function(){return r(n)}},c.createElement(Qo.Z,null)));return c.createElement(lt.Z,{button:!0,onClick:function(){return(0,ss.Kc)(t.center,{rotation:t.rotation,zoom:t.zoom})}},c.createElement(st.Z,{primary:o}),c.createElement(os.Z,null,a))};vd.propTypes={onEditItem:i().func.isRequired,location:i().object.isRequired};var gd=function(e){return c.createElement(lt.Z,{key:"__addNew__",button:!0,onClick:e.onNewItem},c.createElement(st.Z,{primary:"Add new location"}))},bd=(0,is.P7)((function(e,t){return c.createElement(vd,{key:e.id,location:e,onEditItem:t.onEditItem})}),{dataProvider:"savedLocations",backgroundHint:"No saved locations",postprocess:function(e,t){return[gd(t)].concat(hd(e))}});bd.displayName="LocationListPresentation";const wd=(0,s.$j)((function(e){return{dense:!0,savedLocations:Jp(e)}}),(function(e){return{onEditItem:function(t){e(fd(t))},onNewItem:function(){var t=ld();e(t),t.id&&e(fd(t.id))}}}))(bd);var Ed=r(18127),Sd=r(36943),Od=r(26246),xd=r(33758),Ad=r(21673),jd=r(96630),kd=r(15406),Pd=r(4662),Cd=r(41929),Td=r(67531);function Id(e){return Id="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(e)}var Ld=["children","direction","in","onEnter","onExit","style","timeout"];function _d(){return _d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_d.apply(this,arguments)}function Zd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Nd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zd(Object(r),!0).forEach((function(t){Rd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Rd(e,t,r){var n;return n=function(e,t){if("object"!=Id(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Id(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Id(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dd(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Fd={up:{entering:{opacity:1,transform:"translateY(0)"},entered:{opacity:1,transform:"translateY(0)"},exiting:{opacity:0,transform:"translateY(-16px)"},exited:{opacity:0,transform:"translateY(16px)"}},left:{entering:{opacity:1,transform:"translateX(0)"},entered:{opacity:1,transform:"translateX(0)"},exiting:{opacity:0,transform:"translateX(-16px)"},exited:{opacity:0,transform:"translateX(16px)"}}},Md={enter:kd.duration.enteringScreen,exit:kd.duration.leavingScreen},Ud=c.forwardRef((function(e,t){var r=e.children,n=e.direction,o=e.in,a=e.onEnter,i=e.onExit,l=e.style,u=e.timeout,s=void 0===u?Md:u,f=Dd(e,Ld),p=(0,Pd.Z)(),d=(0,Td.Z)(r.ref,t),y=Fd[n];return c.createElement(jd.default,_d({in:o,timeout:s,onEnter:function(e,t){(0,Cd.nq)(e);var r=(0,Cd.CS)({style:l,timeout:s},{mode:"enter"});e.style.webkitTransition=p.transitions.create(["opacity","transform"],r),e.style.transition=p.transitions.create(["opacity","transform"],r),a&&a(e,t)},onExit:function(e){var t=(0,Cd.CS)({style:l,timeout:s},{mode:"exit"});e.style.webkitTransition=p.transitions.create(["opacity","transform"],t),e.style.transition=p.transitions.create(["opacity","transform"],t),i&&i(e)}},f),(function(e,t){return c.cloneElement(r,Nd({style:Nd(Nd(Nd({visibility:"exited"!==e||o?void 0:"hidden"},y[e]),l),r.props.style),ref:d},t))}))}));Ud.propTypes={children:i().element,direction:i().oneOf(Object.keys(Fd)),in:i().bool,onEnter:i().func,onExit:i().func,style:i().object,timeout:i().oneOfType([i().number,i().shape({enter:i().number,exit:i().number})])},Ud.defaultProps={direction:"up"};const Gd=Ud;var Vd=r(2925);function Bd(e){return Bd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(e)}function Wd(e,t,r){var n;return n=function(e,t){if("object"!=Bd(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Bd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Bd(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var zd=Wd(Wd(Wd(Wd(Wd({},Vd.in.DEBUG,jt.Status.DEBUG),Vd.in.INFO,null),Vd.in.WARNING,jt.Status.WARNING),Vd.in.ERROR,jt.Status.ERROR),Vd.in.FATAL,jt.Status.FATAL);function Hd(e){return"success"===e.semantics?jt.Status.SUCCESS:(t=e.level)<=Vd.in.DEBUG?zd[Vd.in.DEBUG]:t<=Vd.in.INFO?zd[Vd.in.INFO]:t<=Vd.in.WARNING?zd[Vd.in.WARNING]:t<=Vd.in.ERROR?zd[Vd.in.ERROR]:t<=Vd.in.FATAL?zd[Vd.in.FATAL]:jt.Status.OFF;var t}var Yd=(0,Ot.Z)((function(e){return{root:{display:"flex",padding:e.spacing(0,1),alignItems:"stretch",borderBottom:"1px solid ".concat(e.palette.divider),cursor:"default","&:hover":{backgroundColor:e.palette.action.hover}},statusLight:{paddingTop:2,width:20},timestamp:{color:e.palette.text.secondary,paddingRight:e.spacing(1),width:56,textAlign:"right"},module:{color:e.palette.primary[500],overflow:"hidden",paddingRight:e.spacing(1),textOverflow:"ellipsis",width:96},auxiliaryId:{color:e.palette.text.secondary,overflow:"hidden",paddingRight:e.spacing(1),textOverflow:"ellipsis",width:80},moduleExtended:{color:e.palette.primary[500],overflow:"hidden",paddingRight:e.spacing(1),textOverflow:"ellipsis",width:176},message:{flex:1,overflow:"hidden",whiteSpace:"noWrap"}}})),qd=c.memo((function(e){var t,r=e.item,n=Hd(r),o=Yd();try{t=(0,$a.Z)(r.timestamp,"H:mm:ss")}catch(e){t="??:??:??"}return c.createElement("div",{className:o.root},c.createElement("div",{className:o.statusLight},n&&c.createElement(gu.default,{inline:!0,status:Hd(r)})),c.createElement("div",{className:o.timestamp},t),r.auxiliaryId?c.createElement(c.Fragment,null,c.createElement("div",{className:o.module},r.module),c.createElement("div",{className:o.auxiliaryId},r.auxiliaryId)):c.createElement("div",{className:o.moduleExtended},r.module),c.createElement("div",{className:o.message},r.message))}));qd.propTypes={item:i().shape({level:i().number,message:i().string,module:i().string,timestamp:i().number,auxiliaryId:i().string})};const $d=qd;function Kd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Qd=function(e,t){return c.createElement($d,{item:t})},Jd=(0,Ot.Z)((function(e){return{scrollToBottomButton:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)}}})),ey=function(e){var t=e.items,r=(0,c.useRef)(null),n=(0,c.useRef)(null),o=Kd((0,c.useState)(!0),2),a=o[0],i=o[1],l=Kd((0,c.useState)(!1),2),u=l[0],s=l[1],f=Jd(),p=(0,c.useCallback)((function(){r.current&&r.current.scrollToIndex({index:t.length,behaviour:"smooth"})}),[r,t]);return(0,c.useEffect)((function(){if(t&&t.length>0){var e=t[t.length-1].id;e!==n.current&&(a&&(s(!0),setTimeout(p,100),setTimeout((function(){return s(!1)}),500)),n.current=e)}else n.current=null}),[a,t,p]),c.createElement(c.Fragment,null,c.createElement(Od.OO,{ref:r,followOutput:!0,data:t,itemContent:Qd,atBottomStateChange:i}),c.createElement(Gd,{in:!a&&!u},c.createElement(xd.Z,{color:"secondary",size:"small",className:f.scrollToBottomButton,onClick:p},c.createElement(Ad.Z,null))))};ey.propTypes={items:i().array};const ty=ey;var ry=function(e){var t=e.items,r=e.updateLogPanelVisibility;return(0,Ed.Z)((function(){return r(!0),function(){return r(!1)}})),c.createElement(ty,{items:t})};ry.propTypes={items:i().array,updateLogPanelVisibility:i().func.isRequired};const ny=(0,s.$j)((function(e){return{items:e.log.items}}),{updateLogPanelVisibility:Sd.xy})(ry);var oy=r(52543),ay=r(18442),iy=["children"];function cy(e){return cy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cy(e)}function ly(){return ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ly.apply(this,arguments)}function uy(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function sy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yy(n.key),n)}}function fy(e,t){return fy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fy(e,t)}function py(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=dy(e);if(t){var o=dy(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===cy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function dy(e){return dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dy(e)}function yy(e){var t=function(e,t){if("object"!=cy(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=cy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cy(t)?t:String(t)}var hy,my,vy,gy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fy(e,t)}(a,e);var t,r,n,o=py(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e))._domNode=c.createRef(),t._endNode=c.createRef(),t}return t=a,(r=[{key:"componentDidMount",value:function(){this.scrollToBottom()}},{key:"componentDidUpdate",value:function(e,t,r){r&&r.shouldScrollToBottom&&this.scrollToBottom()}},{key:"getSnapshotBeforeUpdate",value:function(){var e=this._domNode.current;return{shouldScrollToBottom:e&&e.scrollTop+e.clientHeight>=e.scrollHeight-20}}},{key:"render",value:function(){var e=this.props,t=e.children,r=uy(e,iy);return c.createElement(O.Z,ly({ref:this._domNode,position:"relative",overflow:"auto",flex:"1 1 100%"},r),t,c.createElement("div",{ref:this._endNode}))}},{key:"scrollToBottom",value:function(){var e=this._endNode.current;e&&e.scrollIntoView({behaviour:"smooth"})}}])&&sy(t.prototype,r),n&&sy(t,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(c.Component);hy=gy,my="propTypes",vy={children:i().oneOfType([i().arrayOf(i().node),i().node]),style:i().object},(my=yy(my))in hy?Object.defineProperty(hy,my,{value:vy,enumerable:!0,configurable:!0,writable:!0}):hy[my]=vy;var by=r(41428),wy=r(96230),Ey=r(97188),Sy=(0,Ot.Z)((function(e){return{root:{margin:e.spacing(.25,0,0,0),display:"flex",alignItems:"flex-start",width:"100%"},bubble:{position:"relative",borderRadius:5,padding:e.spacing(.5,1),margin:e.spacing(.25,0,0,0),minHeight:e.spacing(1),overflowX:"auto","& pre":{margin:e.spacing(.5)}},ownBubble:{background:(0,jt.isThemeDark)(e)?wy.Z[400]:wy.Z[600],color:e.palette.getContrastText((0,jt.isThemeDark)(e)?wy.Z[400]:wy.Z[600])},otherBubble:{background:(0,jt.isThemeDark)(e)?Is.Z[900]:Is.Z[100],color:e.palette.getContrastText((0,jt.isThemeDark)(e)?Is.Z[900]:Is.Z[100]),"& .chat-meta":{textAlign:"right"},"&.severity-critical":{borderLeft:"3px solid ".concat((0,Wn.oM)(lc.zb.CRITICAL))},"&.severity-debug":{borderLeft:"3px solid ".concat((0,Wn.oM)(lc.zb.DEBUG))},"&.severity-error":{borderLeft:"3px solid ".concat((0,Wn.oM)(lc.zb.ERROR))},"&.severity-info":{borderLeft:"3px solid ".concat((0,Wn.oM)(lc.zb.INFO))},"&.severity-warning":{borderLeft:"3px solid ".concat((0,Wn.oM)(lc.zb.WARNING))}},meta:{fontSize:"smaller",margin:e.spacing(.5,0,0,0),textAlign:"left","& .author":{fontWeight:"bold",color:e.palette.text.secondary},"& .date":{color:e.palette.text.hint,float:"right"}}}}),{name:"ChatBubble"}),Oy=function(e){var t=e.author,r=e.body,o=e.date,a=e.leftComponent,i=e.own,l=e.raw,u=e.rightComponent,s=e.severity,f=e.showMeta,p=Sy(),d=o&&f&&c.createElement("span",{className:"date"},o),y=a&&c.createElement("div",{style:{flex:0}},a),h=u&&c.createElement("div",{style:{flex:0}},u),m=(0,n.Z)(p.bubble,i?p.ownBubble:p.otherBubble,s&&"severity-".concat(s)),v=c.createElement("div",{className:m},l?c.createElement(by.Lu,{content:r}):r);return c.createElement("div",{className:(0,n.Z)(p.root,i?p.own:p.other)},y,c.createElement("div",{style:{flex:1,maxWidth:"100%"}},f&&c.createElement("div",{className:p.meta},c.createElement("span",{className:"author"},t)," ",d),v),h)};Oy.propTypes={author:i().string,body:i().string,date:i().string,own:i().bool,raw:i().bool,leftComponent:i().oneOfType([i().node,i().arrayOf(i().node)]),rightComponent:i().oneOfType([i().node,i().arrayOf(i().node)]),severity:Ey.Z.severity,showMeta:i().bool},Oy.defaultProps={author:"Anonymous",body:"",own:!0};const xy=Oy;var Ay=(0,Ot.Z)((function(e){return{root:{margin:e.spacing(.5,0),"& .date":{color:e.palette.text.secondary}},"level-error":{"& .message":{fontWeight:"bold",color:e.palette.error.main}},"level-warning":{"& .message":{fontWeight:"bold",color:e.palette.warning.main}}}})),jy=function(e){var t=e.date,r=e.level,o=e.message,a=Ay(),i=(0,n.Z)(a.root,a["level-".concat(r)]||a["level-info"]),l=t&&c.createElement("span",{className:"date"},c.createElement(Ki.Z,{date:t}));return c.createElement("div",{className:i},c.createElement("span",{className:"message"},o)," ",l)};jy.propTypes={level:i().string,message:i().string,date:i().instanceOf(Date)},jy.defaultProps={level:"info",message:""};const ky=jy;var Py=["history","onEscape","onSubmit"];function Cy(){return Cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cy.apply(this,arguments)}function Ty(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Iy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Iy(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Iy(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ly(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var _y=c.forwardRef((function(e,t){var r=e.history,n=e.onEscape,o=e.onSubmit,a=Ly(e,Py),i=Ty((0,c.useState)(""),2),l=i[0],u=i[1],s=(0,c.useCallback)((function(e){u(e.target.value)}),[u]),f=Ty((0,c.useState)(0),2),p=f[0],d=f[1];(0,c.useEffect)((function(){var e;u(null!==(e=r[r.length-p])&&void 0!==e?e:"")}),[r,p]);var y=(0,c.useCallback)((function(e){switch(e.key){case"Enter":l.length>0&&(o(l),u(""),d(0));break;case"Escape":n(e);break;case"ArrowUp":d((function(e){return Math.min(e+1,r.length)}));break;case"ArrowDown":d((function(e){return Math.max(e-1,0)}))}}),[r,l,n,o]),h=(0,c.useCallback)((function(e){e.relatedTarget&&(e.relatedTarget.focusRestorationTarget=e.target)}),[]);return c.createElement(z.Z,Cy({ref:t,value:l,onBlur:h,onChange:s,onKeyDown:y},a))}));_y.propTypes={history:i().arrayOf(i().string),onEscape:i().func,onSubmit:i().func};const Zy=_y;var Ny=function(e){return e.messages.commandHistory},Ry=r(80684),Dy=(r(48324),r(54169)),Fy=r(36378),My=r(23006);function Uy(e){(0,Fy.Z)(e)&&(e={type:"plain",data:e});var t=e,r=t.type,n=t.data;switch(r){case"plain":return(0,Dy.Z)((0,My.Z)(n));case"preformatted":return"<pre>"+(0,Dy.Z)((0,My.Z)(n))+"</pre>";default:return(0,Dy.Z)(JSON.stringify(e,null,2))}}var Gy=r(75531);function Vy(e){return Vy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vy(e)}var By=["hasSelectedUAV","textFieldPlacement"];function Wy(){Wy=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==Vy(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(Vy(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function zy(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Hy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jy(n.key),n)}}function qy(e,t){return qy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qy(e,t)}function $y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Xy(e);if(t){var o=Xy(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Vy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ky(e)}(this,r)}}function Ky(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xy(e){return Xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xy(e)}function Qy(e,t,r){return(t=Jy(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jy(e){var t=function(e,t){if("object"!=Vy(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Vy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Vy(t)?t:String(t)}function eh(){return eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eh.apply(this,arguments)}function th(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function rh(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="message".concat(e.id),o=!e.responseId,a="number"==typeof(null==e?void 0:e.date),i=a?(t=e.date,(0,$a.Z)(t,"H:mm")):"",l=null==e?void 0:e.author,u=a&&Math.abs(r.date-e.date)<500,s=r.author!==l||r.formattedDate!==i&&!u;switch(r.author=l,r.date=null==e?void 0:e.date,u||(r.formattedDate=i),e.type){case lc.Cs.OUTBOUND:return[c.createElement(xy,{key:n,own:!0,showMeta:s,author:l,raw:e.raw,date:i,body:e.body,severity:e.severity,rightComponent:!!o&&c.createElement(bt.Z,{size:30,thickness:3.5,style:{margin:"14px 8px"},value:e.percentage,variant:void 0!==e.percentage?"determinate":"indeterminate"})})];case lc.Cs.INBOUND:return[c.createElement(xy,{key:n,showMeta:s,author:l,own:!1,raw:e.raw,date:i,body:e.body,severity:e.severity})];case lc.Cs.ERROR:return[c.createElement(ky,{key:n+"Marker",level:"error",message:e.body})];default:return[c.createElement(ky,{key:n+"Marker",level:"error",message:"Invalid message type: ".concat(e.type)})]}}var nh=function(e){var t=e.hasSelectedUAV,r=e.textFieldPlacement,n=th(e,By);return t?c.createElement(Ao.Z,eh({key:"backgroundHint",header:"No messages",text:"Send a message to the selected UAV using the text box ".concat("bottom"===r?"below":"above")},n)):c.createElement(Ao.Z,eh({key:"backgroundHint",header:"No UAV selected",text:"Select the UAV to send messages to"},n))};nh.propTypes={hasSelectedUAV:i().bool,textFieldPlacement:i().oneOf(["bottom","top"])};var oh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qy(e,t)}(i,e);var t,r,o,a=$y(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Qy(Ky(e=a.call(this)),"_onSubmit",(function(t){e.props.onSend(t),e.scrollToBottom()})),e._chatAreaRef=c.createRef(),e._messageFieldRef=c.createRef(),e._messageFieldContainerRef=c.createRef(),e._uavSelectorFieldRef=c.createRef(),e.focusOnTextField=e.focusOnTextField.bind(Ky(e)),e}return t=i,r=[{key:"focusOnUAVSelectorField",value:function(){this._uavSelectorFieldRef.current&&this._uavSelectorFieldRef.current.focus()}},{key:"focusOnTextField",value:function(){this._messageFieldRef.current&&this._messageFieldRef.current.focus()}},{key:"render",value:function(){var e=this,t=this.props,r=t.chatEntries,o=t.classes,a=t.commandHistory,i=t.hideClearButton,l=t.onClearMessages,u=t.optimizeUIForTouch,s=t.style,f=t.textFieldPlacement,p=t.uavId,d={},y=r.map((function(e){return rh(e,d)})),h=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hy(Object(r),!0).forEach((function(t){Qy(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hy(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({display:"flex",flexDirection:"column",height:"100%"},s),m=y.length>0?c.createElement(gy,{key:"chatArea",ref:this._chatAreaRef,px:2,pt:2},y):c.createElement(nh,{key:"chatAreaBackgroundHint",hasSelectedUAV:!(0,Ue.default)(p),textFieldPlacement:f,p:1}),v=l&&!i,g=c.createElement(O.Z,{ref:this._messageFieldContainerRef,key:"textFieldContainer",display:"flex",alignItems:"baseline",className:(0,n.Z)("bottom-bar",o.noFocusOutline),pb:2,pl:2,pr:v?0:2,tabIndex:"-1",onKeyDown:function(t){"Enter"===t.code&&e._messageFieldRef.current.focus()}},c.createElement(Zy,{fullWidth:!0,autoFocus:!u,history:a,inputRef:this._messageFieldRef,onSubmit:this._onSubmit,onEscape:function(t){e._messageFieldContainerRef.current.focus(),t.stopPropagation()}}),v&&c.createElement(W.Z,{disabled:0===y.length,style:{transform:"translateY(8px)"},onClick:l},c.createElement(ay.Z,null))),b="bottom"===f?[m,g]:[g,m];return c.createElement("div",{style:h},b)}},{key:"scrollToBottom",value:function(){this._chatAreaRef.current&&this._chatAreaRef.current.scrollToBottom()}}],r&&Yy(t.prototype,r),o&&Yy(t,o),Object.defineProperty(t,"prototype",{writable:!1}),i}(c.Component);Qy(oh,"propTypes",{chatEntries:i().arrayOf(i().object),classes:i().object,commandHistory:i().arrayOf(i().string),hideClearButton:i().bool,onClearMessages:i().func,onSend:i().func,optimizeUIForTouch:i().bool,style:i().object,textFieldPlacement:i().oneOf(["bottom","top"]),uavId:i().string}),Qy(oh,"defaultProps",{textFieldPlacement:"bottom"});const ah=(0,s.$j)((function(){var e=(0,Ge.createSelector)((function(e){return e.messages}),(function(e,t){return e.messages.uavIdsToMessageIds?e.messages.uavIdsToMessageIds[t]:void 0}),(function(e,t){return t&&0!==t.length?(0,Re.vA)((0,Re.HP)(e,t)):Xr.LZ}));return function(t,r){return{chatEntries:e(t,r.uavId),commandHistory:Ny(t),optimizeUIForTouch:(0,Yt.f8)(t)}}}),(function(e,t){return{onClearMessages:function(){e((0,Ry.gY)(t.uavId))},onSend:function(r){return(n=Wy().mark((function n(){var o,a,i,c,l,u,s,f,p,d;return Wy().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=t.uavId){n.next=3;break}return n.abrupt("return");case 3:return a=(0,Ry.hJ)({message:r,uavId:o}),e(a),i=(0,Gy.sm)(r),c=i.command,l=i.args,u=i.kwds,s=a.messageId,n.prev=7,n.next=10,bn.Z.sendCommandRequest({uavId:o,command:c,args:l,kwds:u},{onProgress:function(t){var r=t.progress,n=t.suspended;e((0,Ry.J0)({messageId:s,progress:r,suspended:n}))}});case 10:f=n.sent,p=Uy(f),e((0,Ry.WT)({message:p,uavId:o,refs:s})),n.next=19;break;case 15:n.prev=15,n.t0=n.catch(7),d=n.t0.userMessage||n.t0.message,e((0,Ry.Iw)({message:d,uavId:o,refs:s}));case 19:case"end":return n.stop()}}),n,null,[[7,15]])})),function(){var e=this,t=arguments;return new Promise((function(r,o){var a=n.apply(e,t);function i(e){zy(a,r,o,i,c,"next",e)}function c(e){zy(a,r,o,i,c,"throw",e)}i(void 0)}))})();var n}}}),null,{forwardRef:!0})((0,oy.Z)({noFocusOutline:{"&:focus":{outline:"none"}}})(oh)),ih=(0,s.$j)((function(e){return{uavId:(0,ro.fL)(e)}}),{})(ah);var ch=r(97604),lh=r(28703),uh=r(79697),sh=r(59978),fh={selectShowFile:{evaluate:function(e){return(0,lh.K8)(e)?Pc.q.SKIPPED:(0,lh.yf)(e)?Pc.q.ERROR:(0,lh.Eg)(e)?Pc.q.SUCCESS:(0,lh.D$)(e)?Pc.q.WAITING:Pc.q.OFF}},setupEnvironment:{evaluate:function(e){return(0,lh.Eg)(e)&&((0,lh.a0)(e)||(0,lh.rQ)(e))},requires:["selectShowFile"]},setupTakeoffArea:{evaluate:function(e){return(0,lh.B2)(e)?(0,uh.Z)((0,tc.G7)(e))&&(0,uh.Z)((0,ro.qx)(e))?Pc.q.SUCCESS:Pc.q.SKIPPED:Pc.q.OFF},requires:["setupEnvironment"]},setupGeofence:{evaluate:function(e){return(0,lh.be)(e)&&(0,tc.pw)(e)?(0,lh.Vq)(e)?(0,tc.Q8)(e):Pc.q.ERROR:Pc.q.OFF},requires:["selectShowFile","setupEnvironment"]},uploadShow:{evaluate:function(e){var t=Il(e,sh.oe);return"error"===t?Pc.q.ERROR:"cancelled"===t?Pc.q.SKIPPED:"success"===t?Pc.q.SUCCESS:Pc.q.OFF},requires:["selectShowFile","setupEnvironment",tc.rs]},waitForOnboardPreflightChecks:{evaluate:function(e){return(0,lh.Uc)(e)?(0,ro.jt)(e)?Pc.q.SUCCESS:Pc.q.SKIPPED:Pc.q.OFF},requires:["uploadShow"]},performManualPreflightChecks:{evaluate:function(e){return(0,lh.zk)(e)||!tt(e)?Je(e)?Pc.q.SUCCESS:Pc.q.SKIPPED:Pc.q.OFF},requires:["uploadShow"]},setupStartTime:{evaluate:function(e){return(0,lh.k_)(e)?Pc.q.ERROR:(0,lh.Vr)(e)?(0,lh.$C)(e)?Pc.q.SUCCESS:Pc.q.OFF:(0,tn.Mb)(e)?Pc.q.WAITING:Pc.q.OFF},requires:["selectShowFile"],suggests:["waitForOnboardPreflightChecks","performManualPreflightChecks"]},authorization:{evaluate:function(e){return(0,lh.Aw)(e)?Pc.q.SUCCESS:(0,lh.k_)(e)?Pc.q.ERROR:(0,lh.ce)(e)?Pc.q.WAITING:Pc.q.OFF},requires:["waitForOnboardPreflightChecks","performManualPreflightChecks"]}},ph=["selectShowFile","setupEnvironment","setupTakeoffArea","setupGeofence","uploadShow","waitForOnboardPreflightChecks","performManualPreflightChecks","setupStartTime","authorization"],dh=function(e,t,r){return(t||[]).every((function(t){return"function"==typeof t?t(r):(n=e[t])===Pc.q.SUCCESS||n===Pc.q.SKIPPED;var n}))},yh=function(e){for(var t={},r=0,n=ph;r<n.length;r++){var o=n[r],a=fh[o],i=void 0;dh(t,a.requires,e)?("boolean"==typeof(i=a.evaluate(e))&&(i=i?Pc.q.SUCCESS:Pc.q.OFF),i===Pc.q.OFF&&(i=dh(t,a.suggests,e)?Pc.q.NEXT:Pc.q.OFF)):i=Pc.q.OFF,t[o]=i}return t},hh=["isAuthorized","numUAVsTakingOffAutomatically","status","t"];function mh(){return mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mh.apply(this,arguments)}function vh(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var gh=function(e){var t=e.isAuthorized,r=e.numUAVsTakingOffAutomatically,n=e.status,o=e.t,a=vh(e,hh);return c.createElement(lt.Z,mh({button:!0,selected:t},a),c.createElement(gu.default,{status:t&&n===Pc.q.OFF?Pc.q.SKIPPED:n}),c.createElement(st.Z,{disableTypography:!0,primary:c.createElement(x.Z,{variant:"button"},t?o("show.authorized","Show authorized to start"):o("show.authorizeTheStart","Authorize start of show")),secondary:c.createElement(x.Z,{variant:"body2",color:"textSecondary"},t?r<=0?o("show.revokeAuthorization","Click here to revoke authorization"):1===r?o("show.takeOffOne","One drone will take off automatically"):o("show.takeOffMore",{quantity:r}):o("show.authorizationReq","Authorization required before takeoff"))}))};gh.propTypes={isAuthorized:i().bool,numUAVsTakingOffAutomatically:i().number,status:i().oneOf(Object.values(Pc.q)),t:i().func};const bh=(0,s.$j)((function(e){return{isAuthorized:(0,lh.ce)(e),numUAVsTakingOffAutomatically:(0,lh.b6)(e),status:yh(e).authorization}}),{onClick:function(){return function(e,t){var r=t(),n=!(0,lh.ce)(r);e((0,ch.YN)(n)),e((0,ch.B8)("toServer")),n&&e((0,ec.rE)(r))}}})((0,h.Zh)()(gh));var wh=r(43484);function Eh(e){return function(e){if(Array.isArray(e))return Sh(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Sh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sh(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Oh=[0,1,2],xh=function(e){var t=e.onChange,r=e.value,n=Oh.map((function(e){return function(n){if(t){var o=Number.parseFloat(n.target.value);if(!Number.isNaN(o)){var a=Eh(r);a[e]=o,t(a)}}}}));return c.createElement(O.Z,{display:"flex",flexDirection:"row"},c.createElement(wh.vd,{label:"X",value:r[0],onChange:n[0]}),c.createElement(O.Z,{p:1}),c.createElement(wh.vd,{label:"Y",value:r[1],onChange:n[1]}),c.createElement(O.Z,{p:1}),c.createElement(wh.vd,{label:"Z",value:r[2],onChange:n[2]}))};xh.propTypes={value:i().arrayOf(i().number),onChange:i().func};const Ah=xh;var jh=r(27799),kh=function(e){var t=e.roomVisible,r=e.firstCorner,n=e.secondCorner,o=e.onRoomVisibilityChanged,a=e.onFirstCornerChanged,i=e.onSecondCornerChanged;return c.createElement(R.Z,null,c.createElement(U.Z,null,"Coordinates of the corners of the room"),c.createElement(Ah,{value:r,onChange:a}),c.createElement(O.Z,{p:1}),c.createElement(Ah,{value:n,onChange:i}),c.createElement(O.Z,{p:1}),c.createElement(N.Z,{label:"Room visible in 3D view",control:c.createElement(_.Z,{checked:Boolean(t),onChange:o})}))};kh.propTypes={roomVisible:i().bool,firstCorner:i().arrayOf(i().number),secondCorner:i().arrayOf(i().number),onFirstCornerChanged:i().func,onSecondCornerChanged:i().func,onRoomVisibilityChanged:i().func};const Ph=(0,s.$j)((function(e){var t=(0,lh.c2)(e);return{firstCorner:t[0],secondCorner:t[1],roomVisible:(0,lh.oe)(e)}}),{onRoomVisibilityChanged:function(e){return(0,ch.vj)(e.target.checked)},onFirstCornerChanged:jh.hx,onSecondCornerChanged:jh.ae})(kh);var Ch=r(60503),Th=r(12662),Ih=r(29441),Lh=r(64409),_h=r(22702),Zh=r(43774);function Nh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Rh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dh(e){return function(e,t){for(var r,n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=t.takeoffCoordinates,i=t.uavGPSCoordinates,c=o.threshold,l=void 0===c?3:c,u=o.maxIterations,s=void 0===u?20:u,f=!1,p=function(){var t=new Y.kb(e),o=Gh(i,t),c=(0,Zh.x)(o,a,{distanceFunction:Zh.p});if((r=(0,_h.I)(c,{algorithm:"hungarian",threshold:l})).sort((function(e,t){return e[1]-t[1]})),(0,V.default)(r,n)&&(f=!0),0===r.length)throw new Error("Failed to find a sufficiently close matching between the drones and the takeoff positions");n&&(r.length<n.length||d===s-1)?r=n:n=r;var u=r.length,p=r.map((function(e){var t=Nh(e,2),r=t[0];t[1];return o[r]})),y=r.map((function(e){var t=Nh(e,2),r=(t[0],t[1]);return a[r]})),h=(0,Zh.Az)(p),m=(0,Zh.Az)(y);p=Uh(p,h),y=Uh(y,m);for(var v=[[0,0],[0,0]],g=0;g<u;g++){var b=p[g],w=y[g];v[0][0]+=b[0]*w[0],v[0][1]+=b[0]*w[1],v[1][0]+=b[1]*w[0],v[1][1]+=b[1]*w[1]}var E=(0,Lh.SVD)(v),S=[[E.u[0][0]*E.v[0][0]+E.u[0][1]*E.v[0][1],E.u[0][0]*E.v[1][0]+E.u[0][1]*E.v[1][1]],[E.u[1][0]*E.v[0][0]+E.u[1][1]*E.v[0][1],E.u[1][0]*E.v[1][0]+E.u[1][1]*E.v[1][1]]],O=(0,Zh.Ux)(Math.atan2(S[0][1],S[0][0])),x=Fh(h,Mh(m,O));e={origin:t.toLonLat([x[0],x[1]]),orientation:e.orientation+O,type:Th.COORDINATE_SYSTEM_TYPE}},d=0;d<s&&!f;d++)p();return e}(function(e){var t=e.uavGPSCoordinates,r=e.uavHeadings,n=e.takeoffCoordinates;if(0===t.length)throw new Error("There are no UAVs with GPS coordinates to work with");var o=(0,Zh.Az)(t),a=(0,Zh.Pn)(r),i=new Y.kb({origin:o,orientation:0,type:Th.COORDINATE_SYSTEM_TYPE}),c=Gh(t,i),l=(0,Zh.Az)(c),u=(0,Zh.Az)(n),s=Fh(l,Mh(u,a));return{origin:i.toLonLat(s),orientation:a,type:Th.COORDINATE_SYSTEM_TYPE}}(e),e)}function Fh(e,t){return[e[0]-t[0],e[1]-t[1]]}function Mh(e,t){var r=(0,Zh.Yr)(t),n=Math.cos(r),o=Math.sin(r);return[e[0]*n+e[1]*o,e[0]*-o+e[1]*n]}function Uh(e,t){return void 0===t&&(t=(0,Zh.Az)(e)),e.map((function(e){return Fh(e,t)}))}function Gh(e,t){return e.map((function(e){return t.fromLonLat(e)}))}function Vh(e){return(0,lh.be)(e)&&(0,ro.Xe)(e).length>0&&(0,lh.TV)(e)>0}var Bh=r(10951),Wh=r(21095),zh=r(11385);function Hh(e){return Hh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hh(e)}function Yh(e){return function(e){if(Array.isArray(e))return Jh(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Qh(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qh(){qh=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==Hh(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(Hh(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function $h(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Kh(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){$h(a,n,o,i,c,"next",e)}function c(e){$h(a,n,o,i,c,"throw",e)}i(void 0)}))}}function Xh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||Qh(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qh(e,t){if(e){if("string"==typeof e)return Jh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Jh(e,t):void 0}}function Jh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var em="__null__",tm={id:em,title:"RTK disabled"},rm=function(e){var t=e.onSourceChanged,r=Xh((0,c.useState)(),2),n=r[0],o=r[1],a=Xh((0,Bh.Z)(Kh(qh().mark((function e(){return qh().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bn.Z.query.getSelectedRTKPresetId());case 1:case"end":return e.stop()}}),e)})))),2),i=a[0],l=a[1],u=(0,Wh.Z)(Kh(qh().mark((function e(){return qh().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bn.Z.query.getRTKPresets());case 1:case"end":return e.stop()}}),e)}))),[]),s=u.loading||i.loading,f=u.error||i.error,p=u.value?u.value:[],d=void 0!==i.value,y=void 0!==i.value?null===i.value?em:i.value:void 0,h=p&&p.length>0,m=function(){var e=Kh(qh().mark((function e(r){return qh().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(r.target.value),t&&t();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){s||f||!h||void 0!==y||l()})),(0,c.useEffect)((function(){var e=!0;if(void 0!==n&&n!==y){var t=function(){var t=Kh(qh().mark((function t(){var r;return qh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n===em?null:n,t.prev=1,t.next=4,bn.Z.execute.setRTKCorrectionsSource(r);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1);case 9:t.prev=9,e&&(o(void 0),l()),t.next=17;break;case 13:throw t.prev=13,t.t1=t.catch(9),t.t1;case 17:case"end":return t.stop()}}),t,null,[[1,6],[9,13]])})));return function(){return t.apply(this,arguments)}}();t()}return function(){e=!1}}),[l,n,y,o]),c.createElement(R.Z,null,c.createElement(Z.Z,{variant:"filled",error:f&&!s},c.createElement(D.Z,{htmlFor:"rtk-corrections"},"RTK corrections"),c.createElement(M.Z,{displayEmpty:!0,disabled:Boolean(f||s||!h),value:n||(d?y:em),inputProps:{id:"rtk-corrections"},onChange:m},u.loading?c.createElement(F.Z,{disabled:!0,value:em},"Please wait, loading RTK sources..."):f?c.createElement(F.Z,{disabled:!0,value:em},"Error while loading RTK sources from server"):h?[tm].concat(Yh(p)).map((function(e){return c.createElement(F.Z,{key:e.id,value:e.id},e.title)})):c.createElement(F.Z,{disabled:!0,value:"__null__"},"No RTK data sources on server"))))};rm.propTypes={onSourceChanged:i().func};const nm=(0,s.$j)(null,{onSourceChanged:zh.aO})(rm),om=(0,Vi.Z)(c.createElement("path",{d:"M7.5,5.6L5,7L6.4,4.5L5,2L7.5,3.4L10,2L8.6,4.5L10,7L7.5,5.6M19.5,15.4L22,14L20.6,16.5L22,19L19.5,17.6L17,19L18.4,16.5L17,14L19.5,15.4M22,2L20.6,4.5L22,7L19.5,5.6L17,7L18.4,4.5L17,2L19.5,3.4L22,2M13.34,12.78L15.78,10.34L13.66,8.22L11.22,10.66L13.34,12.78M14.37,7.29L16.71,9.63C17.1,10 17.1,10.65 16.71,11.04L5.04,22.71C4.65,23.1 4,23.1 3.63,22.71L1.29,20.37C0.9,20 0.9,19.35 1.29,18.96L12.96,7.29C13.35,6.9 14,6.9 14.37,7.29Z"}),"AutoFix");var am=r(17803);function im(e){return im="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(e)}function cm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cm(Object(r),!0).forEach((function(t){um(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function um(e,t,r){var n;return n=function(e,t){if("object"!=im(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=im(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==im(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var sm=function(e){var t=e.takeoffHeading,r=e.onChange,n=e.onSetToAverageHeading,o=t||sh.$q,a=o.type,i=void 0===a?sh.Z7.NONE:a,l=o.value,u=void 0===l?"0":l,s=(0,c.useCallback)((function(e){var n=e.target.value;r&&r(lm(lm({},t),{},{type:n}))}),[r,t]),f=(0,c.useCallback)((function(e){r&&r(lm(lm({},t),{},{value:String(e)}))}),[r,t]);return c.createElement(O.Z,{display:"flex",flexDirection:"row"},c.createElement(Z.Z,{fullWidth:!0,variant:"filled"},c.createElement(D.Z,{htmlFor:"takeoff-heading-type"},"UAV headings before takeoff are..."),c.createElement(M.Z,{value:i,inputProps:{id:"takeoff-heading-type"},onChange:s},c.createElement(F.Z,{value:sh.Z7.NONE},"Unspecified"),c.createElement(F.Z,{value:sh.Z7.ABSOLUTE},"Specified by absolute compass direction"),c.createElement(F.Z,{value:sh.Z7.RELATIVE},"Specified relative to show orientation"))),c.createElement(O.Z,{p:1}),c.createElement(Ee,{disabled:i===sh.Z7.NONE,style:{minWidth:160},label:i===sh.Z7.ABSOLUTE?"Compass direction":"Heading offset",value:u,variant:"filled",onChange:f}),n&&c.createElement(O.Z,{alignSelf:"bottom",pt:1},c.createElement(pt.default,{content:"Set to average heading of active drones"},c.createElement(W.Z,{edge:"end",onClick:n},c.createElement(am.Z,null)))))};function fm(e){return fm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(e)}function pm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pm(Object(r),!0).forEach((function(t){ym(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ym(e,t,r){var n;return n=function(e,t){if("object"!=fm(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=fm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==fm(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hm(){return hm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hm.apply(this,arguments)}sm.propTypes={takeoffHeading:i().shape({mode:i().oneOf(Object.values(sh.Z7)),value:i().string.isRequired}),onChange:i().func,onSetToAverageHeading:i().func};var mm=function(e){var t=e.altitudeReference,r=e.canEstimateShowCoordinateSystem,n=e.onAltitudeReferenceTypeChanged,o=e.onAltitudeReferenceValueChanged,a=e.onCopyCoordinateSystemToMap,i=e.onEstimateShowCoordinateSystem,l=e.onOriginChanged,u=e.onOrientationChanged,s=e.onSetAltitudeReferenceToAverageAMSL,f=e.onSetCoordinateSystemFromMap,p=e.onSetTakeoffHeading,d=e.onSetTakeoffHeadingToAverageActiveUAVHeading,y=e.showCoordinateSystem,h=e.takeoffHeading,m=t&&t.type===sh.Nx.AMSL;return c.createElement(c.Fragment,null,c.createElement(U.Z,null,"Coordinate system"),c.createElement(O.Z,{display:"flex",flexDirection:"row"},c.createElement(O.Z,null,c.createElement(Oe,hm({type:Th.COORDINATE_SYSTEM_TYPE},y,{orientationLabel:"Show orientation",originLabel:"Show origin",onOriginChanged:l,onOrientationChanged:u})),c.createElement(O.Z,{display:"flex",justifyContent:"space-evenly",py:1},c.createElement(A.Z,{onClick:f},"Copy map origin to show origin"),c.createElement(A.Z,{onClick:a},"Copy show origin to map origin"))),c.createElement(O.Z,{alignSelf:"bottom",pt:1},c.createElement(pt.default,{content:"Fit coordinate system to current drone positions"},c.createElement(W.Z,{disabled:!r,edge:"end",onClick:i},c.createElement(om,null))))),c.createElement(sm,{takeoffHeading:h,onChange:p,onSetToAverageHeading:d}),c.createElement(O.Z,{pt:1,display:"flex",flexDirection:"row"},c.createElement(O.Z,{style:{color:Wn.wL.warning}},c.createElement(At.Z,null)),c.createElement(O.Z,{flex:1,pl:1},c.createElement(x.Z,{color:"textSecondary",variant:"body2"},"Automatic show origin and orientation calculation assumes that all drones point towards the X axis of the show ",c.createElement("u",null,"or")," that you specified their offset relative to the X axis with the setting above. Absolute takeoff headings are not supported."))),c.createElement(U.Z,null,"Altitude control and RTK corrections"),c.createElement(O.Z,{display:"flex",flexDirection:"row",pb:2},c.createElement(Z.Z,{fullWidth:!0,variant:"filled"},c.createElement(D.Z,{htmlFor:"altitude-reference-type"},"Show is controlled based on..."),c.createElement(M.Z,{value:(t?t.type:null)||sh.Nx.AHL,inputProps:{id:"altitude-reference-type"},onChange:n},c.createElement(F.Z,{value:sh.Nx.AHL},"Altitude above home level (AHL)"),c.createElement(F.Z,{value:sh.Nx.AMSL},"Altitude above mean sea level (AMSL)"))),c.createElement(O.Z,{p:1}),c.createElement(wh.vd,{disabled:!m,label:"AMSL reference",value:(t?t.value:null)||0,step:.1,min:-1e4,max:1e4,onChange:o}),c.createElement(O.Z,{alignSelf:"bottom",pt:1},c.createElement(pt.default,{content:"Set to average AMSL of active drones"},c.createElement(W.Z,{disabled:!m,edge:"end",onClick:s},c.createElement(Ch.Z,null))))),c.createElement(nm,null))};mm.propTypes={altitudeReference:i().shape({type:i().oneOf(Object.values(sh.Nx)),value:i().number}),canEstimateShowCoordinateSystem:i().bool,onAltitudeReferenceTypeChanged:i().func,onAltitudeReferenceValueChanged:i().func,onCopyCoordinateSystemToMap:i().func,onEstimateShowCoordinateSystem:i().func,onOriginChanged:i().func,onOrientationChanged:i().func,onSetAltitudeReferenceToAverageAMSL:i().func,onSetCoordinateSystemFromMap:i().func,onSetTakeoffHeading:i().func,onSetTakeoffHeadingToAverageActiveUAVHeading:i().func,showCoordinateSystem:i().shape({orientation:i().string.isRequired,origin:i().arrayOf(i().number)}),takeoffHeading:i().shape({type:i().oneOf(Object.values(sh.Z7)),value:i().string.isRequired})};const vm=(0,s.$j)((function(e){return{altitudeReference:e.show.environment.outdoor.altitudeReference,canEstimateShowCoordinateSystem:Vh(e),showCoordinateSystem:e.show.environment.outdoor.coordinateSystem,mapCoordinateSystem:e.map.origin,takeoffHeading:(0,lh.AC)(e)}}),{onAltitudeReferenceTypeChanged:function(e){return(0,jh.kL)(e.target.value)},onAltitudeReferenceValueChanged:function(e){return(0,jh.rK)(e.target.value)},onCopyCoordinateSystemToMap:function(e){return function(t){t((0,xe.KH)({position:e.origin,angle:e.orientation})),t((0,Dp.c)({message:"Show coordinate system applied to map.",semantics:wu.j.SUCCESS}))}},onEstimateShowCoordinateSystem:function(){return function(e,t){var r=t();if(Vh(r)){var n;try{var o=function(e){for(var t=(0,ro.Xe)(e),r=t.map((function(t){var r=(0,ro.ax)(e,t);return r?[r.lon,r.lat]:void 0})),n=t.map((function(t){return(0,ro.uO)(e,t)})),o=[],a=r.length,i=0;i<a;i++)void 0!==r[i]&&void 0!==n[i]||o.push(i);for(var c=(a=o.length)-1;c>=0;c--)t.splice(c,1),r.splice(c,1),n.splice(c,1);var l=(0,lh.MV)(e);if((null==l?void 0:l.type)===sh.Z7.RELATIVE)for(var u=(0,lh.Gu)(e),s=0;s<n.length;s++)n[s]=(n[s]-u)%360;return{uavIds:t,uavGPSCoordinates:r,uavHeadings:n,takeoffCoordinates:(0,lh.qh)(e)}}(r);n=Dh(o)}catch(t){return void e(wo("Failed to calculate show coordinate system",t))}var a=n,i=a.origin,c=a.orientation,l=a.type;e((0,jh.jX)({origin:i,orientation:c.toFixed(1),setupMission:!0})),e((0,jh.Qv)()),e((0,Ih.T$)()),(0,ke.H_)(t())||e((0,xe.KH)({position:i,angle:c.toFixed(1),type:l}))}}},onOrientationChanged:function(e){return(0,jh.jX)({orientation:e,setupMission:!0})},onOriginChanged:function(e){return(0,jh.jX)({origin:e,setupMission:!0})},onSetAltitudeReferenceToAverageAMSL:jh.Qv,onSetCoordinateSystemFromMap:function(e){return function(t){t((0,jh.jX)({origin:e.position,orientation:e.angle,setupMission:!0})),t((0,Dp.c)({message:"Show coordinate system updated from map.",semantics:wu.j.SUCCESS}))}},onSetTakeoffHeading:function(e){return(0,jh.jX)({takeoffHeading:e,setupMission:!0})},onSetTakeoffHeadingToAverageActiveUAVHeading:function(){return function(e,t){var r=t(),n=(0,ro.PY)(r);if(Number.isFinite(n)){var o=dm(dm({},sh.$q),(0,lh.AC)(r));if((null==o?void 0:o.type)===sh.Z7.ABSOLUTE)o.value=(0,Y.LW)(n);else{var a=(0,lh.nB)(r);o.type=sh.Z7.RELATIVE,o.value=(0,Y.LW)(n-a)}e((0,jh.jX)({takeoffHeading:o,setupMission:!0}))}}}},(function(e,t,r){var n=dm(dm(dm(dm({},r),e),t),{},{onCopyCoordinateSystemToMap:function(){return t.onCopyCoordinateSystemToMap(e.showCoordinateSystem)},onSetCoordinateSystemFromMap:function(){return t.onSetCoordinateSystemFromMap(e.mapCoordinateSystem)}});return delete n.mapCoordinateSystem,n}))(mm);var gm={indoor:"This show is an indoor show. You may specify the corners of the room in which the show is taking place (for visualisation purposes).",outdoor:"This show is an outdoor show. You need to specify at least the origin and orientation of the coordinate system so Skybrush can map the show into GPS coordinates."},bm=function(e){var t=e.type;return c.createElement(x.Z,{variant:"body1"},gm[t])};bm.propTypes={type:i().oneOf(Object.keys(gm))};var wm=function(e){var t=e.editing,r=e.onClose,n=e.type;return c.createElement(Nr.Z,{fullWidth:!0,open:t,maxWidth:"sm",title:"Environment settings",onClose:r},c.createElement(v.Z,null,c.createElement(O.Z,{my:2},c.createElement(bm,{type:n}),"outdoor"===n&&c.createElement(vm,null),"indoor"===n&&c.createElement(Ph,null))))};wm.propTypes={editing:i().bool,onClose:i().func,type:i().oneOf(["indoor","outdoor"])},wm.defaultProps={editing:!1};const Em=(0,s.$j)((function(e){return{editing:e.show.environment.editing,type:(0,lh.VF)(e)}}),{onClose:ch.oN})(wm);var Sm=r(96837);function Om(e){return Om="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Om(e)}function xm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Am(e,t,r){var n;return n=function(e,t){if("object"!=Om(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Om(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Om(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var jm=function(e){var t=e.open,r=e.onClose,n=e.onLoadShowFromUrl;return c.createElement(m.Z,{fullWidth:!0,open:t,onClose:r},c.createElement(b.Z,{value:"skybrushAccount"},c.createElement(g.Z,{value:"skybrushAccount",label:"Skybrush Account"}),c.createElement(g.Z,{disabled:!0,value:"web",label:"Web Link"}),c.createElement(g.Z,{disabled:!0,value:"git",label:"Git Repository"})),c.createElement(ct.Z,null,c.createElement(Sm.Z,null,"Shared with me"),o.Z.examples.shows.map((function(e){var t=e.id,r=e.title,o=e.url;return c.createElement(lt.Z,{key:t,button:!0,onClick:function(){return n(o)}},c.createElement(st.Z,{primary:r}))}))))};jm.propTypes={onClose:i().func,onLoadShowFromUrl:i().func,open:i().bool},jm.defaultProps={open:!1};const km=(0,s.$j)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xm(Object(r),!0).forEach((function(t){Am(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.show.loadShowFromCloudDialog)}),(function(e){return{onClose:function(){e((0,ch.Fp)())},onLoadShowFromUrl:function(t){e((0,ch.Fp)()),e((0,jh.yb)(t))}}}))(jm);function Pm(e){return Pm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pm(e)}var Cm=["checkedItemIds","items","onToggle"];function Tm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Im(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tm(Object(r),!0).forEach((function(t){Lm(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Lm(e,t,r){var n;return n=function(e,t){if("object"!=Pm(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Pm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Pm(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _m(){return _m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_m.apply(this,arguments)}function Zm(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Nm=function(e){var t=e.checkedItemIds,r=e.items,n=e.onToggle,o=Zm(e,Cm);return c.createElement(ct.Z,_m({dense:!0,disablePadding:r.length>0},o),r.map((function(e){if("header"===e.type)return c.createElement(Sm.Z,{key:"preflight-header-".concat(e.id)},e.label);var r="preflight-item-".concat(e.id);return c.createElement(lt.Z,{key:r,button:!0,disableRipple:!0,onClick:function(){return n(e.id)}},c.createElement(ut.Z,null,c.createElement(_.Z,{checked:t.includes(e.id),edge:"start",inputProps:{"aria-labelledby":r},value:e.id})),c.createElement(st.Z,{id:r,primary:e.label}))})),0===r.length&&c.createElement(lt.Z,null,c.createElement(st.Z,{primary:"There are no manual preflight check items.",secondary:"You can add them in the Settings dialog."})))};Nm.propTypes={checkedItemIds:i().arrayOf(i().string),items:i().arrayOf(i().shape({id:i().string,type:i().string})),onToggle:i().func};var Rm=(0,s.$j)((function(e){return{checkedItemIds:Qe(e),items:Xe(e)}}),(function(e){return{onToggle:function(t){e((0,De.bH)(t))}}}))(Nm),Dm=function(e){var t=e.open,r=e.onClear,n=e.onClose,o=e.onSignOff,a=e.signedOff;return c.createElement(m.Z,{fullWidth:!0,open:t,maxWidth:"xs",onClose:n},c.createElement(v.Z,{style:{display:"flex",flexDirection:"column",paddingLeft:"1em",paddingRight:"1em"}},c.createElement(O.Z,{flex:1,overflow:"auto",minHeight:0},c.createElement(Rm,null)),c.createElement(O.Z,{className:"bottom-bar",textAlign:"center",pt:2},c.createElement(N.Z,{control:c.createElement(ft.Z,{checked:a,value:"signedOff",onChange:a?r:o}),label:"Sign off on manual preflight checks"}))),c.createElement(vr.Z,null))};Dm.propTypes={onClear:i().func,onClose:i().func,onSignOff:i().func,open:i().bool,signedOff:i().bool},Dm.defaultProps={open:!1,signedOff:!1};const Fm=(0,s.$j)((function(e){return Im(Im({},e.show.manualPreflightChecksDialog),{},{signedOff:(0,lh.zk)(e)})}),{onClear:ch.jB,onClose:ch.WC,onSignOff:jh.zw})(Dm);var Mm=r(81395),Um=r(73129),Gm=r(82578),Vm=r(7834),Bm=r(11476),Wm=r(5391);const zm=(0,Bm.Z)(Wm.Z)({border:0});var Hm=function(e){var t=e.selected,r=e.onChange,n=e.t;return c.createElement(of.kR,{content:n("mappingToggleButton.sortByMissionID")},c.createElement(zm,{value:"missionIds",selected:t,onChange:r},c.createElement(Vm.Z,null)))};Hm.propTypes={selected:i().bool,onChange:i().func,t:i().func};const Ym=(0,s.$j)((function(e){return{selected:(0,Yt.QW)(e)}}),{onChange:C.Uy})((0,h.Zh)()(Hm));function qm(e){return qm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qm(e)}var $m=["items","showMissionIds","t"];function Km(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Km(Object(r),!0).forEach((function(t){Qm(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Km(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qm(e,t,r){var n;return n=function(e,t){if("object"!=qm(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=qm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==qm(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jm(){return Jm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jm.apply(this,arguments)}function ev(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var tv=[Pc.q.INFO,Pc.q.SKIPPED,Pc.q.ERROR,Pc.q.ERROR],rv=function(e){var t=e.items,r=e.showMissionIds,n=e.t,o=ev(e,$m);return t.length>0?c.createElement(ct.Z,Jm({dense:!0,disablePadding:!0},o),t.map((function(e){var t="preflight-item-".concat(e.code),n=tv[(0,Um.H0)(e.code)];return c.createElement(lt.Z,{key:t,button:!0,disableRipple:!0},c.createElement(gu.default,{status:n}),c.createElement(st.Z,{id:t,primary:Gm.Z.describe(e.code),secondary:(0,qn.C_)(e.uavIdsAndIndices.map(r?function(e){return(0,qn.Bq)(e[1])}:function(e){return String(e[0])}))}))}))):c.createElement(Ao.Z,{header:n("OnboardPreflightChecksDialog.passed"),text:n("OnboardPreflightChecksDialog.noError"),icon:c.createElement(Mm.Z,null),iconColor:Wn.wL.success})};rv.propTypes={items:i().arrayOf(i().shape({id:i().string,type:i().string})),onToggle:i().func,showMissionIds:i().bool,t:i().func};var nv=(0,s.$j)((function(e){return{items:(0,ro.Q4)(e),showMissionIds:(0,Yt.QW)(e)}}),{})((0,h.Zh)()(rv)),ov=function(e){var t=e.open,r=e.onClear,n=e.onClose,o=e.onSignOff,a=e.signedOff,i=e.t;return c.createElement(Nr.Z,{fullWidth:!0,open:t,maxWidth:"xs",title:i("show.onboardPreflightChecks"),titleComponents:c.createElement(Ym,null),onClose:n},c.createElement(v.Z,{style:{display:"flex",flexDirection:"column",paddingLeft:"1em",paddingRight:"1em"}},c.createElement(O.Z,{display:"flex",flexDirection:"column",justifyContent:"center",flex:1,overflow:"auto",minHeight:240},c.createElement(nv,null)),c.createElement(O.Z,{className:"bottom-bar",textAlign:"center",pt:2},c.createElement(N.Z,{control:c.createElement(ft.Z,{checked:a,value:"signedOff",onChange:a?r:o}),label:i("OnboardPreflightChecksDialog.signOffOn")}))),c.createElement(vr.Z,null))};ov.propTypes={onClear:i().func,onClose:i().func,onSignOff:i().func,open:i().bool,signedOff:i().bool,t:i().func},ov.defaultProps={open:!1,signedOff:!1};const av=(0,s.$j)((function(e){return Xm(Xm({},e.show.onboardPreflightChecksDialog),{},{signedOff:(0,lh.Uc)(e)})}),{onClear:ch.nN,onClose:ch.Sl,onSignOff:jh.X7})((0,h.Zh)()(ov));var iv,cv=["children","direction","onChange","selectedPage"],lv=["className","id","keepMounted","scrollable"];function uv(){return uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uv.apply(this,arguments)}function sv(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var fv=(0,Ot.Z)((function(){return{page:{position:"absolute",left:0,top:0,right:0,bottom:0},scrollable:{overflow:"auto"}}}),{name:"MultiPagePanel"}),pv=function(e){return e.id};pv.propTypes={children:i().node,id:i().string,keepMounted:i().bool,scrollable:i().bool};var dv=function(e){var t=e.children,r=e.direction,o=void 0===r?"left":r,a=(e.onChange,e.selectedPage),i=sv(e,cv),l=fv();return c.createElement(O.Z,uv({position:"relative"},i),c.Children.map(t,(function(e){var t=e.props,r=t.className,i=t.id,u=t.keepMounted,s=t.scrollable,f=sv(t,lv),p={in:i===a,direction:o,children:e.children};u||(p.mountOnEnter=!0,p.unmountOnExit=!0);var d=(0,n.Z)(l.page,s&&l.scrollable,r);return c.createElement(Gd,p,c.createElement(O.Z,uv({className:d},f)))})))};dv.propTypes={children:i().arrayOf(pv),direction:null===(iv=Gd.propTypes)||void 0===iv?void 0:iv.direction,onChange:i().func,selectedPage:i().string};const yv=dv;var hv=["onEditEnvironment","secondaryText","status","t"];function mv(){return mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mv.apply(this,arguments)}function vv(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var gv=(0,Ge.createSelector)(lh.VF,lh.Cj,Yt.CX,(function(e,t,r){switch(e){case"indoor":return(0,Ae.tt)("show.indoor",{lng:r});case"outdoor":var n=t.type,o=t.value;return n===sh.Nx.AMSL?Number.isFinite(o)?(0,Ae.tt)("show.outdoor.relativeToAMSL",{altitude:o.toFixed(1),lng:r}):(0,Ae.tt)("show.outdoor.invalidAltitudeReference"):n===sh.Nx.AHL?(0,Ae.tt)("show.outdoor.relativeToHome"):(0,Ae.tt)("show.outdoor.unknownAltitudeReference");default:return(0,Ae.tt)("show.unknown")}})),bv=function(e){var t=e.onEditEnvironment,r=e.secondaryText,n=e.status,o=e.t,a=vv(e,hv);return c.createElement(lt.Z,mv({button:!0,disabled:n===Pc.q.OFF,onClick:t},a),c.createElement(gu.default,{status:n}),c.createElement(st.Z,{primary:o("show.setupEnvironment"),secondary:r(o)}))};bv.propTypes={onEditEnvironment:i().func,secondaryText:i().string,status:i().oneOf(Object.values(Pc.q)),t:i().func};const wv=(0,s.$j)((function(e){return{status:yh(e).setupEnvironment,secondaryText:gv(e)}}),{onEditEnvironment:ch.jT})((0,h.Zh)()(bv));var Ev=["onClick","status","t"];function Sv(){return Sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sv.apply(this,arguments)}function Ov(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var xv=function(e){switch(e){case Pc.q.OFF:case Pc.q.NEXT:return(0,Ae.tt)("geofence.statusText.no");case Pc.q.SUCCESS:return(0,Ae.tt)("geofence.statusText.automatic");case Pc.q.WARNING:return(0,Ae.tt)("geofence.statusText.manual");case Pc.q.ERROR:return(0,Ae.tt)("geofence.statusText.error");default:return(0,Ae.tt)("")}},Av=function(e){var t=e.onClick,r=e.status,n=e.t,o=Ov(e,Ev);return c.createElement(lt.Z,Sv({button:!0,disabled:r===Pc.q.OFF,onClick:t},o),c.createElement(gu.default,{status:r}),c.createElement(st.Z,{primary:n("show.setupGeofence","Setup geofence"),secondary:xv(r)(n)}))};Av.propTypes={onClick:i().func,status:i().oneOf(Object.values(Pc.q)),t:i().func},Av.defaultProps={};const jv=(0,s.$j)((function(e){return{status:yh(e).setupGeofence}}),{onClick:Tc.Oi})((0,h.Zh)()(Av));var kv=r(97779),Pv=r(92448),Cv=r(68560),Tv=r(79584),Iv=r(91364),Lv=r(69709),_v=r(41076),Zv=r(62092),Nv=["affectedByClockSkew","clock","clockId","clockSkew","emptyText","format","signed","updateInterval"];function Rv(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Dv=function(e){var t=e.affectedByClockSkew,r=e.clock,n=(e.clockId,e.clockSkew),o=e.emptyText,a=e.format,i=(e.signed,e.updateInterval),l=Rv(e,Nv),u=(r||{}).running,s=Date.now()+(t&&!(0,Ue.default)(n)?n:0),f=r?(0,bs.Nu)(r,s):void 0,p=void 0===f?o:(0,bs.J8)(f,r,{format:a}),d=(0,Ka.Z)();return(0,Xa.Z)(d,u?i:null),c.createElement("span",l,p)};Dv.propTypes={affectedByClockSkew:i().bool,clock:i().object,clockId:i().string,clockSkew:i().number,emptyText:i().string,format:i().string,signed:i().bool,updateInterval:i().number},Dv.defaultProps={format:"HH:mm:ss"};const Fv=(0,s.$j)((function(e,t){var r=xs(e,t.clockId),n=(0,bs.m7)(r),o=(0,bs._o)(r),a=(0,bs.tG)(r);return{affectedByClockSkew:o,clock:r,clockSkew:(0,tn.iO)(e),signed:n,updateInterval:a}}),{})(Dv);var Mv=r(66853);function Uv(e){return Uv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uv(e)}function Gv(e,t,r){var n;return n=function(e,t){if("object"!=Uv(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Uv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Uv(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Vv=Gv(Gv({},Mv.VS.RC,"Use the switch on your RC to start"),Mv.VS.AUTO,"Show will start automatically"),Bv=Gv(Gv({},Mv.VS.RC,c.createElement(Zv.Z,null)),Mv.VS.AUTO,c.createElement(_v.Z,null)),Wv=function(e){var t=e.hasScheduledStartTime,r=e.startMethod,n=e.t;return c.createElement(ct.Z,{dense:!0},c.createElement(lt.Z,null,c.createElement(ut.Z,null,Bv[r]||c.createElement(Nc.Z,null)),c.createElement(st.Z,{primary:Vv[r]||n("show.unknownStartMode","This show uses an unknown start mode"),secondary:t?c.createElement(c.Fragment,null,n("show.clock","Show clock:")," ",c.createElement(Fv,{clockId:"show"})):n("show.startTimeNotSet","Start time not set yet")})))};Wv.propTypes={hasScheduledStartTime:i().bool,startMethod:i().oneOf(Object.values(Mv.VS)),t:i().func};const zv=(0,s.$j)((function(e){return{hasScheduledStartTime:(0,lh.$C)(e),startMethod:(0,lh.nJ)(e)}}),{})((0,h.Zh)()(Wv));var Hv=(0,Ot.Z)((function(e){return{root:{position:"absolute",left:0,top:0,right:0,bottom:0},scrollable:{overflow:"auto"},button:{flex:1,margin:e.spacing(.5),lineHeight:1}}}),{name:"LargeControlButtonGroup"}),Yv=function(e){var t=e.broadcast,r=e.onChangeBroadcastMode,n=e.uavActions,o=Hv();return c.createElement(c.Fragment,null,c.createElement(zv,null),c.createElement(nl.Z,null),c.createElement(O.Z,{display:"flex",alignItems:"center",flexDirection:"row",mt:.5},c.createElement(O.Z,{flex:"1",textAlign:"right"},c.createElement(x.Z,{variant:"body2",color:t?"textSecondary":"textPrimary"},"Selection only")),c.createElement(ft.Z,{checked:t,onChange:r}),c.createElement(O.Z,{flex:"1"},c.createElement(x.Z,{variant:"body2",color:t?"textPrimary":"textSecondary"},"Broadcast"))),c.createElement(O.Z,{display:"flex",flexDirection:"row",flex:1},c.createElement(_p,{className:o.button,color:Wn.ZP.success,icon:c.createElement(vs.Z,{fontSize:"inherit"}),onClick:n.turnMotorsOn},t?"Arm all":"Arm"),c.createElement(_p,{className:o.button,color:Wn.ZP.info,icon:c.createElement(H.default,{fontSize:"inherit"}),onClick:n.turnMotorsOff},t?"Disarm all":"Disarm")),c.createElement(O.Z,{display:"flex",flexDirection:"row",flex:1},c.createElement(_p,{className:o.button,color:Wn.ZP.positionHold,icon:c.createElement(Tv.Z,{fontSize:"inherit"}),onClick:n.holdPosition},t?"Hold all":"Hold"),c.createElement(_p,{className:o.button,color:Wn.ZP.warning,icon:c.createElement(Pv.Z,{fontSize:"inherit"}),onClick:n.returnToHome},t?"RTH all":"RTH")),c.createElement(O.Z,{display:"flex",flexDirection:"row",flex:1,mb:.5},c.createElement(_p,{className:o.button,color:Wn.ZP.seriousWarning,icon:c.createElement(Cv.Z,{fontSize:"inherit"}),onClick:n.land},t?"Land all":"Land"),c.createElement(_p,{className:o.button,color:Wn.ZP.error,icon:c.createElement(Iv.Z,{fontSize:"inherit"}),onClick:n.shutdown},t?"Shutdown all":"Shutdown")))};Yv.propTypes={broadcast:i().bool,onChangeBroadcastMode:i().func,uavActions:i().objectOf(i().func)};const qv=(0,s.$j)((function(e){return{allUAVIdsInMission:(0,tc.Ho)(e),broadcast:(0,tc.A_)(e),channel:(0,tc.ML)(e),selectedUAVIds:(0,ro.yi)(e)}}),(function(e){return{onChangeBroadcastMode:function(t){return e((0,ec.rE)(Boolean(t.target.checked)))},uavActions:(0,kv.DE)((0,Lv.Fj)({getTargetedUAVIds:function(e){return(0,tc.A_)(e)?(0,tc.Ho)(e):(0,ro.yi)(e)},getTransportOptions:function(e){return{channel:(0,tc.ML)(e),broadcast:(0,tc.A_)(e)}}}),e)}}))(Yv);var $v=r(33681),Kv=r(9248),Xv=r(36210),Qv=r(59240),Jv=r(14129),eg=r(42166),tg=r(4664),rg=["accepts","children","extensions","id","inputId","multiple","onSelected","onSelectionFailed"];function ng(){return ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ng.apply(this,arguments)}function og(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ag(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ag(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ag(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ig(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var cg=(0,Ot.Z)((function(e){return{input:{display:"none"},hover:{background:e.palette.action.hover},hoverError:{background:new(Vn())(e.palette.error.main).alpha(.5).string()}}})),lg=function(e){var t=e.accepts,r=e.children,n=e.extensions,o=e.id,a=e.inputId,i=e.multiple,l=e.onSelected,u=e.onSelectionFailed,s=ig(e,rg),f=cg(),p=og((0,c.useState)(0),2),d=p[0],y=p[1],h=(0,c.useCallback)((function(e){(e=e&&e.files?i?e.files:e.files[0]:null)&&(!t||t(e)?l&&l(e):u&&u(e),y(d+1))}),[t,d,i,l,u]),m=og((0,Qv.L)({accept:[eg.FILE],canDrop:t?function(e){return 0===e.files.length||!!(e=i?e.files:e.files[0])&&t(e)}:void 0,drop:h,collect:function(e){return{className:e.isOver()?e.canDrop()?f.hover:f.hoverError:void 0}}}),2),v=m[0],g=m[1];return c.createElement(c.Fragment,null,c.createElement("input",{key:d,accept:n?n.map((function(e){return".".concat(e.toLowerCase())})):void 0,className:f.input,type:"file",id:a,multiple:i,onChange:function(e){return h(e.target)}}),c.createElement("label",{id:o,htmlFor:a},c.createElement(lt.Z,ng({ref:g,button:!0},v,s),r)))};lg.propTypes={accepts:i().func,children:i().node,extensions:i().arrayOf(i().string),id:i().string,inputId:i().string.isRequired,multiple:i().bool,onSelected:i().func,onSelectionFailed:i().func};const ug=function(e){return c.createElement(Jv.W,{backend:tg.PD},c.createElement(lg,e))};var sg=["secondary"];function fg(){return fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fg.apply(this,arguments)}function pg(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var dg=function(e){var t=e.secondary,r=pg(e,sg);return c.createElement(st.Z,fg({disableTypography:!0},r,{secondary:c.createElement(O.Z,{minHeight:20.1,display:"flex",flexDirection:"column",justifyContent:"center"},c.createElement(x.Z,{component:"div",variant:"body2",color:"textSecondary"},t))}))};dg.propTypes={secondary:i().node};const yg=dg;var hg=function(e){return e&&e.size>0},mg=["skyc"],vg=function(e){var t=e.changedSinceLoaded,r=e.description,n=e.hasLoadedShowFile,o=e.loading,a=e.onClearLoadedShow,i=e.onLoadShowFromCloud,l=e.onReloadShowFile,u=e.onShowFileSelected,s=e.progress,f=e.status,p=e.t,d=e.title;return c.createElement(ug,{id:"show-file-upload",inputId:"show-file-upload-input",accepts:hg,extensions:mg,onSelected:u},c.createElement(gu.default,{status:f}),c.createElement(yg,{primary:o?p("show.loading","Please wait, loading show file\u2026"):n?(0,qn.$G)(d,60):p("show.noFileLoaded"),secondary:o?c.createElement($v.Z,{value:s,variant:(0,Ue.default)(s)?"indeterminate":"determinate"}):t?c.createElement("span",{style:{color:Wn.ZP.warning}},"Show changed since it was loaded"):n?r:p("show.selectFile","Select or drop a show file here")}),c.createElement(os.Z,null,t?c.createElement(of.kR,{content:p("show.reload","Reload show")},c.createElement(W.Z,{edge:"end",onClick:l},c.createElement(Xv.Z,null))):n?c.createElement(of.kR,{content:p("show.clear","Clear loaded show")},c.createElement(W.Z,{edge:"end",onClick:a},c.createElement(H.default,null))):(0,ns.U6)("loadShowFromCloud")?c.createElement(of.kR,{content:p("show.fromCloud","Load show from cloud")},c.createElement(W.Z,{edge:"end",onClick:i},c.createElement(Kv.Z,null))):null))};vg.propTypes={changedSinceLoaded:i().bool,description:i().string,hasLoadedShowFile:i().bool,loading:i().bool,onClearLoadedShow:i().func,onLoadShowFromCloud:i().func,onReloadShowFile:i().func,onShowFileSelected:i().func,progress:i().number,status:i().oneOf(Object.values(Pc.q)),t:i().func,title:i().string};const gg=(0,s.$j)((function(e){return{changedSinceLoaded:(0,lh.K8)(e),description:(0,lh.xe)(e),hasLoadedShowFile:(0,lh.Eg)(e),loading:(0,lh.D$)(e),progress:(0,lh._v)(e),status:yh(e).selectShowFile,title:(0,lh.u3)(e)}}),{onClearLoadedShow:ch.vT,onLoadShowFromCloud:ch.rD,onReloadShowFile:jh.I0,onShowFileSelected:jh.Aw})((0,h.Zh)()(vg));var bg=["areChecksSignedOff","hasManualChecks","onApprove","onRevoke","status","t"];function wg(){return wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wg.apply(this,arguments)}function Eg(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Sg=function(e){e.areChecksSignedOff;var t=e.hasManualChecks,r=(e.onApprove,e.onRevoke,e.status),n=e.t,o=Eg(e,bg);return t?c.createElement(lt.Z,wg({button:!0,disabled:r===Pc.q.OFF},o),c.createElement(gu.default,{status:r}),c.createElement(st.Z,{primary:n("show.manualPreflightChecks","Manual preflight checks")})):null};Sg.propTypes={areChecksSignedOff:i().bool,hasManualChecks:i().bool,onApprove:i().func,onClick:i().func,onRevoke:i().func,status:i().oneOf(Object.values(Pc.q)),t:i().func},Sg.defaultProps={};const Og=(0,s.$j)((function(e){return{areChecksSignedOff:(0,lh.zk)(e),hasManualChecks:tt(e),status:yh(e).performManualPreflightChecks}}),{onApprove:jh.zw,onClick:ch.GN,onRevoke:ch.jB})((0,h.Zh)()(Sg));var xg=["areChecksSignedOff","onApprove","onRevoke","status","t"];function Ag(){return Ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ag.apply(this,arguments)}function jg(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var kg=function(e){e.areChecksSignedOff,e.onApprove,e.onRevoke;var t=e.status,r=e.t,n=jg(e,xg);return c.createElement(lt.Z,Ag({button:!0,disabled:t===Pc.q.OFF},n),c.createElement(gu.default,{status:t}),c.createElement(st.Z,{primary:r("show.onboardPreflightChecks","Onboard preflight checks")}))};kg.propTypes={areChecksSignedOff:i().bool,onApprove:i().func,onRevoke:i().func,status:i().oneOf(Object.values(Pc.q)),t:i().func},kg.defaultProps={};const Pg=(0,s.$j)((function(e){return{areChecksSignedOff:(0,lh.Uc)(e),status:yh(e).waitForOnboardPreflightChecks}}),{onApprove:jh.X7,onClick:ch.zm,onRevoke:ch.nN})((0,h.Zh)()(kg));var Cg=r(43985);function Tg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ig(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ig(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ig(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const Lg=function(){var e=(0,s.v9)(Vl),t=(0,s.v9)(Wl),r=Tg((0,Cg.Z)(e,500),2),n=r[0],o=r[1];return c.createElement($v.Z,{variant:t?"buffer":"determinate",value:n,valueBuffer:o})};var _g=["loading","status","t"];function Zg(){return Zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zg.apply(this,arguments)}function Ng(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Rg=function(e){var t=e.loading,r=e.status,n=e.t,o=Ng(e,_g);return c.createElement(lt.Z,Zg({button:!0,disabled:r===Pc.q.OFF},o),c.createElement(gu.default,{status:r}),c.createElement(yg,{primary:t?n("show.uploadShowDataLoading","Please wait, uploading\u2026"):n("show.uploadShowData","Upload show data"),secondary:t?c.createElement(Lg,null):n("show.uploadShowDataStart")}))};Rg.propTypes={loading:i().bool,onClick:i().func,status:i().oneOf(Object.values(Pc.q)),t:i().func};const Dg=(0,s.$j)((function(e){return{loading:Wl(e),progress:Vl(e),status:yh(e).uploadShow}}),{onClick:function(){return(0,Yl.OK)({job:sh._f})}})((0,h.Zh)()(Rg));var Fg=function(e){var t=e.formattedStartTime,r=e.onClick,n=e.status,o=(0,h.$G)().t;return c.createElement(lt.Z,{button:!0,onClick:r},c.createElement(gu.default,{status:n}),c.createElement(st.Z,{primary:o("show.chooseStartTime"),secondary:t?o("show.startsAt",{time:t}):o("show.chooseStartTimeNotSet","Not set yet")}))};Fg.propTypes={formattedStartTime:i().string,onClick:i().func,status:i().oneOf(Object.values(Pc.q))},Fg.defaultProps={};const Mg=(0,s.$j)((function(e){return{formattedStartTime:(0,lh.e7)(e),status:yh(e).setupStartTime}}),{onClick:ch.Rj})(Fg);var Ug=["maxDistance","onClick","status","t"];function Gg(){return Gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gg.apply(this,arguments)}function Vg(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Bg=function(e,t){if("number"==typeof t)return Number.isFinite(t)?(0,Ae.tt)("show.placementAccuracy",{distance:(0,qn.Bb)(t)}):(0,Ae.tt)("show.takeOffNoPosition");switch(e){case Pc.q.OFF:case Pc.q.NEXT:return(0,Ae.tt)("show.takeOffPlace");case Pc.q.SUCCESS:return(0,Ae.tt)("show.dronePlacementApproved");case Pc.q.ERROR:return(0,Ae.tt)("show.dronePlacementError");case Pc.q.SKIPPED:return(0,Ae.tt)("show.dronePlacementPartial");case Pc.q.WAITING:return(0,Ae.tt)("show.dronePlacementCheck");default:return(0,Ae.tt)("")}},Wg=function(e){var t=e.maxDistance,r=e.onClick,n=e.status,o=e.t,a=Vg(e,Ug);return c.createElement(lt.Z,Gg({button:!0,disabled:n===Pc.q.OFF,onClick:r},a),c.createElement(gu.default,{status:n}),c.createElement(st.Z,{primary:o("show.setupTakeoffArea","Setup takeoff area"),secondary:Bg(n,t)(o)}))};Wg.propTypes={maxDistance:i().number,onClick:i().func,status:i().oneOf(Object.values(Pc.q)),t:i().func},Wg.defaultProps={};const zg=(0,s.$j)((function(e){return{maxDistance:yh(e).setupTakeoffArea!==Pc.q.OFF?(0,ro.BY)(e):void 0,status:yh(e).setupTakeoffArea}}),{onClick:ch._u})((0,h.Zh)()(Wg));var Hg=function(e){var t=e.environmentType,r=e.isAuthorized;return c.createElement(yv,{flex:1,selectedPage:r?"execution":"setup"},c.createElement(pv,{scrollable:!0,id:"setup"},c.createElement(ct.Z,{dense:!0},c.createElement(gg,null),c.createElement(nl.Z,null),c.createElement(wv,null),c.createElement(zg,null),"outdoor"===t&&c.createElement(jv,null),c.createElement(Dg,null),c.createElement(nl.Z,null),c.createElement(Pg,null),c.createElement(Og,null),c.createElement(nl.Z,null),c.createElement(Mg,null))),c.createElement(pv,{scrollable:!0,id:"execution",display:"flex",flexDirection:"column"},c.createElement(qv,null)))};Hg.propTypes={environmentType:i().oneOf(["indoor","outdoor"]),isAuthorized:i().bool};const Yg=(0,s.$j)((function(e){return{environmentType:(0,lh.VF)(e),filename:null,isAuthorized:(0,lh.ce)(e)}}))(Hg);var qg=r(69119),$g=r(86293),Kg=r(33913),Xg=r(83894),Qg=r(42227),Jg=r(39880),eb=r(58545),tb=r(42902),rb=r(89265),nb=r(77342),ob=r(87827),ab=r(53910),ib=r(33769),cb=r(78715),lb=function(e){var t=e.formattedStartTime,r=e.onClearStartTime;return c.createElement(cb.Z,{severity:t?"info":"warning",variant:"filled",action:t?c.createElement(A.Z,{color:"inherit",startIcon:c.createElement(H.default,null),onClick:t?r:null},"Clear"):null},c.createElement(O.Z,null,t?c.createElement(c.Fragment,null,"Start time is set to ",c.createElement("strong",null,t)):"No start time is set at the moment."))};lb.propTypes={formattedStartTime:i().string,onClearStartTime:i().func};const ub=(0,s.$j)((function(e){return{formattedStartTime:(0,lh.e7)(e)}}),{onClearStartTime:function(){return function(e,t){var r=(0,lh.R9)(t());e((0,ch.qv)({clock:r,time:null})),e((0,ch.B8)("toServer"))}}})(lb);var sb=r(29422),fb=r(39159),pb=r(77881),db=r(18717),yb=r(30301),hb=r(24837);const mb=function(e){var t=(0,Ka.Z)();(0,pi.Z)(t,e)};const vb=function(){return bn.Z};const gb=function(e,t){(0,c.useEffect)((function(){var r=e.add(t);return function(){e.detach(r)}}),[e,t])};var bb=["onChange"];function wb(){return wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wb.apply(this,arguments)}function Eb(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Sb=(0,Bm.Z)(A.Z)({border:[0,"!important"],textTransform:["none","!important"]}),Ob=function(e){var t=e.onChange,r=Eb(e,bb),n=function(){for(var e=[{time:15,relative:!0},{time:30,relative:!0},{time:60,relative:!0},{time:(0,sb.Z)((0,db.Z)((0,sb.Z)(Date.now(),{seconds:30})),{minutes:2})}],t=0,r=[5,15,30,60];t<r.length;t++){var n=r[t],o=e[e.length-1].time,a=(0,fb.Z)(o);e.push({time:(0,sb.Z)(o,{minutes:n-a%n})})}return e}();return mb(1e4),c.createElement(hb.Z,wb({variant:"text"},r),n.map((function(e,r){var n=e.time,o=e.relative;return c.createElement(Sb,{key:"button".concat(r),onClick:function(){return t(o?(0,yb.Z)((0,sb.Z)(Date.now(),{seconds:n})):n.valueOf())}},o?"".concat(n>0?"+":"").concat(n,"s"):0===(0,pb.Z)(n)?(0,$a.Z)(n,"HH:mm"):(0,$a.Z)(n,"HH:mm:ss"))})))};Ob.propTypes={onChange:i().func};const xb=Ob;function Ab(e){return Ab="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ab(e)}function jb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jb(Object(r),!0).forEach((function(t){Pb(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pb(e,t,r){var n;return n=function(e,t){if("object"!=Ab(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ab(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ab(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cb(e,t){var r=(0,qg.Z)(e);return r.setHours(t.getHours(),t.getMinutes(),t.getSeconds()),r}function Tb(e){var t={};if((0,$g.Z)(e.utcDate))if((0,Kg.Z)((0,Xg.Z)(e.utcDate)))t.utcDate="Date cannot be in the past";else if((0,$g.Z)(e.utcTime)){var r=Cb(e.utcDate,e.utcTime);(0,Kg.Z)(r)&&(t.utcTime="Time cannot be in the past")}else t.utcTime="Invalid time";else t.utcDate="Invalid date";return t}var Ib=function(e){var t=e.alwaysAllowSubmission,r=e.initialValues,n=e.onClose,o=e.onSubmit;return c.createElement(S.l0,{initialValues:r,validate:Tb,onSubmit:o},(function(e){var r=e.dirty,o=e.form,a=e.handleSubmit,i=e.invalid,l=e.values;return c.createElement("form",{id:"start-time-form",onSubmit:a},c.createElement(v.Z,null,c.createElement(ub,null),c.createElement(O.Z,{mt:2},c.createElement(U.Z,null,"Set the start time of the show below")),c.createElement(R.Z,{row:!0},c.createElement(O.Z,{mr:1,minWidth:180},c.createElement(E.Ph,{labelId:"reference-clock-label",name:"clock",label:"Reference",formControlProps:{fullWidth:!0,margin:"dense",variant:"filled"}},c.createElement(F.Z,{value:ab.T.LOCAL},"Local time"),c.createElement(F.Z,{value:ab.T.MTC},"SMPTE timecode"))),l.clock===ab.T.LOCAL?c.createElement(c.Fragment,null,c.createElement(O.Z,{flex:1,mr:1},c.createElement(E.eU,{disablePast:!0,format:"yyyy-MM-dd",fullWidth:!1,inputVariant:"filled",label:"Start date",margin:"dense",name:"utcDate",variant:"dialog"})),c.createElement(O.Z,{flex:1},c.createElement(E.e$,{ampm:!1,format:"HH:mm:ss",fullWidth:!1,inputVariant:"filled",keyboardIcon:c.createElement(nb.Z,null),label:"Start time",margin:"dense",name:"utcTime",variant:"dialog"}))):c.createElement(O.Z,{flex:1},c.createElement(wh.Py,{label:"Start time (hours:minutes:seconds)",margin:"dense",name:"timeOnClock",variant:"filled"}))),l.clock===ab.T.LOCAL&&c.createElement(O.Z,{mt:1,flexDirection:"row",display:"flex",alignItems:"center"},c.createElement(O.Z,{mr:2},c.createElement(x.Z,{variant:"body2",color:"textSecondary"},"Suggestions:")),c.createElement(xb,{onChange:function(e){o.batch((function(){var t=new Date(e);o.change("clock",ab.T.LOCAL),o.change("utcDate",t),o.change("utcTime",t)}))}})),c.createElement(E.Ph,{labelId:"start-signal-label",name:"method",label:"Start signal",formControlProps:{fullWidth:!0,margin:"dense",variant:"filled"}},c.createElement(F.Z,{value:Mv.VS.RC},"Start show with remote controller only (safer)"),c.createElement(F.Z,{value:Mv.VS.AUTO},"Start show automatically"))),c.createElement(vr.Z,null,c.createElement(A.Z,{disabled:!r,onClick:function(){return o.reset()}},"Reset form"),n&&c.createElement(A.Z,{onClick:n},"Close"),c.createElement(A.Z,{color:"primary",type:"submit",disabled:i||!t&&!r},"Set new start time")))}))};Ib.propTypes={alwaysAllowSubmission:i().bool,initialValues:i().shape({clock:i().string,method:i().oneOf(Object.values(Mv.VS)),timeOnClock:i().string}),onClose:i().func,onSubmit:i().func};var Lb=function(e){var t=e.clock,r=e.method,n=e.open,o=e.onClose,a=e.onUpdateSettings,i=e.timeOnClock,l=e.utcTime,u="number"==typeof l,s="number"==typeof i,f=u?(0,Qg.Z)(l):(0,Jg.Z)((0,eb.Z)(new Date,30),0),p=s?i:0,d="string"==typeof t&&t.length>0?t:ab.T.LOCAL;return c.createElement(ob.M,{utils:rb.Z},c.createElement(m.Z,{fullWidth:!0,open:n,maxWidth:"sm",onClose:o},c.createElement(Ib,{alwaysAllowSubmission:!u,initialValues:{method:r,clock:d,timeOnClock:(0,qn.g)(p,{padHours:!0}),utcDate:(0,qg.Z)(f),utcTime:f},onClose:o,onSubmit:a})))};Lb.propTypes={clock:i().string,method:i().oneOf(Object.values(Mv.VS)),onClose:i().func,onUpdateSettings:i().func,open:i().bool,timeOnClock:i().number,utcTime:i().number},Lb.defaultProps={method:Mv.VS.RC,open:!1};const _b=(0,s.$j)((function(e){return kb(kb({},e.show.startTimeDialog),e.show.start)}),(function(e){return{onClose:function(){e((0,ch.Gs)())},onUpdateSettings:function(t){var r=t.clock,n=t.method,o=t.timeOnClock,a=t.utcDate,i=t.utcTime,c=r===ab.T.LOCAL||""===r||"string"!=typeof r;if(e((0,ch.Ae)(n)),c)e((0,ch.qv)({time:(0,tb.Z)(Cb(a,i)),clock:null}));else{var l=(0,ib.mV)(o);e((0,ch.qv)({time:Number.isNaN(l)?null:l,clock:r}))}e((0,ch.B8)("toServer")),e((0,ch.Gs)())}}}))(Lb);var Zb=r(20851),Nb=r(42098);function Rb(){return Rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rb.apply(this,arguments)}const Db=(0,s.$j)((function(e){return{disabled:!(0,tc.Rc)(e)}}),{onClick:Ih.jf})((function(e){return c.createElement(A.Z,Rb({startIcon:c.createElement(Nb.Z,null)},e),"Assign spares to empty slots")}));var Fb=["hasNonemptyMappingSlot"];function Mb(){return Mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mb.apply(this,arguments)}function Ub(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Gb=function(e){var t=e.hasNonemptyMappingSlot,r=Ub(e,Fb);return c.createElement(A.Z,Mb({startIcon:c.createElement(om,null)},r),t?"Recalculate mapping":"Find optimal mapping")};Gb.propTypes={hasNonemptyMappingSlot:i().bool};const Vb=(0,s.$j)((function(e){return{hasNonemptyMappingSlot:(0,tc.rs)(e)}}),{onClick:Ih.T$})(Gb);function Bb(e){return Bb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bb(e)}function Wb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wb(Object(r),!0).forEach((function(t){Hb(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Hb(e,t,r){var n;return n=function(e,t){if("object"!=Bb(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Bb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Bb(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Yb=function(e){var t=e.indices;return c.createElement(Jn,{items:t,title:"Empty slots:",successMessage:"All slots in the mission are filled."})};Yb.propTypes={indices:i().arrayOf(i().number)};var qb=function(e){var t=e.hasNonemptyMappingSlot,r=e.uavIds;return c.createElement(Jn,{items:r,title:"Missing:",successMessage:"All drones in the mission are online.",emptyMessage:"There are no drones in the mission.",preferEmptyMessage:!t})};qb.propTypes={hasNonemptyMappingSlot:i().bool,uavIds:i().arrayOf(i().string)};var $b=function(e){var t=e.hasNonemptyMappingSlot,r=e.uavIds;return c.createElement(Jn,{items:r,title:"Misplaced:",successMessage:"All drones are placed at their takeoff positions.",emptyMessage:"There are no drones in the mission.",preferEmptyMessage:!t})};$b.propTypes={hasNonemptyMappingSlot:i().bool,uavIds:i().arrayOf(i().string)};var Kb=function(e){var t=e.hasNonemptyMappingSlot,r=e.uavIds;return c.createElement(Jn,{items:r,title:"Misaligned:",successMessage:"All drones are facing the correct direction.",emptyMessage:"There are no drones in the mission.",preferEmptyMessage:!t})};Kb.propTypes={hasNonemptyMappingSlot:i().bool,uavIds:i().arrayOf(i().string)};var Xb=function(e){var t=e.emptySlotIndices,r=e.hasNonemptyMappingSlot,n=e.misalignedUAVIds,o=e.misplacedUAVIds,a=e.missingUAVIds;return c.createElement(c.Fragment,null,c.createElement(Yb,{indices:t}),c.createElement(qb,{uavIds:a,hasNonemptyMappingSlot:r}),c.createElement($b,{uavIds:o,hasNonemptyMappingSlot:r}),c.createElement(Kb,{uavIds:n,hasNonemptyMappingSlot:r}))};Xb.propTypes={emptySlotIndices:i().arrayOf(i().number),hasNonemptyMappingSlot:i().bool,misalignedUAVIds:i().arrayOf(i().string),misplacedUAVIds:i().arrayOf(i().string),missingUAVIds:i().arrayOf(i().string)};var Qb=(0,s.$j)((function(e){return{emptySlotIndices:(0,tc.G7)(e),hasNonemptyMappingSlot:(0,tc.rs)(e),missingUAVIds:(0,ro.qx)(e),misplacedUAVIds:(0,ro._n)(e),misalignedUAVIds:(0,ro.JU)(e)}}),{})(Xb),Jb=function(e){var t=e.approved,r=e.hasVirtualDrones,n=e.open,o=e.onAddVirtualDrones,a=e.onApprove,i=e.onClose,l=e.onRevoke,u=r&&c.createElement(A.Z,{color:"inherit",startIcon:c.createElement(Zb.Z,null),onClick:o},"Place virtual drones");return c.createElement(Nr.Z,{fullWidth:!0,open:n,maxWidth:"sm",title:"Takeoff area setup",titleComponents:u,onClose:i},c.createElement(v.Z,null,c.createElement(Qb,null),c.createElement(O.Z,{py:2,display:"flex",flexDirection:"row",justifyContent:"center"},c.createElement(Vb,null),c.createElement(Db,null)),c.createElement(O.Z,{className:"bottom-bar",textAlign:"center",pt:2},c.createElement(N.Z,{control:c.createElement(ft.Z,{checked:t,value:"approved",onChange:t?l:a}),label:"Approve takeoff area arrangement"}))),c.createElement(vr.Z,null))};Jb.propTypes={approved:i().bool,hasVirtualDrones:i().bool,onAddVirtualDrones:i().func,onApprove:i().func,onClose:i().func,onRevoke:i().func,open:i().bool},Jb.defaultProps={approved:!1,open:!1};const ew=(0,s.$j)((function(e){return zb(zb({},e.show.takeoffAreaSetupDialog),{},{approved:(0,lh.B2)(e),hasVirtualDrones:(0,tn.e0)(e)})}),(function(e){return{onAddVirtualDrones:function(){e((0,Ih.d9)())},onApprove:function(){e((0,jh.zC)()),setTimeout((function(){return e((0,ch.Cx)())}),300)},onClose:function(){e((0,ch.Cx)())},onRevoke:function(){e((0,ch.O0)())}}}))(Jb);const tw=function(){return c.createElement(O.Z,{display:"flex",flexDirection:"column",height:"100%",id:"tour-show-control"},c.createElement(Yg,null),c.createElement(O.Z,{className:"bottom-bar"},c.createElement(ct.Z,{dense:!0,disablePadding:!0},c.createElement(bh,null))),(0,ns.U6)("loadShowFromCloud")&&c.createElement(km,null),c.createElement(Em,null),c.createElement(_b,null),c.createElement(ew,null),c.createElement(av,null),c.createElement(Fm,null))};var rw=r(44176),nw=r(34468),ow=r(53416),aw=r(45258),iw=r(32427),cw=r(5200);const lw=e=>`uav-dom-node-${e}`;var uw=["children","id","onDrop"];function sw(){return sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sw.apply(this,arguments)}function fw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pw(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dw(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var yw=(0,Ot.Z)((function(e){return{root:{alignItems:"center",cursor:"pointer",display:"flex",flexDirection:"column",minWidth:e.spacing(10),position:"relative",scrollMarginTop:"3em"},draggable:{"&:hover":{boxShadow:e.shadows[4]}},selectable:{"&:hover":{backgroundColor:e.palette.action.hover}},selected:{backgroundColor:e.palette.action.selected,"&:hover":{backgroundColor:e.palette.action.selected}},fill:{flexGrow:1,padding:e.spacing(2,0)},stretch:{alignItems:["stretch","!important"]}}}),{name:"DroneListItem"}),hw={style:{opacity:0}},mw={style:{backgroundColor:Wn.ZP.dropTarget}},vw=function(e){var t=e.children,r=e.id,n=e.onDrop,o=dw(e,uw),a=fw((0,cw.c)({item:{id:r},type:"uav",collect:function(e){return e.isDragging()&&hw}}),2),i=a[0],l=a[1],u=fw((0,Qv.L)({accept:"uav",canDrop:function(e){return r!==e.id},collect:function(e){return e.isOver()&&e.canDrop()&&mw},drop:n?function(e){return n(e.id)}:void 0}),2),s=u[0],f=u[1],p=(0,c.useCallback)((function(e){l(e),f(e)}),[l,f]);return c.createElement("div",sw({ref:p,id:lw(r)},o,i,s),t)};vw.propTypes={children:i().node,id:i().string,onDrop:i().func};var gw=function(e){var t=e.children,r=e.draggable,o=e.fill,a=e.onClick,i=e.onDrop,l=e.selected,u=e.stretch,s=e.uavId,f=yw(),p=(0,n.Z)(f.root,a&&f.selectable,r&&f.draggable,l&&f.selected,o&&f.fill,u&&f.stretch);return r||i?c.createElement(vw,{className:p,id:s,onClick:a,onDrop:i},t):c.createElement("div",{id:lw(s),className:p,onClick:a},t)};gw.propTypes={children:i().node,draggable:i().bool,fill:i().bool,onClick:i().func,onDrop:i().func,selected:i().bool,stretch:i().bool,uavId:i().string};const bw=gw;var ww=r(28934),Ew=r(13265),Sw=r(38694),Ow=r(52954),xw=r(88685);function Aw(e){return Aw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Aw(e)}var jw=["color","inline","size","style"];function kw(){return kw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kw.apply(this,arguments)}function Pw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Cw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pw(Object(r),!0).forEach((function(t){Tw(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pw(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Tw(e,t,r){var n;return n=function(e,t){if("object"!=Aw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Aw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Aw(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iw(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Lw=(0,Ot.Z)((function(e){return{root:{border:"1px solid rgba(0, 0, 0, 0.3)",borderRadius:"50%",color:"black",height:"1em",minWidth:"1em",marginRight:e.spacing(2),position:"relative",width:"1em"},inline:{display:"inline-block",marginRight:[0,"!important"],verticalAlign:"sub"},"size-small":{fontSize:"0.75em"},"size-large":{fontSize:"1.25em"}}}),{name:"ColoredLight"}),_w=function(e){var t=e.color,r=e.inline,o=e.size,a=e.style,i=Iw(e,jw),l=Lw();return c.createElement(O.Z,kw({className:(0,n.Z)(l.root,r&&l.inline,l["size-".concat(o)]),component:r?"span":"div",style:Cw({backgroundColor:t},a)},i))};_w.propTypes={color:i().string,inline:i().bool,size:i().oneOf(["small","normal","large"]),style:i().object},_w.defaultProps={color:"#000000",size:"normal"};const Zw=_w;var Nw=r(32565);function Rw(e){return Rw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rw(e)}function Dw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fw(e,t,r){var n;return n=function(e,t){if("object"!=Rw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Rw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Rw(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mw(){return Mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mw.apply(this,arguments)}var Uw=qn.hy,Gw=(0,Ot.Z)((function(e){return{root:{flexGrow:1,fontFamily:jt.monospacedFont,fontSize:"small",fontVariantNumeric:"lining-nums tabular-nums",marginTop:[-2,"!important"],marginBottom:[-4,"!important"],whiteSpace:"pre"},gone:{opacity:.7},muted:{color:e.palette.text.disabled},pill:{display:"inline-block",margin:e.spacing(0,.5),verticalAlign:"text-top",transform:"translateY(-1px)"},statusPill:{width:80},modePill:{width:48},gpsPill:{width:40},batteryIndicator:{display:"inline-block",fontFamily:e.typography.fontFamily,textAlign:"left",padding:e.spacing(0,.75),margin:e.spacing(0,.5),width:48}}}),{name:"DroneStatusLine"}),Vw=function(e){var t,r,o=e.batteryFormatter,a=e.batteryStatus,i=e.color,l=e.coordinateFormatter,u=e.debugString,s=e.details,f=e.heading,p=e.headingDeviation,d=e.gone,y=e.gpsFixType,h=e.label,m=e.localPosition,v=e.missing,g=e.mode,b=e.position,w=e.secondaryLabel,E=e.text,S=e.textSemantics,O=Gw(),x=b||{},A=x.amsl,j=x.ahl,k=x.agl;return c.createElement("div",{className:(0,n.Z)(O.root,d&&O.gone)},(0,Ew.Z)(h,4),c.createElement("span",{className:O.muted},(0,Ew.Z)(w,4)),(s||E)&&c.createElement(Nw.Z,{inline:!0,className:(0,n.Z)(O.pill,O.statusPill),status:S},s||E),!v&&c.createElement(c.Fragment,null,c.createElement(Nw.Z,{inline:!0,className:(0,n.Z)(O.pill,O.modePill),status:"off"},g?(0,lc.QF)(g):"----"),c.createElement(xw.Z,Mw({className:O.batteryIndicator,formatter:o},a)),c.createElement(Zw,{inline:!0,color:i}),c.createElement(Nw.Z,{inline:!0,hollow:!0,className:(0,n.Z)(O.pill,O.gpsPill),status:(0,lc.nP)(y)},(0,lc.b_)(y)),m?(0,ww.Z)(Uw(m),25):b?(0,ww.Z)(l([b.lon,b.lat]),25):c.createElement("span",{className:O.muted},(0,ww.Z)("no position",25)),(0,Ue.default)(A)?c.createElement("span",{className:O.muted},"    \u2014\u2014\u2014"):(0,Ew.Z)(b.amsl.toFixed(1),6)+"m",(0,Ue.default)(j)?c.createElement("span",{className:O.muted},"   \u2014\u2014\u2014"):(0,Ew.Z)(b.ahl.toFixed(1),6)+"m",(0,Ue.default)(k)?c.createElement("span",{className:O.muted},"   \u2014\u2014\u2014"):(0,Ew.Z)(b.agl.toFixed(1),6)+"m",c.createElement(Sw.Z,{status:(t=p,r=t?Math.abs(t):0,r>=20?"error":r>=10?"warning":void 0)},(0,Ew.Z)((0,Ue.default)(f)?"":Math.round(f)+"\xb0",5)),c.createElement("span",{className:O.debugString},u?" "+u:"")))};Vw.propTypes={batteryFormatter:i().instanceOf(Ow.C),batteryStatus:i().shape({cellCount:i().number,charging:i().bool,voltage:i().number,percentage:i().number}),color:i().string,coordinateFormatter:i().func,debugString:i().string,details:i().string,editing:i().bool,gone:i().bool,gpsFixType:i().number,heading:i().number,headingDeviation:i().number,label:i().string,localPosition:i().arrayOf(i().number),missing:i().bool,mode:i().string,position:i().shape({lat:i().number,lon:i().number,amsl:i().number,ahl:i().number,agl:i().number}),secondaryLabel:i().string,text:i().string,textSemantics:i().oneOf(["off","info","success","warning","rth","error","critical"])},Vw.defaultProps={textSemantics:"info"};const Bw=(0,s.$j)((function(){var e=(0,ro.vN)();return function(t,r){var n=r.id,o=(0,ro.Rk)(t,n),a=o?(0,ro.FS)(t,n):0,i=o?(0,ro.gg)(t,n):"black";return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dw(Object(r),!0).forEach((function(t){Fw(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dw(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({batteryFormatter:(0,Yt.KI)(t),color:i,coordinateFormatter:(0,no.EQ)(t),debugString:o?o.debugString:void 0,gpsFixType:o?o.gpsFix.type:void 0,heading:o?o.heading:void 0,headingDeviation:a,localPosition:o?o.localPosition:void 0,missing:!o,mode:o?o.mode:void 0,position:o?o.position:void 0},e(t,r.id))}}))(Vw);var Ww=r(28358),zw=r(41959),Hw=r(49507),Yw=r(85236),qw=["augmentMapping","canAugmentMapping","clearMapping","exportMapping","finishMappingEditorSession","importAllowed","importMapping","removeMissingUAVsFromMapping"];function $w(){return $w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$w.apply(this,arguments)}function Kw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xw(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qw(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Jw={overflow:"ellipsis",userSelect:"none",whiteSpace:"nowrap"},eE=c.forwardRef((function(e,t){var r=e.augmentMapping,n=e.canAugmentMapping,o=e.clearMapping,a=e.exportMapping,i=e.finishMappingEditorSession,l=e.importAllowed,u=e.importMapping,s=e.removeMissingUAVsFromMapping,f=Qw(e,qw),p=Kw(lf(),3),d=p[0],y=p[1],h=p[2];return c.createElement(Ww.Z,$w({ref:t,disableGutters:!0,variant:"dense"},f),c.createElement(W.Z,{disabled:!0},c.createElement(Hw.Z,null)),c.createElement(O.Z,{style:Jw},"Click to edit a single slot."),c.createElement(W.Z,{disabled:!0},c.createElement(Yw.Z,null)),c.createElement(O.Z,{style:Jw},"Drag nodes to rearrange the mapping."),c.createElement(O.Z,{flex:1}),c.createElement(W.Z,{onClick:i},c.createElement(zw.Z,null)),c.createElement(W.Z,{onClick:y},c.createElement(tf.Z,null)),c.createElement(ol.Z,{anchorEl:d,open:null!==d,variant:"menu",onClose:h},c.createElement(F.Z,{disabled:!n,onClick:n?h(r):null},"Assign spares"),c.createElement(nl.Z,null),l&&c.createElement(F.Z,{onClick:h(u)},"Import mapping\u2026"),c.createElement(F.Z,{onClick:h(a)},"Export mapping\u2026"),c.createElement(nl.Z,null),c.createElement(F.Z,{onClick:h(o)},"Clear"),c.createElement(F.Z,{onClick:h(s)},"Clear missing")))}));eE.propTypes={augmentMapping:i().func,canAugmentMapping:i().bool,clearMapping:i().func,exportMapping:i().func,finishMappingEditorSession:i().func,importMapping:i().func,importAllowed:i().bool,removeMissingUAVsFromMapping:i().func,selectedUAVIds:i().array};const tE=(0,s.$j)((function(e){return{canAugmentMapping:(0,tc.Rc)(e),importAllowed:Boolean(window.bridge&&window.bridge.readBufferFromFile)}}),{augmentMapping:Ih.jf,clearMapping:ec.oi,exportMapping:Ih.hd,importMapping:Ih.zL,finishMappingEditorSession:ec.EN,removeMissingUAVsFromMapping:Ih.ie},null,{forwardRef:!0})(eE);var rE=r(14741),nE=(0,Ot.Z)((function(e){return{root:{position:"absolute",width:48,height:48,top:e.spacing(.5),zIndex:1e3},input:{position:"absolute",top:"50%",transform:"translateY(-50%)",fontSize:"1.25rem","& input":{textAlign:"center"},"& input::selection":{backgroundColor:new(Vn())(Wn.ZP.info).darken(.2).string()}}}}),{name:"MappingSlotEditorForGrid"}),oE=function(e){var t=e.cancelMappingEditorSessionAtCurrentSlot,r=e.defaultValue,n=e.commitMappingEditorSessionAtCurrentSlot,o=e.optimizeUIForTouch,a=nE();return c.createElement(O.Z,{className:a.root},c.createElement(rE.Z,{fullWidth:!0,autoFocus:!o,className:a.input,defaultValue:r,onBlur:function(e){n({value:e.target.value})},onFocus:function(e){return e.target.select()},onKeyDown:function(e){return"Enter"===e.key?(n({continuation:e.shiftKey?"prev":"next",value:e.target.value}),e.preventDefault(),!1):"Tab"===e.key?(n({continuation:e.shiftKey?"prevEmpty":"nextEmpty",value:e.target.value}),e.preventDefault(),!1):void("Escape"===e.key&&t())}}))};oE.propTypes={cancelMappingEditorSessionAtCurrentSlot:i().func,defaultValue:i().string,commitMappingEditorSessionAtCurrentSlot:i().func,optimizeUIForTouch:i().bool};const aE=(0,s.$j)((function(e){return{defaultValue:(0,tc.ab)(e),optimizeUIForTouch:(0,Yt.f8)(e)}}),{cancelMappingEditorSessionAtCurrentSlot:ec.dt,commitMappingEditorSessionAtCurrentSlot:ec.$x})(oE);var iE=(0,Ot.Z)((function(e){return{root:{position:"absolute",boxSizing:"border-box",width:64,left:e.spacing(1),top:-5,bottom:-6,zIndex:1e3,backgroundColor:"rgba(0, 0, 0, 0.16)",border:"1px solid rgba(0, 0, 0, 0.5)",borderRadius:e.spacing(.5),boxShadow:"0 0 4px 2px rgba(0, 0, 0, 0.3)",padding:e.spacing(0,.5)},input:{fontFamily:jt.monospacedFont,fontSize:"small",padding:e.spacing(0,.5),position:"absolute",top:"50%",left:0,right:0,transform:"translateY(-50%)","& input":{textAlign:"right"},"& input::selection":{backgroundColor:new(Vn())(Wn.ZP.info).darken(.2).string()}}}}),{name:"MappingSlotEditorForList"}),cE=function(e){var t=e.cancelMappingEditorSessionAtCurrentSlot,r=e.defaultValue,n=e.commitMappingEditorSessionAtCurrentSlot,o=e.optimizeUIForTouch,a=iE();return c.createElement(O.Z,{className:a.root},c.createElement(rE.Z,{fullWidth:!0,autoFocus:!o,className:a.input,defaultValue:r,onBlur:function(e){n({value:e.target.value})},onFocus:function(e){return e.target.select()},onKeyDown:function(e){return"Enter"===e.key?(n({continuation:e.shiftKey?"prev":"next",value:e.target.value}),e.preventDefault(),!1):"Tab"===e.key?(n({continuation:e.shiftKey?"prevEmpty":"nextEmpty",value:e.target.value}),e.preventDefault(),!1):void("Escape"===e.key&&t())}}))};cE.propTypes={cancelMappingEditorSessionAtCurrentSlot:i().func,defaultValue:i().string,commitMappingEditorSessionAtCurrentSlot:i().func,optimizeUIForTouch:i().bool};const lE=(0,s.$j)((function(e){return{defaultValue:(0,tc.ab)(e),optimizeUIForTouch:(0,Yt.f8)(e)}}),{cancelMappingEditorSessionAtCurrentSlot:ec.dt,commitMappingEditorSessionAtCurrentSlot:ec.$x})(cE);var uE=r(80366),sE=r(62617),fE=["cancelMappingEditorSessionAtCurrentSlot"];function pE(){return pE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pE.apply(this,arguments)}function dE(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var yE=(0,Ot.Z)((function(e){return{box:{userSelect:"none",whiteSpace:"nowrap"},divider:{alignSelf:"stretch",height:"auto",margin:e.spacing(1,1)}}}),{name:"MappingSlotEditorToolbar"}),hE=c.forwardRef((function(e,t){var r=e.cancelMappingEditorSessionAtCurrentSlot,n=dE(e,fE),o=yE();return c.createElement(Ww.Z,pE({ref:t,disableGutters:!0,variant:"dense"},n),c.createElement(W.Z,{disabled:!0},c.createElement(sE.Z,null)),c.createElement(O.Z,{className:o.box},c.createElement("kbd",null,"Enter")," Save"),c.createElement(nl.Z,{orientation:"vertical",className:o.divider}),c.createElement(O.Z,{className:o.box},c.createElement("kbd",null,"Tab")," Select next empty slot"),c.createElement(nl.Z,{orientation:"vertical",className:o.divider}),c.createElement(O.Z,{className:o.box},"Hold ",c.createElement("kbd",null,"Shift")," to reverse direction."),c.createElement(O.Z,{flex:1}),c.createElement(W.Z,{onClick:r},c.createElement(uE.Z,null)))}));hE.propTypes={cancelMappingEditorSessionAtCurrentSlot:i().func,finishMappingEditorSession:i().func,selectedUAVIds:i().array};const mE=(0,s.$j)(null,{cancelMappingEditorSessionAtCurrentSlot:ec.dt},null,{forwardRef:!0})(hE);var vE=r(71267),gE=r(85963),bE=r(29594),wE=r(53695),EE=r(98781),SE=r(23736),OE=["label","selected"];function xE(){return xE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xE.apply(this,arguments)}function AE(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function jE(e){return function(e){if(Array.isArray(e))return kE(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return kE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kE(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kE(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var PE=function(e,t){var r={cursor:"hand","& .MuiChip-deleteIcon":{color:"inherit"}};if(e){var n=Vn()(e).hsl().lighten(.08).string();r.color=t.palette.getContrastText(e),r.backgroundColor=e,r.boxShadow="0 0 4px 2px ".concat(e),r["&:focus"]={color:t.palette.getContrastText(e),backgroundColor:[n,"!important"]},r["&:hover"]={color:t.palette.getContrastText(e),backgroundColor:[n,"!important"]},r["& svg"]={color:[t.palette.getContrastText(e),"!important"]}}return r},CE=(0,iw.Z)((function(e){return{root:{backdropFilter:"blur(5px)",background:(0,jt.isThemeDark)(e)?"rgba(36, 36, 36, 0.54)":"rgba(255, 255, 255, 0.8)",borderBottom:"1px solid ".concat(e.palette.divider),minWidth:800,overflow:"hidden",position:"sticky",top:0,zIndex:10,minHeight:39},widgets:{display:"flex",position:"absolute",right:e.spacing(.5),top:e.spacing(1),margin:"auto",zIndex:20,"& div":{margin:e.spacing(0,0,0,.5)}},headerLine:{alignItems:"stretch",cursor:"default",display:"flex",flexWrap:"nowrap",fontFamily:jt.monospacedFont,fontSize:"small",height:38,overflow:"hidden",userSelect:"none",whiteSpace:"pre",width:"100%",zIndex:10},headerLineItem:{lineHeight:"38px",padding:e.spacing(0,.5),"&:last-child":{flex:1}},sortable:{cursor:"pointer","&:hover":{backgroundColor:e.palette.action.hover},transition:e.transitions.create(["background-color"],{duration:e.transitions.duration.short})},sortActive:{textDecoration:"underline",textUnderlineOffset:"4px"},success:PE(Wn.ZP.success,e),warning:PE(Wn.ZP.warning,e),error:PE(Wn.ZP.error,e),chip:PE(null,e),chipActive:PE(Wn.ZP.info,e)}}),{name:"SortAndFilterHeader"}),TE=Object.freeze([{label:"Status",sortKey:SE.$O.STATUS,style:{textAlign:"center",width:78}},{label:"Mode",sortKey:SE.$O.FLIGHT_MODE,style:{textAlign:"center",width:62}},{label:"Battery",sortKey:SE.$O.BATTERY,style:{textAlign:"right",width:62}},{label:"GPS",sortKey:SE.$O.GPS_FIX,style:{textAlign:"center",width:50}},{label:"Position",style:{textAlign:"left",width:198}},{label:"AMSL",sortKey:SE.$O.ALTITUDE_MSL,style:{textAlign:"right",width:58}},{label:"AHL",sortKey:SE.$O.ALTITUDE_HOME,style:{textAlign:"right",width:56}},{label:"AGL",sortKey:SE.$O.ALTITUDE_GROUND,style:{textAlign:"right",width:48}},{label:"Hdg",sortKey:SE.$O.HEADING,style:{textAlign:"center",width:40}},{label:"Details",style:{textAlign:"left"}}]),IE={missionIds:[{label:"sID",sortKey:SE.$O.DEFAULT,style:{textAlign:"right",width:40}},{label:"ID",sortKey:SE.$O.DEFAULT,style:{textAlign:"right",width:32}}].concat(jE(TE)),droneIds:[{label:"ID",sortKey:SE.$O.DEFAULT,style:{textAlign:"right",width:40}},{label:"sID",sortKey:SE.$O.DEFAULT,style:{textAlign:"right",width:32}}].concat(jE(TE))},LE=c.createElement(zw.Z,{style:{fontSize:"inherit",marginLeft:8}}),_E=function(e,t){if(!(Array.isArray(e)&&e.length>0))return t.chip;switch(e[0]){case EE.DB.WITH_WARNINGS:case EE.DB.INACTIVE_ONLY:return t.warning;case EE.DB.WITH_ERRORS:return t.error;default:return t.chipActive}},ZE=c.forwardRef((function(e,t){var r=e.label,n=e.selected,o=AE(e,OE);return c.createElement(F.Z,xE({ref:t,dense:!0,selected:n},o),r)}));function NE(e){var t=e.state,r=e.ref,n=e.action,o=e.popupTrigger,a=void 0===o?"chip":o,i=(0,wE.vW)(t),c=function(e){return t.open(r||e)};return i.onContextMenu=i.onClick,"icon"===a?(i.onDelete=c,n&&(i.onClick=n)):i.onDelete=n||c,i}ZE.propTypes={label:i().string,selected:i().bool};var RE=function(e){var t=e.filters,r=e.layout,o=e.onSetFilter,a=e.onSetSortBy,i=e.onToggleSortDirection,l=e.showMissionIds,u=e.sortBy,s=CE(),f=(0,c.useRef)(),p=(0,wE.o_)({variant:"popover",popupId:"uav-list-sort-options"}),d=(0,c.useRef)(),y=(0,wE.o_)({variant:"popover",popupId:"uav-list-filter-options"}),h=(0,c.useCallback)((function(e){o&&o(e),y.close()}),[o,y]),m=(0,c.useCallback)((function(e){a&&a({key:String(e)}),p.close()}),[a,p]),v=(0,c.useCallback)((function(e){a&&a({reverse:Boolean(e)}),p.close()}),[a,p]),g=(0,c.useCallback)((function(e){e=String(e),u.key===e?i&&i():a&&a({key:String(e)})}),[a,i,u]),b=u.key!==SE.$O.DEFAULT,w=Array.isArray(t)&&t.length>0;return c.createElement("div",{className:s.root},c.createElement("div",{className:s.widgets},c.createElement(vE.Z,xE({ref:f,className:b?s.chipActive:s.chip,variant:"outlined",label:SE.rn[u.key]||"Default",size:"small",deleteIcon:null!=u&&u.reverse?c.createElement(bE.Z,null):c.createElement(Ad.Z,null)},NE({state:p,ref:f.current,action:i}))),c.createElement(ol.Z,(0,wE.wK)(p),c.createElement(F.Z,{dense:!0,disabled:!0},"Sort by"),SE.Jl.map((function(e){return c.createElement(ZE,{key:e,label:SE.wu[e],selected:u.key===e,onClick:function(){return m(e)}})})),c.createElement(nl.Z,{style:{margin:"4px 0"}}),c.createElement(F.Z,{dense:!0,onClick:function(){return v(!1)}},"Ascending",!(null!=u&&u.reverse)&&LE),c.createElement(F.Z,{dense:!0,onClick:function(){return v(!0)}},"Descending",(null==u?void 0:u.reverse)&&LE)),c.createElement(vE.Z,xE({ref:d,className:_E(t,s),variant:"outlined",label:w?t.length>1?"Composite":EE.tA[t[0]]:"Filter",size:"small",deleteIcon:w?void 0:c.createElement(gE.Z,null)},NE({state:y,ref:d.current,action:w?function(){return h(null)}:null}))),c.createElement(ol.Z,(0,wE.wK)(y),c.createElement(F.Z,{dense:!0,disabled:!0},"Filter by"),EE.bw.map((function(e){return c.createElement(ZE,{key:e,label:EE.aC[e],selected:1===t.length&&t[0]===e||e===EE.DB.DEFAULT&&0===t.length,onClick:function(){return h(e)}})})))),c.createElement(Gd,{in:"list"===r},c.createElement("div",{className:s.headerLine},function(e,t,r,o){return"string"==typeof e?e:Array.isArray(e)?e.map((function(e){var a=e.label,i=e.sortKey,l=e.style;return c.createElement("div",{key:a,className:(0,n.Z)(r.headerLineItem,i&&r.sortable,t.key===i&&i!==SE.$O.DEFAULT&&r.sortActive),style:l,onClick:i?function(){return o(i)}:null},a)})):""}(l?IE.missionIds:IE.droneIds,u,s,g))))};RE.propTypes={filters:i().arrayOf(i().string),layout:i().oneOf(["grid","list"]),onSetFilter:i().func,onSetSortBy:i().func,onToggleSortDirection:i().func,showMissionIds:i().bool,sortBy:i().shape({key:i().string,reverse:i().bool})};const DE=(0,s.$j)((function(e){return{filters:(0,Yt.Rf)(e),layout:(0,Yt.WQ)(e),showMissionIds:(0,Yt.QW)(e),sortBy:(0,Yt.UP)(e)}}),{onSetFilter:w.yN,onSetSortBy:w.qX,onToggleSortDirection:w.$U})(RE);var FE=["label","onSelect"];function ME(){return ME=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ME.apply(this,arguments)}function UE(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var GE=function(e){var t=e.label,r=e.onSelect,n=UE(e,FE);return c.createElement(Sm.Z,{disableSticky:!0,flex:"0 0 100%"},c.createElement(N.Z,{control:c.createElement(_.Z,ME({size:"small",onChange:r},n)),label:t}))};GE.propTypes={label:i().string,onSelect:i().func};const VE=GE;var BE=r(92241),WE=r(68454),zE=r(9629),HE=r(44152),YE=r(64059),qE=r(28618);function $E(){return $E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$E.apply(this,arguments)}var KE=(0,Ot.Z)((function(e){return{divider:{alignSelf:"stretch",height:"auto",margin:e.spacing(1,.5)}}}),{name:"StyledDivider"});const XE=function(e){var t=KE();return c.createElement(nl.Z,$E({className:t.divider},e))};var QE=r(4179),JE=r(66047),eS=r(14440);function tS(e){return tS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tS(e)}function rS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rS(Object(r),!0).forEach((function(t){oS(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rS(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oS(e,t,r){var n;return n=function(e,t){if("object"!=tS(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=tS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==tS(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var aS=function(e){var t=e.broadcast,r=e.dispatch,n=e.hideSeparators,o=e.openUAVDetailsDialog,a=e.requestRemovalOfUAVsByIds,i=e.requestRemovalOfUAVsMarkedAsGone,l=e.selectedUAVIds,u=e.size,s=e.startSeparator,f=e.t,p=(0,uh.Z)(l)&&!t,d=1===l.length&&!t,y=(0,kv.DE)((0,Lv.Fj)({getTargetedUAVIds:function(e){return t?(0,ro.lI)(e):l},getTransportOptions:function(e){var r={channel:(0,tc.ML)(e)};return t&&(r.broadcast=!0,r.ignoreIds=!0),r}}),r),h=y.flashLight,m=y.holdPosition,v=y.land,g=y.reset,b=y.returnToHome,w=y.shutdown,E=y.sleep,S=y.takeOff,O=y.turnMotorsOff,x=y.turnMotorsOn,j=y.wakeUp,k="small"===u?"small":"medium",P=u,C="small"===u?c.createElement(A.Z,{startIcon:c.createElement(qE.Z,null),disabled:p,size:P,onClick:h},f("UAVOpButtonGrp.flashLights")):c.createElement(of.kR,{content:f("UAVOpButtonGrp.flashLights")},c.createElement(W.Z,{disabled:p,size:P,onClick:h},c.createElement(qE.Z,{fontSize:k})));return c.createElement(c.Fragment,null,!n&&s&&c.createElement(XE,{orientation:"vertical"}),c.createElement(of.kR,{content:f("UAVOpButtonGrp.takeOff")},c.createElement(W.Z,{disabled:p,size:P,onClick:S},c.createElement(zE.Z,{fontSize:k}))),c.createElement(of.kR,{content:f("UAVOpButtonGrp.positionHold")},c.createElement(W.Z,{disabled:p,size:P,onClick:m},c.createElement(Tv.Z,{fontSize:k}))),c.createElement(of.kR,{content:f("UAVOpButtonGrp.returnToHome")},c.createElement(W.Z,{disabled:p,size:P,onClick:b},c.createElement(Pv.Z,{fontSize:k}))),c.createElement(of.kR,{content:f("UAVOpButtonGrp.land")},c.createElement(W.Z,{disabled:p,size:P,onClick:v},c.createElement(Cv.Z,{fontSize:k}))),!n&&c.createElement(XE,{orientation:"vertical"}),"small"!==u&&c.createElement(c.Fragment,null,c.createElement(of.kR,{content:f("UAVOpButtonGrp.properties")},c.createElement(W.Z,{disabled:!d,size:P,onClick:function(){return o(l[0])}},c.createElement(HE.Z,null))),C),!n&&c.createElement(XE,{orientation:"vertical"}),c.createElement(of.kR,{content:f("UAVOpButtonGrp.armMotors")},c.createElement(W.Z,{disabled:p,size:P,onClick:x},c.createElement(vs.Z,{fontSize:k,htmlColor:p?void 0:Wn.ZP.warning}))),c.createElement(of.kR,{content:f("UAVOpButtonGrp.disarmMotors")},c.createElement(W.Z,{disabled:p,size:P,onClick:O},c.createElement(H.default,{fontSize:k,htmlColor:p?void 0:Wn.ZP.warning}))),"small"===u&&C,!n&&c.createElement(XE,{orientation:"vertical"}),c.createElement(of.kR,{content:f("UAVOpButtonGrp.powerOn")},c.createElement(W.Z,{disabled:p,size:P,onClick:j},c.createElement(QE.Z,{htmlColor:p?void 0:Wn.ZP.success,fontSize:k}))),c.createElement(of.kR,{content:f("UAVOpButtonGrp.sleep")},c.createElement(W.Z,{disabled:p,size:P,onClick:E},c.createElement(YE.Z,{htmlColor:p?void 0:Wn.ZP.warning,fontSize:k}))),c.createElement(of.kR,{content:f("UAVOpButtonGrp.reboot")},c.createElement(W.Z,{disabled:p,size:P,onClick:g},c.createElement(Xv.Z,{htmlColor:p?void 0:Wn.ZP.error,fontSize:k}))),c.createElement(of.kR,{content:f("UAVOpButtonGrp.powerOff")},c.createElement(W.Z,{disabled:p,size:P,onClick:w},c.createElement(Iv.Z,{htmlColor:p?void 0:Wn.ZP.error,fontSize:k}))),"small"!==u&&c.createElement(c.Fragment,null,!n&&c.createElement(XE,{orientation:"vertical"}),c.createElement(of.kR,{content:f(p?"UAVOpButtonGrp.removeItemsMarkedGone":"UAVOpButtonGrp.removeSelectedItems")},c.createElement(W.Z,{size:P,onClick:function(){return p?i():a(l)}},c.createElement(Js.Z,null)))))};aS.propTypes={broadcast:i().bool,dispatch:i().func,openUAVDetailsDialog:i().func,requestRemovalOfUAVsByIds:i().func,requestRemovalOfUAVsMarkedAsGone:i().func,selectedUAVIds:i().arrayOf(i().string),hideSeparators:i().bool,size:i().oneOf(["small","medium"]),startSeparator:i().bool,t:i().func};const iS=(0,s.$j)((function(){return{}}),(function(e){return nS(nS({},(0,kv.DE)({openUAVDetailsDialog:eS.Um,requestRemovalOfUAVsMarkedAsGone:JE.tf,requestRemovalOfUAVsByIds:JE.or},e)),{},{dispatch:e})}))((0,h.Zh)()(aS));var cS=r(3133),lS=r(79361),uS=r(26663);const sS=(0,Vi.Z)(c.createElement("path",{d:"m15.1 19.37 1 1.74c-.96.44-2.01.73-3.1.84v-2.02c.74-.09 1.44-.28 2.1-.56zM4.07 13H2.05c.11 1.1.4 2.14.84 3.1l1.74-1c-.28-.66-.47-1.36-.56-2.1zM15.1 4.63l1-1.74c-.96-.44-2-.73-3.1-.84v2.02c.74.09 1.44.28 2.1.56zM19.93 11h2.02c-.11-1.1-.4-2.14-.84-3.1l-1.74 1c.28.66.47 1.36.56 2.1zM8.9 19.37l-1 1.74c.96.44 2.01.73 3.1.84v-2.02c-.74-.09-1.44-.28-2.1-.56zM11 4.07V2.05c-1.1.11-2.14.4-3.1.84l1 1.74c.66-.28 1.36-.47 2.1-.56zm7.36 3.1 1.74-1.01c-.63-.87-1.4-1.64-2.27-2.27l-1.01 1.74c.59.45 1.1.96 1.54 1.54zM4.63 8.9l-1.74-1c-.44.96-.73 2-.84 3.1h2.02c.09-.74.28-1.44.56-2.1zm15.3 4.1c-.09.74-.28 1.44-.56 2.1l1.74 1c.44-.96.73-2.01.84-3.1h-2.02zm-3.1 5.36 1.01 1.74c.87-.63 1.64-1.4 2.27-2.27l-1.74-1.01c-.45.59-.96 1.1-1.54 1.54zM7.17 5.64l-1-1.75c-.88.64-1.64 1.4-2.27 2.28l1.74 1.01c.44-.59.95-1.1 1.53-1.54zM5.64 16.83l-1.74 1c.63.87 1.4 1.64 2.27 2.27l1.01-1.74c-.59-.44-1.1-.95-1.54-1.53z"}),"MissingSlot");var fS=function(e){var t=e.layout,r=e.mappingEditable,n=e.onToggleShowingEmptyMissionSlots,o=e.setUAVListLayout,a=e.showEmptyMissionSlots,i=e.showMissionIds,l=e.startMappingEditorSession;return c.createElement(c.Fragment,null,i&&c.createElement(of.kR,{content:"Edit mapping"},c.createElement(W.Z,{disabled:r||!i,onClick:l},c.createElement(Qo.Z,null))),c.createElement(Ym,null),c.createElement(of.kR,{content:a?"Hide empty mission slots":"Show empty mission slots"},c.createElement(zm,{value:"showMissing",disabled:!i,selected:a,onClick:n},c.createElement(sS,null))),c.createElement(XE,{orientation:"vertical"}),c.createElement(uS.Z,{exclusive:!0,value:t,onChange:o},c.createElement(zm,{size:"small",value:"grid"},c.createElement(lS.Z,null)),c.createElement(zm,{size:"small",value:"list"},c.createElement(cS.Z,null))))};fS.propTypes={layout:i().oneOf(["grid","list"]),mappingEditable:i().bool,onToggleShowingEmptyMissionSlots:i().func,setUAVListLayout:i().func,showEmptyMissionSlots:i().bool,showMissionIds:i().bool,startMappingEditorSession:i().func};const pS=(0,s.$j)((function(e){return{layout:(0,Yt.WQ)(e),mappingEditable:(0,tc.rT)(e),showEmptyMissionSlots:(0,Yt.BN)(e),showMissionIds:(0,Yt.QW)(e)}}),{clearMapping:ec.oi,onToggleShowingEmptyMissionSlots:function(){return function(e,t){var r=(0,Yt.BN)(t());e((0,C.IA)("display",{hideEmptyMissionSlots:r}))}},startMappingEditorSession:ec._Y,setUAVListLayout:function(e,t){return function(e){t&&e((0,C.IA)("display",{uavListLayout:t}))}}})(fS);var dS=["fitSelectedUAVs","isBroadcast","selectedUAVIds"];function yS(){return yS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yS.apply(this,arguments)}function hS(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var mS=c.forwardRef((function(e,t){var r=e.fitSelectedUAVs,n=e.isBroadcast,o=e.selectedUAVIds,a=hS(e,dS),i=(0,uh.Z)(o);return c.createElement(Ww.Z,yS({ref:t,disableGutters:!0,variant:"dense"},a),c.createElement(O.Z,{width:4}),c.createElement(iS,{broadcast:n,selectedUAVIds:o}),c.createElement(O.Z,{flex:1}),r&&c.createElement(of.kR,{content:i?"Fit all features into view":"Fit selection into view"},c.createElement(W.Z,{style:{float:"right"},onClick:r},i?c.createElement(WE.Z,null):c.createElement(BE.Z,null))),c.createElement(pS,null))}));mS.propTypes={fitSelectedUAVs:i().func,isBroadcast:i().bool,selectedUAVIds:i().array};const vS=(0,s.$j)((function(e){return{isBroadcast:(0,Gi.d)(e)}}),{})(mS);var gS=r(91637),bS=(0,Ot.Z)((function(e){return{root:{position:"absolute",height:e.spacing(1.5),width:e.spacing(1.5),right:-2,top:-2,backgroundColor:e.palette.background.paper,border:"2px solid ".concat(e.palette.background.paper),borderRadius:"50%",boxSizing:"content-box"},light:{position:"absolute",width:"100%",height:"100%",backgroundColor:e.palette.background.paper,borderRadius:"50%",boxSizing:"content-box"},"status-off":{backgroundColor:Wn.ZP.off},"status-success":{backgroundColor:Wn.ZP.success},"status-warning":{backgroundColor:Wn.ZP.warning},"status-rth":{animation:"$flash 0.5s infinite",animationDirection:"alternate",backgroundColor:Wn.ZP.warning},"status-error":{backgroundColor:Wn.ZP.error,color:"white"},"status-critical":{animation:"$flash 0.5s infinite",animationDirection:"alternate",backgroundColor:Wn.ZP.error,color:"white"},"@keyframes flash":{"0%, 49%":{opacity:.5},"50%, 100%":{opacity:1}}}}),{name:"SecondaryStatusLight"}),wS=function(e){var t=e.status,r=bS();return c.createElement("div",{className:(0,n.Z)(r.root)},c.createElement("div",{className:(0,n.Z)(r.light,r["status-".concat(t)])}))};wS.propTypes={status:i().oneOf(["off","success","warning","rth","error","critical"])},wS.defaultProps={status:"off"};const ES=wS;function SS(){return SS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SS.apply(this,arguments)}var OS=(0,Ot.Z)((function(e){return{avatarWrapper:{position:"relative","&:not(:last-child)":{marginBottom:e.spacing(.5)},"&::after":{background:jt.Colors.error,boxShadow:"1px 1px 4px rgba(0, 0, 0, 0.6), 1px 1px 2px rgba(255, 255, 255, 0.3) inset",content:'""',height:4,left:"50%",position:"absolute",top:"calc(50% - 2px)",transform:"rotate(-45deg)",transition:"left 300ms, width 300ms",width:"0%"},"&.crossed::after":{left:"-20%",width:"140%"}},avatarContent:{width:"100%",textAlign:"center"},gone:{opacity:.7},hint:{fontSize:"0.75rem"},hintSeparator:{width:"75%",marginTop:0,marginBottom:2,border:"1px solid",borderBottomWidth:0,opacity:.6,color:"inherit"},progress:{position:"absolute",top:-2,left:-2}}}),{name:"ComplexAvatar"}),xS=function(e){var t=e.AvatarProps,r=e.batteryFormatter,o=e.batteryStatus,a=e.hint,i=e.crossed,l=e.details,u=e.editing,s=e.gone,f=e.id,p=e.label,d=e.progress,y=e.secondaryStatus,h=e.status,m=e.text,v=e.textSemantics,g=OS();h===jt.Status.INFO&&(h=jt.Status.SUCCESS);var b=a||(void 0===p||p===f?"":f);return c.createElement(c.Fragment,null,c.createElement("div",{className:(0,n.Z)(g.avatarWrapper,i&&"crossed",s&&g.gone)},c.createElement(gS.Z,SS({status:u?jt.Status.NEXT:h},t),c.createElement("div",{className:g.avatarContent},void 0===p?f:p,c.createElement("hr",{className:g.hintSeparator}),c.createElement("div",{className:g.hint},b||"\u2014"))),d>0&&c.createElement(bt.Z,{className:g.progress,size:44,value:d,variant:"static"}),y&&c.createElement(ES,{status:y})),(l||m)&&c.createElement(Nw.Z,{status:v},l||m),o&&c.createElement(xw.Z,SS({formatter:r},o)))};xS.propTypes={AvatarProps:i().object,batteryFormatter:i().instanceOf(Ow.C),batteryStatus:i().shape({cellCount:i().number,voltage:i().number,percentage:i().number}),hint:i().string,crossed:i().bool,details:i().string,editing:i().bool,gone:i().bool,id:i().string,label:i().string,progress:i().number,secondaryStatus:i().oneOf(["off","info","success","warning","rth","error","critical"]),selected:i().bool,status:i().oneOf(["off","info","success","warning","rth","error","critical"]),text:i().string,textSemantics:i().oneOf(["off","info","success","warning","rth","error","critical"])},xS.defaultProps={status:"off",textSemantics:"info"};const AS=xS;function jS(e){return jS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jS(e)}function kS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function PS(e,t,r){var n;return n=function(e,t){if("object"!=jS(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=jS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==jS(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var CS=(0,s.$j)((function(){var e=(0,ro.vN)();return(0,Ge.createSelector)(Yt.KI,tc.G5,(function(t,r){var n=r.id;return e(t,n)}),(function(e,t){return t}),(function(e,t,r,n){var o=n.hint,a=n.id,i=n.label,c=n.variant,l=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kS(Object(r),!0).forEach((function(t){PS(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kS(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({batteryFormatter:e},r);return o||i&&i!==a||!(a in t)||(l.hint=(0,qn.Bq)(t[a])),"full"!==c&&(delete l.batteryStatus,delete l.text,delete l.details),l}))}))(AS);CS.propTypes={id:i().string,variant:i().oneOf(["full","minimal"])},CS.defaultProps={variant:"full"};const TS=CS;var IS=new(r(41055).MiniSignal),LS=function(e){return function(t){return IS.dispatch(e,t)}};const _S=IS;function ZS(e){const t="string"==typeof e?document.querySelector(e):e;t&&window.requestAnimationFrame((()=>{t.scrollIntoView({behavior:"auto",block:"nearest",inline:"nearest"})}))}function NS(e){return function(e){if(Array.isArray(e))return RS(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return RS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RS(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RS(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var DS="up",FS="down",MS="left",US="right",GS="previousPage",VS="nextPage";function BS(e){var t=e.dispatch,r=e.activateId,n=e.activateIds,o=e.getNavigationDeltaInDirection,a=e.getVisibleIds,i=e.getSelectedIds,c=e.setFocusToId,l=e.setSelectedIds,u=r||n?function(){return function(e,t){var o=t(),a=i(o);a&&a.length>0&&e(n?n(a):r(a[a.length-1]))}}:void 0,s=function(e,t,r,n){var o=n(),u=a(o);if(0!==u.length){var s=i(o),f=0;if(Number.isFinite(t)){if(s.length>0){var p=s.map((function(e){return u.indexOf(e)})).filter((function(e){return e>=0}));f=t<0?Math.min.apply(Math,[u.length-1].concat(NS(p)))+t:Math.max.apply(Math,[0].concat(NS(p)))+t}f=Math.min(Math.max(f,0),u.length-1)}else f=t<0?0:u.length-1;var d=u[f],y=e.shiftKey?s.includes(d)?null:[].concat(NS(s),[d]):[d];if(c&&!(0,Ue.default)(d)){var h=c(d);"string"==typeof h&&ZS(h)}null!==y&&r(l(y))}},f=function(e){return function(t){return function(r,n){var o=s(t,e,r,n);o&&r(o)}}},p=function(e){return function(t){return function(r,n){t.preventDefault();var a=n(),i=o(a,e);if(0!==i){var c=s(t,i,r,n);c&&r(c)}}}};return(0,kv.DE)({ACTIVATE_SELECTION:u,PAGE_DOWN:p(VS),PAGE_UP:p(GS),SELECT_FIRST:f(Number.NEGATIVE_INFINITY),SELECT_LAST:f(Number.POSITIVE_INFINITY),SELECT_DOWN:p(FS),SELECT_UP:p(DS),SELECT_LEFT:p(MS),SELECT_RIGHT:p(US)},t)}r(19649);var WS=r(48392),zS=r(34156),HS=r.n(zS);function YS(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return qS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qS(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function qS(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $S(){return!0}var KS=HS()((function(e){var t=(0,EE._J)(e);return t?function(e){return function(r){return t(e[r[0]])}}:function(){return $S}})),XS=HS()((function(e){var t=(0,SE.Vl)(e);return t?function(e){return function(r){return t(e[r[0]])}}:function(){return vu.default}}));function QS(e,t,r){var n,o=e||{},a=o.key,i=o.reverse;if(r){var c=XS(a);return(0,WS.Z)(t,(function(e){return(0,Un.X)(e,[c(r)],[i?"desc":"asc"])}))}return i?(n=t,(0,WS.Z)(n,(function(e){return e.concat().reverse()}))):t}function JS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||tO(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eO(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=tO(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function tO(e,t){if(e){if("string"==typeof e)return rO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?rO(e,t):void 0}}function rO(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var nO=[void 0,void 0,c.createElement(Js.Z,{key:"__delete"})],oO=(0,Ge.createSelector)(tc.eP,tc.rT,ro.lI,Yt.BN,(function(e,t,r,n){var o,a=[],i=[],c=[],l=new Set,u=eO(e.entries());try{for(u.s();!(o=u.n()).done;){var s=JS(o.value,2),f=s[0],p=s[1];(0,Ue.default)(p)?(n||t)&&a.push([void 0,f]):(a.push([p,f]),l.add(p))}}catch(e){u.e(e)}finally{u.f()}var d,y=eO(r);try{for(y.s();!(d=y.n()).done;){var h=d.value;l.has(h)||i.push([h,void 0])}}catch(e){y.e(e)}finally{y.f()}return t&&c.push(nO),{mainUAVIds:a,spareUAVIds:i,extraSlots:c}})),aO=(0,Ge.createSelector)(ro.lI,tc.G5,(function(e,t){return{mainUAVIds:e.map((function(e){return[e,t[e]]})),spareUAVIds:[],extraSlots:[]}})),iO=(0,Ge.createSelector)(Yt.Rf,Yt.UP,(function(e){return(0,Yt.QW)(e)?oO(e):aO(e)}),(function(e){var t=(0,Yt.UP)(e).key,r=(0,Yt.Rf)(e);return t===SE.$O.DEFAULT&&0===r.length?null:(0,ro.L8)(e)}),(function(e,t,r,n){var o=function(e,t,r){if(0===e.length)return t;var n,o=YS(e);try{var a=function(){var e=n.value,o=KS(e)(r);t=(0,WS.Z)(t,(function(e){return e.filter(o)}))};for(o.s();!(n=o.n()).done;)a()}catch(e){o.e(e)}finally{o.f()}return t}(e,r,n);return QS(t,o,n)})),cO=(0,Ge.createSelector)(iO,(function(e){var t,r=e.mainUAVIds,n=e.spareUAVIds,o=[],a=eO(r);try{for(a.s();!(t=a.n()).done;){var i=t.value;(0,Ue.default)(i[0])||o.push(i[0])}}catch(e){a.e(e)}finally{a.f()}var c,l=eO(n);try{for(l.s();!(c=l.n()).done;){var u=c.value;o.push(u[0])}}catch(e){l.e(e)}finally{l.f()}return o})),lO=(0,Ge.createSelector)(iO,ro.yi,(function(e,t){return(0,WS.Z)(e,(function(e){var r=e.filter((function(e){return!(0,Ue.default)(e[0])})),n=function(e){return t.includes(e[0])};if(r.length>0){if(n(r[0])){var o=r.every(n);return{checked:o,indeterminate:!o}}return{checked:!1,indeterminate:r.some(n)}}return{checked:!1,indeterminate:!1,disabled:!0}}))}));function uO(e){return uO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uO(e)}var sO=["forceVisible","ids","itemFactory","itemFactoryOptions","layout"];function fO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pO(e,t,r){var n;return n=function(e,t){if("object"!=uO(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=uO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==uO(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dO(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function yO(){return yO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yO.apply(this,arguments)}function hO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||mO(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mO(e,t){if(e){if("string"==typeof e)return vO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vO(e,t):void 0}}function vO(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gO=(0,iw.Z)((function(e){return{appBar:{backgroundColor:(0,jt.isThemeDark)(e)?"#424242":e.palette.background.paper,height:48},toolbar:{position:"absolute",left:0,right:0,top:0}}}),{name:"UAVList"}),bO=(0,iw.Z)((function(e){return{grid:{display:"flex",flexDirection:"row",flexWrap:"wrap","&>div":{padding:e.spacing(1)}},list:{display:"flex",alignItems:"stretch",flexDirection:"column",fontSize:"12px","&>div":{padding:e.spacing(.5),borderBottom:"1px solid ".concat(e.palette.divider)},"&>div:first-child":{borderTop:"1px solid ".concat(e.palette.divider)}}}}),{name:"UAVListSection"}),wO=function(e,t){var r=t.draggable,n=t.isInEditMode,o=t.mappingSlotBeingEdited,a=t.onDropped,i=t.onSelectedMissionSlot,l=t.onSelectedUAV,u=t.onStartEditing,s=t.selectedMissionIndices,f=t.selectedUAVIds,p=t.showMissionIds;return e.map((function(e){var t=hO(e,3),d=t[0],y=t[1],h=t[2],m=void 0!==o&&y===o,v=f.includes(d)||s.includes("".concat(y)),g={onClick:n?function(e){return u(y)}:d?function(e){return l(e,d)}:y?function(e){return i(e,y)}:void 0,onDrop:a?a(y):void 0,editing:m,selected:v};e===nO&&(g.fill=!0);var b=h||(p?void 0===y||n&&void 0!==d?d:(0,qn.Bq)(y):d),w=void 0===d?"placeholder-".concat(b||"null"):d;return void 0===d?c.createElement(bw,yO({key:w,onDrop:a?a(y):void 0},g),m&&c.createElement(aE,null),c.createElement(Yn,{editing:m,label:m?"":b,status:void 0===y?"error":"off"})):c.createElement(bw,yO({key:w,draggable:r,uavId:d},g),m&&c.createElement(aE,null),c.createElement(TS,{id:d,editing:m,label:m?"":b,selected:v}))}))},EO=function(e,t){var r=t.isInEditMode,n=t.mappingSlotBeingEdited,o=t.onDropped,a=t.onSelectedUAV,i=t.onSelectedMissionSlot,l=t.onStartEditing,u=t.selectedUAVIds,s=t.selectedMissionIndices,f=t.showMissionIds;return e.map((function(e){if(e===nO)return null;var t=hO(e,3),p=t[0],d=t[1],y=t[2],h=r&&d===n,m=u.includes(p)||s.includes("".concat(d)),v={onClick:r?function(e){return l(d)}:p?function(e){return a(e,p)}:d?function(e){return i(e,d)}:void 0,onDrop:o?o(d):void 0,editing:h,selected:r?h:m},g=void 0!==d,b=g?(0,qn.Bq)(d):"",w=y||(f&&g?b:p),E=h||f&&!g?"":f?p:b,S=void 0===p?"placeholder-".concat(w||"null"):p;return c.createElement(bw,yO({key:S,stretch:!0,uavId:p},v),h&&c.createElement(lE,null),c.createElement(Bw,{id:p,label:w,secondaryLabel:E}))}))},SO=function(e){var t=e.forceVisible,r=e.ids,n=e.itemFactory,o=e.itemFactoryOptions,a=e.layout,i=dO(e,sO),l=bO();return r.length<=0&&!t?null:c.createElement(c.Fragment,null,c.createElement(VE,i),c.createElement(O.Z,{className:"grid"===a?l.grid:l.list},n(r,o)))};SO.propTypes={forceVisible:i().bool,ids:i().array,itemFactory:i().func,itemFactoryOptions:i().object,layout:i().oneOf(["grid","list"])};var OO=function(e){var t,r,n=e.containerDOMNodeId,o=e.editingMapping,a=e.keyboardNav,i=e.layout,l=e.mappingSlotBeingEdited,u=e.onEditMappingSlot,s=e.onMappingAdjusted,f=e.onSelectUAV,p=e.onSelectMissionSlot,d=e.onSelectSection,y=e.selectedUAVIds,h=e.selectedMissionIndices,m=e.selectionInfo,v=e.showMissionIds,g=e.uavIds,b=gO();t=a,r=(0,c.useCallback)((function(e,r){var n=t[e];n&&n(r)}),[t]),gb(_S,r);var w,E,S,x=(0,c.useCallback)((function(e){return function(t){return s({uavId:t,to:e})}}),[s]),A=hO((w=(0,c.useRef)(null),E=(0,c.useRef)(0),S=(0,c.useCallback)((function(e){E.current=e.target.scrollTop}),[E]),(0,c.useLayoutEffect)((function(){w.current.scrollTop=E.current})),[w,S]),2),j=A[0],k=A[1],P=g.mainUAVIds,C=g.spareUAVIds,T=g.extraSlots,I="grid"===i?wO:EO,L={draggable:o,isInEditMode:o,mappingSlotBeingEdited:l,onDropped:o&&x,onSelectedUAV:f,onSelectedMissionSlot:p,onStartEditing:u,selectedUAVIds:y,selectedMissionIndices:h,showMissionIds:v},_=c.createElement(O.Z,{display:"flex",flexDirection:"column",height:"100%"},c.createElement(aw.Z,{color:"default",position:"static",className:b.appBar},c.createElement(Gd,{mountOnEnter:!0,unmountOnExit:!0,in:!o},c.createElement(vS,{className:b.toolbar,selectedUAVIds:y})),c.createElement(Gd,{mountOnEnter:!0,unmountOnExit:!0,in:o&&l<0},c.createElement(tE,{className:b.toolbar})),c.createElement(Gd,{mountOnEnter:!0,unmountOnExit:!0,in:o&&l>=0},c.createElement(mE,{className:b.toolbar}))),c.createElement(O.Z,{ref:j,flex:1,overflow:"auto",id:n,onScroll:k},c.createElement(DE,{layout:i}),c.createElement(SO,yO({ids:P,itemFactory:I,itemFactoryOptions:L,label:v?"Assigned UAVs":"All UAVs",layout:i,value:"mainUAVIds",onSelect:d},m.mainUAVIds)),c.createElement(SO,yO({ids:C,itemFactory:I,itemFactoryOptions:L,label:"Spare UAVs",layout:i,value:"spareUAVIds",forceVisible:o,onSelect:d},m.spareUAVIds))),T.length>0&&"grid"===i?c.createElement(O.Z,{className:"bottom-bar"},c.createElement(O.Z,{display:"flex",flexDirection:"row",flexWrap:"wrap"},wO(T,L))):null);return o?c.createElement(Jv.W,{backend:tg.PD},_):_};OO.propTypes={containerDOMNodeId:i().string,editingMapping:i().bool,keyboardNav:i().object,mappingSlotBeingEdited:i().number,layout:i().oneOf(["list","grid"]),onEditMappingSlot:i().func,onMappingAdjusted:i().func,onSelectUAV:i().func,onSelectMissionSlot:i().func,onSelectSection:i().func,selectedUAVIds:i().array,selectedMissionIndices:i().array,selectionInfo:i().exact({mainUAVIds:i().exact({checked:i().bool,disabled:i().bool,indeterminate:i().bool}),spareUAVIds:i().exact({checked:i().bool,disabled:i().bool,indeterminate:i().bool}),extraSlots:i().exact({checked:i().bool,disabled:i().bool,indeterminate:i().bool})}),showMissionIds:i().bool,uavIds:i().exact({mainUAVIds:i().arrayOf(i().array).isRequired,spareUAVIds:i().arrayOf(i().array).isRequired,extraSlots:i().arrayOf(i().array).isRequired}).isRequired};var xO=(0,s.$j)((function(e){return{editingMapping:(0,tc.rT)(e),mappingSlotBeingEdited:(0,tc.mb)(e),layout:(0,Yt.WQ)(e),selectedUAVIds:(0,ro.yi)(e),selectedMissionIndices:(0,tc.bY)(e),selectionInfo:lO(e),showMissionIds:(0,Yt.QW)(e),uavIds:iO(e)}}),(function(){var e="__keyboardNav-".concat((0,ow.x0)()),t=function(){var t=document.querySelector("#".concat(e)),r=((null==t?void 0:t.getBoundingClientRect())||{}).width;return"number"==typeof r&&r>0?Math.max(1,Math.floor(r/80)):1},r=function(e,r){if("vertical"===(0,Yt.Qr)(e))switch(r){case FS:return 1;case DS:return-1;case VS:return 10;case GS:return-10;default:return 0}else switch(r){case MS:return-1;case US:return 1;case DS:case GS:return-t();case FS:case VS:return t();default:return 0}};return function(t){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fO(Object(r),!0).forEach((function(t){pO(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fO(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({containerDOMNodeId:e,keyboardNav:BS({dispatch:t,activateId:eS.Um,getNavigationDeltaInDirection:r,getVisibleIds:cO,getSelectedIds:ro.yi,getLayout:Yt.Qr,setSelectedIds:JE.D0,setFocusToId:function(e){return"#".concat(lw(e))}})},(0,kv.DE)({onEditMappingSlot:ec.xG,onMappingAdjusted:ec.QD,onSelectUAV:(0,is.cF)({activateItem:eS.Um,getSelection:ro.yi,setSelection:JE.D0}),onSelectMissionSlot:(0,is.cF)({getSelection:tc.bY,setSelection:Ih.BM}),onSelectSection:function(e){return function(t,r){var n=e.target.value,o=r(),a=iO(o)[n],i=(0,ro.yi)(o),c=lO(o)[n];if(c&&a){var l,u=[],s=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=mO(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}(a);try{for(s.s();!(l=s.n()).done;){var f=l.value;(0,Ue.default)(f[0])||u.push(f[0])}}catch(e){s.e(e)}finally{s.f()}var p=c.checked?(0,rw.Z)(i,u):(0,nw.Z)(i,u);t((0,JE.D0)(p))}}}},t))}}))(OO);const AO=xO;var jO=r(63274),kO=r(86388),PO=r(37155),CO=r(69500),TO=r(57864),IO=function(e){var t=e.mode,r=e.onChange,n=e.onResetZoom,o=e.onRotateCameraTowardsDrones;return c.createElement(c.Fragment,null,c.createElement(uS.Z,{size:"small"},c.createElement(zm,{selected:"walk"===t,value:"walk",onClick:function(){return r("walk")}},"Walk"),c.createElement(zm,{selected:"fly"===t,value:"fly",onClick:function(){return r("fly")}},"Fly")),c.createElement(XE,{orientation:"vertical"}),c.createElement(pt.default,{content:"Reset zoom"},c.createElement(W.Z,{disableRipple:!0,disabled:!n,onClick:n},c.createElement(TO.Z,null))),c.createElement(pt.default,{content:"Rotate camera towards drones"},c.createElement(W.Z,{disableRipple:!0,disabled:!o,onClick:o},c.createElement(CO.Z,null))))};IO.propTypes={mode:i().oneOf(["walk","fly"]),onChange:i().func,onResetZoom:i().func,onRotateCameraTowardsDrones:i().func};const LO=IO;var _O=r(94537);function ZO(e){return ZO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZO(e)}function NO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function RO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?NO(Object(r),!0).forEach((function(t){DO(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NO(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function DO(e,t,r){var n;return n=function(e,t){if("object"!=ZO(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ZO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ZO(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var FO={display:"inline-block",transform:"translateY(1px)"},MO={whiteSpace:"nowrap"},UO={walk:c.createElement("div",{style:MO},c.createElement("div",{style:FO},c.createElement("kbd",null,"Arrows"),c.createElement("span",null," Walk around "),c.createElement("kbd",null,"E"),c.createElement("kbd",null,"C"),c.createElement("span",null," Altitude "),c.createElement("kbd",null,"Shift"),c.createElement("span",null," Run ")),c.createElement(W.Z,{disabled:!0},c.createElement(Hw.Z,null)),c.createElement("div",{style:RO(RO({},FO),{},{marginLeft:-8})},"Look around")),fly:c.createElement("div",{style:MO},c.createElement("div",{style:FO},c.createElement("kbd",null,"\u2191"),c.createElement("kbd",null,"\u2193"),c.createElement("span",null," Fly forward / backward "),c.createElement("kbd",null,"\u2190"),c.createElement("kbd",null,"\u2192"),c.createElement("span",null," Move sideways "),c.createElement("kbd",null,"E"),c.createElement("kbd",null,"C"),c.createElement("span",null," Altitude ")),c.createElement(W.Z,{disabled:!0},c.createElement(Hw.Z,null)),c.createElement("div",{style:RO(RO({},FO),{},{marginLeft:-8})},"Look around"))},GO=function(e){var t=e.mode;return c.createElement(O.Z,{mx:1,flex:1,alignSelf:"stretch",position:"relative"},c.createElement(_O.Z,null,c.createElement(Gd,{key:t},c.createElement(O.Z,{position:"absolute",left:0,top:0,bottom:0,display:"flex",flexDirection:"column",justifyContent:"center"},UO[t]||"No instructions for this navigation mode"))))};GO.propTypes={mode:i().oneOf(["walk","fly"])};const VO=GO;var BO=["children"];function WO(){return WO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WO.apply(this,arguments)}function zO(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var HO=function(e){var t=e.children,r=zO(e,BO);return c.createElement(O.Z,WO({position:"absolute",zIndex:1},r),t)};HO.propTypes={children:i().oneOfType([i().node,i().arrayOf(i().node)])};const YO=HO;var qO=r(73521),$O=["onChange","value"];function KO(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var XO=function(e){var t=e.onChange,r=e.value;KO(e,$O);return c.createElement(zm,{value:"dark",selected:r,onChange:t},c.createElement(qO.Z,null))};XO.propTypes={onChange:i().func,value:i().bool};const QO=XO;var JO=r(27170),ex=r(43994),tx=c.createRef();function rx(){for(var e=tx.current;e&&e.nodeName&&"a-scene"!==e.nodeName.toLowerCase();)e=e.parentNode;if(e&&e.nodeName&&"a-scene"===e.nodeName.toLowerCase())return e}var nx=r(84347);function ox(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return ax(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ax(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function ax(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ix=ex.Z.THREE;function cx(e){return cx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cx(e)}function lx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ux(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lx(Object(r),!0).forEach((function(t){sx(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lx(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function sx(e,t,r){var n;return n=function(e,t){if("object"!=cx(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=cx(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==cx(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var fx=(0,d.ZP)((function(){return Promise.all([r.e(529),r.e(797)]).then(r.bind(r,52047))})),px=(0,iw.Z)((function(e){return{appBar:{backgroundColor:(0,jt.isThemeDark)(e)?"#424242":e.palette.background.paper,height:48},toolbar:{position:"absolute",left:e.spacing(1),right:e.spacing(1),top:0}}}),{name:"ThreeDTopLevelView"}),dx=function(e){var t=e.hasMapCoordinateSystem,r=e.lighting,n=e.navigation,o=e.onResetZoom,a=e.onRotateCameraTowardsDrones,i=e.onSetNavigationMode,l=e.onShowSettings,u=e.onToggleLightingConditions,s=px(),f=(0,c.useRef)(null),p=(0,kO.Z)({onResize:function(){f.current&&f.current.resize()}}).ref;return c.createElement(jO.IgnoreKeys,{style:{height:"100%"}},c.createElement(O.Z,{display:"flex",flexDirection:"column",height:"100%"},c.createElement(aw.Z,{color:"default",position:"static",className:s.appBar},c.createElement(Ww.Z,{disableGutters:!0,variant:"dense",className:s.toolbar},c.createElement(LO,{mode:n.mode,parameters:n.parameters,onChange:i,onResetZoom:o,onRotateCameraTowardsDrones:a}),c.createElement(XE,{orientation:"vertical"}),c.createElement(VO,{mode:n.mode}),c.createElement(QO,{value:"dark"===r,onChange:u}))),c.createElement(O.Z,{ref:p,position:"relative",flex:1},c.createElement(JO.Z,null,c.createElement(fx,{ref:f,cameraRef:tx})),!t&&c.createElement(YO,{left:8,right:8,top:8},c.createElement(cb.Z,{severity:"warning",action:c.createElement(W.Z,{color:"inherit",size:"small",onClick:l},c.createElement(Pi.Z,null))},c.createElement(PO.Z,null,"No map coordinate system specified"),c.createElement("div",null,"Drones will become visible when a coordinate system is specified in the ",c.createElement("strong",null,"Settings")," dialog."))))))};dx.propTypes={hasMapCoordinateSystem:i().bool,lighting:i().string,navigation:i().shape({mode:i().string,parameters:i().object}),onResetZoom:i().func,onRotateCameraTowardsDrones:i().func,onSetNavigationMode:i().func,onShowSettings:i().func,onToggleLightingConditions:i().func};const yx={BeaconList:ms,ClockDisplayList:Ts,ConnectionList:Us,DatasetList:Ws,DockList:Qs,FeatureList:Ef,LayerList:kf,LCDClockPanel:Ep,LightControlPanel:Qp,LogPanel:ny,MessagesPanelView:ih,SavedLocationList:wd,ShowControlPanel:tw,UAVList:AO,ThreeDTopLevelView:(0,s.$j)((function(e){return ux(ux({hasMapCoordinateSystem:(0,ke.H_)(e)},e.threeD),{},{lighting:(0,Yt.yI)(e)})}),{onResetZoom:nx.uN,onRotateCameraTowardsDrones:function(){return function(e,t){var r=t(),n=(0,ro.Xe)(r);if(0!==n.length){var o,a=(o=rx())?o.querySelector("a-drone-flock"):void 0,i=null==a?void 0:a.components["drone-flock"];if(i){var c,l=new ix.Vector3,u=0,s=ox(n);try{for(s.s();!(c=s.n()).done;){var f=c.value,p=i.getEntityForUAVById(f),d=null==p?void 0:p.getAttribute("position");d&&(l.add(d),u+=1)}}catch(e){s.e(e)}finally{s.f()}u>0&&(l.divideScalar(u),e((0,nx.S8)(l.toArray())))}}else e((0,bu.x)("No active UAVs to focus the view on."))}},onSetNavigationMode:nx.oJ,onShowSettings:function(){return function(e){e((0,w.Hy)("display")),e((0,w.jZ)())}},onToggleLightingConditions:C.Ok})(dx)};function hx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mx(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mx(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var vx=(0,d.ZP)((function(){return Promise.all([r.e(822),r.e(69)]).then(r.bind(r,711))})),gx=(0,d.ZP)((function(){return r.e(842).then(r.bind(r,62022))}));r(20221);var bx=function(){return c.createElement(Ao.Z,{text:"This component is not available in this version"})},wx={"beacon-list":{component:yx.BeaconList,label:"Beacons",detachable:!0,feature:"beacons"},"connection-list":{component:yx.ConnectionList,label:"Connections"},"dataset-list":{component:yx.DatasetList,label:"Datasets",detachable:!0},"dock-list":{component:yx.DockList,label:"Docks",detachable:!0,feature:"docks"},"feature-list":{component:yx.FeatureList,label:"Features",detachable:!0,feature:"features"},"field-notes":{component:vx,label:"Field notes"},"ground-control-view":{component:(0,ts.f1)(yx.GroundControlView),label:"Ground control"},"layer-list":{component:yx.LayerList,label:"Layers",detachable:!0},"light-control":{component:yx.LightControlPanel,label:"Light control",detachable:!0,feature:"showControl"},"lcd-clock-panel":{component:yx.LCDClockPanel,label:"Clocks",detachable:!0},"log-panel":{component:yx.LogPanel,label:"Event log",detachable:!0},map:{component:gx,label:"Map",detachable:!0},messages:{component:yx.MessagesPanelView,label:"Messages"},placeholder:{component:function(){return null},label:"Placeholder"},"saved-location-list":{component:yx.SavedLocationList,label:"Locations",detachable:!0},"show-control":{component:yx.ShowControlPanel,label:"Show control",detachable:!0,feature:"showControl"},"three-d-view":{component:yx.ThreeDTopLevelView,label:"3D View",feature:"threeDView"},"uav-list":{component:(0,ts.f1)(yx.UAVList),label:"UAVs",detachable:!0}};var Ex=function(e){for(var t=new u.Kx,r=function(){var e,r=hx(o[n],2),a=r[0],i=r[1];t.registerComponent(a,function(e){return i.feature?(t=i.feature,r=e,(0,ns.U6)(t)?r:bx):e;var t,r}((e=i.component,i.detachable?Wu(a,i.label,e):e)))},n=0,o=Object.entries(wx);n<o.length;n++)r();var a=t.build(),i=Ju(wx,a)((0,ns.jl)()),c=i.isFixed,l=i.state;return a.restoreState(l),e.dispatch((0,es.Gw)(l.settings.hasHeaders)),e.dispatch((0,es.Tm)(c)),a.fallback=bx,a.on("stateChanged",(0,Su.Z)((function(){e.dispatch((0,es.Eh)(a))}),1e3)),a}(rs.ZP);Ae.Z.on("languageChanged",(function(){Ex.forEach((function(e){e.isComponent&&e.setTitle(Ae.Z.t("view.".concat(e.config.component)))}))}));var Sx=c.createContext(Ex);const Ox=Ex;var xx=r(63790),Ax=function(e){var t=e.id,r=e.label,n=e.onClick,o=e.pillWidth,a=e.status,i=e.uavIds;return c.createElement(lt.Z,{key:t,button:!0,disableGutters:!0,onClick:n},c.createElement(O.Z,{width:o},c.createElement(Nw.Z,{status:a},r)),c.createElement(O.Z,{width:36,mx:1},c.createElement(Nw.Z,{status:Pc.q.OFF},i.length)),(0,qn.C_)(i,{maxCount:5}))};Ax.propTypes={id:i().string,label:i().string,onClick:i().func,pillWidth:i().number,status:i().oneOf(Object.values(Pc.q)),uavIds:i().arrayOf(i().string)},Ax.defaultProps={pillWidth:80};const jx=Ax;function kx(){return kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kx.apply(this,arguments)}function Px(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Cx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cx(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Cx(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Tx=(0,Ge.createSelector)(ro.L8,ro.lI,(function(e,t){var r,n={},o=Px(t);try{for(o.s();!(r=o.n()).done;){var a=r.value,i=e[a];if(i){var c=(0,ro.d9)(i),l=c.text,u=c.textSemantics,s="".concat(u,":").concat(l);void 0===n[s]?n[s]={id:s,label:l,priority:-(0,Pc._)(u),status:u,uavIds:[a]}:n[s].uavIds.push(a)}}}catch(e){o.e(e)}finally{o.f()}for(var f=0,p=Object.values(n);f<p.length;f++){var d=p[f];d.uavIds=(0,Un.X)(d.uavIds)}return(0,Gr.Z)(n,["priority","label"])})),Ix=(0,is.P7)((function(e,t){return c.createElement(jx,kx({key:e.id},e,{onClick:t.onClick?function(r){r.preventDefault(),r.stopPropagation(),t.onClick(null==e?void 0:e.uavIds,r)}:null}))}),{dataProvider:"items",backgroundHint:c.createElement(h.Wb,null,(function(e){return c.createElement(Ao.Z,{text:e("UAVStatus.noConnected")})})),listFactory:(0,Ko.Z)(c.createElement,Xi.Z)});const Lx=(0,s.$j)((function(e){return{items:Tx(e)}}),{onClick:(0,xx.Z)(JE.D0)})(Ix);var _x=["counts"];function Zx(){return Zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zx.apply(this,arguments)}function Nx(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Rx(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Dx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dx(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Dx(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Fx=(0,Ge.createSelector)(ro.L8,ro.lI,(function(e,t){var r,n=[0,0,0,0],o=Rx(t);try{for(o.s();!(r=o.n()).done;){var a=e[r.value];if(a)switch((0,ro.nK)(a)){case Pc.q.CRITICAL:case Pc.q.ERROR:n[3]+=1;break;case Pc.q.GONE:break;case Pc.q.SUCCESS:n[0]+=1;break;case Pc.q.INFO:n[1]+=1;break;default:n[2]+=1}}}catch(e){o.e(e)}finally{o.f()}return n})),Mx=(0,Eu.y)(Fx,vu.default),Ux=(0,Ot.Z)((function(e){return{root:{fontSize:"1rem"},inner:{alignItems:"center",display:"flex",height:"100%",marginRight:e.spacing(-1.5),padding:e.spacing(1)},counter:{padding:e.spacing(0,1.5,0,.5),userSelect:"none"},off:{opacity:.5}}}),{name:"UAVStatusSummary"}),Gx=[Pc.q.SUCCESS,Pc.q.INFO,Pc.q.WARNING,Pc.q.ERROR],Vx=function(e){var t=e.counts,r=Nx(e,_x),o=Ux();return c.createElement($i.Z,{interactive:!0,content:c.createElement(Lx,null)},c.createElement(O.Z,Zx({className:(0,n.Z)(o.root,"wb-module")},r),c.createElement("div",{className:o.inner},Gx.map((function(e,r){return c.createElement(c.Fragment,{key:e},c.createElement(gu.default,{inline:!0,status:t[r]>0?e:Pc.q.OFF}),c.createElement("div",{className:(0,n.Z)(o.counter,t[r]<=0&&o.off)},t[r]))})))))};Vx.propTypes={counts:i().arrayOf(i().number)};var Bx=function(e,t){return function(){e&&(e.bringToFront("uavs")||t((0,bu.c)({message:"UAVs panel is not added to the workbench yet",semantics:wu.j.WARNING})))}},Wx=(0,s.$j)((function(e){return{counts:Mx(e)}}),(function(e,t){return{onClick:Bx(t.workbench,e)}}))(Vx);var zx=Ju(wx,Ox),Hx=u.kT.fromArray((0,ns.U6)("perspectives")?o.Z.perspectives.map(zx):[]);Hx.isModified=function(){return!1};const Yx=Hx;function qx(e){return qx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qx(e)}function $x(){$x=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==qx(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(qx(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function Kx(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}var Xx={color:Wn.ZP.info,offset:[3,3]},Qx=function(e){var t=e.switchToPerspective;return c.createElement(u.Ll,{badgeProps:Xx,editable:!1,storage:Yx,workbench:Ox,onChange:function(e){return t(e),!1}})};Qx.propTypes={switchToPerspective:i().func.isRequired};const Jx=(0,s.$j)((function(){return{}}),{switchToPerspective:function(e){return function(){var t,r=(t=$x().mark((function t(r){var n;return $x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Yx.get(e);case 2:n=t.sent,r((0,es.Gw)(n.state.settings.hasHeaders)),r((0,es.Tm)(n.isFixed));case 5:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(e){Kx(a,n,o,i,c,"next",e)}function c(e){Kx(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}()}})(Qx),eA=(0,Vi.Z)(c.createElement("g",{transform:"scale(0.11790425)"},c.createElement("path",{d:"M 201.359,137.3 157.528,93.469 168.981,82.017 c 1.407,-1.407 2.197,-3.314 2.197,-5.304 0,-1.989 -0.79,-3.896 -2.197,-5.304 L 132.146,34.575 c -2.929,-2.928 -7.677,-2.928 -10.606,0 L 110.088,46.027 66.253,2.196 c -2.93,-2.928 -7.678,-2.928 -10.606,0 L 18.813,39.03 c -2.929,2.93 -2.929,7.678 0,10.607 L 62.644,93.468 51.191,104.92 c -1.407,1.407 -2.197,3.314 -2.197,5.304 0,1.99 0.79,3.896 2.197,5.304 l 36.837,36.836 c 1.464,1.464 3.384,2.196 5.303,2.196 1.919,0 3.839,-0.732 5.303,-2.196 l 11.453,-11.453 43.83,43.83 c 1.465,1.464 3.384,2.196 5.303,2.196 1.919,0 3.839,-0.732 5.303,-2.196 l 36.835,-36.834 c 1.407,-1.407 2.197,-3.314 2.197,-5.304 0.001,-1.989 -0.789,-3.896 -2.196,-5.303 z M 34.723,44.334 60.95,18.107 99.48,56.633 82.314,73.799 73.251,82.862 Z m 58.608,92.12 -26.23,-26.229 11.448,-11.447 c 0.002,-0.002 0.003,-0.003 0.005,-0.005 L 90.997,86.33 126.842,50.486 153.071,76.714 141.625,88.16 c -0.003,0.003 -0.005,0.005 -0.007,0.007 l -18.417,18.418 z m 65.89,32.377 -38.527,-38.526 26.229,-26.229 38.527,38.527 z"}),c.createElement("path",{d:"M 72.344,188.555 C 57.027,188.556 42.627,182.591 31.796,171.76 20.965,160.929 15,146.528 15,131.211 c 0,-4.143 -3.358,-7.5 -7.5,-7.5 -4.143,0 -7.5,3.358 -7.5,7.5 0,19.324 7.526,37.491 21.189,51.155 13.663,13.664 31.829,21.189 51.152,21.189 0.001,0 0.002,0 0.004,0 4.142,0 7.499,-3.358 7.499,-7.5 0.001,-4.143 -3.358,-7.5 -7.5,-7.5 z"}),c.createElement("path",{d:"m 69.346,174.133 c 4.142,0 7.5,-3.357 7.5,-7.5 0,-4.143 -3.358,-7.5 -7.5,-7.5 -6.658,0 -12.916,-2.593 -17.624,-7.3 -4.707,-4.707 -7.299,-10.965 -7.299,-17.622 0,-4.142 -3.357,-7.5 -7.5,-7.5 v 0 c -4.142,0 -7.5,3.358 -7.5,7.5 -10e-4,10.663 4.152,20.688 11.693,28.229 7.54,7.541 17.566,11.693 28.23,11.693 z"})),"Satellite");function tA(){return tA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tA.apply(this,arguments)}function rA(e){return function(e){if(Array.isArray(e))return oA(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||nA(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nA(e,t){if(e){if("string"==typeof e)return oA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oA(e,t):void 0}}function oA(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var aA=(0,Ge.createSelector)(ro.L8,ro.lI,(function(e,t){var r,n={},o=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=nA(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}(t);try{for(o.s();!(r=o.n()).done;){var a=r.value,i=e[a];if(i&&i.gpsFix){var c=i.gpsFix.type,l=String(c);if(void 0===n[l]){var u=(0,lc.nP)(c);n[l]={id:l,label:(0,lc.b_)(c)||"\u2014",priority:-(0,Pc._)(u),status:u,uavIds:[a]}}else n[l].uavIds.push(a)}}}catch(e){o.e(e)}finally{o.f()}for(var s=0,f=Object.values(n);s<f.length;s++){var p=f[s];p.uavIds=(0,Un.X)(p.uavIds)}return(0,uh.Z)(n)?[]:[null].concat(rA((0,Gr.Z)(n,["priority","label"])))})),iA=(0,is.P7)((function(e,t){return e?c.createElement(jx,tA({key:e.id},e,{pillWidth:48,onClick:t.onClick?function(r){r.preventDefault(),r.stopPropagation(),t.onClick(null==e?void 0:e.uavIds,r)}:null})):c.createElement(Qi.Z,{key:"__divider"})}),{dataProvider:"items",listFactory:(0,Ko.Z)(c.createElement,Xi.Z)});const cA=(0,s.$j)((function(e){return{items:aA(e)}}),{onClick:(0,xx.Z)(JE.D0)})(iA);r(25847);function lA(e){return lA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lA(e)}function uA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uA(Object(r),!0).forEach((function(t){fA(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uA(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fA(e,t,r){var n;return n=function(e,t){if("object"!=lA(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=lA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==lA(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return dA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dA(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dA(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var yA=function(e){return"ecef"===e.rtk.dialog.antennaPositionFormat},hA=(0,Ge.createSelector)((function(e){return e.rtk.stats.antenna}),no.EQ,yA,(function(e,t,r){if(r){var n=(e||{}).positionECEF;return n&&Array.isArray(n)?"[".concat((n[0]/1e3).toFixed(3),", ").concat((n[1]/1e3).toFixed(3),", ").concat((n[2]/1e3).toFixed(3),"]"):void 0}var o=(e||{}).position;return o?t(o):void 0})),mA=(0,Ge.createSelector)((function(e){return e.rtk.stats.antenna}),hA,(function(e,t){if(!e)return{position:void 0,description:void 0};var r={position:t},n=String(e.serialNumber||"");return n&&n.length>0?r.description="".concat(e.descriptor||""," / SN: ").concat(n):r.description=String(e.descriptor||""),r})),vA=(0,Ge.createSelector)((function(e){return e.rtk.stats.messages}),(function(e){return(0,Gr.Z)(Object.entries(e||{}).map((function(e){var t=pA(e,2);return sA({id:t[0]},t[1])})),"id")})),gA=(0,Ge.createSelector)((function(e){return e.rtk.stats.satellites}),(function(e){return(0,Gr.Z)(Object.entries(e||{}).map((function(e){var t=pA(e,2);return sA({id:t[0]},t[1])})),"id")})),bA=(0,Ge.createSelector)((function(e){return e.rtk.stats.satellites}),(function(e){return Object.keys(e||{})})),wA=function(e){return bA(e).length},EA=(0,Ge.createSelector)((function(e){return e.rtk.stats.satellites}),(function(e){for(var t=0,r=0,n=Object.values(e||{});r<n.length;r++){n[r].cnr>=40&&t++}return t})),SA=(0,Ge.createSelector)((function(e){return e.rtk.stats.survey}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.accuracy,r=e.flags;return{accuracy:t,supported:Boolean(1&r),active:Boolean(2&r),valid:Boolean(4&r)}})),OA=function(e){return e.rtk.dialog.surveySettingsEditorVisible},xA={"rtcm2/1":"Differential GPS Corrections","rtcm2/2":"Delta Differential GPS Corrections","rtcm2/3":"GNSS Reference Station Parameters","rtcm2/4":"Reference Station Datum","rtcm2/5":"GPS Constellation Health","rtcm2/6":"GPS Null Frame","rtcm2/7":"DGPS Radiobeacon Almanac","rtcm2/8":"Pseudolite Almanac","rtcm2/9":"GPS Partial Correction Set","rtcm2/14":"GPS Time of Week","rtcm2/15":"Ionospheric Delay Message","rtcm2/16":"GPS Special Message","rtcm2/18":"RTK Uncorrected Carrier Phases","rtcm2/19":"RTK Uncorrected Pseudoranges","rtcm2/22":"Extended Reference Station Parameters","rtcm2/23":"Antenna Type Definition Record","rtcm2/24":"Antenna Reference Point (ARP)","rtcm2/36":"GLONASS Special Message","rtcm3/1001":"L1-only GPS RTK","rtcm3/1002":"Extended L1-only GPS RTK","rtcm3/1003":"L1 & L2 GPS RTK","rtcm3/1004":"Extended L1 & L2 GPS RTK","rtcm3/1005":"RTK antenna position","rtcm3/1006":"RTK antenna pos with height","rtcm3/1007":"Antenna descriptor","rtcm3/1008":"Antenna descriptor & serial","rtcm3/1009":"L1-only GLONASS RTK","rtcm3/1010":"Extended L1-only GLONASS RTK","rtcm3/1011":"L1 & L2 GLONASS RTK","rtcm3/1012":"Extended L1 & L2 GLONASS RTK","rtcm3/1013":"System parameters","rtcm3/1014":"Network aux station data","rtcm3/1015":"GPS ionospheric correction","rtcm3/1016":"GPS geometric correction","rtcm3/1017":"GPS ionospheric & geometric correction","rtcm3/1019":"GPS ephemerides","rtcm3/1020":"GLONASS ephemerides","rtcm3/1029":"Unicode text string","rtcm3/1030":"GPS network RTK residual","rtcm3/1031":"GLONASS network RTK residual","rtcm3/1032":"Physical reference station position","rtcm3/1033":"Receiver and antenna descriptors","rtcm3/1034":"GPS FKP gradient","rtcm3/1035":"GLONASS FKP gradient","rtcm3/1037":"GLONASS ionospheric correction","rtcm3/1038":"GLONASS geometric correction","rtcm3/1039":"GLONASS ionospheric & geometric correction","rtcm3/1042":"BDS (BeiDou) ephemerides","rtcm3/1044":"QZSS ephemerides","rtcm3/1045":"GALILEO F/NAV ephemerides","rtcm3/1046":"GALILEO I/NAV ephemerides","rtcm3/1071":"GPS MSM1 (DGNSS pseudorange)","rtcm3/1072":"GPS MSM2 (RTK pseudorange)","rtcm3/1073":"GPS MSM3 (code, carrier)","rtcm3/1074":"GPS MSM4 (code, carrier, CNR)","rtcm3/1075":"GPS MSM5 (code, carrier, doppler, CNR)","rtcm3/1076":"GPS MSM6 (hi-res code, carrier, doppler)","rtcm3/1077":"GPS MSM7 (hi-res code, carrier, doppler, CNR)","rtcm3/1081":"GLONASS MSM1 (DGNSS pseudorange)","rtcm3/1082":"GLONASS MSM2 (RTK pseudorange)","rtcm3/1083":"GLONASS MSM3 (code, carrier)","rtcm3/1084":"GLONASS MSM4 (code, carrier, CNR)","rtcm3/1085":"GLONASS MSM5 (code, carrier, doppler, CNR)","rtcm3/1086":"GLONASS MSM6 (hi-res code, carrier, doppler)","rtcm3/1087":"GLONASS MSM7 (hi-res code, carrier, doppler, CNR)","rtcm3/1091":"Galileo MSM1 (DGNSS pseudorange)","rtcm3/1092":"Galileo MSM2 (RTK pseudorange)","rtcm3/1093":"Galileo MSM3 (code, carrier)","rtcm3/1094":"Galileo MSM4 (code, carrier, CNR)","rtcm3/1095":"Galileo MSM5 (code, carrier, doppler, CNR)","rtcm3/1096":"Galileo MSM6 (hi-res code, carrier, doppler)","rtcm3/1097":"Galileo MSM7 (hi-res code, carrier, doppler, CNR)","rtcm3/1101":"SBAS MSM1 (DGNSS pseudorange)","rtcm3/1102":"SBAS MSM2 (RTK pseudorange)","rtcm3/1103":"SBAS MSM3 (code, carrier)","rtcm3/1104":"SBAS MSM4 (code, carrier, CNR)","rtcm3/1105":"SBAS MSM5 (code, carrier, doppler, CNR)","rtcm3/1106":"SBAS MSM6 (hi-res code, carrier, doppler)","rtcm3/1107":"SBAS MSM7 (hi-res code, carrier, doppler, CNR)","rtcm3/1111":"QZSS MSM1 (DGNSS pseudorange)","rtcm3/1112":"QZSS MSM2 (RTK pseudorange)","rtcm3/1113":"QZSS MSM3 (code, carrier)","rtcm3/1114":"QZSS MSM4 (code, carrier, CNR)","rtcm3/1115":"QZSS MSM5 (code, carrier, doppler, CNR)","rtcm3/1116":"QZSS MSM6 (hi-res code, carrier, doppler)","rtcm3/1117":"QZSS MSM7 (hi-res code, carrier, doppler, CNR)","rtcm3/1121":"BeiDou MSM1 (DGNSS pseudorange)","rtcm3/1122":"BeiDou MSM2 (RTK pseudorange)","rtcm3/1123":"BeiDou MSM3 (code, carrier)","rtcm3/1124":"BeiDou MSM4 (code, carrier, CNR)","rtcm3/1125":"BeiDou MSM5 (code, carrier, doppler, CNR)","rtcm3/1126":"BeiDou MSM6 (hi-res code, carrier, doppler)","rtcm3/1127":"BeiDou MSM7 (hi-res code, carrier, doppler, CNR)","rtcm3/1230":"GLONASS L1 and L2 code-phase biases"};function AA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.max,n=void 0===r?20:r,o=t.short,a=void 0!==o&&o;return e>n?"> ".concat(n,"m"):e>=1?e.toFixed(2)+"m":e>=.1?(100*e).toFixed(a?0:1)+"cm":(100*e).toFixed(1)+"cm"}var jA={survey:i().shape({accuracy:i().number,active:i().bool,supported:i().bool,valid:i().bool})};function kA(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return PA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PA(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function PA(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var CA={minWidth:150},TA={C:{name:"BeiDou",flag:"\u{1f1e8}\u{1f1f3}"},E:{name:"Galileo",flag:"\u{1f1ea}\u{1f1fa}"},G:{name:"GPS",flag:"\u{1f1fa}\u{1f1f8}"},R:{name:"GLONASS",flag:"\u{1f1f7}\u{1f1fa}"},other:{name:"Other",flag:"\u{1f3f3}"}},IA=["G","R","E","C","other"],LA=function(e){var t=e.satelliteIds,r=e.surveyStatus,n=e.t,o=function(e){var t,r={},n=kA(e);try{for(n.s();!(t=n.n()).done;){var o=t.value,a=o.length>0?o.charAt(0):null;a&&TA[a]||(a="other"),r[a]?r[a]++:r[a]=1}}catch(e){n.e(e)}finally{n.f()}return r}(t);return c.createElement(Xi.Z,{style:CA},r.supported&&c.createElement(Ji.Z,{primaryText:r.valid?n("RTKStatusMiniList.surveySuccesful"):r.active?n("RTKStatusMiniList.surveyInProgress"):n("RTKStatusMiniList.surveyNo"),secondaryText:"number"==typeof r.accuracy?AA(r.accuracy):null,iconPreset:r.valid?"success":r.active?"connecting":"disconnected"}),c.createElement(Ji.Z,{primaryText:"\xa0\u{1f30d}\xa0\xa0\xa0"+n("RTKStatusMiniList.satelliteCount"),secondaryText:String(t.length)}),t.length>0&&c.createElement(Qi.Z,null),IA.map((function(e){return o[e]&&c.createElement(Ji.Z,{key:e,primaryText:"\xa0".concat(TA[e].flag,"\xa0\xa0\xa0").concat(TA[e].name),secondaryText:o[e]})})),c.createElement(cA,null))};LA.propTypes={satelliteIds:i().arrayOf(i().string),surveyStatus:jA.survey,t:i().func};const _A=(0,s.$j)((function(e){return{satelliteIds:bA(e),surveyStatus:SA(e)}}),{})((0,h.Zh)()(LA));function ZA(e){return ZA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZA(e)}function NA(){NA=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==ZA(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(ZA(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function RA(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}var DA=function(e){var t=e.onStatusChanged,r=e.period,n=vb();return(0,c.useEffect)((function(){var e={finished:!1,promise:null},o=function(){var o,a=(o=NA().mark((function o(){var a;return NA().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(e.finished){o.next=15;break}return o.prev=1,o.next=4,n.query.getRTKStatus();case 4:a=o.sent,t(a),o.next=11;break;case 8:o.prev=8,o.t0=o.catch(1),(0,Mr.ZP)(o.t0,"RTK status query");case 11:return o.next=13,(0,Ur.ZP)(r);case 13:o.next=0;break;case 15:case"end":return o.stop()}}),o,null,[[1,8]])})),function(){var e=this,t=arguments;return new Promise((function(r,n){var a=o.apply(e,t);function i(e){RA(a,r,n,i,c,"next",e)}function c(e){RA(a,r,n,i,c,"throw",e)}i(void 0)}))});return function(){return a.apply(this,arguments)}}();return e.promise=o(),function(){e.finished=!0,e.promise=null}}),[n,t,r]),null};DA.propTypes={onStatusChanged:i().func,period:i().number},DA.defaultProps={period:1e3};const FA=(0,s.$j)(null,(function(e){return{onStatusChanged:function(t){var r,n,o,a=t.antenna,i=void 0===a?{}:a,c=t.messages,l=void 0===c?{}:c,u=t.cnr,s=void 0===u?{}:u,f=t.survey,p=void 0===f?{}:f,d=Date.now();i.position&&(r=[i.position[1]/1e7,i.position[0]/1e7],o=void 0!==i.position[2]?i.position[2]/1e3:void 0),i.positionECEF&&(n=Array.isArray(i.positionECEF)?i.positionECEF.slice(0,3).map((function(e){return Math.round(e)})):void 0),e((0,zh.dx)({antenna:{descriptor:String(i.descriptor||""),serialNumber:String(i.serialNumber||""),stationId:(0,Ue.default)(i.stationId)?void 0:Number(i.stationId),position:r,positionECEF:n,height:o},messages:(0,WS.Z)(l,(function(e){return{lastUpdatedAt:d-e[0],bitsPerSecond:e[1]}})),satellites:(0,WS.Z)(s,(function(e){return{lastUpdatedAt:d,cnr:e}})),survey:p,lastUpdatedAt:d}))}}}))(DA);var MA=[24,8],UA={justifyContent:"space-between",textAlign:"right",width:80},GA=function(e){var t=e.isConnected,r=e.numGoodSatellites,n=e.numSatellites,o=e.showRTKSetupDialog,a=e.surveyStatus,i=null;return t&&(i=a.supported?a.valid?jt.Status.SUCCESS:a.active?jt.Status.NEXT:jt.Status.ERROR:n>1?jt.Status.SUCCESS:null)===jt.Status.SUCCESS&&r<7&&(i=jt.Status.WARNING),c.createElement($i.Z,{interactive:!0,content:c.createElement(_A,null)},c.createElement(hi.ZP,{disabled:!t,label:t&&n>0?String(n):"\u2014",secondaryLabel:a.supported&&"number"==typeof a.accuracy?AA(a.accuracy,{max:9,short:!0}):null,style:UA,onClick:o},c.createElement(eA,null),c.createElement(mi.Z,{anchor:"topLeft",color:i?(0,jt.colorForStatus)(i):null,offset:MA,visible:Boolean(i)}),t&&c.createElement(FA,null)))};GA.propTypes={isConnected:i().bool,numGoodSatellites:i().number,numSatellites:i().number,showRTKSetupDialog:i().func,surveyStatus:jA.survey};const VA=(0,s.$j)((function(e){return{isConnected:(0,tn.Mb)(e),numGoodSatellites:EA(e),numSatellites:wA(e),surveyStatus:SA(e)}}),{showRTKSetupDialog:zh.Pw})(GA);function BA(e){return e.sidebar.open}var WA=r(5353);var zA=r(72106);function HA(e){return HA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HA(e)}function YA(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return qA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qA(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function qA(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $A(e,t,r){var n;return n=function(e,t){if("object"!=HA(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=HA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==HA(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var KA=$A($A($A($A($A({},je.nN.AMSL,(function(e){var t;return null==e||null===(t=e.position)||void 0===t?void 0:t.amsl})),je.nN.AHL,(function(e){var t;return null==e||null===(t=e.position)||void 0===t?void 0:t.ahl})),je.nN.AGL,(function(e){var t;return null==e||null===(t=e.position)||void 0===t?void 0:t.agl})),je.nN.XYZ,(function(e){var t=null==e?void 0:e.localPosition;return Array.isArray(t)?t[2]:null})),"dummy",(function(){return null})),XA=function(e){var t=e.onSetStatus,r=e.type,n=(0,s.oR)(),o=(0,c.useCallback)((function(){t&&t(function(e,t){var r,n=e.getState(),o=KA[t]||KA.dummy,a=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,c=YA((0,ro.Xe)(n));try{for(c.s();!(r=c.n()).done;){var l=r.value,u=o((0,ro.Rk)(n,l));(0,Ue.default)(u)||(a=Math.min(a,u),i=Math.max(i,u))}}catch(e){c.e(e)}finally{c.f()}return Number.isFinite(a)?{min:a,max:i}:{min:null,max:null}}(n,r))}),[t,n,r]);return(0,pi.Z)(o,1e3),(0,c.useEffect)(o,[o,r]),null};XA.propTypes={onSetStatus:i().func,type:i().oneOf(Object.values(je.nN))};const QA=XA;function JA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ej(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ej(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ej(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var tj={justifyContent:"space-between",textAlign:"right",width:95},rj={width:24,marginTop:-10,display:"flex",flexDirection:"column",alignItems:"center",gap:4},nj={fontSize:11,fontWeight:"bold",textTransform:"uppercase",textAlign:"center",userSelect:"none"},oj={min:null,max:null},aj=function(e){switch(e){case je.nN.AMSL:return je.nN.AHL;case je.nN.AHL:return je.nN.AGL;case je.nN.AGL:return je.nN.XYZ;case je.nN.XYZ:default:return je.nN.AMSL}},ij=function(e){return c.createElement(h.Wb,null,(function(t){return c.createElement("div",null,t("altitudeSummaryButton.showingCurrent",{altitudeType:(0,je.bU)(e,{short:!0})}),c.createElement("br",null),t("altitudeSummaryButton.clickToChange",{altitudeType:(0,je.bU)(aj(e),{short:!0})}))}))},cj=function(e){var t=e.isConnected,r=e.onRequestTypeChange,n=e.type,o=JA((0,c.useState)(oj),2),a=o[0],i=a.min,l=a.max,u=o[1];return c.createElement(pt.default,{content:ij(n)},c.createElement(hi.ZP,{disabled:!t,label:t&&"number"==typeof l?"".concat(l.toFixed(1),"\xa0m"):"\u2014",secondaryLabel:t&&"number"==typeof i?"".concat(i.toFixed(1),"\xa0m"):"\u2014",style:tj,onClick:function(){return r(aj(n))}},c.createElement("div",{style:rj},c.createElement(zA.Z,null),c.createElement("div",{style:nj},n)),t&&c.createElement(QA,{type:n,onSetStatus:u})))};cj.propTypes={isConnected:i().bool,onRequestTypeChange:i().func,type:i().oneOf(Object.values(je.nN))};const lj=(0,s.$j)((function(e){return{isConnected:(0,tn.Mb)(e),type:(0,Yt.AD)(e)}}),{onRequestTypeChange:function(e){return(0,C.IA)("display",{altitudeSummaryType:e})}})(cj);var uj=r(72033),sj=r(4591),fj=r(3729);function pj(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return dj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dj(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function dj(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var yj=function(e){var t=e.onSetStatus,r=(0,s.oR)();return(0,pi.Z)((function(){if(t){var e,n=r.getState(),o=[],a=[],i=pj((0,ro.Xe)(n));try{for(i.s();!(e=i.n()).done;){var c=e.value,l=(0,ro.Rk)(n,c),u=null==l?void 0:l.battery;u&&((0,Ue.default)(u.voltage)||o.push(u.voltage),(0,Ue.default)(u.percentage)||a.push(u.percentage))}}catch(e){i.e(e)}finally{i.f()}if(o.length>0){var s=(0,Yt.Yg)(n),f=(0,sj.Z)(o),p=(0,fj.Z)(o);t({avg:{voltage:f,percentage:s.estimatePercentageFromVoltage(f)},min:{voltage:p,percentage:s.estimatePercentageFromVoltage(p)}})}else if(a.length>0){var d=(0,sj.Z)(a),y=(0,fj.Z)(a);t({avg:{voltage:null,percentage:d},min:{voltage:null,percentage:y}})}else t({avg:null},{min:null})}}),1e3),null};yj.propTypes={onSetStatus:i().func};const hj=yj;function mj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vj(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vj(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gj=[24,8],bj={justifyContent:"space-between",textAlign:"right",width:80},wj={avg:null,min:null},Ej=function(e){var t=e.formatter,r=e.isConnected,n=e.t,o=mj((0,c.useState)(wj),2),a=o[0],i=a.avg,l=a.min,u=o[1],s=i?t.getBatteryStatus(i.voltage,i.percentage):null,f=i?t.getSemanticBatteryStatus(i.voltage,i.percentage):null,p=f&&f!==jt.Status.OFF;return c.createElement(pt.default,{content:n("batteryStatusHeaderButton")},c.createElement(hi.ZP,{disabled:!r,label:r&&i?t.getBatteryLabel(i.voltage,i.percentage):"\u2014",secondaryLabel:r&&l?t.getBatteryLabel(l.voltage,l.percentage):null,style:bj},s?t.getLargeBatteryIcon(i.percentage,s):c.createElement(uj.Z,null),c.createElement(mi.Z,{anchor:"topLeft",color:p?(0,jt.colorForStatus)(f):null,offset:gj,visible:p}),r&&c.createElement(hj,{onSetStatus:u})))};Ej.propTypes={formatter:i().instanceOf(Ow.C).isRequired,isConnected:i().bool,t:i().func};const Sj=(0,s.$j)((function(e){return{formatter:(0,Yt.KI)(e),isConnected:(0,tn.Mb)(e)}}),{})((0,h.Zh)()(Ej));var Oj=r(52699),xj=r(89211);const Aj=(0,Vi.Z)(c.createElement("path",{d:"M3 12h4a5 5 0 0 1 5-5a5 5 0 0 1 5 5h4a1 1 0 0 1 1 1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1a1 1 0 0 1 1-1m12 0a3 3 0 0 0-3-3a3 3 0 0 0-3 3h6M12 2l2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m17.31 0l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-7.94 9.3l3.11 3.11a.996.996 0 1 1-1.41 1.41L12 18.41l-2.41 2.41a.996.996 0 1 1-1.41-1.41l3.11-3.11c.21-.2.45-.3.71-.3c.26 0 .5.1.71.3z"}),"Sunrise"),jj=(0,Vi.Z)(c.createElement("path",{d:"M3 12h4a5 5 0 0 1 5-5a5 5 0 0 1 5 5h4a1 1 0 0 1 1 1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1a1 1 0 0 1 1-1m12 0a3 3 0 0 0-3-3a3 3 0 0 0-3 3h6M12 2l2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m17.31 0l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-7.94 13.71l3.11-3.11c.39-.39.39-1.03 0-1.42a.996.996 0 0 0-1.41 0L12 18.59l-2.41-2.41a.996.996 0 0 0-1.41 0c-.39.39-.39 1.03 0 1.42l3.11 3.11c.21.19.45.29.71.29c.26 0 .5-.1.71-.29z"}),"Sunset");var kj=r(77349),Pj=r(42699),Cj=r(49842),Tj=r.n(Cj);function Ij(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Lj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lj(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lj(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _j=(0,Ge.createSelector)(ke.zn,(function(e){return Array.isArray(e)&&e.length>=2?[Number(e[0].toFixed(2)),Number(e[1].toFixed(2))]:null})),Zj=(0,Eu.y)(_j,(function(e){for(var t=new Date,r=e?Tj().getTimes(t,e[1],e[0]):{},n=0,o=Object.entries(r);n<o.length;n++){var a=Ij(o[n],2),i=a[0],c=a[1];c instanceof Date&&Number.isNaN(c.valueOf())&&(r[i]=void 0)}if(e&&r.sunriseEnd&&(0,Pj.Z)(t,r.sunriseEnd)){var l=Tj().getTimes((0,kj.Z)(t,1),e[1],e[0]);r.sunrise=l.sunrise,r.sunriseEnd=l.sunriseEnd}return r}));function Nj(e){if("number"==typeof e)return e>=5?jt.Status.ERROR:e>=4?jt.Status.WARNING:null}function Rj(e){return e.weather.lastUpdatedAt}function Dj(e){var t;return Nj(null===(t=e.weather.data)||void 0===t?void 0:t.kpIndex)}r(8472);function Fj(e){return Fj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fj(e)}function Mj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Uj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mj(Object(r),!0).forEach((function(t){Gj(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Gj(e,t,r){var n;return n=function(e,t){if("object"!=Fj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Fj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Fj(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vj(e,t){try{return(0,$a.Z)(e,t)}catch(e){return""}}function Bj(e,t){return(e=e?Vj(e,"H:mm"):"")===(t=t?Vj(t,"H:mm"):"")||e&&!t?e:e&&t?"".concat(e," \u2013 ").concat(t):t}var Wj={minWidth:150},zj=function(e){var t,r=e.data,n=e.error,o=e.lastUpdatedAt,a=e.loading,i=e.sunrise,l=e.sunriseEnd,u=e.sunset,s=e.sunsetStart,f=e.t,p=e.timezone,d=e.utcOffset,y=[];if(p&&y.push(c.createElement(Ji.Z,{key:"timezone",primaryText:f("weatherMiniList.timezone"),secondaryText:p})),d){var h=String(Math.abs(d)%60),m=(d<0?"+":d>0?"-":"")+String((Math.abs(d)-h)/60).padStart(2,"0")+":"+h.padStart(2,"0");y.push(c.createElement(Ji.Z,{key:"utcOffset",primaryText:f("weatherMiniList.utcOffset"),secondaryText:m}))}if(y.length>0&&y.push(c.createElement(Qi.Z,{key:"sep1"})),t=!1,(u||s)&&(y.push(c.createElement(Ji.Z,{key:"sunset",primaryText:f("weatherMiniList.sunset"),secondaryText:Bj(s,u)})),t=!0),i||l){var v=c.createElement(Ji.Z,{key:"sunrise",primaryText:f("weatherMiniList.sunrise"),secondaryText:Bj(i,l)});u&&(0,Pj.Z)(u,i)?y.splice(y.length-1,0,v):y.push(v),t=!0}t&&y.push(c.createElement(Qi.Z,{key:"sep2"}));var g=r||{},b=g.kpIndex,w=function(e){return Array.isArray(e)&&3===e.length?(0,Zh.Ux)(Math.atan2(e[1],e[0])):null}(g.magneticVector);return(0,Ue.default)(b)||y.push(c.createElement(Ji.Z,{key:"kpIndex",primaryText:f("weatherMiniList.kpIndex"),secondaryText:c.createElement(Sw.Z,{status:Nj(b)},(0,qn.HP)(b,1))})),(0,Ue.default)(w)||y.push(c.createElement(Ji.Z,{key:"declination",primaryText:f("weatherMiniList.compassDeclination"),secondaryText:(0,Ue.default)(w)?(0,qn.HP)(w):(0,qn.HP)(Math.abs(w),2,"\xb0")+" "+(w>=0?"E":"W")})),a?y.push(c.createElement(ta.Z,{key:"loadingIndicator",label:f("weatherMiniList.refreshing"),padding:.5})):y.push(c.createElement(Ji.Z,{key:"lastUpdatedAt",primaryText:f("weatherMiniList.lastUpdate"),secondaryText:n?c.createElement("span",{style:{color:(0,Wn.oM)(lc.zb.ERROR),fontWeight:"bold"}},"failed"):o?c.createElement(Ki.Z,{formatter:qn.zu,date:o}):"\u2014"})),y.length>0?c.createElement(Xi.Z,{style:Wj},y):f("weatherMiniList.noWeatherInfo")};zj.propTypes={error:i().any,sunrise:i().instanceOf(Date),sunriseEnd:i().instanceOf(Date),sunsetStart:i().instanceOf(Date),sunset:i().instanceOf(Date),t:i().func,timezone:i().string,utcOffset:i().number};const Hj=(0,s.$j)((function(e){return Uj(Uj({},Zj(e)),{},{timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,utcOffset:(new Date).getTimezoneOffset()},e.weather)}),{})((0,h.Zh)()(zj));function Yj(e){return Yj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yj(e)}function qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qj(Object(r),!0).forEach((function(t){Kj(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kj(e,t,r){var n;return n=function(e,t){if("object"!=Yj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Yj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Yj(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qj(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qj(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Jj=[24,8],ek={justifyContent:"space-between",textAlign:"right",width:90},tk=function(e){var t=e.badgeStatus,r=e.sunrise,n=e.sunset,o=new Date,a=Xj((0,xj.Z)(),2),i=a[0],l=a[1],u=!r||n&&Math.abs((0,Oj.Z)(r,o))>Math.abs((0,Oj.Z)(n,o));i&&(u=!u);var s=u?n:r;return mb(3e4),c.createElement($i.Z,{content:c.createElement(Hj,null)},c.createElement(hi.ZP,{label:s?(0,$a.Z)(s,"H:mm"):"\u2014",secondaryLabel:s?c.createElement(Ki.Z,{formatter:qn.zu,date:s}):null,style:ek,onClick:function(){return l()}},u?c.createElement(jj,null):c.createElement(Aj,null),c.createElement(mi.Z,{anchor:"topLeft",color:t?(0,jt.colorForStatus)(t):null,offset:Jj,visible:Boolean(t)})))};tk.propTypes={badgeStatus:i().oneOf(Object.values(jt.Status)),sunrise:i().instanceOf(Date),sunset:i().instanceOf(Date)};const rk=(0,s.$j)((function(e){return $j($j({},Zj(e)),{},{badgeStatus:Dj(e)})}),{})(tk);var nk=function(e){return Boolean(e.workbench.isFixed)},ok=(0,Ge.createSelector)((function(e){return Boolean(e.workbench.hideHeaders)}),nk,(function(e,t){return!e&&!t}));function ak(e){return ak="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ak(e)}function ik(e){return function(e){if(Array.isArray(e))return ck(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ck(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ck(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ck(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function uk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lk(Object(r),!0).forEach((function(t){sk(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lk(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function sk(e,t,r){var n;return n=function(e,t){if("object"!=ak(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ak(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ak(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var fk={backgroundColor:"#333",flexGrow:0,minHeight:48},pk={display:"flex",flexFlow:"row nowrap"},dk={"alert-button":ki,"altitude-summary-header-button":lj,"app-settings-button":Zi,"authentication-button":Mi,"battery-status-header-button":Sj,"broadcast-button":function(){return c.createElement(Yi,{timeoutLength:5})},"connection-status-button":gc,"full-screen-button":kc,"geofence-settings-button":Zc,"help-button":function(){return o.Z.urls.help?c.createElement(Dc,null):null},"rtk-status-header-button":function(){return(0,ns.U6)("toolboxMenu")&&c.createElement(VA,null)},"server-connection-settings-button":function(){return c.createElement(Jc,{hideTooltip:o.Z.optimizeUIForTouch.default})},"session-expiry-box":rl,"toolbox-button":function(){return(0,ns.U6)("toolboxMenu")&&c.createElement(mu,null)},"uav-status-summary":function(){return c.createElement(Sx.Consumer,null,(function(e){return c.createElement(Wx,{workbench:e})}))},"weather-header-button":rk},yk=function(e){var t=e.isSidebarOpen,r=e.showSidebar,n=e.toggleSidebar;return c.createElement("div",{id:"header",style:uk(uk({},fk),{},{overflow:"hidden"})},c.createElement("div",{id:"header-inner",style:pk},r&&c.createElement(ui.ZP,{color:"#999",style:{cursor:"pointer"},shape:t?"close":"menu",onClick:n}),c.createElement(Jx,null),c.createElement(O.Z,{pr:.5}),o.Z.headerComponents.flatMap((function(e){return[c.createElement("hr",{key:"header-group:".concat(e.join(","))})].concat(ik(e.map((function(e){var t=dk[e];return c.createElement(t,{key:e})}))))})).slice(1)))};yk.propTypes={isSidebarOpen:i().bool.isRequired,showSidebar:i().bool,toggleSidebar:i().func.isRequired};const hk=(0,s.$j)((function(e){return{sessionExpiresAt:e.session.expiresAt,isSidebarOpen:BA(e),showSidebar:ok(e)}}),{toggleSidebar:function(){return function(e,t){var r=BA(t());e((0,WA.l)(!r))}}})(yk);var mk=r(93379),vk=r.n(mk),gk=r(7795),bk=r.n(gk),wk=r(90569),Ek=r.n(wk),Sk=r(3565),Ok=r.n(Sk),xk=r(19216),Ak=r.n(xk),jk=r(44589),kk=r.n(jk),Pk=r(79324),Ck={};Ck.styleTagTransform=kk(),Ck.setAttributes=Ok(),Ck.insert=Ek().bind(null,"head"),Ck.domAPI=bk(),Ck.insertStyleElement=Ak();vk()(Pk.Z,Ck);Pk.Z&&Pk.Z.locals&&Pk.Z.locals;var Tk={topLeft:"left-top",topRight:"right-top",bottomLeft:"left-bottom",bottomRight:"right-bottom"},Ik=function(e){var t=e.label,r=e.position;return c.createElement("div",{className:(0,n.Z)("corner-ribbon",Tk[r]),"data-ribbon":t})};Ik.propTypes={label:i().string,position:i().oneOf(Object.keys(Tk))},Ik.defaultProps={position:"topRight"};const Lk=Ik;r(22462),r(51090);var _k=r(5440),Zk=r(42198),Nk=r(48362),Rk=r(10244),Dk=r(21424),Fk=r(76254),Mk=r(65758),Uk=r(50913),Gk=r(92517),Vk=r(66299),Bk=r(72047);function Wk(e){return Wk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wk(e)}function zk(){zk=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==Wk(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(Wk(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function Hk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hk(Object(r),!0).forEach((function(t){lP(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hk(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qk(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function $k(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){qk(a,n,o,i,c,"next",e)}function c(e){qk(a,n,o,i,c,"throw",e)}i(void 0)}))}}function Kk(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function Xk(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,Jk(e,t,"get"))}function Qk(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,Jk(e,t,"set"),r),r}function Jk(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function eP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uP(n.key),n)}}function rP(e,t,r){return t&&tP(e.prototype,t),r&&tP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nP(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oP(e,t)}function oP(e,t){return oP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},oP(e,t)}function aP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=cP(e);if(t){var o=cP(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Wk(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return iP(e)}(this,r)}}function iP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cP(e){return cP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cP(e)}function lP(e,t,r){return(t=uP(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uP(e){var t=function(e,t){if("object"!=Wk(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Wk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Wk(t)?t:String(t)}var sP=function(e){return(0,Ue.default)(e)?"an unknown amount":Math.abs(e)<1e3?"".concat(e.toFixed(0),"ms"):Math.abs(e)<=3e4?"".concat((e/1e3).toFixed(1),"s"):"more than 30s"},fP=function(e){nP(r,e);var t=aP(r);function r(){var e;return eP(this,r),(e=t.call(this))._disposer=void 0,e._processIsRunning=!1,e._onLogMessageReceived=e._onLogMessageReceived.bind(iP(e)),e._onProcessExited=e._onProcessExited.bind(iP(e)),e._onProcessStartFailed=e._onProcessStartFailed.bind(iP(e)),e}return rP(r,[{key:"componentDidMount",value:function(){var e=this;window.bridge.localServer.ensureRunning({args:(0,_k.parse)(this.props.args),port:this.props.port,callbacks:{error:this._onProcessStartFailed,exit:this._onProcessExited,log:this._onLogMessageReceived}}).then((function(t){e._processIsRunning=!0,e._setDisposer(t),e.props.onStarted&&e.props.onStarted()}),this._onProcessStartFailed)}},{key:"componentDidUpdate",value:function(e){this.props.port!==e.port||(this.props.args,e.args)}},{key:"componentWillUnmount",value:function(){this._setDisposer(null),this._processIsRunning=!1,window.bridge.localServer.terminate()}},{key:"render",value:function(){return null}},{key:"_setDisposer",value:function(e){this._disposer!==e&&(this._disposer&&this._disposer(),this._disposer=e)}},{key:"_onLogMessageReceived",value:function(e){var t=this.props.onLogMessage;t&&t(e)}},{key:"_onProcessExited",value:function(e,t){this.props.onError&&this.props.onError(t?"exited with ".concat(t):"exited with code ".concat(e),this._processIsRunning),this._setDisposer(null),this._processIsRunning=!1}},{key:"_onProcessStartFailed",value:function(e){this.props.onError&&this.props.onError(e.message,e),this._setDisposer(null),this._processIsRunning=!1}}]),r}(c.Component);lP(fP,"propTypes",{args:i().string,onError:i().func,onLogMessage:i().func,onStarted:i().func,port:i().number});var pP={bindSocketToHub:i().func,connectTimeout:i().number,onConnected:i().func,onConnecting:i().func,onConnectionError:i().func,onConnectionTimeout:i().func,onDisconnected:i().func,onMessage:i().func,pingInterval:i().number,pingTimeout:i().number,url:i().string},dP={connectTimeout:5e3,pingInterval:5e3,pingTimeout:5e3},yP=function(e){nP(r,e);var t=aP(r);function r(){return eP(this,r),t.apply(this,arguments)}return rP(r,[{key:"render",value:function(){var e=this.props,t=e.bindSocketToHub,r=e.connectTimeout,n=e.onConnected,o=e.onConnecting,a=e.onConnectionError,i=e.onConnectionTimeout,l=e.onDisconnected,u=e.onMessage,s=e.pingInterval,f=e.pingTimeout,p=e.url;return c.createElement(c.Fragment,null,c.createElement(Zk.Z.Socket,{ref:t,name:"serverSocket",url:p,options:{connectTimeout:r,pingInterval:s,pingTimeout:f,transports:["websocket"]}}),c.createElement(Zk.Z.Listener,{socket:"serverSocket",event:"connect",callback:function(){return n({url:p})}}),c.createElement(Zk.Z.Listener,{socket:"serverSocket",event:"connect_error",callback:function(){return a({url:p,willReconnect:!0})}}),c.createElement(Zk.Z.Listener,{socket:"serverSocket",event:"connect_timeout",callback:function(){return i({url:p,willReconnect:!0})}}),c.createElement(Zk.Z.Listener,{socket:"serverSocket",event:"disconnect",callback:function(e){l({url:p,reason:e,willReconnect:"ping timeout"===e||"transport close"===e})}}),c.createElement(Zk.Z.Listener,{socket:"serverSocket",event:"fw",callback:u}),c.createElement(Zk.Z.Listener,{socket:"serverSocket",event:"reconnecting",callback:function(){return o({url:p})}}),c.createElement(Zk.Z.Listener,{socket:"serverSocket",event:"reconnect_attempt",callback:function(){return o({url:p})}}))}}]),r}(c.Component);lP(yP,"propTypes",pP),lP(yP,"defaultProps",dP);var hP=new WeakMap,mP=new WeakMap,vP=function(e){nP(r,e);var t=aP(r);function r(){var e;eP(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return Kk(iP(e=t.call.apply(t,[this].concat(o))),hP,{writable:!0,value:void 0}),Kk(iP(e),mP,{writable:!0,value:void 0}),e}return rP(r,[{key:"componentDidMount",value:function(){var e=this,t=this.props,r=t.bindSocketToHub,n=t.connectTimeout,o=t.onConnected,a=t.onConnecting,i=t.onConnectionError,c=t.onConnectionTimeout,l=t.onDisconnected,u=t.onMessage,s=t.pingInterval,f=t.pingTimeout,p=t.url;Qk(this,mP,window.bridge.createTCPSocket(this.props.url.match(".*://(?<address>.*):(?<port>.*)").groups,{connectTimeout:n,reconnecting:!0,url:p},{onConnected:o,onConnecting:a,onConnectionError:i,onConnectionTimeout:c,onDisconnected:l,onMessage:u})),r({socket:Xk(this,mP)});var d=function(){Fr()(bn.Z.sendMessage("SYS-PING"),f).then((function(){Xk(e,mP)&&Xk(e,mP).notifyPing()})).catch((function(){Xk(e,mP)&&Xk(e,mP).notifyPing(!1)}))};d(),Qk(this,hP,setInterval(d,s))}},{key:"componentWillUnmount",value:function(){Xk(this,mP)&&Xk(this,mP).end(),Xk(this,hP)&&clearInterval(Xk(this,hP))}},{key:"render",value:function(){return null}}]),r}(c.Component);lP(vP,"propTypes",pP),lP(vP,"defaultProps",dP);var gP=function(e){nP(r,e);var t=aP(r);function r(){var e;eP(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return lP(iP(e=t.call.apply(t,[this].concat(o))),"_bindSocketToHub",(function(t){var r=t?t.socket:null;bn.Z.emitter=r?r.emit.bind(r):void 0,e.props.onConnecting&&t&&e.props.onConnecting(e.props.url)})),e}return rP(r,[{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.active,n=t.onDisconnected;e.active&&!r&&n&&n(e.url,{reason:"io client disconnect"})}},{key:"render",value:function(){var e=this.props,t=e.active,r=e.cliArguments,n=e.needsLocalServer,o=e.port,a=e.protocol,i=e.onConnected,l=e.onConnecting,u=e.onConnectionError,s=e.onConnectionTimeout,f=e.onDisconnected,p=e.onLocalServerError,d=e.onLocalServerStarted,y=e.onLogMessageReceivedFromLocalServer,h=e.onMessage,m=e.url,v=lP(lP({},ma.b.TCP,vP),ma.b.WS,yP)[a];return m&&t?c.createElement("div",{key:m},n?c.createElement(fP,{args:r,port:o,onError:p,onLogMessage:y,onStarted:d}):null,c.createElement(v,{bindSocketToHub:this._bindSocketToHub,url:m,onConnected:i,onConnecting:l,onConnectionError:u,onConnectionTimeout:s,onDisconnected:f,onMessage:h})):c.createElement("div",null)}}]),r}(c.Component);function bP(e,t){return wP.apply(this,arguments)}function wP(){return wP=$k(zk().mark((function e(t,r){var n,a,i,c,l,u,s,f,p,d,y,h,m;return zk().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bn.Z.sendMessage("SYS-VER");case 3:return a=e.sent,i=a.body.version,t((0,_n.HD)(i)),e.next=8,bn.Z.sendMessage("CONN-LIST");case 8:return n=e.sent,c=n.body.ids||[],e.next=12,bn.Z.sendMessage({type:"CONN-INF",ids:c});case 12:return n=e.sent,(0,Vk.v)(n.body,t),e.next=16,bn.Z.sendMessage("CLK-LIST");case 16:return n=e.sent,l=n.body.ids||[],e.next=20,bn.Z.sendMessage({type:"CLK-INF",ids:l});case 20:return n=e.sent,(0,Gk.D)(n.body,t),e.next=24,bn.Z.sendMessage({type:"OBJ-LIST",filter:["dock"]});case 24:if(n=e.sent,!((u=n.body.ids||[]).length>0)){e.next=31;break}return e.next=29,bn.Z.sendMessage({type:"DOCK-INF",ids:u});case 29:n=e.sent,(0,Bk.D)(n.body,t);case 31:return e.next=33,bn.Z.sendMessage({type:"OBJ-LIST",filter:["beacon"]});case 33:if(n=e.sent,!((s=n.body.ids||[]).length>0)){e.next=44;break}return e.next=38,bn.Z.sendMessage({type:"BCN-INF",ids:s});case 38:return n=e.sent,(0,Uk.AP)(n.body,t),e.next=42,bn.Z.sendMessage({type:"BCN-PROPS",ids:s});case 42:n=e.sent,(0,Uk.nC)(n.body,t);case 44:f=[],p=0,d=["virtual_uavs","map_cache"];case 46:if(!(p<d.length)){e.next=55;break}return y=d[p],e.next=50,bn.Z.query.isExtensionLoaded(y);case 50:e.sent&&f.push(y);case 52:p++,e.next=46;break;case 55:return f.length>0&&t((0,_n._p)(f)),e.t0=t,e.t1=_n.hn,e.next=60,bn.Z.query.getLicenseInformation();case 60:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),(0,e.t0)(e.t3),e.next=65,bn.Z.query.isExtensionLoaded("show");case 65:return e.sent&&t((0,ch.B8)("fromServer")),bn.Z._deviceTreeSubscriptionManager.requestSubscriptionUpdates(),e.next=70,t(mn(bn.Z,{method:"threshold"}));case 70:o.Z.server.warnClockSkew&&(0,tn.Lm)(r())&&!(0,tn.Q7)(r())&&(h=(0,tn.B_)(r()),m=sP(Math.abs(h)),t((0,bu.c)({message:"Server clock is ".concat(h>0?"ahead":"behind"," by ").concat(m),buttons:[{label:"Show details",action:(0,_n.fv)()}],semantics:wu.j.WARNING,permanent:!0}))),e.next=77;break;case 73:e.prev=73,e.t4=e.catch(0),(0,Mr.ZP)(e.t4);case 77:case"end":return e.stop()}}),e,null,[[0,73]])}))),wP.apply(this,arguments)}function EP(e){return SP.apply(this,arguments)}function SP(){return(SP=$k(zk().mark((function e(t){return zk().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t((0,Nk.IH)()),t((0,Rk.EJ)()),t((0,Dk.XM)()),t((0,Fk.iP)()),t((0,_n._1)()),t((0,_n.DV)()),t((0,ch.x5)()),t((0,_n.fc)()),t((0,Mk.Hk)());case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}lP(gP,"propTypes",{active:i().bool,cliArguments:i().string,needsLocalServer:i().bool,port:i().number,protocol:i().oneOf(Object.values(ma.b)),onConnected:i().func,onConnecting:i().func,onConnectionError:i().func,onConnectionTimeout:i().func,onDisconnected:i().func,onLocalServerError:i().func,onLocalServerStarted:i().func,onLogMessageReceivedFromLocalServer:i().func,onMessage:i().func,url:i().string});var OP=function(e){return function(t,r){var n=e.url,o=e.reason,a=e.wasConnected,i=e.willReconnect;switch(t((0,_n.fR)(lc.em.DISCONNECTED)),o){case"connection error":i||t((0,bu.x)("Error while connecting to Skybrush server"));break;case"connection timeout":i||t((0,bu.x)("Timeout while connecting to Skybrush server"));break;case"io client disconnect":t((0,bu.c)("Disconnected from Skybrush server"));break;case"io server disconnect":default:break;case"transport close":t((0,bu.x)("Skybrush server closed connection unexpectedly"));break;case"ping timeout":t((0,bu.x)("Connection to Skybrush server lost"))}i||(n!==(0,tn.RU)(r())||t(cn()));a&&t(EP)}},xP=(0,s.$j)((function(e){return{active:e.dialogs.serverSettings.active&&!e.session.isExpired,cliArguments:e.settings.localServer.cliArguments,needsLocalServer:gt(e),port:(0,tn.WL)(e),protocol:(0,tn.cV)(e),url:(0,tn.RU)(e)}}),(function(e){return{onConnecting:function(){e((0,_n.fR)(lc.em.CONNECTING))},onConnected:function(){e((0,bu.c)({message:Ae.Z.t("notifications.connectedToSkybrushServer"),semantics:"info"})),e((0,_n.fR)(lc.em.CONNECTED)),e(bP)},onConnectionError:function(t){e(OP(Yk(Yk({},t),{},{reason:"connection error"})))},onConnectionTimeout:function(t){e(OP(Yk(Yk({},t),{},{reason:"connection timeout"})))},onDisconnected:function(t){e(OP(Yk(Yk({},t),{},{wasConnected:!0})))},onLocalServerError:function(t,r){var n=r?"Skybrush server died unexpectedly":"Failed to launch local Skybrush server";e((0,_n.fR)(lc.em.DISCONNECTED)),e((0,bu.x)(t?"".concat(n,": ").concat(t):n))},onLocalServerStarted:function(){e((0,_n.fR)(lc.em.CONNECTING))},onLogMessageReceivedFromLocalServer:function(t){var r=t.id,n=t.levelname,o=t.name,a=t.message,i=(o="string"==typeof o?o:"").lastIndexOf("."),c=i>=0?o.slice(i+1):o,l={level:(0,Vd.PL)(n),module:c,message:a};(0,Ue.default)(r)||(l.auxiliaryId=r),e((0,Sd.Hj)(l))},onMessage:function(e){bn.Z.processIncomingMessage(e)}}}))(gP);const AP=xP;const jP=function(e){var t=e.filename,r=e.onChanged,n=e.onRemoved,o=(0,c.useCallback)((function(e,t){"update"===e?r&&r():"remove"===e&&n&&n()}),[r,n]);return(0,c.useEffect)((function(){if(window.bridge&&t)return window.bridge.watchFile(t,o)}),[t,o]),null};var kP=function(e){var t=e.filename,r=e.onShowFileChangedExternally;return c.createElement(jP,{filename:t,onChanged:r})};kP.propTypes={filename:i().string,onShowFileChangedExternally:i().func};const PP=(0,s.$j)((function(e){return{filename:(0,lh.C2)(e)}}),{onShowFileChangedExternally:ch.rR})(kP);r(56646);function CP(e){return CP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CP(e)}function TP(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return IP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IP(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function IP(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DP(n.key),n)}}function _P(e,t){return _P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_P(e,t)}function ZP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=NP(e);if(t){var o=NP(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===CP(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function NP(e){return NP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},NP(e)}function RP(e,t,r){return(t=DP(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DP(e){var t=function(e,t){if("object"!=CP(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=CP(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==CP(t)?t:String(t)}var FP=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_P(e,t)}(a,e);var t,r,n,o=ZP(a);function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=o.call(this))._container=document.createElement("div"),e._externalWindow=null,e._mutationObserver=null,e._styleRegistry=new Map,e}return t=a,r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.height,r=e.left,n=e.top,o=e.width;this._externalWindow=window.open("about:blank#".concat(this.props.title),"","width=".concat(o,",height=").concat(t,",left=").concat(r,",top=").concat(n)),this._externalWindow.document.title=this.props.title,this._copyAndFollowStyles(),this._externalWindow.document.body.append(this._container),this._externalWindow.addEventListener("unload",this.props.onClose),window.addEventListener("unload",this.componentWillUnmount.bind(this))}},{key:"componentWillUnmount",value:function(){this._externalWindow.closed||this._externalWindow.close(),this._mutationObserver.disconnect()}},{key:"render",value:function(){return Ou.createPortal(c.createElement(of.Xl.Provider,{value:this._container},this.props.children),this._container)}},{key:"_copyAndFollowStyles",value:function(){var e,t=this,r=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return t._externalWindow.document.head.append(e)},n=t._externalWindow.document.importNode(e,!0);r(n);var o,a=TP(e.sheet.cssRules);try{for(a.s();!(o=a.n()).done;){var i=o.value;n.sheet.insertRule(i.cssText)}}catch(e){a.e(e)}finally{a.f()}return n},n=function e(r){if(null!==r)return t._styleRegistry.has(r)?function(e){return t._styleRegistry.get(r).before(e)}:e(r.nextElementSibling)},o=TP(document.styleSheets);try{for(o.s();!(e=o.n()).done;){var a=e.value;this._styleRegistry.set(a.ownerNode,r(a.ownerNode))}}catch(e){o.e(e)}finally{o.f()}this._mutationObserver=new MutationObserver((function(e,o){var a,i=TP(e);try{for(i.s();!(a=i.n()).done;){var c,l=a.value,u=TP(l.removedNodes);try{for(u.s();!(c=u.n()).done;){var s=c.value;t._styleRegistry.has(s)&&(t._styleRegistry.get(s).remove(),t._styleRegistry.delete(s))}}catch(e){u.e(e)}finally{u.f()}var f,p=n(l.nextSibling),d=TP(l.addedNodes);try{for(d.s();!(f=d.n()).done;){var y=f.value;y instanceof HTMLStyleElement&&y.sheet&&t._styleRegistry.set(y,r(y,p))}}catch(e){d.e(e)}finally{d.f()}}}catch(e){i.e(e)}finally{i.f()}})),this._mutationObserver.observe(document.head,{childList:!0})}}],r&&LP(t.prototype,r),n&&LP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(c.Component);RP(FP,"propTypes",{children:i().node.isRequired,height:i().number,left:i().number,onClose:i().func,title:i().string,top:i().number,width:i().number}),RP(FP,"defaultProps",{height:400,left:100,title:"Untitled",top:100,width:600});var MP=function(e){var t=e.attachPanel;return e.detachedPanels.map((function(e){var r=wx[e],n=r.component,o=r.label;return c.createElement(FP,{key:e,title:o,onClose:function(){return t(e)}},c.createElement(n,null))}))};MP.propTypes={attachPanel:i().func.isRequired,detachedPanels:i().arrayOf(i().string)};const UP=(0,s.$j)((function(e){return{detachedPanels:Au(e)}}),{attachPanel:ku.ht})(MP);var GP=r(59535),VP=function(e){e.dockId;switch(e.selectedTab){case"status":return c.createElement(ct.Z,null,c.createElement(lt.Z,{button:!0},c.createElement(gu.default,{status:"success"}),c.createElement(st.Z,{primary:"Door closed"})),c.createElement(lt.Z,{button:!0},c.createElement(gu.default,{status:"success"}),c.createElement(st.Z,{primary:"Tilt angle: 0.7\xb0"})),c.createElement(Sm.Z,null,"Landing pad 1"),c.createElement(lt.Z,{button:!0},c.createElement(gu.default,{status:"success"}),c.createElement(st.Z,{primary:"Landing pad is at the bottom"})),c.createElement(lt.Z,{button:!0},c.createElement(gu.default,{status:"success"}),c.createElement(st.Z,{primary:"Tweezers touching drone leg (left, right)"})),c.createElement(lt.Z,{button:!0},c.createElement(gu.default,{status:"info"}),c.createElement(st.Z,{primary:"Drone is charging",secondary:"11.6V \u2022 Time until full: 17m 12s"})));case"schedule":return c.createElement(ct.Z,{dense:!0},c.createElement(Sm.Z,null,"Upcoming missions"),c.createElement(lt.Z,null,c.createElement(gu.default,{status:"next",size:"small"}),c.createElement(st.Z,{primary:"Takeoff + landing test",secondary:"Scheduled: 2021-07-26 18:10 UTC"})),c.createElement(lt.Z,null,c.createElement(gu.default,{status:"off",size:"small"}),c.createElement(st.Z,{primary:"Takeoff + landing test",secondary:"Scheduled: 2021-07-26 19:10 UTC"})),c.createElement(Sm.Z,null,"Past missions"),c.createElement(lt.Z,null,c.createElement(gu.default,{status:"success",size:"small"}),c.createElement(st.Z,{primary:"Takeoff + landing test",secondary:"2021-07-26 17:10 UTC \u2022 0m 57s"})),c.createElement(lt.Z,null,c.createElement(gu.default,{status:"success",size:"small"}),c.createElement(st.Z,{primary:"Takeoff + landing test",secondary:"2021-07-26 16:10 UTC \u2022 0m 57s"})),c.createElement(lt.Z,null,c.createElement(gu.default,{status:"error",size:"small"}),c.createElement(st.Z,{primary:"Takeoff + landing test",secondary:"2021-07-26 15:10 UTC \u2022 Prearm checks failed"})));case"storage":return c.createElement(c.Fragment,null,c.createElement(ct.Z,null,c.createElement(lt.Z,null,c.createElement(gu.default,{status:"success"}),c.createElement(st.Z,{primary:"/dev/mmcblk0p1 \u2022 System",secondary:"4.0 GB used \u2022 9.8 GB free \u2022 29%"})),c.createElement(lt.Z,null,c.createElement(gu.default,{status:"success"}),c.createElement(st.Z,{primary:"/dev/mmcblk0p5 \u2022 Data storage",secondary:"0.5 GB used \u2022 63.1 GB free \u2022 0.8%"}),c.createElement(os.Z,null,c.createElement(W.Z,null,c.createElement(GP.Z,null)))),c.createElement(nl.Z,null)),c.createElement(ct.Z,null,c.createElement(Sm.Z,null,"Synchronization log"),c.createElement(lt.Z,null,c.createElement(gu.default,{status:"info"}),c.createElement(st.Z,{primary:"Click on a sync button to start"}))));case"liveCam":return c.createElement("video",{autoPlay:!0,loop:!0,muted:!0,poster:"//cam.idokep.hu/cam/schonherz1/thumbnail.jpg",width:"380",height:"284"},c.createElement("source",{src:"//cam.idokep.hu/cam/schonherz1/animation.webm"}),c.createElement("source",{src:"//cam.idokep.hu/cam/schonherz1/animation.mp4"}),c.createElement("img",{src:"//cam.idokep.hu/cam/schonherz1/thumbnail.jpg",width:"380",height:"284",id:"schonherz1"}));default:return null}};VP.propTypes={dockId:i().string,selectedTab:i().oneOf(["status","schedule","storage","liveCam"])};const BP=(0,s.$j)((function(e){return{dockId:(0,zs.zr)(e),selectedTab:(0,zs.XZ)(e)}}))(VP);var WP=r(1550),zP=r(45679),HP=(0,Ot.Z)((function(e){return{root:{lineHeight:"normal",fontSize:"small",width:"100%","& .muted":{color:e.palette.text.disabled}},header:{textTransform:"uppercase",color:e.palette.text.secondary},value:{textAlign:"right"},separator:{}}}),{name:"MiniTable"}),YP=c.createElement("span",{className:"muted"},"\u2014"),qP=function(e){var t=e.items,r=HP();return c.createElement("table",{className:r.root},c.createElement("tbody",null,t.map((function(e){return Array.isArray(e)?c.createElement("tr",{key:e[0]},c.createElement("td",{className:r.header},e[0]),c.createElement("td",{className:r.value},(0,Ue.default)(e[1])?YP:e[1])):c.createElement("tr",{key:e},c.createElement("td",{className:r.separator,colSpan:2}))}))))};qP.propTypes={items:i().arrayOf(i().oneOfType([i().string,i().arrayOf(i().node)]))};const $P=qP;function KP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return XP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XP(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XP(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var QP=(0,Ot.Z)((function(e){return{root:{padding:e.spacing(2),minWidth:185,flex:1,display:"flex",flexDirection:"column"},avatar:{display:"flex",flexDirection:"column"},summary:{paddingLeft:e.spacing(2)},toolbar:{justifyContent:"center",padding:e.spacing(1,0)},toolbarInner:{display:"flex",flexDirection:"row",flexWrap:"wrap",maxWidth:144,"& > button":{padding:8}}}}),{name:"DockDetailsDialogSidebar"}),JP=function(e){var t=e.dockId,r=KP((0,xj.Z)(!1),2),n=r[0],o=r[1],a=QP();return c.createElement(O.Z,{className:a.root},c.createElement(O.Z,{display:"flex",flexDirection:"row",alignItems:"center"},c.createElement(O.Z,{className:a.avatar},c.createElement(AS,{label:"OK",status:"success"})),c.createElement(O.Z,{className:a.summary},c.createElement(x.Z,{variant:"body1"},t),n?c.createElement(Sw.Z,{key:"status",status:"success"},"Automatic mode"):c.createElement(Sw.Z,{key:"status",status:"warning"},"Manual mode"))),c.createElement(Ww.Z,{disableGutters:!0,variant:"dense",className:a.toolbar},c.createElement(O.Z,{className:a.toolbarInner},c.createElement(pt.default,{content:"Open door"},c.createElement(W.Z,{size:"small"},c.createElement(WP.Z,{fontSize:"small"}))),c.createElement(pt.default,{content:"Close door"},c.createElement(W.Z,{size:"small"},c.createElement(zP.Z,{fontSize:"small"}))),c.createElement(pt.default,{content:"Reboot"},c.createElement(W.Z,{size:"small"},c.createElement(Xv.Z,{htmlColor:Wn.ZP.error,fontSize:"small"}))),c.createElement(pt.default,{content:"Power off"},c.createElement(W.Z,{size:"small"},c.createElement(Iv.Z,{htmlColor:Wn.ZP.error,fontSize:"small"}))))),c.createElement($P,{items:[["Location","ELTE kert"],"sep1",["Latitude",47.474223],["Longitude",19.06188],"sep2",["Door",c.createElement(Sw.Z,{status:"success"},"closed")],["Temperature","31.3 \xb0C"],"sep3",["Landing pad 1",c.createElement(Sw.Z,{status:"next"},"charging")]]}),c.createElement(O.Z,{flex:1}),c.createElement(N.Z,{control:c.createElement(ft.Z,{color:"primary"}),label:"Automatic mode",style:{margin:"0 !important"},checked:n,onChange:function(){return o()}}))};JP.propTypes={dockId:i().string};const eC=(0,s.$j)((function(e){return{dockId:(0,zs.zr)(e)}}),{})(JP);var tC=["dragHandleId"];function rC(){return rC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rC.apply(this,arguments)}function nC(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var oC=function(e){var t=e.dragHandleId,r=nC(e,tC);return c.createElement(b.Z,rC({alignment:"left",dragHandle:t},r),c.createElement(g.Z,{label:"Status",value:"status"}),c.createElement(g.Z,{label:"Schedule",value:"schedule"}),c.createElement(g.Z,{label:"Storage",value:"storage"}),c.createElement(g.Z,{label:"Live cam",value:"liveCam"}))};oC.propTypes={dragHandleId:i().string,value:i().string},oC.defaultProps={value:"status"};const aC=(0,s.$j)((function(e){return{value:(0,zs.XZ)(e)}}),{onChange:function(e,t){return(0,zs.BC)(t)}})(oC);var iC=function(e){var t=e.onClose,r=e.open;return c.createElement(Nr.Z,{fullWidth:!0,open:r,maxWidth:"sm",sidebarComponents:c.createElement(eC,null),toolbarComponent:function(e){return c.createElement(aC,{dragHandle:e})},onClose:t},c.createElement(O.Z,{position:"relative",height:448,overflow:"auto"},c.createElement(BP,null)))};iC.propTypes={open:i().bool,onClose:i().func};const cC=(0,s.$j)((function(e){return{open:e.dialogs.dockDetails.open,selectedTab:(0,zs.XZ)(e)}}),{onClose:zs.RN})(iC);var lC=r(15310),uC=r(30585),sC=r(88839),fC=r(55334);function pC(e){return pC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pC(e)}function dC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dC(Object(r),!0).forEach((function(t){hC(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dC(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function hC(e,t,r){var n;return n=function(e,t){if("object"!=pC(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=pC(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==pC(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var mC=(0,Co.jd)({horizontalMargin:[Co.C1,Co.yx,(0,Co.Tn)(1)],verticalMargin:[Co.C1,Co.yx,(0,Co.Tn)(1)],maxVertexCount:[Co.C1,Co._L,(0,Co.Tn)(3)]}),vC=(0,lC.Z)({field:"verticalMargin",updates:{heightLimit:function(e,t){var r=t.maxHeight;return e=Number.parseFloat(e),(0,fC.T)(r,Number.isFinite(e)?e:0)}}},{field:"horizontalMargin",updates:{distanceLimit:function(e,t){var r=t.maxDistance;return e=Number.parseFloat(e),(0,fC.r)(r,Number.isFinite(e)?e:0)}}}),gC=[sC.i8.KEEP_CURRENT,sC.i8.REPORT,sC.i8.RETURN,sC.i8.LAND],bC=function(e){var t=e.initialValues,r=e.onKeyPress,n=e.onSubmit,o=e.t;return c.createElement(S.l0,{initialValues:t,validate:mC,decorators:[vC],onSubmit:n},(function(e){var t=e.handleSubmit,n=e.values.simplify;return c.createElement("form",{id:"geofenceSettings",onSubmit:t,onKeyPress:r},c.createElement(U.Z,null,o("geofenceDialog.fenceAction")),c.createElement(O.Z,{display:"flex",flexDirection:"column"},c.createElement(E.Ph,{name:"action",label:o("geofenceDialog.fenceActionLabel"),variant:"filled"},gC.map((function(e){return c.createElement(F.Z,{key:e,value:e},(0,sC.BH)(e))}))),c.createElement(uC.Z,null,o("geofenceDialog.fenceActionHelperText"))),c.createElement(U.Z,null,o("geofenceDialog.safetyMargins")),c.createElement(O.Z,{display:"flex",flexDirection:"row"},c.createElement(E.nv,{fullWidth:!1,name:"horizontalMargin",label:o("geofenceDialog.horizontal"),type:"number",InputProps:{endAdornment:c.createElement(B.Z,{position:"end"},"m")},variant:"filled"}),c.createElement(O.Z,{p:1}),c.createElement(E.nv,{fullWidth:!1,name:"verticalMargin",label:o("geofenceDialog.vertical"),type:"number",InputProps:{endAdornment:c.createElement(B.Z,{position:"end"},"m")},variant:"filled"})),c.createElement(U.Z,null,o("geofenceDialog.proposedLimits")),c.createElement(O.Z,{display:"flex",flexDirection:"row"},c.createElement(E.nv,{disabled:!0,fullWidth:!1,name:"distanceLimit",label:o("geofenceDialog.maxDistance"),InputProps:{endAdornment:c.createElement(B.Z,{position:"end"},"m")},variant:"standard"}),c.createElement(O.Z,{p:1}),c.createElement(E.nv,{disabled:!0,fullWidth:!1,name:"heightLimit",label:o("geofenceDialog.maxAltitude"),InputProps:{endAdornment:c.createElement(B.Z,{position:"end"},"m")},variant:"standard"})),c.createElement(U.Z,null,o("geofenceDialog.vertexCountReduction")),c.createElement(O.Z,{display:"flex",flexDirection:"column"},c.createElement(E.xI,{name:"simplify",data:{label:o("geofenceDialog.simplifyPolygon")}}),c.createElement(E.nv,{fullWidth:!1,name:"maxVertexCount",label:o("geofenceDialog.maxVertexCount"),disabled:!n,type:"number",variant:"filled"})))}))};bC.propTypes={initialValues:i().object,onKeyPress:i().func,onSubmit:i().func,t:i().func};var wC=(0,s.$j)((function(e){return{initialValues:yC(yC({},e.dialogs.geofenceSettings),{},{maxDistance:(0,lh.EM)(e),maxHeight:(0,lh.a8)(e),action:(0,tc.Aj)(e)})}}))((0,h.Zh)()(bC)),EC=function(e){var t=e.forceFormSubmission,r=e.hasFence,n=e.onClose,o=e.onClearGeofence,a=e.onSubmit,i=e.open,l=e.t,u=(0,c.useCallback)((function(e){"Enter"===e.nativeEvent.code&&t()}),[t]);return c.createElement(Nr.Z,{fullWidth:!0,open:i,maxWidth:"xs",title:l("geofenceDialog.title"),onClose:n},c.createElement(v.Z,null,c.createElement(wC,{onSubmit:a,onKeyPress:u})),c.createElement(vr.Z,null,c.createElement(A.Z,{color:"secondary",disabled:!r,onClick:o},l("geofenceDialog.clear")),c.createElement(A.Z,{color:"primary",onClick:t},l("geofenceDialog.apply")),c.createElement(A.Z,{onClick:n},l("geofenceDialog.close"))))};EC.propTypes={forceFormSubmission:i().func,hasFence:i().bool,onClearGeofence:i().func,onClose:i().func,onSubmit:i().func,open:i().bool.isRequired,t:i().func};const SC=(0,s.$j)((function(e){return{hasFence:(0,tc.pw)(e),open:e.dialogs.geofenceSettings.dialogVisible}}),{forceFormSubmission:function(){return function(){(0,or.xe)("geofenceSettings")}},onClearGeofence:function(){return function(e,t){var r=(0,tc.vj)(t());r&&(e((0,ec.Ef)()),e((0,wr.hW)([r])))}},onClose:Tc.D9,onSubmit:function(e){return function(t){t((0,Tc.Y7)({horizontalMargin:Number(e.horizontalMargin),verticalMargin:Number(e.verticalMargin),simplify:e.simplify,maxVertexCount:Number(e.maxVertexCount)})),t((0,ec.jZ)(e.action)),t((0,Tc.D9)()),t((0,jh.W2)())}}})((0,h.Zh)()(EC));r(92176),r(7961);var OC=function(){return function(e,t){var r=t();e((0,Ui.pW)(!(0,Gi.d)(r)))}},xC=r(20640),AC=r.n(xC);function jC(e){return e.hotkeys.pendingUAVId}function kC(e){return e.hotkeys.dialogVisible}function PC(e){return e.hotkeys.pendingUAVId.length>0}var CC=r(64634);function TC(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return IC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IC(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function IC(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var LC=["","0","00","000","0000"];function _C(e,t){var r=t(),n=jC(r);if(n&&"string"==typeof n&&n.length>0){var o=[],a=(0,tc.eP)(r);if("s"===n.charAt(0)){var i=Number(n.slice(1));if(Number.isFinite(i)){var c=a[i-1];(0,Ue.default)(c)||o.push(c)}}else{var l,u=TC(/^\d+$/.test(n)?LC:[""]);try{for(u.s();!(l=u.n()).done;){var s=l.value+n;if((0,ro.Rk)(r,s)||a.includes(s)){o.push(s);break}}}catch(e){u.e(e)}finally{u.f()}}return e((0,JE.D0)(o)),e(RC()),o.length>0&&function(e){const t=lw(e);t&&ZS(`#${t}`)}(o[0]),!0}return!1}function ZC(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).executeOnlyWithoutPendingUAVId;return function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return function(r,o){if(!_C(r,o)||!t)return r(e.apply(void 0,n))}}}function NC(e){return function(t,r){if("s"===e)return t((0,CC.Jg)("s")),void t((0,CC.E9)());if("number"==typeof e&&(e=String(e)),"string"==typeof e&&1===e.length&&e>="0"&&e<="9"){var n=jC(r());n.length<10&&t((0,CC.Jg)(n+e)),t((0,CC.E9)())}}}function RC(){return(0,CC.Jg)("")}function DC(){return function(e,t){var r=t();PC(r)?e(RC()):!function(e){return!e.alert.muted&&e.alert.count>0}(r)?e((0,cs.MO)()):e((0,vi.W9)())}}var FC=function(){return function(e){!function(){var e;const t=document.querySelector(".ol-mouse-position"),r=null===(e=(t?[...t.childNodes].filter((e=>e.nodeType===Node.TEXT_NODE)):[])[0])||void 0===e?void 0:e.textContent;return!!r&&(xC(r),!0)}()?e((0,Dp.c)({message:"Failed to copy coordinates; are you hovering over the map?",semantics:"error"})):e((0,Dp.c)("Coordinates copied to clipboard."))}};function MC(){return function(e,t){var r=jC(t());r.length>0&&(e((0,CC.Jg)(r.slice(0,-1))),e((0,CC.E9)()))}}for(var UC=r(41741),GC="_hidden",VC={ACTIVATE_SELECTION:{name:"Show properties dialog for selection",sequence:"enter"},CLEAR_SELECTION:{name:"Clear selection",sequence:"esc"},CLEAR_STORED_SETTINGS:{name:"Clear stored settings and reload",sequence:"mod+alt+c"},COPY_COORDINATES:{name:"Copy coordinates to clipboard",sequence:"mod+shift+c"},PAGE_DOWN:{name:"Page down",sequence:"pagedown",group:GC},PAGE_UP:{name:"Page up",sequence:"pageup",group:GC},REMOVE_SELECTION:{name:"Remove selection",sequence:"del"},SELECT_ALL_DRONES:{name:"Select all drones",sequence:"mod+a"},SELECT_FIRST:{name:"Select first drone",sequence:"home",group:GC},SELECT_LAST:{name:"Select last drone",sequence:"end",group:GC},SELECT_DOWN:{name:"Select next drone (vertically)",sequence:"down",group:GC},SELECT_UP:{name:"Select previous drone (vertically)",sequence:"up",group:GC},SELECT_LEFT:{name:"Select previous drone (horizontally)",sequence:"left",group:GC},SELECT_RIGHT:{name:"Select next drone (horizontally)",sequence:"right",group:GC},TOGGLE_BROADCAST_MODE:{name:"Toggle the broadcast mode switch",sequence:"mod+b"},SEND_FLASH_LIGHTS_COMMAND:{name:"Flash lights on selected UAVs",sequence:"w"},SEND_TAKEOFF_COMMAND:{name:"Send takeoff command to selection",sequence:"mod+alt+t"},SEND_LANDING_COMMAND:{name:"Send landing command to selection",sequence:"mod+alt+l"},SEND_POSITION_HOLD_COMMAND:{name:"Send position hold command to selection",sequence:"mod+alt+p"},SEND_RTH_COMMAND:{name:"Send return to home command to selection",sequence:"mod+alt+r"},SHOW_HOTKEY_DIALOG:{name:"Show hotkeys",sequence:"?",group:GC},TOGGLE_SORT_BY_MISSION_ID:{name:"Toggle sorting UAVs by mission IDs",sequence:"mod+s"},TYPE_S:{name:"Prepend S to the pending UAV ID",sequence:"s",group:GC},DELETE_LAST_CHARACTER:{name:"Delete last character of pending UAV ID",sequence:"backspace",group:GC}},BC=0,WC=[0,1,2,3,4,5,6,7,8,9];BC<WC.length;BC++){var zC=WC[BC];VC["TYPE_".concat(zC)]={name:"Append ".concat(zC," to the pending UAV ID"),sequence:String(zC),group:GC}}var HC=UC.Ag?"meta+":"ctrl+",YC=function(e){return e.replace("mod+",HC)};!function(e){for(var t=0,r=Object.values(e);t<r.length;t++){var n=r[t];n.sequence?n.sequence=YC(n.sequence):Array.isArray(n.sequences)&&(n.sequences=n.sequences.map(YC))}}(VC);const qC=VC;function $C(e){return $C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$C(e)}function KC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function XC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?KC(Object(r),!0).forEach((function(t){QC(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KC(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function QC(e,t,r){var n;return n=function(e,t){if("object"!=$C(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=$C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==$C(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(0,jO.configure)({allowCombinationSubmatches:!0,ignoreRepeatedEventsWhenKeyHeldDown:!1});var JC=function(e){var t=e.handlers;return c.createElement(jO.GlobalHotKeys,{keyMap:qC,handlers:t})},eT=function(e,t,r){return XC(XC({},t),(0,WS.Z)(e,(function(e){return function(t){t.preventDefault(),r(e())}})))};JC.propTypes={handlers:i().object};var tT=(0,Lv.Fj)({getTargetedUAVIds:function(e){return(0,Gi.d)(e)?(0,ro.lI)(e):(0,ro.yi)(e)},getTransportOptions:function(e){return{broadcast:(0,Gi.d)(e),channel:(0,tc.ML)(e)||0}}}),rT=function(e){return function(){var t=tT[e];return t&&"function"==typeof t?t():function(){}}};const nT=(0,s.$j)(null,(function(e){return{handlers:eT({ACTIVATE_SELECTION:ZC((function(){return function(e,t){if(IS.hasListeners())LS("ACTIVATE_SELECTION")();else{var r=(0,ro.yi)(t());r&&r.length>0&&e((0,eS.Um)(r.at(-1)))}}}),{executeOnlyWithoutPendingUAVId:!0}),CLEAR_SELECTION:DC,COPY_COORDINATES:FC,DELETE_LAST_CHARACTER:MC,REMOVE_SELECTION:ZC((function(){return function(e){e((0,JE.pH)()),e((0,gr.rn)())}})),SELECT_ALL_DRONES:cs.i3,SEND_FLASH_LIGHTS_COMMAND:ZC(rT("flashLight")),SEND_TAKEOFF_COMMAND:rT("takeOff"),SEND_LANDING_COMMAND:rT("land"),SEND_POSITION_HOLD_COMMAND:rT("holdPosition"),SEND_RTH_COMMAND:rT("returnToHome"),SHOW_HOTKEY_DIALOG:CC.j6,TOGGLE_BROADCAST_MODE:OC,TOGGLE_SORT_BY_MISSION_ID:C.Uy,TYPE_0:function(){return NC(0)},TYPE_1:function(){return NC(1)},TYPE_2:function(){return NC(2)},TYPE_3:function(){return NC(3)},TYPE_4:function(){return NC(4)},TYPE_5:function(){return NC(5)},TYPE_6:function(){return NC(6)},TYPE_7:function(){return NC(7)},TYPE_8:function(){return NC(8)},TYPE_9:function(){return NC(9)},TYPE_S:function(){return NC("s")}},{CLEAR_STORED_SETTINGS:rs.iG,PAGE_DOWN:LS("PAGE_DOWN"),PAGE_UP:LS("PAGE_UP"),SELECT_FIRST:LS("SELECT_FIRST"),SELECT_LAST:LS("SELECT_LAST"),SELECT_DOWN:LS("SELECT_DOWN"),SELECT_UP:LS("SELECT_UP"),SELECT_LEFT:LS("SELECT_LEFT"),SELECT_RIGHT:LS("SELECT_RIGHT")},e)}}))(JC);var oT=r(82302),aT=r(99613),iT=r(88222),cT=r(57394);function lT(){return lT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lT.apply(this,arguments)}function uT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return sT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sT(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sT(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var fT={width:120},pT={maxWidth:"99%"},dT=function(e){var t=e.name,r=e.sequences;return c.createElement(cT.Z,null,c.createElement(iT.Z,{style:fT,padding:"none"},r.map((function(e){var t,r=e.sequence;return"string"!=typeof(t=r)?null:t.split("+").map((function(e){var t=e.trim().toLowerCase().replace(/^mod$/,UC.a5).replace(/^cmd$/,"\u2318").replace(/^meta$/,"\u2318").replace(/^alt$/,UC.Ag?"\u2325":"Alt").replace(/^shift/,"\u21e7").replace(/^del$/,UC.Ag?"\u2326":"Delete");return c.createElement("kbd",{key:e},t.charAt(0).toUpperCase()+t.slice(1))}))}))),c.createElement(iT.Z,{style:pT},t))};dT.propTypes={name:i().string,sequences:i().arrayOf(i().shape({sequence:i().string}))};var yT=function(e){var t=e.onClose,r=e.open,n=uT((0,c.useState)((function(){return(0,jO.getApplicationKeyMap)()})),2),o=n[0],a=n[1];return(0,c.useEffect)((function(){a((0,jO.getApplicationKeyMap)())}),[r]),c.createElement(Nr.Z,{title:"Hotkeys",open:r,onClose:t},c.createElement(v.Z,null,c.createElement(oT.Z,{size:"small"},c.createElement(aT.Z,null,Object.keys(o||{}).map((function(e){return o[e].group!==GC&&c.createElement(dT,lT({key:e},o[e]))}))))),c.createElement(vr.Z,null,c.createElement(A.Z,{color:"primary",onClick:t},"Close")))};yT.propTypes={onClose:i().func,open:i().bool};const hT=(0,s.$j)((function(e){return{open:kC(e)}}),{onClose:CC.hE})(yT);var mT=r(38755);const vT=(0,s.$j)((function(e){var t=jC(e);return{text:t,open:t.length>0}}),{})(mT.Z);var gT=r(85901),bT=r(72063),wT=r(97480),ET=r(44080),ST=r(81019),OT=r(95043),xT=r(4283);function AT(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return jT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jT(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function jT(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var kT=function(e){var t=e.expiryDate,r=e.features,n=e.id,o=e.licensee,a=e.restrictions,i=[],l=[];if(Array.isArray(r)){var u,s=AT(r);try{for(s.s();!(u=s.n()).done;){var f=u.value;i.push(c.createElement(lt.Z,{key:"".concat(f.type,"_").concat(f.label),disableGutters:!0},c.createElement(ut.Z,null,c.createElement(OT.Z,null)),c.createElement(st.Z,{primary:f.label,secondary:f.secondaryLabel})))}}catch(e){s.e(e)}finally{s.f()}}if(Array.isArray(a)){var p,d=AT(a);try{for(d.s();!(p=d.n()).done;){var y=p.value;l.push(c.createElement(lt.Z,{key:"".concat(y.type,"_").concat(y.label),disableGutters:!0},c.createElement(ut.Z,null,c.createElement(ET.Z,null)),c.createElement(st.Z,{primary:y.label,secondary:y.secondaryLabel})))}}catch(e){d.e(e)}finally{d.f()}}return c.createElement(ct.Z,{dense:!0,disablePadding:!0},c.createElement(lt.Z,{disableGutters:!0},c.createElement(ut.Z,null,c.createElement(ST.Z,null)),c.createElement(st.Z,{primary:"License ID",secondary:n||"No license activated"})),o&&c.createElement(lt.Z,{disableGutters:!0},c.createElement(ut.Z,null,c.createElement(Ni.Z,null)),c.createElement(st.Z,{primary:"Name of license holder",secondary:o})),n&&c.createElement(lt.Z,{disableGutters:!0},c.createElement(ut.Z,null,c.createElement(wT.Z,null)),c.createElement(st.Z,{primary:"Expiry date",secondary:t||"This license never expires"})),i.length>0&&c.createElement(nl.Z,null),i,l.length>0&&c.createElement(nl.Z,null),l)};kT.propTypes={id:i().string,licensee:i().string,expiryDate:i().string,features:i().arrayOf(i().shape({type:i().string,label:i().string,secondaryLabel:i().string})),restrictions:i().arrayOf(i().shape({type:i().string,label:i().string,secondaryLabel:i().string}))};const PT=function(){var e=vb(),t=(0,gT.Z)(e.query.getLicenseInformation,[e]);return t.error&&!t.loading?c.createElement(Ao.Z,{icon:c.createElement(bT.Z,null),text:"Error while loading license information",button:c.createElement(A.Z,{onClick:t.retry},"Try again")}):t.value?c.createElement(kT,t.value):c.createElement(xT.Z,{fullHeight:!0,label:"Retrieving license information..."})};var CT=function(e){var t=e.onClose,r=e.open;return c.createElement(Nr.Z,{fullWidth:!0,open:r,maxWidth:"xs",title:"License information",onClose:t},c.createElement(v.Z,null,c.createElement(PT,null)),c.createElement(vr.Z,null,c.createElement(A.Z,{onClick:t},"Close")))};CT.propTypes={open:i().bool,onClose:i().func};const TT=(0,s.$j)((function(e){return{open:e.licenseInfo.dialog.open}}),{onClose:il.KA})(CT);var IT=r(85360),LT=function(e){var t=e.onClearCache,r=e.onClose,n=e.isConnected,o=e.isMapCachingEnabled,a=e.isMapCachingSupported,i=e.setMapCachingEnabled;return c.createElement(c.Fragment,null,c.createElement(Tt,null,a?Ct.success:Ct.warning,c.createElement(st.Z,{primary:a?"Server supports offline map caching":n?"Server does not support offline map caching":"Connect to a server with offline map support"})),c.createElement(lt.Z,{button:!0,disableRipple:!0,onClick:function(){return i(!o)}},c.createElement(ut.Z,{style:{margin:"0 17px 0 2px"}},c.createElement(ft.Z,{checked:o})),c.createElement(st.Z,{primary:"Use cached map tiles from server"})),c.createElement(vr.Z,null,c.createElement(A.Z,{disabled:!a||!t,onClick:t},"Clear cache"),c.createElement(O.Z,{flex:1}),c.createElement(A.Z,{onClick:r},"Close")))};LT.propTypes={isConnected:i().bool,isMapCachingEnabled:i().bool,isMapCachingSupported:i().bool,setMapCachingEnabled:i().func,onClearCache:i().func,onClose:i().func};const _T=(0,s.$j)((function(e){return{isConnected:(0,tn.Mb)(e),isMapCachingEnabled:(0,IT.x)(e),isMapCachingSupported:(0,tn.eJ)(e)}}),{setMapCachingEnabled:cl.ey})(LT);var ZT=function(e){var t=e.onClose,r=e.open;return c.createElement(Nr.Z,{fullWidth:!0,open:r,maxWidth:"xs",title:"Offline maps",onClose:t},c.createElement(_T,{onClose:t}))};ZT.propTypes={open:i().bool,onClose:i().func};const NT=(0,s.$j)((function(e){return{open:e.mapCaching.dialog.open}}),{onClose:cl.it})(ZT);var RT=r(97580),DT=(0,Ge.createSelector)(ml,yl,(function(e,t){if(2===e.length){var r=t[e[0]],n=t[e[1]];if(r&&n)return e}})),FT=(0,Ge.createSelector)(DT,yl,(function(e,t){if(e&&2===e.length){var r=t[e[0]],n=t[e[1]];return[[r.mean.lon,r.mean.lat],[n.mean.lon,n.mean.lat]]}})),MT=function(e){var t=e.coordinates,r=e.hasEnoughMeasurements,n=e.selectedUAVIdPair;if(n){var o=(0,Y.Y3)(t[0],t[1]).toFixed(1),a=(0,Y.Tk)(t[0],t[1]).toFixed(1);return c.createElement(c.Fragment,null,c.createElement(x.Z,{color:"textSecondary",variant:"body2",component:"span"},n[0]," \u2192 ",n[1],":"," "),c.createElement(x.Z,{variant:"body2",component:"span"},(0,qn.Bb)((0,RT.Sp)(t[0],t[1]))),o===a?c.createElement(c.Fragment,null,c.createElement(x.Z,{color:"textSecondary",variant:"body2",component:"span"},", bearing: "),c.createElement(x.Z,{variant:"body2",component:"span"},o,"\xb0")):c.createElement(c.Fragment,null,c.createElement(x.Z,{color:"textSecondary",variant:"body2",component:"span"},", initial bearing: "),c.createElement(x.Z,{variant:"body2",component:"span"},o,"\xb0"),c.createElement(x.Z,{color:"textSecondary",variant:"body2",component:"span"},", final bearing: "),c.createElement(x.Z,{variant:"body2",component:"span"},a,"\xb0")))}return c.createElement(x.Z,{color:"textSecondary",variant:"body2",align:"center"},r?"Select exactly two items to calculate the bearing and distance between them":"Add at least two items to calculate the bearing and distance between them")};MT.propTypes={coordinates:i().arrayOf(i().arrayOf(i().number)),hasEnoughMeasurements:i().bool,selectedUAVIdPair:i().arrayOf(i().string)};const UT=(0,s.$j)((function(e){return{coordinates:FT(e),selectedUAVIdPair:DT(e),hasEnoughMeasurements:pl(e).length>=2}}))(MT);var GT=r(63957),VT=r(73770),BT=r(88543),WT=r(10064),zT=r(428),HT=r(85585),YT=["children"];function qT(){return qT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qT.apply(this,arguments)}function $T(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function KT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return XT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XT(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XT(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var QT=(0,Ot.Z)((function(e){return{content:{marginRight:-10,width:200+6*e.spacing(1)+10,maxHeight:200+6*e.spacing(1),padding:e.spacing(1),display:"flex",flexWrap:"wrap",gap:e.spacing(1),overflow:"hidden auto"},paper:{overflow:"visible","&::before":{content:'""',display:"block",width:16,height:16,position:"absolute",top:-8,left:"calc(50% - 8px)",transform:"rotate(45deg)",backgroundColor:e.palette.background.paper}}}}),{name:"UAVSelector"}),JT=function(e){var t=e.anchorEl,r=e.filterable,n=e.onClose,o=e.onFocus,a=e.onSelect,i=e.open,l=e.reverseMissionMapping,u=e.uavIds,s=QT(),f=KT((0,c.useState)(""),2),p=f[0],d=f[1];(0,c.useEffect)((function(){i&&d("")}),[i]);var y=u.filter((function(e){return e.startsWith(p)||e in l&&(0,qn.Bq)(l[e]).startsWith(p)}));return c.createElement(of.Uw,{open:i,anchorEl:t,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},PaperProps:{className:s.paper,onKeyDown:r?function(e){switch(e.key){case"Enter":y.length>0&&(a(y[0]),n(),e.stopPropagation(),e.preventDefault());break;case"Backspace":d(p.slice(0,-1));break;case"s":p.startsWith("s")?d(p.slice(1)):d("s"+p),e.stopPropagation();break;default:/^\d$/.test(e.key)&&(d(p+e.key),e.stopPropagation())}}:void 0},onClose:n,onFocus:o},c.createElement("div",{className:s.content,tabIndex:0},y.length>0?y.map((function(e){return c.createElement("div",{key:e},c.createElement(TS,{variant:"minimal",id:e,AvatarProps:{style:{cursor:"pointer"},onClick:function(){a(e),n()}}}))})):c.createElement(Ao.Z,{text:'No matching UAVs for: "'.concat(p,'"')})))};JT.propTypes={anchorEl:i().object,filterable:i().bool,onClose:i().func,onFocus:i().func,onSelect:i().func,open:i().bool,reverseMissionMapping:i().object,uavIds:i().arrayOf(i().string)};var eI=(0,s.$j)((function(e,t){var r=t.sortedByError;return{reverseMissionMapping:(0,tc.G5)(e),uavIds:r?(0,ro.T8)(e):(0,ro.lI)(e)}}))(JT),tI=function(e){var t=e.children,r=$T(e,YT),n=KT((0,c.useState)(null),2),o=n[0],a=n[1],i=KT((0,c.useState)(null),2),l=i[0],u=i[1];return c.createElement(c.Fragment,null,t((function(e){a(e.currentTarget)})),c.createElement(eI,qT({anchorEl:o,open:Boolean(o),onClose:function(){a(null),l&&setTimeout((function(){return l.focus()}),0)},onFocus:function(e){var t;null!=e&&null!==(t=e.relatedTarget)&&void 0!==t&&t.focusRestorationTarget&&u(e.relatedTarget.focusRestorationTarget)}},r)))};function rI(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=oI(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function nI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||oI(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oI(e,t){if(e){if("string"==typeof e)return aI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?aI(e,t):void 0}}function aI(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}tI.propTypes={children:i().func,sortedByError:i().bool};var iI=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).whenEmpty,r=void 0===t?"nop":t;return function(){return function(t,n){var o=n(),a=ml(o);a&&0!==a.length||"useAll"!==r||(a=pl(o)),a&&a.length>0&&t(e(a))}}},cI=iI(wl.a_,{whenEmpty:"useAll"}),lI=iI(wl.e5),uI=iI(wl.Fg,{whenEmpty:"useAll"}),sI=iI(wl.vA),fI=function(e){return function(t,r){for(var n=r(),o=["lat","lon","amsl","ahl"],a={},i=0,c=Object.entries(e);i<c.length;i++){var l=nI(c[i],2),u=l[0],s=l[1],f=n.measurement.averagingResults.byId[u],p=f.numSamples+1;if(f){a[u]={lastSampleAt:Date.now(),numSamples:p,mean:{},sqDiff:{}};var d,y=rI(o);try{for(y.s();!(d=y.n()).done;){var h=d.value;if(!(0,Ue.default)(s[h])){var m=s[h]-f.mean[h],v=f.mean[h]+m/p,g=(s[h]-v)*m,b=f.sqDiff[h]+g;a[u].mean[h]=v,a[u].sqDiff[h]=b}}}catch(e){y.e(e)}finally{y.f()}}}t((0,wl.Ar)(a))}},pI=function(e){return function(t,r){var n=r(),o=hl(n,e);if(o){var a=(0,no.EQ)(n)(o);AC()(a),1===e.length?t((0,Dp.c)("Coordinates copied to clipboard.")):t((0,Dp.c)("Coordinates of centroid copied to clipboard."))}}},dI=iI(pI,{whenEmpty:"useAll"}),yI=iI((function(e){return function(t,r){var n=hl(r(),e);n&&(t((0,xe.ZG)(n)),1===e.length?t((0,Dp.c)("Map origin set to the coordinates of the selected UAV.")):t((0,Dp.c)("Map origin set to centroid of selection.")))}}),{whenEmpty:"useAll"});const hI=(0,Vi.Z)(c.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),"default ContentCopy");var mI=function(e){var t=e.hasMeasurements,r=e.hasSelection,n=e.onCopyCentroidOfSelection,o=e.onPauseSelected,a=e.onRemoveSelected,i=e.onRestartSelected,l=e.onResumeSelected,u=e.onSetCentroidOfSelectionAsMapOrigin,s=e.onUAVIdAdded;return c.createElement(HT.default,{disableGutters:!0},c.createElement(O.Z,{position:"absolute",display:"flex"},c.createElement(tI,{filterable:!0,onSelect:s},(function(e){return c.createElement(pt.default,{content:"Add new drone"},c.createElement(W.Z,{color:"inherit",onClick:e},c.createElement(GT.Z,null)))})),c.createElement(pt.default,{content:"Remove selected"},c.createElement(W.Z,{disabled:!r,color:"inherit",onClick:a},c.createElement(WT.Z,null))),c.createElement(XE,{orientation:"vertical"}),c.createElement(pt.default,{content:"Pause measurement"},c.createElement(W.Z,{disabled:!t,color:"inherit",onClick:o},c.createElement(VT.Z,null))),c.createElement(pt.default,{content:"Resume measurement"},c.createElement(W.Z,{disabled:!t,color:"inherit",onClick:l},c.createElement(vs.Z,null))),c.createElement(pt.default,{content:"Reset measurement"},c.createElement(W.Z,{disabled:!t||!r,color:"inherit",onClick:i},c.createElement(zT.Z,null))),c.createElement(XE,{orientation:"vertical"}),c.createElement(pt.default,{content:"Copy centroid"},c.createElement(W.Z,{disabled:!t,color:"inherit",onClick:n},c.createElement(hI,null))),c.createElement(pt.default,{content:"Set centroid as map origin"},c.createElement(W.Z,{disabled:!t,color:"inherit",onClick:u},c.createElement(BT.Z,null)))))};mI.propTypes={hasMeasurements:i().bool,hasSelection:i().bool,onCopyCentroidOfSelection:i().func,onPauseSelected:i().func,onRemoveSelected:i().func,onResumeSelected:i().func,onRestartSelected:i().func,onSetCentroidOfSelectionAsMapOrigin:i().func,onUAVIdAdded:i().func};const vI=(0,s.$j)((function(e){return{hasMeasurements:vl(e),hasSelection:bl(e)}}),{onCopyCentroidOfSelection:dI,onPauseSelected:cI,onRemoveSelected:sI,onResumeSelected:uI,onRestartSelected:lI,onSetCentroidOfSelectionAsMapOrigin:yI,onUAVIdAdded:wl.X8})(mI);var gI=r(96353),bI=["coordinateFormatter","measurement","onCopy"];function wI(){return wI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wI.apply(this,arguments)}function EI(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var SI=function(e,t,r){return t>0&&r>1?"".concat(e.toFixed(1)," \xb1 ").concat(Math.sqrt(t/(r-1)).toFixed(1)):e.toFixed(1)},OI=(0,Ot.Z)((function(e){return{root:{fontVariantNumeric:"lining-nums tabular-nums","&>div:first-child>div:first-child":{maxWidth:44}},dim:{color:e.palette.text.secondary},avatar:{transition:e.transitions.create(["background-color","color"],{duration:e.transitions.duration.short})},sampling:{backgroundColor:Wn.ZP.success,color:e.palette.getContrastText(Wn.ZP.success),position:"relative"},primaryContainer:{display:"flex"},secondaryContainer:{display:"flex"},latLonCoordinatesColumn:{minWidth:180},amslColumn:{minWidth:140},ahlColumn:{minWidth:80,flex:1}}}),{name:"MeasurementListItem"}),xI=function(e){var t,r,o=e.coordinateFormatter,a=e.measurement,i=e.onCopy,l=EI(e,bI),u=OI(),s=a||{},f=s.extraSamplingTime,p=s.id,d=s.lastSampleAt,y=s.startedAt,h=s.mean,m=s.numSamples,v=s.sampling,g=s.sqDiff,b=o||vu.default,w=[h.lon,h.lat];return m<=0?(t="Waiting for samples\u2026",r=c.createElement("div",{className:(0,n.Z)(u.dim,u.secondaryContainer)},"No samples yet")):(t=c.createElement("div",{className:u.primaryContainer},c.createElement("div",{className:u.latLonCoordinatesColumn},b(w)),c.createElement("div",{className:u.amslColumn},SI(h.amsl,g.amsl,m),"m ",c.createElement("span",{className:u.dim},"AMSL")),c.createElement("div",{className:u.ahlColumn},SI(h.ahl,g.ahl,m),"m ",c.createElement("span",{className:u.dim},"AHL"))),r=c.createElement("div",{className:u.secondaryContainer},c.createElement("div",{className:u.latLonCoordinatesColumn},function(e,t,r){if(r<2)return"0";var n=Math.sqrt(t.lat/(r-1)),o=Math.sqrt(t.lon/(r-1)),a=(0,RT.Sp)([e.lon-o,e.lat-n],[e.lon+o,e.lat+n])/2;return(0,qn.Bb)(a,1)}(h,g,m)," ",c.createElement("span",{className:u.dim},"std.dev. in XY")),c.createElement("div",{className:(0,n.Z)(u.dim,u.amslColumn)},m," samples"),c.createElement("div",{className:(0,n.Z)(u.dim,u.ahlColumn)},"Duration:"," ",function(e,t,r){return(0,qn.LU)((((0,Ue.default)(t)||(0,Ue.default)(e)?0:t-e)+(r||0))/1e3)}(y,d,f)))),c.createElement(lt.Z,wI({button:!0},l,{className:u.root}),c.createElement(gI.Z,null,c.createElement(TS,{id:p,variant:"minimal",crossed:!v})),c.createElement(st.Z,{disableTypography:!0,primary:t,secondary:r}),m>0&&c.createElement(os.Z,null,c.createElement(pt.default,{content:"Copy to clipboard"},c.createElement(W.Z,{edge:"end","aria-label":"copy",onClick:function(){return i(p)}},c.createElement(hI,null)))))};xI.propTypes={coordinateFormatter:i().func,measurement:i().shape({id:i().string,numSamples:i().number,sampling:i().bool}).isRequired,onCopy:i().func};var AI=(0,is.l0)((function(e,t,r){return c.createElement(xI,{key:e.id,coordinateFormatter:t.coordinateFormatter,measurement:e,selected:r,onClick:t.onItemSelected,onCopy:t.onCopy})}),{dataProvider:"measurements",backgroundHint:c.createElement(Ao.Z,{style:{padding:16},text:"Add a drone to measure with the + button in the toolbar"})});const jI=(0,s.$j)((function(e){return{coordinateFormatter:(0,no.EQ)(e),dense:!0,fullWidth:!0,measurements:dl(e),value:ml(e)}}),{onChange:wl.Aq,onCopy:function(e){return function(t){return t(pI([e]))}}})(AI);var kI=function(e){var t=e.onClose,r=e.open;return c.createElement(m.Z,{fullWidth:!0,open:r,maxWidth:"sm",onClose:t},c.createElement(vI,null),c.createElement(O.Z,{display:"flex",flexDirection:"row",alignItems:"stretch",minHeight:240},c.createElement(O.Z,{flex:1},c.createElement(jI,null))),c.createElement(O.Z,{className:"bottom-bar",textAlign:"center",py:1},c.createElement(UT,null)))};kI.propTypes={open:i().bool,onClose:i().func};const PI=(0,s.$j)((function(e){return{open:e.measurement.averagingDialog.open}}),{onClose:wl.pM})(kI);var CI=r(52329),TI=r(98121),II=r(21594);function LI(e){return LI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LI(e)}var _I=["y"];function ZI(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function NI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function RI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?NI(Object(r),!0).forEach((function(t){DI(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NI(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function DI(e,t,r){var n;return n=function(e,t){if("object"!=LI(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=LI(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==LI(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var FI=(0,Ot.Z)((function(e){return{root:{display:"flex",flexDirection:"column",minWidth:240},header:{display:"flex",minHeight:e.spacing(6),alignItems:"center",padding:e.spacing(0,0,0,2)},title:{textTransform:"uppercase",flex:1},list:{position:"relative",flex:1,overflow:"auto"},footer:{display:"flex",flexDirection:"row",justifyContent:"space-between",padding:e.spacing(1),textAlign:"center"}}}),{name:"ParameterListSidebar"}),MI=function(e){var t=e.canUpload,r=e.manifest,n=e.onImportItems,o=e.onRemoveItem,a=e.onRemoveAllItems,i=e.onStart,l=FI(),u=(0,CI.Yz)(r.map((function(e,t){return RI(RI({},e),{},{y:28*t})})),{from:{position:"absolute",opacity:0},leave:{height:0,opacity:0},enter:function(e){return{y:e.y,opacity:1}},update:function(e){return{y:e.y}},key:function(e){return e.name}});return c.createElement(O.Z,{className:l.root},c.createElement(O.Z,{className:l.header},c.createElement(O.Z,{className:l.title},"Manifest"),c.createElement(pt.default,{content:"Remove all items from manifest"},c.createElement(W.Z,{disabled:!r||0===r.length,onClick:a},c.createElement(Js.Z,null)))),c.createElement(Xi.Z,{className:l.list},u((function(e,t){var r=e.y,n=ZI(e,_I),a=t.name,i=t.value;return c.createElement(CI.q.div,{style:RI({transform:r.to((function(e){return"translate3d(0,".concat(e,"px,0)")})),width:"100%"},n)},c.createElement(lt.Z,{button:!0,onClick:function(){return o(a)}},c.createElement(O.Z,{display:"flex",flexDirection:"row",flexGrow:1},c.createElement(O.Z,{flexGrow:1},a),c.createElement(O.Z,{color:"text.secondary",ml:1},i))))}))),c.createElement(O.Z,{className:l.footer},c.createElement(II.Z,{startIcon:c.createElement(it.Z,null),onSelected:n},"Import..."),c.createElement(A.Z,{disabled:!t,endIcon:c.createElement(TI.Z,null),onClick:i},"Next step")))};MI.propTypes={canUpload:i().bool,manifest:i().arrayOf(i().shape({name:i().string,value:i().string})),onImportItems:i().func,onRemoveAllItems:i().func,onRemoveItem:i().func,onStart:i().func};const UI=(0,s.$j)((function(e){return{canUpload:!Jl(e),manifest:tu(e)}}),{onImportItems:function(e){return function(){var t=cu(au().mark((function t(r){var n,o;return au().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:if(!(e.size>131072)){t.next=5;break}return r(wo("File too large; maximum allowed size is ".concat(128," KB"))),t.abrupt("return");case 5:return t.prev=5,t.next=8,e.text();case 8:o=t.sent,n=Xl(o),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),r(wo("Error while parsing parameters from file",t.t0));case 15:Array.isArray(n)&&n.length>0&&r((0,nu.$e)(n));case 16:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e){return t.apply(this,arguments)}}()},onRemoveAllItems:nu.I2,onRemoveItem:nu.VF,onStart:function(){return function(){var e=cu(au().mark((function e(t,r){var n;return au().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ru(r()),t((0,nu.Ld)()),e.next=4,(0,Ur.ZP)(150);case 4:t((0,Yl.OK)({job:{type:ql,payload:n},options:{backAction:(0,nu.on)()}}));case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}})(MI);function GI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return VI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VI(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VI(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var BI=function(e){var t=e.onChange,r=e.optimizeUIForTouch,n=GI((0,c.useState)(""),2),o=n[0],a=n[1],i=GI((0,c.useState)(null),2),l=i[0],u=i[1],s=function(e){var r,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{r=Xl(e)}catch(e){return u(e.message||String(e)),t&&t({valid:!1}),!1}return u(""),t&&(t({value:r,valid:!0,commit:n}),a(r.map((function(e){var t=e.name,r=e.value;return"".concat(t,"=").concat(r)})).join("\n"))),!0};return c.createElement(z.Z,{fullWidth:!0,multiline:!0,autoFocus:!r,error:Boolean(l),label:"Parameter names and values",variant:"filled",minRows:7,helperText:l||"Specify entries as name=value, one parameter per row.",value:o,onBlur:function(e){s(e.target.value)},onChange:function(e){a(e.target.value)},onKeyPress:function(e){e.shiftKey&&"Enter"===e.key&&(s(e.target.value,!0)&&a(""),e.preventDefault())}})};BI.propTypes={onChange:i().func,optimizeUIForTouch:i().bool};var WI=(0,s.$j)((function(e){return{optimizeUIForTouch:(0,Yt.f8)(e)}}))(BI);const zI=function(){var e=(0,s.v9)(Ql),t=(0,s.I0)();return c.createElement(O.Z,{pt:1},c.createElement(WI,{onChange:function(e){var r=e.value,n=e.valid,o=e.commit;n&&o&&r.length>0&&t((0,nu.$e)(r))}}),c.createElement(O.Z,{pt:1},c.createElement(x.Z,{variant:"body1"},"Press ",c.createElement("kbd",null,"\u21e7")," + ",c.createElement("kbd",null,"Enter")," to add the parameter to the manifest. Click on a parameter in the sidebar to remove it from the manifest.")),c.createElement(O.Z,{pt:1},c.createElement(N.Z,{style:{margin:"0"},control:c.createElement(ft.Z,{checked:e,color:"primary",onChange:function(e,r){t((0,nu.JR)(r))}}),label:"Reboot after upload"})))};var HI=(0,Ot.Z)({root:{"& div.MuiDialog-paper > div > div:first-child":{order:100,boxShadow:"2px 0 6px -2px inset rgba(0, 0, 0, 0.54)"}}},{name:"ParameterUploadSetupDialog"}),YI=function(e){var t=e.onClose,r=e.open,n=HI();return c.createElement(Nr.Z,{fullWidth:!0,className:n.root,open:r,maxWidth:"md",sidebarComponents:c.createElement(UI,null),title:"Upload parameters",onClose:t},c.createElement(v.Z,null,c.createElement(zI,null)),c.createElement(vr.Z,null,c.createElement(A.Z,{onClick:t},"Close")))};YI.propTypes={open:i().bool,onClose:i().func};const qI=(0,s.$j)((function(e){return{open:eu(e)}}),{onClose:nu.Ld})(YI);var $I=r(62275),KI=r(84106),XI=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};const QI=({cancelButtonLabel:e,hintText:t,initialValues:r,message:n,onCancel:o,onSubmit:a,optimizeUIForTouch:i,submitButtonLabel:l,type:u})=>{const s=u===KI.P.PROMPT;return c.createElement(S.l0,{initialValues:r,onSubmit:e=>{a(!s||e.value)}},(({handleSubmit:r})=>c.createElement("form",{onSubmit:r},c.createElement(v.Z,null,c.createElement(mo.Z,null,n),s&&c.createElement(E.nv,{fullWidth:!0,autoFocus:!i,name:"value",margin:"dense",label:t,variant:"filled"})),c.createElement(vr.Z,null,c.createElement(A.Z,{color:"primary",type:"submit"},l),c.createElement(A.Z,{onClick:o},e)))))},JI=(0,s.$j)((e=>Object.assign(Object.assign({},e.dialogs.prompt),{optimizeUIForTouch:Boolean((0,Yt.f8)(e))})),(e=>({onCancel(){e((0,$I.FP)())},onSubmit(t){e((0,$I.zB)(t))}})))((e=>{var{initialValue:t,onCancel:r,title:n,dialogVisible:o}=e,a=XI(e,["initialValue","onCancel","title","dialogVisible"]);return c.createElement(Nr.Z,{open:o,title:n,onClose:r},c.createElement(QI,Object.assign({},a,{initialValues:{value:t},onCancel:r})))})),eL=JI;function tL(e){return tL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tL(e)}function rL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rL(Object(r),!0).forEach((function(t){oL(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rL(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oL(e,t,r){var n;return n=function(e,t){if("object"!=tL(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=tL(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==tL(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var aL=c.forwardRef((function(e,t){var r=e.initialValues,n=e.onSubmit,o=e.optimizeUIForTouch;return c.createElement(S.l0,{initialValues:r,onSubmit:n},(function(e){var r=e.form,n=e.handleSubmit;return t.current=r,c.createElement("form",{id:"SavedLocationEditor",style:{marginTop:8,marginBottom:0},onSubmit:n},c.createElement(or.nv,{autoFocus:!o,fullWidth:!0,margin:"dense",name:"name",label:"Name",fieldProps:{validate:Co.C1}}),c.createElement(O.Z,{display:"flex",flexDirection:"row"},c.createElement(or.LT,{fullWidth:!0,margin:"dense",name:"center.lat",label:"Latitude"}),c.createElement(O.Z,{p:.75}),c.createElement(or.vL,{fullWidth:!0,margin:"dense",name:"center.lon",label:"Longitude"})),c.createElement(O.Z,{display:"flex",flexDirection:"row"},c.createElement(or.g7,{fullWidth:!0,margin:"dense",name:"rotation",label:"Rotation"}),c.createElement(O.Z,{p:.75}),c.createElement(or.nv,{fullWidth:!0,type:"number",margin:"dense",name:"zoom",label:"Zoom level",fieldProps:{validate:(0,Co.v_)([Co.C1,Co._L,(0,Co.vX)(1,30)])},inputProps:{min:1,max:30}})),c.createElement(or.nv,{fullWidth:!0,multiline:!0,margin:"dense",name:"notes",label:"Notes",minRows:3,maxRows:3}),c.createElement("input",{hidden:!0,type:"submit"}))}))}));aL.propTypes={initialValues:i().object,onSubmit:i().func,optimizeUIForTouch:i().bool};var iL=(0,s.$j)((function(e){var t=td(e);return{initialValues:t!==Re.$U&&t in e.savedLocations.byId?e.savedLocations.byId[t]:ed(e),optimizeUIForTouch:(0,Yt.f8)(e)}}),null,null,{forwardRef:!0})(aL),cL=function(e){var t=e.currentMapViewAsSavedLocation,r=e.editedLocationId,n=e.onClose,o=e.onDelete,a=e.onSubmit,i=e.open,l=(0,c.useRef)(null),u=(0,c.useCallback)((function(){l.current.initialize(nL(nL({},l.current.getState().values),t))}),[t]),s=(0,c.useCallback)((function(){l.current.submit()}),[]),f=r===Re.$U,p=f?"Create new location":"Edit saved location",d=[];return f||d.push(c.createElement(A.Z,{key:"copy-from-map-view",style:{marginRight:"auto"},onClick:u},"Copy from map view")),d.push(c.createElement(A.Z,{key:"save",color:"primary",onClick:s},"Save")),f?d.push(c.createElement(A.Z,{key:"discard",onClick:o(r)},"Discard")):d.push(c.createElement(A.Z,{key:"delete",color:"secondary",onClick:o(r)},"Delete"),c.createElement(A.Z,{key:"cancel",onClick:n},"Cancel")),c.createElement(Nr.Z,{fullWidth:!0,title:p,open:i,maxWidth:"xs",onClose:n},c.createElement(v.Z,null,c.createElement(iL,{ref:l,onSubmit:a})),c.createElement(vr.Z,null,d))};cL.propTypes={currentMapViewAsSavedLocation:i().object,editedLocationId:i().string,onClose:i().func.isRequired,onDelete:i().func.isRequired,onSubmit:i().func.isRequired,open:i().bool.isRequired};const lL=(0,s.$j)((function(e){return{currentMapViewAsSavedLocation:ed(e),editedLocationId:td(e),open:rd(e)}}),(function(e){return{onClose:function(){e(yd())},onDelete:function(t){return function(){e(yd()),e(ud(t))}},onSubmit:function(t){var r=structuredClone(t);r.center.lon=Number(r.center.lon),r.center.lat=Number(r.center.lat),r.rotation=Number(r.rotation),r.zoom=Number(r.zoom),e(sd(r)),e(yd())}}}))(cL);var uL=function(e){var t,r=e.bitsPerSecond,n=e.id,o=e.lastUpdatedAt;return c.createElement(O.Z,{key:n,display:"flex"},c.createElement(O.Z,{width:80,color:"text.secondary"},n),c.createElement(O.Z,{flex:1},xA[t=n]||(t&&t.startsWith("rtcm2/")?"RTCMv2 message, type ".concat(t.slice(6)):t&&t.startsWith("rtcm3/")?"RTCMv3 message, type ".concat(t.slice(6)):"Unknown message, type ".concat(t))),c.createElement(O.Z,{width:80,ml:1,color:"text.secondary",textAlign:"right"},r?"".concat(r.toFixed(1)," bps"):""),c.createElement(O.Z,{color:"text.secondary",width:32,textAlign:"right"},c.createElement(Ki.Z,{formatter:qn.$s,date:o})))};uL.propTypes={bitsPerSecond:i().number,id:i().string,lastUpdatedAt:i().number};var sL=(0,is.P7)(uL,{dataProvider:"items",backgroundHint:c.createElement(Ao.Z,{text:"No RTK messages have been received yet"})});const fL=(0,s.$j)((function(e){return{dense:!0,disablePadding:!0,items:vA(e)}}),{})(sL);function pL(e){return pL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pL(e)}function dL(){dL=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==pL(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(pL(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function yL(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}var hL=function(e){return function(){var t,r=(t=dL().mark((function t(r){return dL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,bn.Z.execute.startRTKSurvey(e);case 3:t.next=9;break;case 5:return t.prev=5,t.t0=t.catch(0),r((0,Dp.c)({message:"Failed to start RTK survey on the server.",semantics:wu.j.ERROR})),t.abrupt("return");case 9:r((0,zh.tP)());case 10:case"end":return t.stop()}}),t,null,[[0,5]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(e){yL(a,n,o,i,c,"next",e)}function c(e){yL(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}()},mL=function(e){var t=e.onCopyAntennaPositionToClipboard,r=e.onClick,n=e.position,o=Boolean(n);return c.createElement(c.Fragment,null,c.createElement(pt.default,{content:"Click to toggle between lon/lat and ECEF format"},c.createElement(x.Z,{variant:"body2",component:"div",color:o?"textPrimary":"textSecondary",style:{cursor:"pointer",textAlign:"right"},onClick:r},n||"Antenna position not known")),t&&c.createElement(pt.default,{content:"Copy to clipboard"},c.createElement(W.Z,{disabled:!o,onClick:t},c.createElement(hI,null))))};mL.propTypes={position:i().string,onClick:i().func,onCopyAntennaPositionToClipboard:i().func};const vL=(0,s.$j)(mA,{onClick:function(){return function(e,t){e((0,zh.O1)(yA(t())?"lonLat":"ecef"))}},onCopyAntennaPositionToClipboard:function(){return function(e,t){AC()(hA(t())),e((0,Dp.c)("Coordinates copied to clipboard."))}}})(mL);function gL(e){return gL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gL(e)}function bL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bL(Object(r),!0).forEach((function(t){EL(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bL(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function EL(e,t,r){var n;return n=function(e,t){if("object"!=gL(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=gL(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==gL(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var SL=Object.freeze({datasets:Object.freeze([])});function OL(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.alpha,r=void 0===t?.8:t,n=e.color,o=e.canvas,a=e.height,i=void 0===a?170:a,c=e.reverse,l=e.ctx;if(Array.isArray(n))return n.map((function(t){return OL(wL(wL({},e),{},{color:t}))}));l||(l=o.getContext("2d"));var u=l.createLinearGradient(0,i,0,50);return u.addColorStop(0,Vn()(n).alpha(c?r:0).string()),u.addColorStop(1,Vn()(n).alpha(c?0:r).string()),u}function xL(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return AL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AL(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AL(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var jL=(0,d.ZP)((function(){return Promise.all([r.e(376),r.e(482)]).then(r.bind(r,11029))}),{resolveComponent:function(e){return e.default}}),kL=[30,40],PL=["#424242",Wn.ZP.error,Wn.ZP.warning,Wn.ZP.success],CL=(0,Ge.createSelector)((function(e){return e}),(function(e){return PL.map((function(t){return OL({ctx:e,color:t})}))})),TL=function(e,t){var r=CL(t),n=Date.now(),o=e.map((function(e){var t=n-e.lastUpdatedAt;if(t>=6e4)return null;var o,a=t>=5e3?0:(o=e.cnr)<=0||(0,Ue.default)(o)?0:o<kL[0]?1:o<kL[1]?2:3;return{label:e.id,value:e.cnr,backgroundColor:r[a],borderColor:PL[a]}})).filter(Boolean);return{labels:o.map((function(e){return e.label})),datasets:[{backgroundColor:o.map((function(e){return e.backgroundColor})),borderColor:o.map((function(e){return e.borderColor})),borderWidth:2,label:"CNR",data:o.map((function(e){return e.value}))}]}},IL=function(e){return{plugins:{legend:{display:!1},tooltip:{titleFont:{family:jt.defaultFont},bodyFont:{family:jt.defaultFont},footerFont:{family:jt.defaultFont},callbacks:{label:function(e){return" ".concat(e.formattedValue," dB-Hz")}}}},scales:{x:{grid:{display:!1},ticks:{font:{color:e?"rgba(255, 255, 255, 0.54)":"rgba(0, 0, 0, 0.54)",family:jt.defaultFont,size:14}}},y:{grid:{borderColor:e?function(e){var t=e.index;return"rgba(255, 255, 255, ".concat(t?.17:.34,")")}:function(e){var t=e.index;return"rgba(0, 0, 0, ".concat(t?.17:.34,")")},color:e?function(e){var t=e.index;return"rgba(255, 255, 255, ".concat(t?.17:.34,")")}:function(e){var t=e.index;return"rgba(0, 0, 0, ".concat(t?.17:.34,")")}},suggestedMin:0,suggestedMax:60,ticks:{font:{color:e?"rgba(255, 255, 255, 0.54)":"rgba(0, 0, 0, 0.54)",family:jt.defaultFont,size:14},maxTicksLimit:7}}},maintainAspectRatio:!1}},LL={dark:IL(!0),light:IL(!1)},_L=function(e){var t=e.height,r=e.items,n=(0,nr.Z)(),o=(0,Ka.Z)(),a=(0,c.useRef)(null),i=xL((0,c.useState)(SL),2),l=i[0],u=i[1];return(0,Xa.Z)(o,1e3),(0,c.useEffect)((function(){var e=a.current;e&&u(r?TL(r,e.ctx):SL)}),[a.current,r]),c.createElement(O.Z,{height:t},c.createElement(jL,{ref:a,data:l,options:(0,jt.isThemeDark)(n)?LL.dark:LL.light}))};_L.propTypes={height:i().number,items:i().arrayOf(i().shape({cnr:i().number,lastUpdatedAt:i().number}))},_L.defaultProps={height:160};const ZL=(0,s.$j)((function(e){return{items:gA(e)}}),{})(_L);var NL=r(69826);function RL(e){return RL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RL(e)}var DL=["onClose","onSubmit"];function FL(){return FL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FL.apply(this,arguments)}function ML(){ML=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==RL(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(RL(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function UL(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function GL(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){UL(a,n,o,i,c,"next",e)}function c(e){UL(a,n,o,i,c,"throw",e)}i(void 0)}))}}function VL(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var BL=function(e){var t=e.onClose,r=e.onSubmit,n=VL(e,DL),o=(0,Wh.Z)(GL(ML().mark((function e(){var t;return ML().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bn.Z.query.getRTKSurveySettings();case 2:return t=e.sent,e.abrupt("return",t?{accuracy:t.accuracy,duration:t.duration}:{accuracy:100,duration:60});case 4:case"end":return e.stop()}}),e)}))),[]);return c.createElement(O.Z,FL({display:"flex",flexDirection:"row",alignItems:"center"},n),c.createElement(W.Z,{onClick:t},c.createElement(NL.Z,null)),o.loading?c.createElement(ta.Z,{text:"Loading..."}):o.error?c.createElement("div",null,"Failed to load survey settings from server."):c.createElement(S.l0,{initialValues:o.value,onSubmit:r},(function(e){var t=e.handleSubmit;return c.createElement(c.Fragment,null,c.createElement(O.Z,{p:.5}),c.createElement(wh.vy,{name:"accuracy",label:"Desired accuracy",min:.01,max:100,step:.01,size:"small",unit:"m",style:{flex:1}}),c.createElement(O.Z,{p:1}),c.createElement(wh.US,{name:"duration",label:"Minimum duration",min:1,max:3600,step:1,size:"small",style:{flex:1}}),c.createElement(O.Z,{p:.5}),c.createElement(A.Z,{onClick:t},"Start survey"))})))};BL.propTypes={onClose:i().func,onSubmit:i().func};const WL=(0,s.$j)(null,{onClose:zh.$m,onSubmit:function(e){var t=e.accuracy,r=e.duration;return hL({accuracy:Number(t),duration:Number(r)})}})(BL);var zL=r(73637),HL=["accuracy","active","supported","valid"];function YL(){return YL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YL.apply(this,arguments)}function qL(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function $L(e,t){if("number"!=typeof t||t<=0)return e;var r=AA(t);return e&&0!==e.length?r&&">"===r.charAt(0)?"".concat(e,", accuracy ").concat(r):"".concat(e,", accuracy: ").concat(r):r&&">"===r.charAt(0)?"Accuracy ".concat(r):"Accuracy: ".concat(r)}var KL=function(e){var t=e.accuracy,r=e.active,n=e.supported,o=e.valid,a=qL(e,HL);return c.createElement(zL.Z,{in:n||!0},c.createElement(O.Z,YL({alignItems:"center",flex:1,display:"flex",flexDirection:"row"},a),c.createElement(j.Z,{size:"small",status:o?"success":r?"next":n?"error":"off",color:"textSecondary"},r?$L("Surveying",t):o?$L("",t):n?"Survey not started yet":"No survey information")))};KL.propTypes={accuracy:i().number,active:i().bool,supported:i().bool,valid:i().bool};const XL=KL;function QL(e){return QL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QL(e)}function JL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function e_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?JL(Object(r),!0).forEach((function(t){t_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JL(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function t_(e,t,r){var n;return n=function(e,t){if("object"!=QL(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=QL(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==QL(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var r_=(0,Ot.Z)((function(e){return{root:e_({},(0,jt.createSecondaryAreaStyle)(e)),inset:{border:"1px solid ".concat((0,jt.isThemeDark)(e)?"rgba(0, 0, 0, 0.54)":"rgba(255, 255, 255, 0.54)"),boxShadow:"0 0 4px 2px inset rgba(0, 0, 0, 0.54)",padding:e.spacing(1)},nonInset:{borderTop:"1px solid ".concat((0,jt.isThemeDark)(e)?"rgba(0, 0, 0, 0.54)":"rgba(255, 255, 255, 0.54)"),boxShadow:"0 2px 6px -2px inset rgba(0, 0, 0, 0.54)",padding:e.spacing(2,3)}}}),{name:"ChartContainer"}),n_=function(e){var t=e.chartHeight,r=e.inset,o=e.onToggleSurveySettings,a=e.surveySettingsVisible,i=e.surveyStatus,l=r_();return c.createElement(O.Z,{className:(0,n.Z)(l.root,r?l.inset:l.nonInset)},c.createElement(ZL,{height:t}),c.createElement(O.Z,{position:"relative",height:48},c.createElement(Gd,{in:!a},c.createElement(O.Z,{display:"flex",flexDirection:"row",alignItems:"center",left:0,top:0,right:0,bottom:0},o&&c.createElement(pt.default,{content:"Start new survey"},c.createElement(W.Z,{disabled:!i||!i.supported,onClick:o},c.createElement(BT.Z,null))),c.createElement(XL,i),c.createElement(O.Z,{flex:"1"}),c.createElement(vL,null))),c.createElement(Gd,{in:a},c.createElement(WL,{position:"absolute",left:0,top:0,right:0,bottom:0}))))};n_.propTypes={chartHeight:i().number,inset:i().bool,onToggleSurveySettings:i().func,surveySettingsVisible:i().bool,surveyStatus:i().object},n_.defaultProps={chartHeight:160};const o_=(0,s.$j)((function(e){return{surveyStatus:SA(e),surveySettingsVisible:OA(e)}}),{onToggleSurveySettings:zh.$m})(n_);var a_=function(e){var t=e.onClose,r=e.open;return c.createElement(m.Z,{fullWidth:!0,open:r,maxWidth:"sm",onClose:t},c.createElement(FA,null),c.createElement(O.Z,null,c.createElement(O.Z,{mx:3,mt:3},c.createElement(nm,null),c.createElement(O.Z,{height:100,my:2,boxSizing:"content-box",overflow:"auto"},c.createElement(fL,null))),c.createElement(o_,null)))};a_.propTypes={open:i().bool,onClose:i().func};const i_=(0,s.$j)((function(e){return{open:e.rtk.dialog.open}}),{onClose:zh.Dp})(a_);var c_=r(29509),l_=r(99476),u_=r(63847),s_=r(31195),f_=r(12595),p_=r(90442),d_=r(91213);const y_=(0,s.$j)((function(e,t){var r=e.log.highestUnseenMessageLevel;return{color:(0,Vd.Jz)(r),visible:r>=(t.level||Vd.in.WARNING)}}),{})(mi.Z);var h_=r(80245);const m_=(0,Vi.Z)(c.createElement("g",null,c.createElement("path",{d:"M6,11c2.76,0,5-2.24,5-5S8.76,1,6,1S1,3.24,1,6S3.24,11,6,11z M6,3c1.65,0,3,1.35,3,3c0,1.65-1.35,3-3,3S3,7.65,3,6 C3,4.35,4.35,3,6,3z"}),c.createElement("path",{d:"M21,14h-5c-1.1,0-2,0.9-2,2v5c0,1.1,0.9,2,2,2h5c1.1,0,2-0.9,2-2v-5C23,14.9,22.1,14,21,14z M21,21h-5v-5h5V21z"}),c.createElement("path",{d:"M17.71,7.7C18.11,7.89,18.54,8,19,8c1.65,0,3-1.35,3-3s-1.35-3-3-3s-3,1.35-3,3c0,0.46,0.11,0.89,0.3,1.29L6.29,16.3 C5.89,16.11,5.46,16,5,16c-1.65,0-3,1.35-3,3s1.35,3,3,3s3-1.35,3-3c0-0.46-0.11-0.89-0.3-1.29L17.71,7.7z"})),"ShapeLine");function v_(e){return v_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v_(e)}function g_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g_(Object(r),!0).forEach((function(t){w_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w_(e,t,r){var n;return n=function(e,t){if("object"!=v_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=v_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==v_(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var E_={backgroundColor:"#333",boxShadow:"rgba(0, 0, 0, 0.3) -9px -3px 6px -6px inset",display:"flex",flexFlow:"column nowrap",height:"calc(100vh - 48px)",overflow:"hidden"},S_={display:"flex",flexFlow:"column nowrap",flexGrow:1,overflow:"auto",width:180},O_=(0,ns.U6)("showControl"),x_=function(e){var t=e.experimentalFeaturesEnabled,r=e.isOpen,n=e.t,o=e.workbench;return c.createElement("div",{id:"sidebar",style:b_(b_({},E_),{},{width:r?180:48})},c.createElement("div",{style:S_},c.createElement(u.yF,{allowMultipleSelection:!0,vertical:!0,workbench:o},c.createElement(u.Yl,{id:"map",icon:c.createElement(f_.Z,null),label:n("view.map"),component:"map"}),c.createElement(u.Yl,{id:"threeDView",icon:c.createElement(d_.Z,null),label:n("view.three-d-view"),component:"three-d-view",reorderEnabled:!1}),c.createElement(u.Yl,{id:"layers",icon:c.createElement(s_.Z,null),label:n("view.layer-list"),component:"layer-list"}),(0,ns.U6)("mapFeatures")&&c.createElement(u.Yl,{id:"features",icon:c.createElement(m_,null),label:n("view.feature-list"),component:"feature-list"}),c.createElement("hr",null),c.createElement(u.Yl,{id:"uavs",icon:c.createElement(c_.Z,null),label:n("view.uav-list"),component:"uav-list"}),(0,ns.U6)("beacons")&&c.createElement(u.Yl,{id:"beacons",icon:c.createElement(h_.Z,null),label:n("view.beacon-list"),component:"beacon-list"}),(0,ns.U6)("docks")&&t&&c.createElement(u.Yl,{id:"docks",icon:c.createElement(l_.Z,null),label:n("view.dock-list"),component:"dock-list"}),c.createElement("hr",null),O_&&c.createElement(u.Yl,{id:"show",icon:c.createElement(u_.Z,null),label:n("view.show-control"),component:"show-control"}),O_&&c.createElement(u.Yl,{id:"lights",icon:c.createElement(qE.Z,null),label:n("view.light-control"),component:"light-control"}),O_&&c.createElement("hr",null),c.createElement(u.Yl,{id:"clocks",icon:c.createElement(_v.Z,null),label:n("view.lcd-clock-panel"),component:"lcd-clock-panel"}),c.createElement(u.Yl,{id:"locations",icon:c.createElement(BT.Z,null),label:n("view.saved-location-list"),component:"saved-location-list"}),c.createElement("hr",null),c.createElement(u.Yl,{id:"notes",icon:c.createElement(HE.Z,null),label:n("view.field-notes"),component:"field-notes"}),c.createElement(u.Yl,{id:"log",badge:c.createElement(y_,null),icon:c.createElement(p_.Z,null),label:n("view.log-panel"),component:"log-panel"}))),r&&c.createElement(O.Z,{py:.5,px:1,style:{color:"#fff",opacity:.3,width:180}},c.createElement(x.Z,{align:"center",variant:"caption",component:"footer"},"v2.8.1-71-g0ca6d0d8")))};x_.propTypes={experimentalFeaturesEnabled:i().bool,isOpen:i().bool,t:i().func,workbench:i().instanceOf(u.Lq).isRequired};const A_=(0,s.$j)((function(e,t){var r=t.workbench;return{experimentalFeaturesEnabled:(0,Yt.Em)(e),isOpen:BA(e),workbench:r}}))((0,h.Zh)()(x_));var j_=function(e){return e.snackbar.notification};function k_(e){return k_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k_(e)}function P_(e,t,r){var n;return n=function(e,t){if("object"!=k_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=k_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==k_(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C_=P_(P_(P_(P_({},wu.j.INFO,"info"),wu.j.SUCCESS,"success"),wu.j.WARNING,"warning"),wu.j.ERROR,"error"),T_=(0,Bm.Z)(A.Z)({border:"1px solid currentColor",color:"inherit"}),I_=function(e){var t=e.dispatch,r=e.notification,n=(0,f.e1)().addToast;return(0,c.useEffect)((function(){var e=r.semantics,o=r.permanent,a=function(e,t){var r=e.buttons,n=e.message,o=e.header,a=n;if(Array.isArray(r)&&r.length>0){var i=r.map((function(e,r){var n=e.label,o=e.action;return c.createElement(T_,{key:r,size:"small",variant:"outlined",onClick:function(){return t(o)}},n)}));a=c.createElement("div",null,a,c.createElement(O.Z,{display:"flex",flexDirection:"row",justifyContent:"space-around",mt:2},i))}return o&&o.length>0&&(a=c.createElement("div",null,c.createElement("div",null,c.createElement("strong",null,o)),a)),a}(r,t);a&&n(a,{appearance:C_[e]||"info",autoDismiss:!o})}),[n,t,r]),null};I_.propTypes={dispatch:i().func.isRequired,notification:i().shape({message:i().string.isRequired,permanent:i().bool,semantics:i().oneOf(Object.values(wu.j)).isRequired})};const L_=(0,s.$j)((function(e){return{notification:j_(e)}}))(I_);var __=r(35173),Z_=r(16934),N_=r(78752),R_=r(77823),D_=function(e){var t=(e.errorCodes||[]).filter((function(e){return e!==Gm.Z.PREARM_CHECK_IN_PROGRESS&&e!==Gm.Z.PREARM_CHECK_FAILURE}));return 0===t.length?null:c.createElement(c.Fragment,null,c.createElement(ct.Z,{dense:!0},t.map((function(e){return c.createElement(lt.Z,{key:e},c.createElement(gu.default,{status:(0,Um.qp)(e)}),c.createElement(st.Z,{primary:Gm.Z.describe(e)}))}))),c.createElement(nl.Z,null))};D_.propTypes={errorCodes:i().arrayOf(i().number)};var F_=function(e){var t=e.message,r=e.result,n=e.items;return c.createElement(c.Fragment,null,c.createElement(ct.Z,{dense:!0},c.createElement(lt.Z,null,c.createElement(gu.default,{status:(0,lc.gk)(r)}),c.createElement(st.Z,{primary:(0,lc.mO)(r),secondary:t}))),n&&n.length>0?c.createElement(c.Fragment,null,c.createElement(nl.Z,null),c.createElement(U.Z,{ml:2},"Details"),c.createElement(ct.Z,{dense:!0},n.map((function(e){return c.createElement(lt.Z,{key:e.id},c.createElement(gu.default,{status:(0,lc.gk)(e.result)}),c.createElement(st.Z,{primary:t||(e.result===lc.uZ.PASS?e.label:"".concat(e.label," \u2014 ").concat((0,lc.c2)(e.result)))}))})))):null)};F_.propTypes={items:i().arrayOf(i().shape({id:i().string,label:i().string,message:i().string,result:Ey.Z.preflightCheckResult})),message:i().string,result:Ey.Z.preflightCheckResult};var M_=(0,c.memo)((function(e){var t=e.uavId,r=vb(),n=(0,gT.Z)((function(){return t?r.query.getPreflightStatus(t):{}}),[r,t]),o=(0,c.useRef)();return(0,c.useEffect)((function(){t&&!n.loading&&!n.error&&Boolean(n.value)&&!o.current&&(o.current=setTimeout((function(){o.current=void 0,n.retry()}),1e3))}),[n,t]),(0,R_.Z)((function(){o.current&&clearTimeout(o.current)})),n.error&&!n.loading?c.createElement(Ao.Z,{icon:c.createElement(bT.Z,null),text:"Error while loading preflight status report",button:c.createElement(A.Z,{onClick:n.retry},"Try again")}):n.value?c.createElement(F_,{message:n.value.message,result:n.value.result,items:n.value.items}):n.loading?c.createElement(xT.Z,{fullHeight:!0,label:"Retrieving status report..."}):c.createElement(Ao.Z,{text:"Preflight status report not loaded yet",button:c.createElement(A.Z,{onClick:n.retry},"Try again")})}));M_.propTypes={uavId:i().string};var U_=function(e){var t=e.errorCodes,r=e.uavId;return c.createElement(c.Fragment,null,c.createElement(D_,{errorCodes:t}),c.createElement(M_,{uavId:r}))};U_.propTypes={errorCodes:i().arrayOf(i().number),uavId:i().string};const G_=(0,s.$j)((function(e,t){var r;return{errorCodes:t.uavId?null===(r=(0,ro.Rk)(e,t.uavId))||void 0===r?void 0:r.errors:null}}),{})(U_);r(40088);var V_=r(54748);function B_(e){return B_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B_(e)}function W_(e,t,r){var n;return n=function(e,t){if("object"!=B_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=B_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==B_(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z_(e){var t,r=e.kind,n=e.body;if(r===lc.k_.TEXT)t=new Blob([n],{type:"text/plain;charset=utf-8"});else t=new Blob([Rr.DS.toUint8Array(n)],{type:"application/octet-stream"});return{filename:Y_(e),blob:t}}var H_=W_(W_(W_(W_(W_({},lc.k_.TEXT,".txt"),lc.k_.ARDUPILOT,".bin"),lc.k_.ULOG,".ulg"),lc.k_.UNKNOWN,".log"),lc.k_.FLOCKCTRL,".log");function Y_(e){var t=e.id,r=e.kind,n=e.timestamp,o=H_[r]||H_[lc.k_.UNKNOWN],a=(0,Ue.default)(n)?void 0:(0,$a.Z)((0,Qg.Z)(n),"yyyyMMdd_HHmmss");return(0,Ue.default)(t)&&(0,Ue.default)(a)?"flight_log".concat(o):(0,Ue.default)(t)?"".concat(a).concat(o):(0,Ue.default)(a)?"".concat(t).concat(o):"".concat(t,"_").concat(a).concat(o)}var q_=r(75639),$_=function(e){var t=(e.progress||{}).percentage;return(0,Ue.default)(t)?c.createElement($v.Z,{value:null,variant:"indeterminate"}):"number"==typeof t&&t>=0&&t<100?c.createElement($v.Z,{value:t,variant:"determinate"}):null};$_.propTypes={progress:i().shape({percentage:i().number,message:i().string})};const K_=$_;function X_(e){return X_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X_(e)}function Q_(){return Q_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q_.apply(this,arguments)}function J_(){J_=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==X_(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(X_(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function eZ(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function tZ(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){eZ(a,n,o,i,c,"next",e)}function c(e){eZ(a,n,o,i,c,"throw",e)}i(void 0)}))}}function rZ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nZ(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nZ(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var oZ=(0,Ot.Z)((function(e){return{progress:{padding:e.spacing(1,0)}}}),{name:"UAVLogListItem"}),aZ=function(e){var t=e.id,r=e.kind,n=e.size,o=e.timestamp,a=e.uavId,i=[],l=[],u=oZ(),s=rZ((0,c.useState)(null),2),f=s[0],p=s[1],d=vb(),y=(0,c.useCallback)((function(e){var t=e.progress;p(t)}),[]),h=rZ((0,Bh.Z)(tZ(J_().mark((function e(){var r;return J_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.query.getFlightLog(a,t,{onProgress:y});case 2:return r=e.sent,setImmediate((function(){var e=z_(r),t=e.filename,n=e.blob;(0,q_.cP)(n,t)})),e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)}))),[d,a,t]),2),m=h[0],v=h[1];(0,Ue.default)(t)||i.push(t),i.push((0,Ue.default)(o)?"Date unknown":(0,qn.w5)(o)),m.error?l.push(m.error):(l.push((0,lc.ZK)(r)),(0,Ue.default)(n)||l.push((0,V_.Z)(n)));var g=m.loading?c.createElement("div",{className:u.progress},c.createElement(K_,{progress:f})):c.createElement(x.Z,{variant:"body2",color:"textSecondary"},l.join(" \xb7 "));return c.createElement(lt.Z,{button:!0,onClick:function(){return v()}},c.createElement(gu.default,{status:m.loading?"next":m.error?"error":(0,Ue.default)(m.value)?"off":m.value?"success":"error"}),c.createElement(st.Z,{disableTypography:!0,primary:c.createElement(x.Z,{variant:"body2"},i.join(" \xb7 ")),secondary:g}))};aZ.propTypes={id:i().string,kind:i().string,size:i().number,timestamp:i().number,uavId:i().string};var iZ=(0,is.P7)((function(e,t){return c.createElement(aZ,Q_({key:e.id,uavId:t.uavId},e))}),{dataProvider:"items",backgroundHint:c.createElement(Ao.Z,{text:"No logs found"})}),cZ=(0,c.memo)((function(e){var t=e.uavId,r=vb(),n=(0,gT.Z)((function(){return t?r.query.getFlightLogList(t):{}}),[r,t]);return n.error&&!n.loading?c.createElement(Ao.Z,{icon:c.createElement(bT.Z,null),text:"Error while loading log list",button:c.createElement(A.Z,{onClick:n.retry},"Try again")}):n.loading?c.createElement(xT.Z,{fullHeight:!0,label:"Retrieving log list..."}):Array.isArray(n.value)?c.createElement(iZ,{dense:!0,uavId:t,items:n.value}):c.createElement(Ao.Z,{text:"Log list not loaded yet",button:c.createElement(A.Z,{onClick:n.retry},"Try again")})}));cZ.propTypes={uavId:i().string};const lZ=cZ;var uZ=r(76211);function sZ(e){return sZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sZ(e)}var fZ=["component"];function pZ(){return pZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pZ.apply(this,arguments)}function dZ(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function yZ(){yZ=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==sZ(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(sZ(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function hZ(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function mZ(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){hZ(a,n,o,i,c,"next",e)}function c(e){hZ(a,n,o,i,c,"throw",e)}i(void 0)}))}}function vZ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gZ(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gZ(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var bZ=[{component:"compass",label:"Calibrate compass",type:"calib",timeout:90},{component:"accel",label:"Calibrate accelerometer",type:"calib",timeout:90},{component:"baro",label:"Calibrate ground pressure",type:"calib",timeout:10},{component:"gyro",label:"Calibrate gyroscope",type:"calib",timeout:10},{component:"level",label:"Calibrate level position",type:"calib",timeout:10},{component:"led",label:"Execute LED test",type:"test"},{component:"motor",label:"Execute motor test",needsConfirmation:!0,type:"test"}],wZ=function(e){var t=e.component,r=e.label,n=e.needsConfirmation,o=e.timeout,a=e.type,i=e.uavId,l=vb(),u=vZ((0,c.useState)(null),2),s=u[0],f=u[1],p=vZ((0,c.useState)(null),2),d=p[0],y=p[1],h=vZ((0,c.useState)(!1),2),m=h[0],v=h[1],g=(0,c.useRef)(null),b=(0,c.useCallback)((function(){clearTimeout(s),f(null)}),[s,f]),w=(0,c.useCallback)((function(){b(),f(setTimeout(b,3e3))}),[b,f]),E=(0,c.useCallback)((function(){b(),m?k():j()}),[b,j,k,m]),S=(0,c.useCallback)((function(e){var t=e.progress,r=e.resume,n=e.suspended;y(t),v(Boolean(n)),g.current=r}),[]),O=vZ((0,Bh.Z)(mZ(yZ().mark((function e(){return yZ().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.sendCommandRequest({uavId:i,command:"test"===a?"test":"calib",args:[String(t)]},{onProgress:S,timeout:o});case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)}))),[l,S]),2),x=O[0],j=O[1],k=vZ((0,Bh.Z)(mZ(yZ().mark((function e(){return yZ().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g.current){e.next=4;break}return e.abrupt("return",g.current());case 4:throw new Error("No resume callback has been provided");case 5:case"end":return e.stop()}}),e)}))),[]),2)[1];return c.createElement(lt.Z,{button:!0,onClick:n?w:E},c.createElement(gu.default,{status:m?"warning":x.loading?"next":x.error?"error":(0,Ue.default)(x.value)?"off":x.value?"success":"error"}),c.createElement(st.Z,{primary:m?"".concat(d.message||"Operation suspended",". Click to resume."):!d||x.error&&!x.loading?r:"".concat(d.message||r),secondary:!x.loading&&x.error?(0,Mr.VK)(x.error):d?c.createElement(K_,{progress:d}):m?c.createElement(K_,null):null}),c.createElement(os.Z,null,c.createElement(uZ.Z,{in:Boolean(s)},c.createElement(A.Z,{style:{color:Wn.ZP.seriousWarning},onClick:E},"Confirm"))))};wZ.propTypes={component:i().string,label:i().string,needsConfirmation:i().bool,uavId:i().string,timeout:i().number,type:i().oneOf(["calib","test"])},wZ.defaultProps={needsConfirmation:!1};var EZ=function(e){var t=e.uavId;return c.createElement(ct.Z,{dense:!0},bZ.map((function(e){var r=e.component,n=dZ(e,fZ);return c.createElement(wZ,pZ({key:r,component:r,uavId:t},n))})))};EZ.propTypes={uavId:i().string};const SZ=EZ;var OZ=function(e){var t=e.selectedTab,r=e.uavId;switch(t){case"messages":return c.createElement(ah,{uavId:r});case"preflight":return c.createElement(G_,{uavId:r});case"tests":return c.createElement(SZ,{uavId:r});case"logs":return c.createElement(lZ,{uavId:r});default:return null}};OZ.propTypes={selectedTab:i().oneOf(["messages","preflight","tests","logs"]),uavId:i().string};const xZ=(0,s.$j)((function(e){return{selectedTab:(0,eS.Or)(e),uavId:(0,eS.PM)(e)}}))(OZ);var AZ=c.createElement("span",{className:"muted"},"\u2014"),jZ=function(e){var t=e.gpsFix,r=e.heading,n=e.lastUpdated,o=e.localPosition,a=e.mode,i=e.position||{},l=i.lat,u=i.lon,s=i.amsl,f=i.ahl,p=i.agl,d=o&&Array.isArray(o),y=a?c.createElement(Sw.Z,{status:(0,lc.d_)(a)},(0,lc.G)(a)):AZ,h=null==t?void 0:t.type,m=[["Mode",y],"sep0"];if(!d||h){var v=h?c.createElement(c.Fragment,null,c.createElement(Sw.Z,{status:(0,lc.nP)(h)},(0,lc.b_)(h)),(null==t?void 0:t.numSatellites)&&" (".concat(null==t?void 0:t.numSatellites," sats)")):AZ,g=t||{},b=g.horizontalAccuracy,w=g.verticalAccuracy;b="number"==typeof b&&b>50?"50+":(0,qn.HP)(b,2,"",AZ),w="number"==typeof w&&w>50?"50+":(0,qn.HP)(w,2,"",AZ);var E=c.createElement(c.Fragment,null,b," / ",w," m");m.push(["GPS fix",v],["GPS acc",E],"sep1",["Lat",(0,qn.HP)(l,7,"\xb0",AZ)],["Lon",(0,qn.HP)(u,7,"\xb0",AZ)],["AMSL",(0,qn.HP)(s,2," m",AZ)],["AHL",(0,qn.HP)(f,2," m",AZ)],["AGL",(0,qn.HP)(p,2," m",AZ)],"sep2")}return d&&m.push(["X",(0,qn.HP)(o[0],2," m",AZ)],["Y",(0,qn.HP)(o[1],2," m",AZ)],["Z",(0,qn.HP)(o[2],2," m",AZ)]),m.push(["Heading",(0,qn.HP)(r,1,"\xb0",AZ)],"sep3",["Last seen",n?c.createElement(Ki.Z,{formatter:qn.$s,date:n}):AZ]),c.createElement($P,{items:m})};jZ.propTypes={gpsFix:i().shape({type:i().number,numSatellites:i().number,horizontalAccuracy:i().number,verticalAccuracy:i().number}),heading:i().number,lastUpdated:i().number,localPosition:i().arrayOf(i().number),mode:i().string,position:i().shape({lat:i().number,lon:i().number,amsl:i().number,ahl:i().number,agl:i().number})};const kZ=(0,s.$j)((function(e,t){return(0,ro.Rk)(e,t.uavId)}),{})(jZ);var PZ=(0,Ot.Z)((function(e){return{root:{padding:e.spacing(2),minWidth:N_.gw},toolbar:{justifyContent:"center",padding:e.spacing(1,0)},toolbarInner:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",maxWidth:144,"& > button":{padding:8}}}}),{name:"UAVDetailsDialogSidebar"}),CZ=function(e){var t=e.uavId,r=e.setUAVId,n=PZ();return c.createElement(O.Z,{className:n.root},c.createElement(tI,{sortedByError:!0,onSelect:r},(function(e){return c.createElement(TS,{id:t,AvatarProps:{onClick:e,style:{cursor:"pointer"}}})})),c.createElement(Ww.Z,{disableGutters:!0,variant:"dense",className:n.toolbar},c.createElement(O.Z,{className:n.toolbarInner},c.createElement(iS,{hideSeparators:!0,selectedUAVIds:[t],size:"small"}))),c.createElement(kZ,{uavId:t}))};CZ.propTypes={setUAVId:i().func,uavId:i().string};const TZ=(0,s.$j)((function(e){return{uavId:(0,eS.PM)(e)}}),{setUAVId:eS.hy})(CZ);var IZ=["dragHandleId"];function LZ(){return LZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LZ.apply(this,arguments)}function _Z(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var ZZ=function(e){var t=e.dragHandleId,r=_Z(e,IZ);return c.createElement(b.Z,LZ({alignment:"left",dragHandle:t},r),c.createElement(g.Z,{label:"Preflight",value:"preflight"}),c.createElement(g.Z,{label:"Tests",value:"tests"}),c.createElement(g.Z,{label:"Messages",value:"messages"}),c.createElement(g.Z,{label:"Logs",value:"logs"}))};ZZ.propTypes={dragHandleId:i().string,value:i().string},ZZ.defaultProps={value:"preflight"};const NZ=(0,s.$j)((function(e){return{value:(0,eS.Or)(e)}}),{onChange:function(e,t){return(0,eS.KF)(t)}})(ZZ);var RZ=function(e){var t=e.initialPosition,r=e.initialWidth,n=e.onClose,o=e.onDragStop,a=e.onResizeStop,i=e.open,l=(window.innerWidth-r)/2,u=(window.innerHeight-N_.g_)/2,s={x:(0,__.Z)(t.x,-l,l),y:(0,__.Z)(t.y,-u,u)};return c.createElement(Nr.Z,{DraggableProps:{bounds:"parent",defaultPosition:s,onStop:o},open:i,maxWidth:!1,sidebarComponents:c.createElement(TZ,null),toolbarComponent:function(e){return c.createElement(NZ,{dragHandle:e})},onClose:n},c.createElement(Z_.Z,{axis:"x",resizeHandles:["e"],initialSize:{width:r-N_.gw,height:N_.x_},minConstraints:[N_.yN,N_.x_],boxProps:{maxWidth:"100%"},onResizeStop:a},c.createElement(xZ,null)))};RZ.propTypes={initialPosition:i().shape({x:i().number,y:i().number}),initialWidth:i().number,onClose:i().func,onDragStop:i().func,onResizeStop:i().func,open:i().bool};const DZ=(0,s.$j)((function(e){return{initialPosition:(0,eS.qJ)(e),initialWidth:(0,eS.Xf)(e),open:(0,eS.Xn)(e)}}),{onClose:function(){return function(e,t){PC(t())?e(RC()):e((0,eS.DU)())}},onDragStop:function(e,t){var r=t.x,n=t.y;return function(e){e((0,eS.bd)({x:r,y:n}))}},onResizeStop:function(e,t){var r=t.size;return function(e){e((0,eS.M2)(r.width+N_.gw))}}})(RZ);function FZ(e){return FZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FZ(e)}function MZ(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return UZ(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UZ(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function UZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GZ(){GZ=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==FZ(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(FZ(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function VZ(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function BZ(e){return function(t,r){var n,o=r(),a=[],i=[],c=MZ(e);try{for(c.s();!(n=c.n()).done;){var l=n.value;(0,Ue.default)(l)||(Zl(o,l)?a.push(l):i.push(l))}}catch(e){c.e(e)}finally{c.f()}i.length>0?t((0,Yl.YP)(i)):a.length>0&&t((0,Yl.xx)(a))}}var WZ=r(22074),zZ=function(){var e=(0,s.I0)();return c.createElement(Ao.Z,{icon:c.createElement(WZ.Z,null),header:"Another task is in progress",text:"Wait for the other task to finish or cancel it to start a new upload",button:c.createElement(A.Z,{onClick:function(){e((0,Yl.m1)())}},"Cancel upload")})};zZ.propTypes={};const HZ=zZ;var YZ=r(18042),qZ=["hasQueuedItems"];function $Z(){return $Z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$Z.apply(this,arguments)}function KZ(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var XZ=function(e){var t=e.hasQueuedItems,r=KZ(e,qZ);return c.createElement(A.Z,$Z({startIcon:c.createElement(vs.Z,null)},r),t?"Start selected":"Start")};XZ.propTypes={hasQueuedItems:i().bool};const QZ=XZ;var JZ=["counter","label","onClick","status","tooltip"];function eN(){return eN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eN.apply(this,arguments)}function tN(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var rN=(0,Ot.Z)((function(e){return{root:{display:"flex",alignItems:"center",padding:e.spacing(1),fontFamily:e.typography.fontFamily,fontSize:e.typography.fontSize,"& span.counter":{margin:e.spacing(0,.5,0,1)},"& span.label":{opacity:.5}},selectable:{"&:hover":{backgroundColor:e.palette.action.hover,borderRadius:e.spacing(.5)}}}}),{name:"UploadStatusLegendButton"}),nN=function(e){var t=e.counter,r=e.label,o=e.onClick,a=e.status,i=e.tooltip,l=tN(e,JZ),u=rN(),s=o&&t>0,f=c.createElement(Op.Z,eN({className:(0,n.Z)(u.root,s&&u.selectable),disabled:!s,onClick:o},l),c.createElement(gu.default,{inline:!0,status:a}),c.createElement("span",{className:"counter"},t),c.createElement("span",{className:"label"},r));return i?c.createElement(pt.default,{content:i},f):f};nN.propTypes={counter:i().number,label:i().string,status:i().string,tooltip:i().string,onClick:i().func};const oN=nN;var aN=function(e){var t=e.failed,r=e.finished,n=e.inProgress,o=e.onClearUploadQueue,a=e.onRestartSuccessfulUploads,i=e.onRetryFailedUploads,l=e.waiting;return c.createElement(O.Z,{display:"flex",justifyContent:"space-around"},c.createElement(oN,{counter:l,label:"waiting",status:Pc.q.INFO,tooltip:"Clear upload queue",onClick:o}),c.createElement(oN,{counter:n,label:"in progress",status:Pc.q.WARNING}),c.createElement(oN,{counter:r,label:"successful",tooltip:"Restart successful items",status:Pc.q.SUCCESS,onClick:a}),c.createElement(oN,{counter:t,label:"failed",status:Pc.q.ERROR,tooltip:"Retry failed items",onClick:i}))};aN.propTypes={failed:i().number,finished:i().number,inProgress:i().number,waiting:i().number,onClearUploadQueue:i().func,onRestartSuccessfulUploads:i().func,onRetryFailedUploads:i().func};const iN=(0,s.$j)(Ul,{onClearUploadQueue:Yl.xq,onRestartSuccessfulUploads:function(){return function(e,t){var r=t().upload.queues.itemsFinished;e((0,Yl.mf)(r)),Wl(t())||e((0,Yl.Bj)())}},onRetryFailedUploads:function(){return function(e,t){var r=t().upload.queues.failedItems;e((0,Yl.fS)(r)),Wl(t())||e((0,Yl.Bj)())}}})(aN);var cN=["children","message","onClick","uavId"];function lN(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var uN=(0,Ot.Z)((function(e){return{root:{padding:e.spacing(.5)},hover:{backgroundColor:e.palette.action.hover},selectable:{cursor:"pointer","&:hover":{backgroundColor:e.palette.action.hover}}}})),sN=function(){return{hollow:!0,status:Pc.q.OFF}},fN=function(e){var t=e.children,r=e.message,o=e.onClick,a=e.uavId,i=lN(e,cN),l=uN(),u=o&&a?function(){return o(a)}:null,s=c.createElement(O.Z,{className:(0,n.Z)(l.root,u&&l.selectable),onClick:u},c.createElement(Nw.Z,i,t));return r?c.createElement(pt.default,{content:r},s):s};fN.propTypes={children:i().node,message:i().string,onClick:i().func,uavId:i().string};const pN=(0,s.$j)((function(e,t){return function(e){return(0,Ue.default)(e)?sN:function(t){return{status:Gl(t)[e]||Pc.q.OFF,message:Ml(t)[e]||""}}}(t.uavId)}),{onClick:function(e){return BZ([e])}})(fN);var dN=["label","onClick","uavIds"];function yN(){return yN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yN.apply(this,arguments)}function hN(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var mN=(0,Ot.Z)((function(e){return{root:{textAlign:"right",padding:e.spacing(.5),color:e.palette.text.secondary},hover:{backgroundColor:e.palette.action.hover},selectable:{cursor:"pointer","&:hover":{backgroundColor:e.palette.action.hover}}}})),vN=function(e){var t=e.label,r=e.onClick,o=e.uavIds,a=hN(e,dN),i=mN(),l=r&&o?function(){return r(o)}:null;return c.createElement(O.Z,yN({className:(0,n.Z)(i.root,l&&i.selectable),onClick:l},a),t)};vN.propTypes={label:i().node,onClick:i().func,uavIds:i().arrayOf(i().string)};const gN=vN;var bN=(0,Ot.Z)((function(e){return{root:{display:"grid",gridTemplateColumns:"64px repeat(".concat(10,", 1fr)"),padding:e.spacing(1,0),"& div":{whiteSpace:"nowrap",overflow:"hidden"}},empty:{padding:e.spacing(1,0),height:64}}})),wN=function(e,t,r){return 0===r.length?"\u2014":1===r.length?r[0]:"".concat(String(r[0]),"-").concat(String(r[r.length-1]))},EN=function(e){var t=e.columnCount,r=void 0===t?10:t,n=e.ids,o=e.itemFormatter,a=void 0===o?vu.default:o,i=e.rowHeaderFormatter,l=void 0===i?wN:i,u=e.onHeaderClick,s=bN(),f=(0,c.useMemo)((function(){return function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.columnCount,n=t.itemFormatter,o=t.rowHeaderFormatter,a=[],i=e.length,c=0;c<i;c+=r){var l=e.slice(c,c+r),u=l.map(n),s="".concat(o(c,c+l.length,l)," \u25b8");a.push({header:s,items:l,labels:u})}return a}(n,{columnCount:r,itemFormatter:a,rowHeaderFormatter:l})}),[n,r,a,l]);return 0===f.length?c.createElement(O.Z,{className:s.empty},c.createElement(Ao.Z,{text:"There are no available UAVs to upload to."})):c.createElement(O.Z,{className:s.root},f.map((function(e){var t=e.header,r=e.items,n=e.labels;return c.createElement(c.Fragment,{key:t},c.createElement(gN,{label:t,uavIds:r,onClick:u}),r.map((function(e,t){return(0,Ue.default)(e)?c.createElement(pN,{key:"__cell".concat(t)},"\u2014"):c.createElement(pN,{key:e,uavId:e},n[t])})))})))};EN.propTypes={columnCount:i().number,itemFormatter:i().func,ids:i().arrayOf(i().string),onHeaderClick:i().func,rowHeaderFormatter:i().func};const SN=(0,s.$j)((function(e){var t=Fl(e);return{ids:t?(0,tc.eP)(e):(0,ro.lI)(e),rowHeaderFormatter:t?qn.bc:wN}}),{onHeaderClick:BZ})(EN);function ON(e){return ON="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ON(e)}var xN=["result","running"];function AN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?AN(Object(r),!0).forEach((function(t){kN(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function kN(e,t,r){var n;return n=function(e,t){if("object"!=ON(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ON(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ON(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PN(){return PN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PN.apply(this,arguments)}function CN(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var TN=function(e){var t,r,n=e.result,o=e.running,a=CN(e,xN);switch(o&&(t=Pc.q.NEXT,r="Upload in progress..."),n){case"success":t=Pc.q.SUCCESS,r="Upload finished successfully.";break;case"cancelled":t=Pc.q.WARNING,r="Upload cancelled by user.";break;case"error":t=Pc.q.ERROR,r="Upload attempt failed.";break;default:t=Pc.q.INFO,r="Upload not finished yet."}return c.createElement(j.Z,PN({status:t,size:"small"},a),r)};TN.propTypes={result:i().oneOf(["success","error","cancelled"]),running:i().bool};var IN=(0,Ot.Z)((function(e){return{actions:{padding:e.spacing(1,3,1,3)},uploadResultIndicator:{flex:1,cursor:"pointer"}}})),LN=function(e){var t=e.autoRetry,r=e.flashFailed,n=e.hasQueuedItems,o=e.lastUploadResult,a=e.onCancelUpload,i=e.onDismissLastUploadResult,l=e.onStartUpload,u=e.onStepBack,s=e.onToggleAutoRetry,f=e.onToggleFlashFailed,p=e.running,d=e.showLastUploadResult,y=IN();return c.createElement(c.Fragment,null,c.createElement(v.Z,null,c.createElement(SN,null),c.createElement(iN,null),c.createElement(O.Z,{mt:1},c.createElement(Lg,null)),c.createElement(O.Z,{mt:1},c.createElement(N.Z,{control:c.createElement(_.Z,{checked:t,onChange:s}),label:"Retry failed attempts automatically"}),c.createElement(N.Z,{control:c.createElement(_.Z,{checked:r,onChange:f}),label:"Flash lights of UAVs where the upload failed"}))),c.createElement(vr.Z,{className:y.actions},u&&c.createElement(W.Z,{size:"small",edge:"start",onClick:u},c.createElement(YZ.Z,null)),c.createElement(zL.Z,{in:o&&d},c.createElement(O.Z,{className:y.uploadResultIndicator,onClick:i},c.createElement(TN,{result:o,running:p}))),p?c.createElement(A.Z,{color:"secondary",startIcon:c.createElement(H.default,null),onClick:a},"Cancel upload"):c.createElement(QZ,{disabled:!l,hasQueuedItems:n,onClick:l})))};LN.propTypes={autoRetry:i().bool,flashFailed:i().bool,hasQueuedItems:i().bool,lastUploadResult:i().oneOf(["success","error","cancelled"]),onCancelUpload:i().func,onDismissLastUploadResult:i().func,onStartUpload:i().func,onStepBack:i().func,onToggleAutoRetry:i().func,onToggleFlashFailed:i().func,running:i().bool,showLastUploadResult:i().bool},LN.defaultProps={running:!1,showLastUploadResult:!1};const _N=(0,s.$j)((function(e,t){return jN(jN({},Rl(e)),{},{autoRetry:zl(e),flashFailed:Hl(e),hasQueuedItems:Bl(e),lastUploadResult:Il(e,t.jobType),running:Wl(e)})}),{onCancelUpload:Yl.m1,onClose:Yl.Mr,onDismissLastUploadResult:Yl.tm,onToggleAutoRetry:function(){return function(e,t){var r=t(),n=zl(r);e((0,Yl.cm)(!n))}},onToggleFlashFailed:function(){return function(e,t){var r=t(),n=Hl(r);e((0,Yl.pK)(!n))}}})(LN);var ZN=function(e){var t,r,n,o=e.canGoBack,a=e.canStartUpload,i=e.onClose,l=e.onStartUpload,u=e.onStepBack,s=e.open,f=e.runningJobType,p=e.selectedJobType,d=!f||f===p;return c.createElement(Nr.Z,{fullWidth:!0,open:Boolean(s),maxWidth:"sm",title:(t=p,null!==(r=null===(n=Ol(t))||void 0===n?void 0:n.title)&&void 0!==r?r:"Upload data"),onClose:i},d?c.createElement(_N,{jobType:p,onStepBack:o?u:null,onStartUpload:a?l:null}):c.createElement(O.Z,{height:240},c.createElement(HZ,{type:f})))};ZN.propTypes={canGoBack:i().bool,canStartUpload:i().bool,onClose:i().func,onStartUpload:i().func,onStepBack:i().func,open:i().bool,runningJobType:i().string,selectedJobType:i().string};const NN=(0,s.$j)((function(e){var t,r=Rl(e),n=r.open,o=r.backAction;return{open:n,canGoBack:!(0,Ue.default)(o),canStartUpload:!0,runningJobType:Tl(e),selectedJobType:null===(t=Dl(e))||void 0===t?void 0:t.type}}),{onClose:Yl.Mr,onStartUpload:function(){return function(e,t){var r,n=t(),o=Dl(n),a=o.type,i=o.payload;switch(xl(a)){case El.MISSION:r=tc.S8;break;case El.ALL:default:r=ro.lI}var c=function(e){var t=e.upload.queues,r=t.itemsQueued,n=t.itemsWaitingToStart;return r.length>0||n.length>0}(n)?_l(n):r?r(n):null;c&&c.length>0&&(e((0,Yl.HU)({targets:c,type:a,payload:i})),e((0,Yl.Bj)()))}},onStepBack:function(){return function(){var e,t=(e=GZ().mark((function e(t,r){var n,o;return GZ().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rl(r()),o=n.backAction,t((0,Yl.Mr)()),e.next=4,(0,Ur.ZP)(150);case 4:o&&t(o);case 5:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){VZ(a,n,o,i,c,"next",e)}function c(e){VZ(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e,r){return t.apply(this,arguments)}}()}})(ZN);var RN=function(e){e.components,e.height,e.width,(0,c.useCallback)((function(e){return 0===e?64:192}),[]);return null};RN.propTypes={components:i().arrayOf(i().string),height:i().number,width:i().number};const DN=(0,s.$j)((function(){return{components:["Autopilot","Companion computer","Hardware"]}}),{})(RN);var FN=function(e){var t=e.onClose,r=e.open;return c.createElement(m.Z,{fullWidth:!0,open:r,maxWidth:"sm",onClose:t},c.createElement(DN,{height:160,width:400}))};FN.propTypes={open:i().bool,onClose:i().func};const MN=(0,s.$j)((function(e){return{open:e.versionCheck.dialog.open}}),{onClose:lu._7})(FN);var UN=function(e){var t=e.language,r=(0,h.$G)().i18n;return(0,c.useEffect)((function(){r.changeLanguage(t)}),[r,t]),null};UN.propTypes={language:i().string};const GN=(0,s.$j)((function(e){return{language:e.settings.display.language}}))(UN);var VN=r(34857),BN=r(28641);function WN(e){return WN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WN(e)}function zN(){zN=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==WN(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(WN(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}var HN=zN().mark(YN);function YN(){var e,t;return zN().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,VN.gw)(1e3);case 2:return r.next=5,(0,VN.Ys)(us.D3);case 5:if(!((e=r.sent).length>0)){r.next=20;break}return t=null,r.prev=8,r.next=11,(0,VN.RE)(bn.Z.query.getBasicBeaconProperties,e);case 11:t=r.sent,r.next=17;break;case 14:r.prev=14,r.t0=r.catch(8),(0,Mr.S3)(r.t0,"Fetching beacon properties");case 17:if(!t||(0,BN.xb)(t)){r.next=20;break}return r.next=20,(0,VN.gz)((0,Nk.y3)(t));case 20:return r.next=22,(0,VN.gw)(3e3);case 22:r.next=2;break;case 24:case"end":return r.stop()}}),HN,null,[[8,14]])}function qN(e){return qN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qN(e)}function $N(){$N=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==qN(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(qN(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}var KN=$N().mark(QN),XN=$N().mark(JN);function QN(){return $N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,VN.gw)(5e3);case 2:return e.next=4,(0,VN.gz)(RC());case 4:case"end":return e.stop()}}),KN)}function JN(){return $N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,VN.Fm)(CC.E9.type,QN);case 2:case"end":return e.stop()}}),XN)}const eR=JN;function tR(e){return tR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tR(e)}var rR=iR().mark(uR),nR=iR().mark(sR);function oR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return aR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aR(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aR(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iR(){iR=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==tR(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(tR(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function cR(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function lR(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){cR(a,n,o,i,c,"next",e)}function c(e){cR(a,n,o,i,c,"throw",e)}i(void 0)}))}}function uR(e){var t,r,n;return iR().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:r=0,n=iR().mark((function n(){var o,a,i,c,l,u;return iR().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,VN.Ys)(ht);case 2:return o=n.sent,n.next=5,(0,VN.Ys)(mt);case 5:if(void 0!==n.sent&&o===t){n.next=21;break}return n.next=9,(0,VN.gz)((0,It.n7)());case 9:return n.next=11,(0,VN.$6)([(0,VN.RE)(lR(iR().mark((function t(){return iR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e(o);case 3:if(t.t0=t.sent,t.t0){t.next=6;break}t.t0="";case 6:return t.t1=t.t0,t.t2=void 0,t.abrupt("return",[t.t1,t.t2]);case 11:return t.prev=11,t.t3=t.catch(0),t.abrupt("return",[void 0,String(t.t3)]);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))),(0,VN.gw)(r)]);case 11:if(a=n.sent,i=oR(a[0],2),c=i[0],!(l=i[1])){n.next=18;break}return n.next=16,(0,VN.gz)((0,It.hg)(l));case 16:n.next=20;break;case 18:return n.next=20,(0,VN.gz)((0,It.OU)(c));case 20:t=o;case 21:return n.next=23,(0,VN.qn)([C.KI.type,C.IA.type,It.CB.type]);case 23:if((u=n.sent).type!==C.KI.type&&u.type!==C.IA.type){n.next=27;break}return n.next=27,(0,VN.gw)(1e3);case 27:r=u.type===It.CB.type?1e3:0;case 28:case"end":return n.stop()}}),n)}));case 2:return o.delegateYield(n(),"t0",4);case 4:o.next=2;break;case 6:case"end":return o.stop()}}),rR)}function sR(e){var t;return iR().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=[],e&&t.push(uR(e)),r.next=4,(0,VN.$6)(t);case 4:case"end":return r.stop()}}),nR)}var fR=r(85389),pR=r(6021);function dR(e){return dR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dR(e)}function yR(){yR=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==dR(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(dR(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}var hR=yR().mark(bR),mR=yR().mark(wR);function vR(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return gR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gR(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function gR(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bR(){var e,t,r,n,o,a,i,c;return yR().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=3,(0,VN.qn)(pR.Tw.type);case 3:return e=l.sent,t=e.payload,l.next=7,(0,VN.Ys)(fl);case 7:r=l.sent,n={},o=vR(r);try{for(o.s();!(a=o.n()).done;)i=a.value,(c=t[i])&&(n[i]=(0,fR.default)(c.position,["lat","lon","amsl","ahl"]))}catch(e){o.e(e)}finally{o.f()}if((0,uh.Z)(n)){l.next=14;break}return l.next=14,(0,VN.gz)(fI(n));case 14:l.next=0;break;case 16:case"end":return l.stop()}}),hR)}function wR(){var e;return yR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=null;case 1:return t.next=4,(0,VN.Ys)(gl);case 4:if(!t.sent){t.next=12;break}if(e){t.next=10;break}return t.next=9,(0,VN.rM)(bR);case 9:e=t.sent;case 10:t.next=16;break;case 12:if(!e){t.next=16;break}return t.next=15,(0,VN.al)(e);case 15:e=null;case 16:return t.next=18,(0,VN.qn)([wl.X8.type,wl.vA.type,wl.a_.type,wl.e5.type,wl.Fg.type]);case 18:t.next=1;break;case 20:case"end":return t.stop()}}),mR)}var ER,SR=(ER="authentication",function(e){return e.dialogs[ER]&&e.dialogs[ER].open});function OR(e){return OR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OR(e)}var xR=TR().mark(_R),AR=TR().mark(ZR),jR=TR().mark(NR),kR=TR().mark(RR),PR=TR().mark(DR),CR=TR().mark(FR);function TR(){TR=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==OR(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(OR(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function IR(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function LR(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){IR(a,n,o,i,c,"next",e)}function c(e){IR(a,n,o,i,c,"throw",e)}i(void 0)}))}}function _R(){var e,t,r,n;return TR().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=3,(0,VN.Ys)(tn.Mb);case 3:return e=o.sent,o.next=6,(0,VN.Ys)(tn.a6);case 6:if(t=o.sent,!e||t){o.next=18;break}return o.next=10,(0,VN.RE)(LR(TR().mark((function e(){var t,r;return TR().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bn.Z.sendMessage("AUTH-INF");case 3:return t=e.sent,r=t.body,e.abrupt("return",{methods:r.methods||[],required:r.required||!1});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",void 0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))));case 10:return r=o.sent,o.next=13,(0,VN.RE)(LR(TR().mark((function e(){var t,r;return TR().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bn.Z.sendMessage("AUTH-WHOAMI");case 3:return t=e.sent,r=t.body,e.abrupt("return",r.user||"");case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return","");case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))));case 13:if(n=o.sent,!r){o.next=18;break}return r.user=n,o.next=18,(0,VN.gz)((0,_n.nD)(r));case 18:return o.next=20,(0,VN.qn)(_n.fR.type);case 20:o.next=0;break;case 22:case"end":return o.stop()}}),xR)}function ZR(){var e,t,r,n,o;return TR().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,(0,VN.qn)(_n.Fg.type);case 3:if(e=a.sent,t=e.payload,r=t.result,n=t.reason,o=t.user,!r){a.next=13;break}return a.next=9,(0,VN.gz)((0,_n.IF)(o));case 9:return a.next=11,(0,VN.gz)((0,bu.c)({message:o?"You are now authenticated as ".concat(o):"You are now deauthenticated",semantics:"success"}));case 11:a.next=15;break;case 13:return a.next=15,(0,VN.gz)((0,bu.x)(n||"Authentication failed"));case 15:a.next=0;break;case 17:case"end":return a.stop()}}),AR)}function NR(){var e;return TR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,(0,VN.Ys)(tn.Mb);case 3:if(t.sent){t.next=6;break}return t.abrupt("break",37);case 6:return t.next=8,(0,VN.Ys)(tn.$8);case 8:if(t.t1=!t.sent,!t.t1){t.next=13;break}return t.next=12,(0,VN.Ys)(tn.xd);case 12:t.t1=!t.sent;case 13:if(t.t0=t.t1,!t.t0){t.next=18;break}return t.next=17,(0,VN.Ys)(SR);case 17:t.t0=!t.sent;case 18:if(!t.t0){t.next=33;break}return e=!1,t.prev=21,t.next=24,(0,VN.RE)(DR);case 24:e=t.sent,t.next=30;break;case 27:t.prev=27,t.t2=t.catch(21);case 30:if(e){t.next=33;break}return t.next=33,(0,VN.gz)(pn());case 33:return t.next=35,(0,VN.gw)(1e3);case 35:t.next=0;break;case 37:case"end":return t.stop()}}),jR,null,[[21,27]])}function RR(){var e,t;return TR().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,(0,VN.Ys)(tn.Mb);case 3:return e=r.sent,r.next=6,(0,VN.Ys)(tn.a6);case 6:if(t=r.sent,!e||!t){r.next=13;break}return r.next=10,(0,VN.Ys)(tn.AV);case 10:if(!r.sent){r.next=13;break}return r.delegateYield(NR(),"t0",13);case 13:return r.next=15,(0,VN.qn)([_n.fR.type,_n.nD.type]);case 15:r.next=0;break;case 17:case"end":return r.stop()}}),kR)}function DR(){var e,t,r;return TR().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,VN.Ys)(tn.Ni);case 2:if(!(e=n.sent)){n.next=11;break}return n.next=6,(0,VN.xN)(hn({method:"jwt",data:e,messageHub:bn.Z}));case 6:if(t=n.sent,!(r=t.value)||!r.result){n.next=10;break}return n.abrupt("return",!0);case 10:case 11:return n.abrupt("return",!1);case 12:case"end":return n.stop()}}),PR)}function FR(){var e;return TR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[_R(),RR(),ZR()],t.next=3,(0,VN.$6)(e);case 3:case"end":return t.stop()}}),CR)}var MR=r(290),UR=r(91238);function GR(e){return GR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GR(e)}function VR(){VR=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==GR(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(GR(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function BR(e){return VR().mark((function t(){var r,n,o,a;return VR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!==(r=Object.keys(e)).length){t.next=6;break}return t.next=4,(0,VN.A7)(r[0],e[r[0]]);case 4:t.next=25;break;case 6:if(!(r.length>1)){t.next=25;break}n={};case 8:return t.next=11,(0,VN.qn)(r);case 11:if(o=t.sent,!n[o.type]){t.next=18;break}if(!n[o.type].isRunning()){t.next=17;break}return t.abrupt("continue",8);case 17:delete n[o.type];case 18:if(!(a=e[o.type])){t.next=23;break}return t.next=22,(0,VN.rM)(a,o);case 22:n[o.type]=t.sent;case 23:t.next=8;break;case 25:case"end":return t.stop()}}),t)}))}function WR(e,t){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).retryDelay,n=void 0===r?50:r;return VR().mark((function r(){return VR().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=1,r.next=4,(0,VN.gz)(e,t);case 4:return r.abrupt("break",13);case 7:return r.prev=7,r.t0=r.catch(1),r.next=11,(0,VN.gw)(n);case 11:r.next=0;break;case 13:case"end":return r.stop()}}),r,null,[[1,7]])}))()}function zR(e){return zR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zR(e)}function HR(){HR=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==zR(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(zR(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}var YR=HR().mark(KR),qR=HR().mark(XR),$R=HR().mark(QR);function KR(){var e,t,r,n,o,a,i;return HR().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,VN.RE)(bn.Z.query.getShowConfiguration);case 2:if(e=c.sent,t=(0,oa.Z)(e,"start"),r=t.authorized,n=t.clock,o=t.time,a=t.method,i=t.uavIds,!(0,MR.Z)(o)&&!(0,Ue.default)(o)||!(0,Fy.Z)(a)||!Array.isArray(i)){c.next=15;break}return c.next=7,(0,VN.gz)((0,ch.YN)(Boolean(r)));case 7:return c.next=9,(0,VN.gz)((0,ch.Ae)(a));case 9:return c.next=11,(0,VN.gz)((0,ch.qp)((0,UR.default)(i||[],Ue.default)));case 11:return c.next=13,(0,VN.gz)((0,ch.qv)({clock:n,time:o}));case 13:c.next=16;break;case 15:throw new TypeError("Invalid configuration object received from server");case 16:case"end":return c.stop()}}),YR)}function XR(){var e,t,r,n,o,a,i;return HR().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,VN.Ys)(lh.ce);case 2:return e=c.sent,c.next=5,(0,VN.Ys)(lh.R9);case 5:return t=c.sent,c.next=8,(0,VN.Ys)(tc.eP);case 8:return r=c.sent,c.next=11,(0,VN.Ys)(lh.nJ);case 11:return n=c.sent,c.next=14,(0,VN.Ys)(lh.OF);case 14:return o=c.sent,c.next=17,(0,VN.Ys)(lh.ei);case 17:return a=c.sent,i="auto"===n?(0,UR.default)(r||[],Ue.default):[],c.next=21,(0,VN.RE)(bn.Z.execute.setShowConfiguration,{start:{authorized:e,clock:t,time:o,method:n,uavIds:i},duration:a});case 21:return c.next=23,(0,VN.gz)((0,ch.qp)(i));case 23:case"end":return c.stop()}}),qR)}function QR(e){var t,r;return HR().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,r=!1,n.next=4,(0,VN.gz)((0,ch.o6)("inProgress"));case 4:if(n.prev=4,"fromServer"!==t&&"toClient"!==t){n.next=11;break}return n.next=8,KR();case 8:r=!0,n.next=19;break;case 11:if("toServer"!==t&&"fromClient"!==t){n.next=17;break}return n.next=14,XR();case 14:r=!0,n.next=19;break;case 17:return n.next=19,(0,VN.gz)((0,ch.o6)("syncInProgress"));case 19:n.next=25;break;case 21:n.prev=21,n.t0=n.catch(4),r=!1;case 25:return n.next=27,(0,VN.gz)((0,ch.o6)(r?"synced":"error"));case 27:case"end":return n.stop()}}),$R,null,[[4,21]])}const JR=BR(function(e,t,r){var n;return n=function(e,t){if("object"!=zR(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=zR(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==zR(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},ch.B8,QR));var eD=r(49704),tD=r(92760);function rD(e){return rD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rD(e)}function nD(){nD=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==rD(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(rD(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function oD(e){var t=e.maxLengthInSeconds;return nD().mark((function e(){var r,n,o,a;return nD().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=(0,tD.Q)())){e.next=11;break}if(e.prev=2,!(n=(0,eD.decode)(r))||"number"!=typeof n.exp){e.next=7;break}return e.next=7,(0,VN.gz)((0,Ui.us)(1e3*n.exp));case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:if(!("number"==typeof t&&t>0)){e.next=14;break}return e.next=14,(0,VN.gz)((0,Ui.c0)(t));case 14:return e.next=16,(0,VN.Ys)((function(e){return e.session.expiresAt}));case 16:if(!((o=e.sent)&&"number"==typeof o&&o>=0)){e.next=26;break}if(!((a=o-Date.now())>0)){e.next=22;break}return e.next=22,(0,VN.gw)(a);case 22:return e.next=24,(0,VN.gz)((0,Ui.x2)());case 24:return e.next=26,(0,VN.gz)(cn());case 26:case"end":return e.stop()}}),e,null,[[2,9]])}))()}var aD=r(17310);function iD(e){return iD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iD(e)}function cD(){cD=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==iD(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(iD(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}var lD=cD().mark(uD);function uD(){var e,t,r,n;return cD().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:e=nx.uN.toString(),t=nx.S8.toString();case 2:return o.next=5,(0,VN.qn)([e,t]);case 5:if(r=o.sent,!(n=sD())){o.next=18;break}o.t0=r.type,o.next=o.t0===e?11:o.t0===t?14:17;break;case 11:return n.resetZoom(),pD(),o.abrupt("break",18);case 14:return fD(n,r.payload),pD(),o.abrupt("break",18);case 17:return o.abrupt("break",18);case 18:o.next=2;break;case 20:case"end":return o.stop()}}),lD)}function sD(){if(tx.current){var e=tx.current.components;return e?e["advanced-camera-controls"]:null}return null}function fD(e,t){var r={lookAt:(0,aD.N)(t)};e.startTransitionTo(r)}function pD(){var e=rx();e&&e.focus&&e.focus()}var dD=function(e){return!e.tour.seen&&!e.tour.isOpen},yD=r(76985);function hD(e){return hD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hD(e)}function mD(){mD=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==hD(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(hD(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}var vD=mD().mark(gD);function gD(){return mD().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,VN.gw)(3e3);case 2:return e.next=4,(0,VN.Ys)(dD);case 4:if(!e.sent){e.next=8;break}return e.next=8,(0,VN.gz)((0,yD.e_)());case 8:case"end":return e.stop()}}),vD)}r(19979);var bD=r(30797),wD=r(35353),ED=r(82071);function SD(e){return SD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SD(e)}function OD(){OD=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==SD(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(SD(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}var xD=OD().mark(MD),AD=OD().mark(UD),jD=OD().mark(GD);function kD(e){return function(e){if(Array.isArray(e))return ZD(e)}(e)||TD(e)||_D(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PD(e,t){return ID(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||_D(e,t)||CD()}function CD(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function TD(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ID(e){if(Array.isArray(e))return e}function LD(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_D(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function _D(e,t){if(e){if("string"==typeof e)return ZD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ZD(e,t):void 0}}function ZD(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ND=function(e){return e.toJSON()},RD=function(e){return(0,WS.Z)(e,ND)};function DD(e,t,r){var n=r.warnThreshold,o=r.goneThreshold,a=e?t-e:6e8;return a>r.forgetThreshold?ED.y.FORGOTTEN:a>o?ED.y.GONE:a>n?ED.y.INACTIVE:ED.y.ACTIVE}function FD(e){return(0,bD.GG)((function(t){var r=null,n={};function o(){(0,uh.Z)(n)?r=null:(t(["updated",n]),r=setTimeout(o,500)),n={}}var a={uavsAdded:e.uavsAdded.add((function(e){var r,n={},o=LD(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;void 0!==a.id&&(a.age=ED.y.ACTIVE,n[a.id]=a)}}catch(e){o.e(e)}finally{o.f()}t(["added",n])})),uavsRemoved:e.uavsRemoved.add((function(e){var r,o=[],a=LD(e);try{for(a.s();!(r=a.n()).done;){var i=r.value;void 0!==i.id&&(o.push(i),delete n[i.id])}}catch(e){a.e(e)}finally{a.f()}t(["removed",o])})),uavsUpdated:e.uavsUpdated.add((function(e){var t,a=LD(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;n[i.id]=i}}catch(e){a.e(e)}finally{a.f()}null===r&&(o(),r=setTimeout(o,500))}))};return function(){e.uavsAdded.detach(a.uavsAdded),e.uavsRemoved.detach(a.uavsRemoved),e.uavsUpdated.detach(a.uavsUpdated),null!==r&&clearTimeout(r)}}))}function MD(e){var t,r,n,o,a,i,c,l,u,s,f,p,d,y,h,m,v,g,b,w,E,S,O,x,A,j;return OD().wrap((function(k){for(;;)switch(k.prev=k.next){case 0:return t=new Map,r=!1,k.next=4,(0,VN.RE)(FD,e);case 4:i=k.sent;case 5:return k.next=8,(0,VN.qn)(i);case 8:c=k.sent,l=ID(P=c)||TD(P)||_D(P)||CD(),u=l[0],s=l.slice(1),o=null,a=null,r=t.size>0,n=!1,k.t0=u,k.next="added"===k.t0?19:"removed"===k.t0?23:"updated"===k.t0?28:32;break;case 19:return o=RD(s[0]),k.next=22,(0,VN.gz)((0,pR.UF)(o));case 22:return k.abrupt("break",33);case 23:return a=s[0].map((function(e){return e.id})),k.next=26,(0,VN.gz)((0,pR.cS)(a));case 26:if(r){f=LD(a);try{for(f.s();!(p=f.n()).done;)d=p.value,t.delete(d)}catch(e){f.e(e)}finally{f.f()}}return k.abrupt("break",33);case 28:return o=RD(s[0]),k.next=31,(0,VN.gz)((0,pR.Tw)(o));case 31:return k.abrupt("break",33);case 32:case 33:if(o)if(r)for(w=0,E=Object.entries(o);w<E.length;w++)S=PD(E[w],2),O=S[0],x=S[1],A=x.errors.length>0?Math.max.apply(Math,kD(x.errors)):0,(0,wD.L)(A)?(j=t.get(O),((0,Ue.default)(j)||j<A)&&(t.set(O,A),n=!0)):t.has(O)&&t.delete(O);else for(y=0,h=Object.entries(o);y<h.length;y++)m=PD(h[y],2),v=m[0],g=m[1],b=g.errors.length>0?Math.max.apply(Math,kD(g.errors)):0,(0,wD.L)(b)&&(t.set(v,b),n=!0,r=!0);if(!(r&&t.size<=0)){k.next=37;break}return k.next=37,(0,VN.gz)((0,vi.W9)());case 37:if(!n){k.next=40;break}return k.next=40,(0,VN.gz)((0,vi.qH)());case 40:k.next=5;break;case 42:case"end":return k.stop()}var P}),xD)}function UD(e){var t,r,n,o,a,i,c,l,u,s,f,p;return OD().wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=3,(0,VN.gw)(1e3);case 3:return d.next=5,(0,VN.Ys)(ro.L8);case 5:return t=d.sent,d.next=8,(0,VN.Ys)(ro.lI);case 8:return r=d.sent,d.next=11,(0,VN.Ys)(tn.iO);case 11:if(d.t0=d.sent,d.t0){d.next=14;break}d.t0=0;case 14:return n=d.t0,d.next=17,(0,VN.Ys)(Yt.cT);case 17:o=d.sent,a=Date.now()+n,i={},c=[],l=LD(r);try{for(l.s();!(u=l.n()).done;)s=u.value,(f=t[s])&&((p=DD(f.lastUpdated,a,o))===ED.y.FORGOTTEN?c.push(s):p!==f.age&&(i[s]=p))}catch(e){l.e(e)}finally{l.f()}if((0,uh.Z)(i)){d.next=26;break}return d.next=26,(0,VN.gz)((0,pR.UR)(i));case 26:c.length>0&&e.removeUAVsByIds(c),d.next=0;break;case 29:case"end":return d.stop()}}),AD)}function GD(e){return OD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,VN.$6)([MD(e),UD(e)]);case 2:case"end":return t.stop()}}),jD)}r(98041);function VD(e){return VD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VD(e)}function BD(){BD=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==VD(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(VD(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}var WD=BD().mark(YD),zD=BD().mark($D),HD=Symbol("STOP");function YD(e,t){var r,n,o,a,i,c,l,u;return BD().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=3,(0,VN.qn)(e);case 3:if((o=s.sent)!==HD){s.next=6;break}return s.abrupt("break",54);case 6:return a=o.executor,i=o.payload,c=o.selector,l=o.target,r=void 0,n=void 0,s.prev=9,s.next=12,(0,VN.gz)((0,Yl.lS)(l));case 12:if(!c){s.next=18;break}return s.next=15,(0,VN.Ys)(c,l);case 15:s.t0=s.sent,s.next=19;break;case 18:s.t0=void 0;case 19:return u=s.t0,s.next=22,(0,VN.RE)(a,{uavId:l,payload:i,data:u});case 22:r="success",s.next=29;break;case 25:s.prev=25,s.t1=s.catch(9),r="failure",n=s.t1;case 29:return s.prev=29,s.next=32,(0,VN.By)()&&!r;case 32:if(!s.sent){s.next=34;break}r="cancelled";case 34:return s.finish(29);case 35:s.t2=r,s.next="success"===s.t2?38:"failure"===s.t2?41:"cancelled"===s.t2?47:50;break;case 38:return s.next=40,(0,VN.gz)((0,Yl.LS)(l));case 40:return s.abrupt("break",52);case 41:return t.push(l),s.next=44,(0,VN.gz)((0,Yl.dJ)(l));case 44:return s.next=46,(0,VN.gz)((0,Yl.uh)(l,(0,Mr.VK)(n.message||n)));case 46:return s.abrupt("break",52);case 47:return s.next=49,(0,VN.gz)((0,Yl.tO)(l));case 49:case 50:return s.abrupt("break",52);case 52:s.next=0;break;case 54:case"end":return s.stop()}}),WD,null,[[9,25,29,35]])}function qD(e,t){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).workerCount,n=void 0===r?8:r;return BD().mark((function r(){var o,a,i,c,l,u,s,f,p,d,y,h;return BD().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=e.executor,a=e.selector,o){r.next=4;break}return r.abrupt("return");case 4:return r.next=6,(0,VN.RE)(bD.CE,bD.Ef.fixed(1));case 6:i=r.sent,c=[],l=[],u=!1,s=!1,f=0;case 12:if(!(f<n)){r.next=20;break}return r.next=15,(0,VN.rM)(YD,i,c);case 15:p=r.sent,l.push(p);case 17:f++,r.next=12;break;case 20:if(u){r.next=57;break}return r.next=23,(0,VN.Ys)(Nl);case 23:if(d=r.sent,(0,Ue.default)(d)){r.next=31;break}return r.next=27,(0,VN.gz)((0,Yl.dB)(d));case 27:return r.next=29,WR(i,{executor:o,payload:t.payload,selector:a,target:d});case 29:r.next=55;break;case 31:return r.next=33,(0,VN.Ys)(Hl);case 33:return r.sent&&c.length>0&&(0,Lv.g$)(c),r.next=37,(0,VN.Ys)(zl);case 37:if(!(r.sent&&c.length>0)){r.next=45;break}return y=[].concat(c),c.length=0,r.next=43,(0,VN.gz)((0,Yl.fS)(y));case 43:r.next=55;break;case 45:return r.next=47,(0,VN.Ys)(Ll);case 47:if(!(r.sent.length>0)){r.next=53;break}return r.next=51,(0,VN.gw)(500);case 51:r.next=55;break;case 53:u=!0,s=0===c.length;case 55:r.next=20;break;case 57:h=0;case 58:if(!(h<n)){r.next=64;break}return r.next=61,WR(i,HD);case 61:h++,r.next=58;break;case 64:return r.next=66,(0,VN.v_)(l);case 66:return r.abrupt("return",s);case 67:case"end":return r.stop()}}),r)}))()}function $D(){var e,t,r,n,o,a,i;return BD().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,VN.Ys)(Cl);case 2:if((e=c.sent).type){c.next=6;break}return c.abrupt("return");case 6:if(t=Ol(e.type)){c.next=10;break}return c.abrupt("return");case 10:return c.next=12,(0,VN.gz)((0,Yl.a)());case 12:return c.prev=12,r=t.workerManager,n=void 0===r?qD:r,c.next=16,(0,VN.S3)({success:(0,VN.RE)(n,t,e),cancelled:(0,VN.qn)(Yl.m1)});case 16:return o=c.sent,a=o.cancelled,i=o.success,c.next=21,(0,VN.gz)((0,Yl.U9)({cancelled:Boolean(a),success:Boolean(i)}));case 21:c.next=28;break;case 23:return c.prev=23,c.t0=c.catch(12),(0,Mr.S3)(c.t0,"Upload operation"),c.next=28,(0,VN.gz)((0,Yl.U9)({cancelled:!1,success:!1}));case 28:case"end":return c.stop()}}),zD,null,[[12,23]])}const KD=BR(function(e,t,r){var n;return n=function(e,t){if("object"!=VD(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=VD(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==VD(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},Yl.Bj,$D));var XD=r(37890),QD=(0,Xr.FZ)("weather/loading",(function(e){return bn.Z.query.getWeatherInformation(e)}),{minDelay:500});function JD(e){return JD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JD(e)}function eF(){eF=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==JD(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(JD(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}var tF=eF().mark(nF),rF=6e4;function nF(){var e,t,r,n;return eF().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return e=void 0,o.next=4,(0,VN.Ys)(tn.Mb);case 4:if(!o.sent){o.next=23;break}return e=!1,o.prev=7,o.next=10,(0,VN.gz)((0,Mk.IY)(Date.now()));case 10:return o.next=12,(0,VN.Ys)(ke.zn);case 12:return t=o.sent,o.next=15,(0,VN.xN)(QD(t));case 15:e=!0,o.next=20;break;case 18:o.prev=18,o.t0=o.catch(7);case 20:if(!e){o.next=23;break}return o.next=23,(0,VN.gz)((0,Mk.cO)(Date.now()));case 23:return o.next=25,(0,VN.Ys)(Rj);case 25:return r=o.sent,n=r?r+30*rF-Date.now():0,o.next=29,(0,VN.S3)({action:(0,VN.qn)([_n.fR.type,XD.v.type]),refresh:(0,VN.gw)(Math.max(n,rF))});case 29:o.next=0;break;case 31:case"end":return o.stop()}}),tF,null,[[7,18]])}function oF(e){return oF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oF(e)}function aF(){aF=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==oF(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(oF(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}var iF=aF().mark(uF);function cF(){var e;return Boolean(null===(e=window)||void 0===e||null===(e=e.bridge)||void 0===e?void 0:e.isElectron)}function lF(){if(cF())return 5001;var e=new URL(window.location.href);return e.port&&e.port.length>0?e.port:"http:"===e.protocol?80:(e.protocol,443)}function uF(){var e,t,r,n,a,i,c,l;return aF().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,VN.Ys)(tn.uF);case 2:if(e=u.sent,!(0,Ue.default)(e)){u.next=22;break}if(t=o.Z.server,r=t.connectAutomatically,n=t.hostName,a=t.isSecure,i=t.port,c=t.protocol,r&&(n||(n=cF()?"localhost":new URL(window.location.href).hostname),!(0,Ue.default)(i)&&i||(i=lF())),i=Number.parseInt((0,Ue.default)(i)?o.Z.server.port:i,10),Number.isNaN(i)&&(i=en.SW?5001:443),c){u.next=19;break}u.t0=i,u.next=80===u.t0||443===u.t0?12:5e3===u.t0?14:5001===u.t0?16:18;break;case 12:case 14:return c=ma.b.WS,u.abrupt("break",19);case 16:return c=ma.b.TCP,u.abrupt("break",19);case 18:c=en.SW?ma.b.TCP:ma.b.WS;case 19:return l={active:r,protocol:c,hostName:n,port:i,isSecure:a||443===i},u.next=22,(0,VN.gz)(sn(l));case 22:case"end":return u.stop()}}),iF)}function sF(e){return sF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sF(e)}function fF(){fF=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==sF(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(sF(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}var pF=fF().mark(dF);function dF(){var e,t,r;return fF().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(window?window.bridge:null)||{},t=e.localServer,r=[eR(),wR(),uF(),FR(),JR(),uD(),GD(ts.ZP),KD(),nF()],t&&t.search&&r.push(sR(t.search)),(0,ns.U6)("beacons")&&r.push(YN()),ns.Vs&&r.push(oD(o.Z.session)),o.Z.tour&&r.push(gD()),n.next=8,(0,VN.$6)(r);case 8:case"end":return n.stop()}}),pF)}var yF=r(59546),hF=r(40920),mF=r(35442);var vF=(0,jt.createThemeProvider)({primaryColor:function(e){return e?yF.Z:wy.Z},secondaryColor:function(e){return e?hF.Z:mF.Z}}),gF=function(){var e=(0,jt.isThemeDark)((0,nr.Z)());return(0,jt.useConditionalCSS)('/* dark mode specific stylesheet tweaks */\n\n/* Adjust error panel for dark mode */\n.error-panel {\n  background: #424242 !important;\n  color: white;\n}\n\n/* Change the background color of the workbench and its panels in dark mode */\n.lm_goldenlayout {\n  background: #333;\n}\nbody .lm_content {\n  background-color: #424242;\n  border: 1px solid #777;\n}\n\n/* Fix the background color of the panel bodies and the tabs */\nbody .lm_header .lm_tab {\n  background-color: #3b3b3b;\n  border-color: #777;\n}\nbody .lm_header .lm_tab:hover {\n  color: white;\n}\nbody .lm_header .lm_tab.lm_active {\n  background-color: #424242;\n  color: white;\n}\n\n/* Change the color of splitters */\n.lm_splitter {\n  background: #424242;\n}\n.lm_splitter:hover,\n.lm_splitter.lm_dragging {\n  background: #222;\n}\n\n/* OpenLayers widget customizations */\n.ol-control button,\n.ol-control button:hover,\n.ol-control button:focus {\n  background-color: #424242 !important;\n  color: #fff !important;\n}\n.ol-attribution {\n  background-color: rgba(68, 68, 68, 0.8) !important;\n  color: #fff !important;\n}\n.ol-attribution ul {\n  color: rgba(255, 255, 255, 0.7) !important;\n  text-shadow: none;\n}\n.ol-attribution ul a,\n.ol-attribution ul a:hover,\n.ol-attribution ul a:active,\n.ol-attribution ul a:visited {\n  color: #fff !important;\n  text-decoration: none;\n}\n.ol-mouse-position {\n  background-color: #424242 !important;\n  color: #fff !important;\n}\n.ol-scale-line {\n  background-color: #424242 !important;\n  border-color: #424242 !important;\n}\n.ol-scale-line-inner {\n  border-color: #fff !important;\n  color: #fff !important;\n}\n\n/* Keyboard tag styling */\nkbd {\n  background: #616161 !important;\n  box-shadow: 1px 1px 1px #333;\n  color: #ddd !important;\n}\n\nkbd:hover,\nkbd:hover * {\n  color: white !important;\n}\n\n/* Color picker customization */\n.swatches-picker > div:first-child > div:first-child {\n  background: #222 !important;\n}\n\n/* The rest comes directly from the dark mode stylesheet of react-flexible-workbench */\n.lm_dragProxy .lm_content {\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.9);\n}\n.lm_dropTargetIndicator {\n  box-shadow: inset 0 0 30px #000000;\n  outline: 1px dashed #cccccc;\n  transition: all 200ms ease;\n}\n.lm_dropTargetIndicator .lm_inner {\n  background: #000000;\n  opacity: 0.2;\n}\n.lm_header .lm_tab .lm_close_tab {\n  width: 11px;\n  height: 11px;\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAYAAADEUlfTAAAATElEQVR4nG3OwQ0DMQwDwZGRBtR/j1YJzMc5+IDoR+yCVO29g+pu981MFgqZmRdAfU7+CYWcbF11LwALjpBL0N0qybNx/RPU+gOeiS/+XCRwDlTgkQAAAABJRU5ErkJggg==);\n  background-position: center center;\n  background-repeat: no-repeat;\n  top: 4px;\n  right: 6px;\n  opacity: 0.4;\n}\n.lm_header .lm_tab .lm_close_tab:hover {\n  opacity: 1;\n}\n.lm_header .lm_controls .lm_tabdropdown:before {\n  color: #ffffff;\n}\n.lm_controls .lm_popout {\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAPklEQVR4nI2Q0QoAIAwCNfr/X7aXCpGN8snBdgejJOzckpkxs9jR6K6T5JpU0nWl5pSXTk7qwh8SnNT+CAAWCgkKFpuSWsUAAAAASUVORK5CYII=);\n}\n.lm_controls .lm_maximise {\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAKElEQVR4nGP8////fwYCgImQAgYGBgYWKM2IR81/okwajIpgvsMbVgAwgQYRVakEKQAAAABJRU5ErkJggg==);\n}\n.lm_controls .lm_close {\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAQUlEQVR4nHXOQQ4AMAgCQeT/f6aXpsGK3jSTuCVJAAr7iBdoAwCKd0nwfaAdHbYERw5b44+E8JoBjEYGMBq5gAYP3usUDu2IvoUAAAAASUVORK5CYII=);\n}\n.lm_maximised .lm_header {\n  background-color: #333;\n}\n.lm_maximised .lm_controls .lm_maximise {\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAJ0lEQVR4nGP8//8/AzGAiShVI1YhCwMDA8OsWbPwBmZaWhoj0SYCAN1lBxMAX4n0AAAAAElFTkSuQmCC);\n}\n.lm_transition_indicator {\n  background-color: #333;\n  border: 1px dashed #555;\n}\n.lm_popin .lm_icon {\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAJCAYAAADpeqZqAAAAWklEQVR4nJWOyw3AIAxDHcQC7L8jbwT3AlJBfNp3SiI7dtRaLSlKKeoA1oEsKSQZCEluexw8Tm3ohk+E7bnOUHUGcNh+HwbBygw4AZ7FN/Lt84p0l+yTflV8AKQyLdcCRJi/AAAAAElFTkSuQmCC);\n  background-position: center center;\n  background-repeat: no-repeat;\n  border-left: 1px solid #eeeeee;\n  border-top: 1px solid #eeeeee;\n  opacity: 0.7;\n}\n.lm_popin:hover .lm_icon {\n  opacity: 1;\n}\n\n/* Dark mode support for the Markdown editor in the "Field notes" panel */\n.EasyMDEContainer .CodeMirror {\n  color: white !important;\n  background-color: #424242 !important;\n}\n.EasyMDEContainer .CodeMirror-cursor {\n  border-color: #777 !important;\n}\n',e),null};const bF=(0,s.$j)((function(e){return{type:e.settings.display.theme}}))(vF);function wF(e){return wF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wF(e)}function EF(){EF=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==wF(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(wF(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function SF(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return OF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OF(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function OF(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var xF={executor:function(e){var t=e.uavId,r=e.payload;return EF().mark((function e(){var n,o,a,i,c,l,u,s;return EF().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=(n=null!=r?r:{}).items,a=n.meta,Array.isArray(o)&&0!==o.length){e.next=3;break}return e.abrupt("return");case 3:i=SF(o),e.prev=4,i.s();case 6:if((c=i.n()).done){e.next=12;break}return l=c.value,u=l.name,s=l.value,e.next=10,(0,VN.RE)(bn.Z.execute.setParameter,{uavId:t,name:u,value:s});case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),i.e(e.t0);case 17:return e.prev=17,i.f(),e.finish(17);case 20:if(!(null!=a?a:{}).shouldReboot){e.next=24;break}return e.next=24,(0,VN.RE)(bn.Z.execute.resetUAV,t);case 24:case"end":return e.stop()}}),e,null,[[4,14,17,20]])}))()},title:"Upload parameters",type:ql};const AF=xF;function jF(){jF=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==IF(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(IF(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function kF(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function PF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function CF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?PF(Object(r),!0).forEach((function(t){TF(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PF(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function TF(e,t,r){var n;return n=function(e,t){if("object"!=IF(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=IF(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==IF(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IF(e){return IF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IF(e)}function LF(){var e;return e=jF().mark((function e(t){var r,n,o,a;return jF().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.uavId,n=t.data,o=bn.Z.createCancelToken(),(a=bn.Z.execute.uploadDroneShow({uavId:r,data:n},{cancelToken:o}))[bD.n1]=function(){return o.cancel({allowFailure:!0})},e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})),LF=function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){kF(a,n,o,i,c,"next",e)}function c(e){kF(a,n,o,i,c,"throw",e)}i(void 0)}))},LF.apply(this,arguments)}var _F={executor:function(e){return LF.apply(this,arguments)},selector:function(e,t){var r=(0,tc.G5)(e),n=r?r[t]:void 0;if((0,Ue.default)(n))throw new Error("UAV ".concat(t," is not in the current mission"));var o=(0,lh.dx)(e);if((0,lh.be)(e)&&("object"!==IF(o)||!Array.isArray(o.origin)))throw new TypeError("Show coordinate system not specified");var a=function(e){var t=(0,tc.N)(e),r=(0,lh.iP)(e),n={version:1,enabled:!0,polygons:r?[{isInclusion:!0,points:r}]:[],rallyPoints:[],maxAltitude:(0,lh.YO)(e),maxDistance:(0,lh.ib)(e)};return t!==sC.i8.KEEP_CURRENT&&(n.action=t),n}(e),i=(0,lh.iG)(e);if(!i||!Array.isArray(i))throw new Error("Invalid show configuration in state store");var c=i[n];if(!c||"object"!==IF(c))throw new Error("No specification for UAV ".concat(t," (index ").concat(n,")"));var l=c.settings;if("object"!==IF(l))throw new TypeError("Invalid show configuration for UAV ".concat(t," (index ").concat(n,") in state store"));var u=(0,lh.dN)(e).id,s=(0,lh.QL)(e);return CF(CF(CF({},(0,lh.fy)(e)),l),{},{amslReference:s,coordinateSystem:o,geofence:a,mission:{id:u,index:n,displayName:"".concat(u||"drone-show"," / ").concat(n+1),numDrones:i.length}})},scope:El.MISSION,title:"Upload show data",type:sh.oe};const ZF=_F;function NF(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return RF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RF(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function RF(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const DF=function(){var e=[AF,ZF].map((function(e){return function(e){var t=null==e?void 0:e.type;if("string"!=typeof t||0===t.length)throw new Error("Job specification does not have a type");if(Sl[t])throw new Error("Upload job type ".concat(t," is already registered"));if(!e.executor)throw new Error("Job specification does not have an executor");return Sl[t]=e,function(){delete Sl[t]}}(e)}));return e.reverse(),function(){var t,r=NF(e);try{for(r.s();!(t=r.n()).done;){(0,t.value)()}}catch(e){r.e(e)}finally{r.f()}}};r(26592),r(96133);function FF(e){return FF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FF(e)}function MF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WF(n.key),n)}}function UF(e,t){return UF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},UF(e,t)}function GF(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=VF(e);if(t){var o=VF(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===FF(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function VF(e){return VF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},VF(e)}function BF(e,t,r){return(t=WF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WF(e){var t=function(e,t){if("object"!=FF(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=FF(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==FF(t)?t:String(t)}function zF(){zF=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==FF(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(FF(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function HF(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function YF(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){HF(a,n,o,i,c,"next",e)}function c(e){HF(a,n,o,i,c,"throw",e)}i(void 0)}))}}r(66901),r(23008),r(38439),r(144);var qF=(0,d.ZP)((function(){return Promise.all([r.e(276),r.e(851)]).then(r.bind(r,96570))})),$F={display:"flex",flexDirection:"column",width:"100%",height:"100%"},KF={display:"flex",alignItems:"stretch",flexGrow:1,contain:"size"};(0,rs.t6)().then((function(){DF(),rs.sq.run(dF)}));var XF=function(e){var t=e.isFixed,r=e.showSidebar;return c.createElement("div",{className:(0,n.Z)(t&&"workbench-fixed"),style:KF},r?c.createElement(A_,{workbench:Ox}):null,c.createElement(u.Lp,{workbench:Ox}))};XF.propTypes={isFixed:i().bool,showSidebar:i().bool};var QF=(0,s.$j)((function(e){return{isFixed:nk(e),showSidebar:ok(e)}}),null)(XF),JF=function(e){var t,r,n=e.onFirstRender;return c.createElement(p.r,{persistor:rs.Dj,onBeforeLift:(r=n,YF(zF().mark((function e(){var t;return zF().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=rs.ZP.getState())&&t.workbench&&t.workbench.state&&Ox.restoreState(t.workbench.state),r&&r();case 3:case"end":return e.stop()}}),e)}))))},c.createElement(c.Fragment,null,c.createElement(y.ZP,null),c.createElement(gF,null),c.createElement(nT,null),c.createElement("div",{style:$F},c.createElement(hk,{perspectives:Yx,workbench:Ox}),c.createElement(QF,null),(null===o.Z||void 0===o.Z||null===(t=o.Z.ribbon)||void 0===t?void 0:t.label)&&c.createElement(Lk,o.Z.ribbon),c.createElement(vT,null)),c.createElement(UP,null),c.createElement(AP,null),c.createElement(GN,null),c.createElement(PP,null),c.createElement(li.AppSettingsDialog,null),c.createElement(li.AuthenticationDialog,null),c.createElement(li.DeauthenticationDialog,null),c.createElement(li.FeatureEditorDialog,null),c.createElement(li.FlyToTargetDialog,null),c.createElement(li.GlobalErrorDialog,null),c.createElement(li.LayerSettingsDialog,null),c.createElement(li.ServerSettingsDialog,null),ns.Vs&&c.createElement(li.SessionExpiryDialog,null),c.createElement(li.TimeSyncDialog,null),c.createElement(PI,null),c.createElement(cC,null),c.createElement(SC,null),c.createElement(hT,null),c.createElement(TT,null),c.createElement(NT,null),c.createElement(qI,null),c.createElement(eL,null),c.createElement(i_,null),c.createElement(lL,null),c.createElement(DZ,null),c.createElement(NN,null),c.createElement(MN,null),c.createElement(f.VW,{placement:o.Z.toastPlacement},c.createElement(L_,null)),o.Z.tour&&c.createElement(qF,null)))};JF.propTypes={onFirstRender:i().func};var eM=function(){return c.createElement("div",{className:"drag-proxy"})},tM=function(e){var t;return t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UF(e,t)}(i,t);var r,n,o,a=GF(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),a.apply(this,arguments)}return r=i,(n=[{key:"render",value:function(){return this.props.glDragging?c.createElement(l.SV,{FallbackComponent:Mr.qL,onReset:rs.iG},c.createElement(eM,null)):c.createElement(l.SV,{FallbackComponent:Mr.qL,onReset:rs.iG},c.createElement(s.zt,{store:rs.ZP},c.createElement(bF,null,c.createElement(ts.ki.Provider,{value:ts.ZP},c.createElement(e,this.props)))))}}])&&MF(r.prototype,n),o&&MF(r,o),Object.defineProperty(r,"prototype",{writable:!1}),i}(c.Component),BF(t,"displayName","WorkbenchRoot"),BF(t,"propTypes",{glDragging:i().bool}),t};Ox.hoc=tM;const rM=tM(JF)},88685:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(90512),o=r(45697),a=r.n(o),i=r(67294),c=r(41120),l=r(28889),u=r(11648),s=r(52954),f=(0,c.Z)((function(e){return{root:{marginTop:e.spacing(.5),padding:"0 2px",textAlign:"center",userSelect:"none",width:"100%"},batteryFull:{color:u.ZP.success,fontWeight:"bold"},batteryWarning:{backgroundColor:u.ZP.warning,borderRadius:"".concat(2*e.shape.borderRadius,"px"),color:e.palette.getContrastText(u.ZP.warning)},batteryError:{backgroundColor:u.ZP.error,borderRadius:"".concat(2*e.shape.borderRadius,"px"),color:e.palette.getContrastText(u.ZP.error),fontWeight:"bold"}}}),{name:"BatteryIndicator"}),p=function(e){var t=e.charging,r=e.className,o=e.cellCount,a=e.formatter,c=e.percentage,u=e.voltage,s=a.getBatteryStatus(u,c,o),p=a.getBatteryLabel(u,c,o),d=a.getBatteryIcon(c,s,t),y=f(),h=(0,n.Z)(r,y.root,y["battery".concat(s)]);return i.createElement(l.Z,{fontSize:"small",className:h},d,p)};p.propTypes={cellCount:a().number,className:a().string,charging:a().bool,formatter:a().instanceOf(s.C),percentage:a().oneOfType([a().number,a().string]),voltage:a().oneOfType([a().number,a().string])},p.defaultProps={formatter:s.V};const d=p},21594:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});r(69358),r(59749),r(86544),r(84254),r(752),r(21694),r(76265),r(89730),r(12826),r(34284),r(77049),r(64043),r(7409),r(60429),r(38077),r(60228);var n=r(45697),o=r.n(n),a=r(67294),i=r(282),c=["accepts","children","filter","multiple","onSelected","onSelectionFailed"];function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var p=a.forwardRef((function(e,t){var r=e.accepts,n=e.children,o=e.filter,s=e.multiple,p=e.onSelected,d=e.onSelectionFailed,y=f(e,c),h=u((0,a.useState)(0),2),m=h[0],v=h[1],g=(0,a.useCallback)((function(e){(e=e&&e.files?s?e.files:e.files[0]:null)&&(!r||r(e)?p&&p(e):d&&d(e),v(m+1))}),[r,m,s,p,d]);return a.createElement(i.Z,l({ref:t,component:"label"},y),a.createElement("input",{key:m,hidden:!0,type:"file",accept:o,multiple:s,onChange:function(e){return g(e.target)}}),n)}));p.propTypes={accepts:o().func,children:o().node,filter:o().arrayOf(o().string),multiple:o().bool,onSelected:o().func,onSelectionFailed:o().func};const d=p},32565:(e,t,r)=>{"use strict";r.d(t,{Z:()=>E});r(69358),r(38077),r(81919),r(47522),r(99474),r(60429),r(84254),r(752),r(21694),r(76265),r(86466),r(69373),r(59903),r(59749),r(86544),r(60228),r(79288);var n=r(90512),o=r(45697),a=r.n(o),i=r(67294),c=r(41120),l=r(73435),u=["children","className","inline","hollow","status"];function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f.apply(this,arguments)}function p(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){var n;return n=function(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==s(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=function(e,t){var r=(0,l.colorForStatus)(e);return{backgroundColor:r,color:t.palette.getContrastText(r)}},v=function(e){return{color:(0,l.colorForStatus)(e)}},g={animation:"$flash 0.5s infinite",animationDirection:"alternate"},b=(0,c.Z)((function(e){return{root:{borderRadius:e.spacing(1),color:e.palette.getContrastText.primary,fontSize:"small",overflow:"hidden",padding:"0 ".concat(e.spacing(.5)),textAlign:"center",textTransform:"uppercase",userSelect:"none",whiteSpace:"nowrap"},fullWidth:{width:"100%"},"status-off":{backgroundColor:e.palette.action.selected},"status-info":m(l.Status.INFO,e),"status-waiting":m(l.Status.WAITING,e),"status-next":m(l.Status.NEXT,e),"status-success":m(l.Status.SUCCESS,e),"status-skipped":m(l.Status.SKIPPED,e),"status-warning":y(y({},m(l.Status.WARNING,e)),{},{fontWeight:"bold"}),"status-rth":y(y(y({},m(l.Status.RTH,e)),g),{},{fontWeight:"bold"}),"status-error":y(y({},m(l.Status.ERROR,e)),{},{fontWeight:"bold"}),"status-critical":y(y(y({},m(l.Status.CRITICAL,e)),g),{},{fontWeight:"bold"}),"status-hollow-off":{color:e.palette.text.secondary},"status-hollow-info":v(l.Status.INFO),"status-hollow-waiting":v(l.Status.WAITING),"status-hollow-next":v(l.Status.NEXT),"status-hollow-success":v(l.Status.SUCCESS),"status-hollow-skipped":v(l.Status.SKIPPED),"status-hollow-warning":y(y({},v(l.Status.WARNING)),{},{fontWeight:"bold"}),"status-hollow-rth":y(y(y({},v(l.Status.RTH)),g),{},{fontWeight:"bold"}),"status-hollow-error":y(y({},v(l.Status.ERROR)),{},{fontWeight:"bold"}),"status-hollow-critical":y(y(y({},v(l.Status.CRITICAL)),g),{},{fontWeight:"bold"}),"@keyframes flash":{"0%, 49%":{opacity:.5},"50%, 100%":{opacity:1}}}}),{name:"StatusPill"}),w=function(e){var t=e.children,r=e.className,o=e.inline,a=e.hollow,c=e.status,l=p(e,u),s=b();return i.createElement("div",f({className:(0,n.Z)(r,s.root,!o&&s.fullWidth,a?s["status-hollow-".concat(c)]:s["status-".concat(c)])},l),t)};w.propTypes={children:a().node,className:a().string,hollow:a().bool,inline:a().bool,status:a().oneOf(Object.values(l.Status))},w.defaultProps={status:l.Status.INFO};const E=w},29227:(e,t,r)=>{"use strict";r.d(t,{Z:()=>j});r(34338),r(50886),r(60429);var n=r(67294),o=r(69653),a=r(20907),i=r(9198),c=r(29791),l=r(96734),u=r(34446),s=r(96230),f=r(13796),p=r(49604),d=r(18334),y=r(32315),h=r(45514),m=r(96984),v=r(8397),g=r(59546),b=r(71933),w=r(75659),E=r(35442);function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S.apply(this,arguments)}var O=[a.Z,i.Z,c.Z,l.Z,u.Z,s.Z,f.Z,p.Z,d.Z,y.Z,h.Z,m.Z,v.Z,g.Z,b.Z,w.Z,E.Z],x=["700","500","300"],A={colors:O.map((function(e){return x.map((function(t){return e[t]}))})).concat([["#000000","#808080","#FFFFFF"]]),width:490,height:176};const j=function(e){return n.createElement(o.FJ,S({className:"borderless"},A,e))}},52954:(e,t,r)=>{"use strict";r.d(t,{C:()=>D,V:()=>F});r(97389),r(69373),r(59903),r(59749),r(86544),r(60228),r(79288),r(84254),r(752),r(21694),r(76265);var n=r(27601),o=r(67294),a=r(16746),i=r(85241),c=r(46266),l=r(98792),u=r(46033),s=r(70950),f=r(14823),p=r(56838),d=r(95082),y=r(39824),h=r(44359),m=r(47108),v=r(49781),g=r(82703),b=r(72033),w=r(88418),E=r(73435),S=r(66263),O=r(35122);function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P(n.key),n)}}function j(e,t,r){return t&&A(e.prototype,t),r&&A(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function k(e,t,r){return(t=P(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e){var t=function(e,t){if("object"!=x(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=x(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==x(t)?t:String(t)}var C=k(k(k(k(k(k({},S.A.FULL,10),S.A.NEAR_FULL,9),S.A.OK,8),S.A.WARNING,3),S.A.ERROR,0),S.A.UNKNOWN,11),T={marginLeft:-8,marginTop:-2,verticalAlign:"bottom"},I={},L=[o.createElement(a.Z,{key:"batteryIcon",fontSize:"small",style:T}),o.createElement(a.Z,{key:"batteryIcon",fontSize:"small",style:T}),o.createElement(i.Z,{key:"batteryIcon",fontSize:"small",style:T}),o.createElement(c.Z,{key:"batteryIcon",fontSize:"small",style:T}),o.createElement(l.Z,{key:"batteryIcon",fontSize:"small",style:T}),o.createElement(l.Z,{key:"batteryIcon",fontSize:"small",style:T}),o.createElement(u.Z,{key:"batteryIcon",fontSize:"small",style:T}),o.createElement(s.Z,{key:"batteryIcon",fontSize:"small",style:T}),o.createElement(s.Z,{key:"batteryIcon",fontSize:"small",style:T}),o.createElement(f.Z,{key:"batteryIcon",fontSize:"small",style:T}),o.createElement(p.Z,{key:"batteryIcon",fontSize:"small",style:T}),o.createElement("span",{key:"batteryIcon",style:I}," ")],_=[o.createElement(a.Z,{key:"batteryIcon"}),o.createElement(a.Z,{key:"batteryIcon"}),o.createElement(i.Z,{key:"batteryIcon"}),o.createElement(c.Z,{key:"batteryIcon"}),o.createElement(l.Z,{key:"batteryIcon"}),o.createElement(l.Z,{key:"batteryIcon"}),o.createElement(u.Z,{key:"batteryIcon"}),o.createElement(s.Z,{key:"batteryIcon"}),o.createElement(s.Z,{key:"batteryIcon"}),o.createElement(f.Z,{key:"batteryIcon"}),o.createElement(p.Z,{key:"batteryIcon"}),o.createElement(w.Z,{key:"batteryIcon"})],Z=[o.createElement(d.Z,{key:"batteryIcon",fontSize:"small",style:T}),o.createElement(d.Z,{key:"batteryIcon",fontSize:"small",style:T}),o.createElement(d.Z,{key:"batteryIcon",fontSize:"small",style:T}),o.createElement(y.Z,{key:"batteryIcon",fontSize:"small",style:T}),o.createElement(h.Z,{key:"batteryIcon",fontSize:"small",style:T}),o.createElement(h.Z,{key:"batteryIcon",fontSize:"small",style:T}),o.createElement(m.Z,{key:"batteryIcon",fontSize:"small",style:T}),o.createElement(v.Z,{key:"batteryIcon",fontSize:"small",style:T}),o.createElement(v.Z,{key:"batteryIcon",fontSize:"small",style:T}),o.createElement(g.Z,{key:"batteryIcon",fontSize:"small",style:T}),o.createElement(b.Z,{key:"batteryIcon",fontSize:"small",style:T}),o.createElement("span",{key:"batteryIcon",style:I})],N=[o.createElement(d.Z,{key:"batteryIcon"}),o.createElement(d.Z,{key:"batteryIcon"}),o.createElement(d.Z,{key:"batteryIcon"}),o.createElement(y.Z,{key:"batteryIcon"}),o.createElement(h.Z,{key:"batteryIcon"}),o.createElement(h.Z,{key:"batteryIcon"}),o.createElement(m.Z,{key:"batteryIcon"}),o.createElement(v.Z,{key:"batteryIcon"}),o.createElement(v.Z,{key:"batteryIcon"}),o.createElement(g.Z,{key:"batteryIcon"}),o.createElement(b.Z,{key:"batteryIcon"}),o.createElement(w.Z,{key:"batteryIcon"})],R=function(e,t){return"number"==typeof e?e.toFixed(t):String(e)},D=j((function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r.settings,a=r.style,i=void 0===a?O.ol.VOLTAGE:a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),k(this,"getBatteryIcon",(function(e,t,r){var n=void 0===e?C[t]:Math.round(Math.min(Math.max(e,0),100)/10);return(r?Z:L)[n]})),k(this,"getBatteryLabel",(function(e,r,o){if((0,n.default)(r)){if((0,n.default)(e))return"???";if(t._style===O.ol.FORCED_PERCENTAGE){var a=t._settings.estimatePercentageFromVoltage(e,o);return(0,n.default)(a)?"".concat(R(e,1),"V"):"".concat(R(a,0),"%")}return"".concat(R(e,1),"V")}return t._style!==O.ol.VOLTAGE||(0,n.default)(e)?"".concat(R(r,0),"%"):"".concat(R(e,1),"V")})),k(this,"getBatteryStatus",(function(e,r,n){return t._settings?t._settings.getBatteryStatus(e,r,n):S.A.UNKNOWN})),k(this,"getLargeBatteryIcon",(function(e,t,r){var n=void 0===e?C[t]:Math.round(Math.min(Math.max(e,0),100)/10);return(r?N:_)[n]})),k(this,"getSemanticBatteryStatus",(function(e,r,n){return t._settings?t._settings.getSemanticBatteryStatus(e,r,n):E.Status.OFF})),o instanceof S.h?this._settings=o:this._settings=new S.h(o),this._style=i})),F=new D},53514:(e,t,r)=>{"use strict";r.d(t,{Z:()=>R});r(69358),r(76801),r(43843),r(34284),r(34338),r(50886),r(65137),r(69373),r(59903),r(59749),r(86544),r(60228),r(79288),r(5399),r(88052),r(76034),r(30050),r(84254),r(752),r(21694),r(76265),r(77049),r(89730),r(12826),r(64043),r(7409);var n=r(73415),o=r(52398),a=r(61295),i=r(45697),c=r.n(i),l=r(67294),u=r(282),s=r(84170),f=r(66856),p=r(29525),d=r(64436),y=r(6562),h=r(96394),m=r(85639),v=r(26209),g=r(62822),b=r(50998),w=r(81860),E=r(95757),S=r(17812),O=r(68239),x=r(15883),A=r(38305);function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function k(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N(n.key),n)}}function T(e,t){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},T(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=_(e);if(t){var o=_(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return L(e)}(this,r)}}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function Z(e,t,r){return(t=N(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(e){var t=function(e,t){if("object"!=j(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==j(t)?t:String(t)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}(j,e);var t,r,i,c=I(j);function j(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,j),Z(L(t=c.call(this,e)),"_tryUpdateDeviceList",(function(){A.Z._emitter&&A.Z.sendMessage({type:"DEV-LIST",ids:Object.keys(x.ZP._uavsById)}).then(t._deviceListReceived)})),Z(L(t),"_deviceListReceived",(function(e){for(var r=e.body.devices,n={All:{}},o=0,a=Object.keys(r);o<a.length;o++){var i=a[o];n[i]={};for(var c=0,l=Object.keys(r[i].children);c<l.length;c++){var u=l[c];for(var s in u in n.All||(n.All[u]={}),n[i][u]={},r[i].children[u].children)r[i].children[u].children[s].operations.includes("read")&&(s in n.All[u]||(n.All[u][s]={unit:r[i].children[u].children[s].unit}),n[i][u][s]={unit:r[i].children[u].children[s].unit})}}t.setState({available:n})})),Z(L(t),"_handleChange",(function(e){var r=e.target.name;t.setState(Z({},r,e.target.value))})),Z(L(t),"_handleClick",(function(){var e=t.state,r=e.available,o=e.selectedChannel,a=e.selectedDevice,i=e.selectedUAV;if("All"===t.state.selectedUAV){var c=[];for(var l in(0,n.Z)(r,"All"))a in r[l]&&o in r[l][a]&&c.push("/".concat(l,"/").concat(a,"/").concat(o));A.Z.sendMessage({type:"DEV-UNSUB",paths:t.state.subscriptions}),A.Z.sendMessage({type:"DEV-SUB",paths:c}),t.setState({subscriptions:c,unit:r[i][a][o].unit})}else{var u=t.currentPath;A.Z.sendMessage({type:"DEV-SUB",paths:[u]}),t.setState((function(e){return{subscriptions:e.subscriptions.concat(u),unit:r[i][a][o].unit}}))}})),Z(L(t),"_removeSubscription",(function(e){A.Z.sendMessage({type:"DEV-UNSUB",paths:[e]}),t.setState((function(t){return{subscriptions:(0,a.default)(t.subscriptions,e)}}))})),Z(L(t),"showDialog",(function(){t._tryUpdateDeviceList(),t.setState({visible:!0})})),Z(L(t),"_hideDialog",(function(){t.props.setSubscriptions(t.state.subscriptions),t.props.setUnit(t.state.unit),t.setState({visible:!1})})),t.state={visible:!1,subscriptions:e.subscriptions,unit:e.unit,available:{},selectedUAV:null,selectedDevice:null,selectedChannel:null},t._removeSubscription=t._removeSubscription.bind(L(t)),t}return t=j,(r=[{key:"render",value:function(){var e=this,t=this.state,r=t.available,n=t.selectedChannel,a=t.selectedDevice,i=t.selectedUAV,c=t.subscriptions,x=t.visible,A=Object.keys(r).sort().map((function(e){return l.createElement(m.Z,{key:e,value:e},e)}));0===A.length&&A.push(l.createElement(m.Z,{key:"__empty__",value:""},l.createElement("em",null,"No UAV")));var j=i?Object.keys(r[i]).sort().map((function(e){return l.createElement(m.Z,{key:e,value:e},e)})):[],P=a?Object.keys(r[i][a]).sort().map((function(e){return l.createElement(m.Z,{key:e,value:e},e)})):[],C=k(c).sort().map((function(t){return l.createElement(b.Z,{key:t},l.createElement(E.Z,{primary:t}),l.createElement(w.Z,null,l.createElement(S.Z,{edge:"end","aria-label":"Unsubscribe",onClick:(0,o.Z)(e._removeSubscription,t)},l.createElement(O.Z,null))))})),T=[l.createElement(u.Z,{key:"done",color:"primary",onClick:this._hideDialog},"Done")],I={minWidth:120,margin:8,verticalAlign:"text-bottom"};return l.createElement(s.Z,{fullWidth:!0,open:x,maxWidth:"sm"},l.createElement(p.Z,null,l.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},l.createElement(y.Z,{row:!0},l.createElement(d.Z,{style:I},l.createElement(h.Z,{htmlFor:"selectedUAV"},"UAV"),l.createElement(v.Z,{value:i||"",inputProps:{name:"selectedUAV",id:"selectedUAV"},onChange:this._handleChange},A)),l.createElement(d.Z,{style:I},l.createElement(h.Z,{htmlFor:"selectedDevice"},"Device"),l.createElement(v.Z,{value:a||"",inputProps:{name:"selectedDevice",id:"selectedDevice"},onChange:this._handleChange},j)),l.createElement(d.Z,{style:I},l.createElement(h.Z,{htmlFor:"selectedChannel"},"Channel"),l.createElement(v.Z,{value:n||"",inputProps:{name:"selectedChannel",id:"selectedChannel"},onChange:this._handleChange},P))),l.createElement(u.Z,{style:{marginBottom:6},disabled:c.includes(this.currentPath),onClick:this._handleClick},"Subscribe")),l.createElement(g.Z,null,C)),l.createElement(f.Z,null,T))}},{key:"currentPath",get:function(){return"/".concat(this.state.selectedUAV,"/").concat(this.state.selectedDevice,"/").concat(this.state.selectedChannel)}}])&&C(t.prototype,r),i&&C(t,i),Object.defineProperty(t,"prototype",{writable:!1}),j}(l.Component);Z(R,"propTypes",{subscriptions:c().arrayOf(c().string),unit:c().string,setSubscriptions:c().func,setUnit:c().func})},43484:(e,t,r)=>{"use strict";r.d(t,{LT:()=>q,Ph:()=>G,Py:()=>J,US:()=>Q,ZI:()=>z,_r:()=>oe,cN:()=>ae,g7:()=>Y,mB:()=>K,nv:()=>V,uI:()=>ne,vL:()=>$,vd:()=>re,vy:()=>X,zb:()=>te});r(69358),r(59749),r(69373),r(59903),r(86544),r(60228),r(38077),r(81919),r(47522),r(99474),r(60429),r(84254),r(752),r(21694),r(76265),r(89730),r(12826),r(77049),r(64043),r(7409),r(34284),r(45993),r(79288),r(82243),r(52362),r(34338);var n=r(17812),o=r(7397),a=(r(9570),r(39803)),i=r(20067),c=r(28270),l=r(27601),u=r(37238),s=r(94316),f=r.n(s),p=r(45697),d=r.n(p),y=r(67294),h=r(66688),m=r(89211),v=r(42871),g=r(48829),b=r(33769),w=r(99234);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}var S=["formControlProps","margin"],O=["input","meta"],x=["name","onChange","value"],A=["InputProps"],j=["fieldProps","inputProps"],k=["fieldProps","inputProps"],P=["fieldProps","inputProps"],C=["formatter"],T=["InputProps","inputProps","max","min","step","unit"],I=["InputProps","inputProps","max","min","step"],L=["min","max"],_=["max","min","size","step","value","onChange","onBlur"];function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R.apply(this,arguments)}function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){M(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(e,t,r){var n;return n=function(e,t){if("object"!=E(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==E(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var G=function(e){var t=e.formControlProps,r=e.margin,n=U(e,S);return y.createElement(u.Ph,R({formControlProps:F({variant:"filled",margin:r},t)},n))};G.propTypes=F(F({},u.Ph.propTypes),{},{margin:d().oneOf(["normal","dense"])}),G.defaultProps={margin:"dense"};var V=function(e){return y.createElement(u.nv,R({variant:"filled"},e))};V.propTypes=u.nv.propTypes;d().any,d().any;var B=function(e){return e.preventDefault()},W=function(e){var t=e.input,r=e.meta,l=U(e,O),u=Z((0,m.Z)(!0),2),s=u[0],f=u[1],p=t.name,d=t.onChange,h=t.value,v=U(t,x),g=(r.submitError&&!r.dirtySinceLastSubmit||r.error)&&r.touched;return y.createElement(a.Z,R({variant:"filled"},l,{name:p,type:s?"password":"text",helperText:g?r.error||r.submitError:void 0,error:g,value:h,inputProps:F(F({autoComplete:"current-password"},v),{},{type:s?"password":"text"}),InputProps:{endAdornment:y.createElement(o.Z,{position:"end"},y.createElement(n.Z,{"aria-label":"toggle password visibility",onClick:f,onMouseDown:B},s?y.createElement(i.Z,null):y.createElement(c.Z,null)))},onChange:d}))};W.propTypes={input:d().any,meta:d().any};var z=function(e){return y.createElement(h.gN,R({component:W},e))},H=function(e){var t=e.InputProps,r=U(e,A);return y.createElement(V,R({type:"number",InputProps:F({endAdornment:y.createElement(o.Z,{position:"end"},"\xb0")},t)},r))};H.propTypes={InputProps:d().object};var Y=function(e){var t=e.fieldProps,r=e.inputProps,n=U(e,j);return y.createElement(H,R({inputProps:F({step:.1},r),fieldProps:F({format:g.LW,formatOnBlur:!0,parse:function(e){return e},validate:(0,w.v_)([w.C1,w.yx])},t)},n))};Y.propTypes={fieldProps:d().object,inputProps:d().object};var q=function(e){var t=e.fieldProps,r=e.inputProps,n=U(e,k);return y.createElement(H,R({inputProps:F({step:.001},r),fieldProps:F({validate:(0,w.v_)([w.C1,w.yx,(0,w.vX)(-90,90)])},t)},n))};q.propTypes={fieldProps:d().object,inputProps:d().object};var $=function(e){var t=e.fieldProps,r=e.inputProps,n=U(e,P);return y.createElement(H,R({inputProps:F({step:.001},r),fieldProps:F({validate:(0,w.v_)([w.C1,w.yx,(0,w.vX)(-180,180)])},t)},n))};$.propTypes={fieldProps:d().object,inputProps:d().object};var K=function(e){var t=e.formatter,r=U(e,C),n=(0,y.useMemo)((function(){return function(e){return{formatOnBlur:!0,format:function(t){var r=Array.isArray(t)&&2===t.length?t:(0,g.ie)(t);try{return(e||g.fT)(r)||t}catch(e){return t}},validate:function(e){if(!(0,g.ie)(e))return"Invalid coordinate"}}}(t)}),[t]);return y.createElement(V,R({fieldProps:n},r))};K.propTypes={formatter:d().func};var X=function(e){var t=e.InputProps,r=e.inputProps,n=e.max,a=e.min,i=e.step,c=e.unit,l=U(e,T);return y.createElement(V,R({type:"number",inputProps:F({max:n,min:a,step:i},r),InputProps:F({endAdornment:y.createElement(o.Z,{position:"end"},c)},t)},l))};X.propTypes={InputProps:d().object,inputProps:d().object,max:d().number,min:d().number,onChange:d().func,size:d().string,step:d().number,unit:d().string,value:d().number},X.defaultProps={min:0,unit:"m"};var Q=function(e){var t=e.InputProps,r=e.inputProps,n=e.max,a=e.min,i=e.step,c=U(e,I);return y.createElement(V,R({type:"number",inputProps:F({max:n,min:a,step:i},r),InputProps:F({endAdornment:y.createElement(o.Z,{position:"end"},"s")},t)},c))};Q.propTypes={InputProps:d().object,inputProps:d().object,max:d().number,min:d().number,onChange:d().func,size:d().string,step:d().number,value:d().number},Q.defaultProps={min:0};var J=function(e){var t=e.min,r=e.max,n=U(e,L),o=(0,y.useMemo)((function(){return function(e){var t=e.min,r=e.max;return{formatOnBlur:!0,format:function(e){var t="number"==typeof e?e:(0,b.mV)(e);return Number.isNaN(t)?"string"==typeof e?e:"":(0,v.g)(t,{padHours:!0})},validate:function(e){var n=(0,b.mV)(e);return Number.isFinite(n)?"number"==typeof t&&e<t?0===t?"Duration must be non-negative":"Duration too short":"number"==typeof r&&e>r?"Duration too long":void 0:"Invalid duration"}}}({min:t,max:r})}),[t,r]);return y.createElement(V,R({fieldProps:o},n))};J.propTypes={min:d().number,max:d().number};var ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultProps,r=e.displayName,n=e.formatOptions,i=e.unit,c=i?{endAdornment:y.createElement(o.Z,{position:"end"},i)}:null;n=F({mantissa:3,trimMantissa:!0},n);var u=function(e){return f()(e).format(n)},s=function(e){var t=e.max,r=e.min,n=e.size,o=e.step,i=e.value,s=e.onChange,f=e.onBlur,p=U(e,_),d=Z((0,y.useState)((function(){return u(i)})),2),h=d[0],m=d[1];(0,y.useEffect)((function(){m(u(i))}),[i]);var v=(0,y.useCallback)((function(e){for(var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.max,n=t.min,o=t.step;if(e){var a=Number.parseFloat(e);if(!Number.isNaN(a)&&Number.isFinite(a)||(a=0),!(0,l.default)(o)){var i=(0,l.default)(n)?0:n;a=Math.round((a-i)/o)*o+i}return!(0,l.default)(r)&&a>r&&(a=r),!(0,l.default)(n)&&a<n&&(a=n),a}return 0}(e.target.value,{max:t,min:r,step:o}),a=arguments.length,c=new Array(a>1?a-1:0),p=1;p<a;p++)c[p-1]=arguments[p];n!==i&&s?(s.apply(void 0,[e].concat(c)),m(u(n))):m(u(i)),f&&f.apply(void 0,c)}),[t,r,o,i,f,s]),g=(0,y.useCallback)((function(e){m(e.target.value)}),[]);return y.createElement(a.Z,R({InputProps:c,inputProps:{size:n,type:"text",inputMode:"decimal",pattern:"[-0-9+.,]*"},variant:"filled",value:h,onBlur:v,onChange:g},p))};return s.propTypes={max:d().number,min:d().number,onBlur:d().func,onChange:d().func,size:d().number,step:d().number,value:d().number},r&&(s.displayName=r),t&&(s.defaultProps=t),s},te=ee({displayName:"SimpleAngleField",defaultProps:{max:360,min:0,step:.1},unit:"degrees"}),re=ee({displayName:"SimpleDistanceField",unit:"m"}),ne=ee({displayName:"SimpleDurationField",unit:"seconds",defaultProps:{min:0,size:4}}),oe=ee({displayName:"SimpleNumericField"}),ae=ee({displayName:"SimpleVoltageField",unit:"V",defaultProps:{min:0,size:4}})},35806:(e,t,r)=>{"use strict";r.d(t,{mB:()=>n.mB,vy:()=>n.vy,g7:()=>n.g7,LT:()=>n.LT,vL:()=>n.vL,ZI:()=>n.ZI,Ph:()=>n.Ph,zb:()=>n.zb,vd:()=>n.vd,uI:()=>n.uI,_r:()=>n._r,cN:()=>n.cN,nv:()=>n.nv,xe:()=>o});var n=r(43484);function o(e){var t=document.querySelector("#".concat(e));t&&t.dispatchEvent(new Event("submit",{bubbles:!0,cancelable:!0}))}},51914:(e,t,r)=>{"use strict";r.d(t,{P7:()=>S,S6:()=>x,cF:()=>O,l0:()=>A});r(50886),r(69373),r(59903),r(59749),r(86544),r(60228),r(79288),r(69358),r(38077),r(81919),r(47522),r(99474),r(84254),r(752),r(21694),r(76265);var n=r(16423),o=r(69203),a=r(90096),i=r(73234),c=r(52398),l=r(57993),u=r(62822),s=r(50998),f=r(45697),p=r.n(f),d=r(67294),y=r(59864),h=r(39445),m=r(41741);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){var n;return n=function(e,t){if("object"!=v(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==v(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var E=function(e,t){return(0,y.isElement)(e)?d.createElement("div",null,e):e?d.createElement(h.Z,{ref:t,text:e}):null};function S(e){var t=j(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),r=t.backgroundHint,n=t.dataProvider,o=t.listFactory,a=t.postprocess;return e=P(e),d.forwardRef((function(t,i){var c=n(t),l=a(c.map((function(r){return e(r,t)})),t);return k(l)?o(t,l,i):E(r,i)}))}function O(e){var t=e.activateItem,r=e.getSelection,n=e.setSelection;return n||t?function(e,o){return function(a,i){var c,u=i(),s=r?r(u):[];if((0,m.Dy)(e.nativeEvent||e))c=n((0,l.Z)(s,[o]));else{var f=s&&1===s.length&&s[0]===o;t&&f?(c=e.detail>1?t(o):null,e.detail>1&&window.getSelection().removeAllRanges()):n&&!f&&(c=n([o]))}c&&a(c)}}:null}function x(e){var t=j(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),r=t.backgroundHint,n=t.dataProvider,o=t.listFactory,a=t.postprocess;e=P(e);var i=d.forwardRef((function(t,i){var c=n(t),l=a(c.map((function(r){return e(r,b(b({},t),{},{onChange:void 0,onItemSelected:t.onChange?function(e){return t.onChange(e,r.id)}:void 0}),r.id===t.value)})),t);return k(l)?o(t,l,i):E(r,i)}));return i.propTypes={onChange:p().func,value:p().any},i}function A(e){var t=j(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),r=t.backgroundHint,n=t.dataProvider,o=t.listFactory,i=t.postprocess;e=P(e);var c=d.forwardRef((function(t,c){var u,s,f,p,d=n(t),y=(u={activateItem:t.onActivate,getSelection:function(){return t.value},setSelection:t.onChange},s=u.activateItem,f=u.getSelection,(p=u.setSelection)||s?function(e){return function(t){var r=f?f():[];return(0,m.Dy)(t.nativeEvent||t)?p((0,l.Z)(r,[e])):r&&1===r.length&&r[0]===e?s?s(e):void 0:p([e])}}:function(){}),h=i(d.map((function(r){return e(r,b(b({},t),{},{onChange:void 0,onItemSelected:y(r.id)}),(0,a.Z)(t.value,r.id))})),t);return k(h)?o(t,h,c):E(r,c)}));return c.propTypes={onActivate:p().func,onChange:p().func,value:p().arrayOf(p().any).isRequired},c}var j=function(e){return b(b({postprocess:o.default},e),{},{dataProvider:(t=e.dataProvider,(0,i.default)(t)?t:function(e){return(0,n.Z)(e,t)}),listFactory:C(e.listFactory)});var t};function k(e){return e&&(e.length>0||e.size>0)}function P(e){if(Object.prototype.isPrototypeOf.call(d.Component,e)){var t=e===s.Z?"onTouchTap":"onClick";return function(r,n,o){return d.createElement(e,b(b({},r),{},w(w({key:r.id},t,n.onItemSelected),"selected",o)))}}return e}function C(e){return void 0===e?function(e,t,r){return d.createElement(u.Z,{dense:e.dense||e.mini,disablePadding:e.disablePadding||e.mini,ref:r},t)}:Object.prototype.isPrototypeOf.call(d.Component,e)?(0,c.Z)(d.createElement,e):e}},83328:(e,t,r)=>{"use strict";r.d(t,{Uw:()=>l,Xl:()=>c,kR:()=>u});r(60429);var n=r(67294),o=r(73205),a=r(58713);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}var c=n.createContext(window.document.body),l=n.forwardRef((function(e,t){return n.createElement(c.Consumer,null,(function(r){return n.createElement(o.ZP,i({},e,{ref:t,container:r}))}))})),u=n.forwardRef((function(e,t){return n.createElement(c.Consumer,null,(function(r){return n.createElement(a.default,i({},e,{ref:t,appendTo:r}))}))}))},90694:(e,t,r)=>{"use strict";r.d(t,{Q$:()=>h,S3:()=>y,VK:()=>d,ZP:()=>m,qL:()=>p});r(60228),r(12826),r(34338);var n=r(34716),o=r(73234),a=r(45697),i=r.n(a),c=r(67294),l=r(21727),u=(0,r(2925).ZP)("error"),s=function(){window.location.reload()},f=function(e){var t=e.resetErrorBoundary;return c.createElement("div",{className:"error-panel"},c.createElement("div",{className:"error-icon"},c.createElement(l.Z,{style:{width:48,height:48}})),c.createElement("div",null,"An unexpected error happened. Sorry for the inconvenience."),c.createElement("div",{className:"email-link"},"Please send us an email to let us know."),c.createElement("div",{className:"button-bar"},c.createElement("button",{type:"button",onClick:s},"Reload app"),t&&c.createElement("button",{type:"button",onClick:t},"Reset to factory defaults")))};f.propTypes={resetErrorBoundary:i().func};var p=f;function d(e,t){return e.toString&&(0,o.default)(e.toString)?t?"".concat(t,": ").concat(e.toString()):e.toString():t?"".concat(t,": ").concat(String(e)):String(e)}function y(e,t){if(e&&(e.isTimeout||e.hideStackTrace)){var r=e.isTimeout&&t?"".concat(t," timed out"):d(e);u.warn(r)}else{var n=d(e);u.error(n)}}function h(e,t){return function(){var r;try{r=e.apply(void 0,arguments)}catch(e){y(e,t)}if((0,n.Z)(r))return r.catch((function(e){return y(e,t)}))}}const m=y},96424:(e,t,r)=>{"use strict";r.d(t,{D3:()=>p,E8:()=>s,P$:()=>f,U7:()=>u});r(34284),r(36585),r(59749),r(86544),r(60228),r(84254),r(752),r(21694),r(76265),r(89730),r(12826),r(77049),r(64043),r(7409);var n=r(22222),o=r(15222),a=r(54384),i=r(95656);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var u=(0,n.createSelector)((function(e){return e.beacons}),i.vA),s=(0,a.sw)(o.wf),f=function(e){return(e?e.name||e.id:null)||"Unnamed beacon"},p=(0,n.createSelector)((function(e){return e.beacons}),(function(e){for(var t=[],r=0,n=Object.entries(e.byId);r<n.length;r++){var o=c(n[r],2),a=o[0];void 0===o[1].name&&t.push(a)}return t}))},37400:(e,t,r)=>{"use strict";r.d(t,{h:()=>l,t:()=>c});var n=r(22222),o=r(15222),a=r(54384),i=r(95656),c=(0,n.createSelector)((function(e){return e.docks}),i.vA),l=(0,a.sw)(o.RG)},85360:(e,t,r)=>{"use strict";function n(e){var t;return Boolean(null===(t=e.mapCaching)||void 0===t?void 0:t.enabled)}r.d(t,{x:()=>n})},20858:(e,t,r)=>{"use strict";r.d(t,{B$:()=>O,TN:()=>x,W1:()=>E,bl:()=>k,eq:()=>j,lC:()=>C,rn:()=>P,xH:()=>S});r(34338),r(89730),r(69373),r(59903),r(59749),r(86544),r(60228),r(79288),r(69358),r(38077),r(81919),r(47522),r(99474),r(84254),r(752),r(21694),r(76265),r(77049),r(12826),r(34284),r(64043),r(7409);var n=r(97973),o=r(95622),a=r(87172),i=r(22345),c=r(14440),l=r(15222),u=r(36952),s=r(1227),f=r(48947);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function d(e){return function(e){if(Array.isArray(e))return e}(e)||m(e)||h(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e){return function(e){if(Array.isArray(e))return v(e)}(e)||m(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}function m(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){var n;return n=function(e,t){if("object"!=p(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==p(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var E=f.N.closeFeatureEditorDialog,S=f.N.setFeatureEditorDialogTab,O=f.N.showFeatureEditorDialog,x=function(e){return A(e,null)},A=function(e,t){return function(r,n){var o=(0,u.JC)(n(),e,t);r((0,s.EF)({id:o,feature:e}))}},j=function(e,t){return function(r,n){var o=n().features.byId[e];r(A(b(b({},o),t),e))}},k=function(e,t){return function(r,a){var i=a(),c=i.features.byId[e],u=i.features.byId[t],f=function(e){var t;return{type:"Feature",geometry:{type:"Polygon",coordinates:[e.points].concat(y(null!==(t=e.holes)&&void 0!==t?t:[]))}}},p=(0,n.Z)(f(c),f(u));switch(p.geometry.type){case"Polygon":var m=d(p.geometry.coordinates),v=m[0],g=m.slice(1);r((0,s.TO)(w({},e,{points:v,holes:g})));break;case"MultiPolygon":r((0,s.hW)([e]));var b,E=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=h(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}(p.geometry.coordinates);try{for(E.s();!(b=E.n()).done;){var S=d(b.value),O=S[0],x=S.slice(1);r(j(e,{points:O,holes:x}))}}catch(e){E.e(e)}finally{E.f()}break;default:throw new Error("Unexpected geometry type: ".concat(p.geometry.type))}r((0,o.Z5)([(0,l.Pe)(t)]))}},P=function(){return function(e,t){return e((0,s.hW)((0,u.zf)(t())))}},C=function(e){return function(t,r){var n,o=(0,a.f)(r())||(null==e?void 0:e.getId());o&&t((n=o,function(e){var t;if((0,l.bf)(n)){var r=(0,l.$7)(n);r&&(t=(0,c.Um)(r))}else(0,l.dU)(n);t&&(e((0,i.kj)(null)),e(t))}))}}},36952:(e,t,r)=>{"use strict";r.d(t,{Iy:()=>O,JC:()=>g,Sf:()=>w,Z4:()=>b,jR:()=>j,uC:()=>S,vQ:()=>v,xt:()=>A,yW:()=>E,zf:()=>x});r(69358),r(50886);var n=r(45542),o=r(22967),a=r(27601),i=r(43836),c=r(91238),l=r(22222),u=r(70881),s=r(86686),f=r(15222),p=r(54384),d=r(95656),y=r(95684),h=r(41137),m=r(70582),v=(0,l.createSelector)((function(e){return e.features}),d.vA),g=function(e,t,r){var a=t.type;if(!a)throw new Error("Feature must have a type");if(!r){var c=(0,i.Z)(e.byId,(function(e){return e.id})),l=(0,o.Z)((0,s.IQ)(a));r=(0,y.o8)(l,c)}var u=Object.keys(e.features.byId);return(0,y.HY)((0,n.Z)(r),u)},b=(0,l.createSelector)(u.S,(function(e,t){return e.features.byId[t]}),(function(e,t){return e===m.UA.EDIT_FEATURE||Boolean(null==t?void 0:t.showPoints)})),w=function(e){return e.features.byId},E=function(e){return e.dialogs.featureEditor.featureId},S=function(e){return e.dialogs.featureEditor.dialogVisible},O=function(e){return e.dialogs.featureEditor.selectedTab},x=(0,p.sw)(f.K$),A=((0,l.createSelector)(x,(function(e){return 1===e.length?e[0]:void 0})),(0,l.createSelector)(x,(function(e){return 1===e.length?e:h.LZ})),(0,l.createSelector)(x,(function(e){return e.features.byId}),(function(e,t){return(0,c.default)(e.map((function(e){return t[e]})),a.default).map((function(e){return e.label}))}))),j=(0,l.createSelector)(x,(function(e){return e.features.byId}),(function(e,t){return(0,c.default)(e.map((function(e){return t[e]})),a.default).map((function(e){return e.type}))}))},29441:(e,t,r)=>{"use strict";r.d(t,{BM:()=>L,T$:()=>I,Zb:()=>R,d9:()=>_,hd:()=>Z,ie:()=>D,jf:()=>T,zL:()=>N});r(38077),r(60228),r(50886),r(89730),r(97389),r(34338),r(28436),r(268),r(64043),r(22462),r(21552),r(79288),r(95765),r(59749),r(86544),r(84254),r(752),r(21694),r(76265),r(77049),r(12826),r(34284),r(7409),r(73964),r(58373),r(66793),r(7629),r(77509),r(88052),r(47522),r(5399),r(52003),r(68518),r(13440),r(51090),r(69358),r(95906),r(57267),r(6203);var n=r(27601),o=r(97580),a=r(22702),i=r(95622),c=r(1227),l=r(28703),u=r(81545),s=r(25161),f=r(39535),p=r(32246),d=r(38305),y=r(15222),h=r(75639),m=r(43774),v=r(93176),g=r(27079);function b(){b=function(e,t){return new r(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function r(e,n,o){var a=new RegExp(e,n);return t.set(a,o||t.get(e)),w(a,r.prototype)}function n(e,r){var n=t.get(r);return Object.keys(n).reduce((function(t,r){var o=n[r];if("number"==typeof o)t[r]=e[o];else{for(var a=0;void 0===e[o[a]]&&a+1<o.length;)a++;t[r]=e[o[a]]}return t}),Object.create(null))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(r,RegExp),r.prototype.exec=function(t){var r=e.exec.call(this,t);if(r){r.groups=n(r,this);var o=r.indices;o&&(o.groups=n(o,this))}return r},r.prototype[Symbol.replace]=function(r,o){if("string"==typeof o){var a=t.get(this);return e[Symbol.replace].call(this,r,o.replace(/\$<([^>]+)>/g,(function(e,t){var r=a[t];return"$"+(Array.isArray(r)?r.join("$"):r)})))}if("function"==typeof o){var i=this;return e[Symbol.replace].call(this,r,(function(){var e=arguments;return"object"!=S(e[e.length-1])&&(e=[].slice.call(e)).push(n(e,i)),o.apply(this,e)}))}return e[Symbol.replace].call(this,r,o)},b.apply(this,arguments)}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function E(){E=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new L(n||[]);return o(i,"_invoke",{value:P(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var O=Object.getPrototypeOf,x=O&&O(O(_([])));x&&x!==r&&n.call(x,i)&&(w=x);var A=b.prototype=v.prototype=Object.create(w);function j(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==S(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function P(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=C(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function _(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(S(t)+" is not iterable")}return g.prototype=b,o(A,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},j(k.prototype),u(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new k(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},j(A),u(A,l,"Generator"),u(A,i,(function(){return this})),u(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=_,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:_(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function O(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function x(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){O(a,n,o,i,c,"next",e)}function c(e){O(a,n,o,i,c,"throw",e)}i(void 0)}))}}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||P(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=P(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function k(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){if(e){if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var T=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).algorithm,t=void 0===e?"greedy":e;return function(e,r){var i,c=r(),u=(0,l.rQ)(c),s=u?(0,l.qh)(c):(0,v.x_)(c),f=u?p.Ix:p.ax,d=(0,v.G7)(c).filter((function(e){return!(0,n.default)(s[e])})).map((function(e){return{index:e,position:s[e]}})).filter((function(e){var t=e.position;return u?Array.isArray(t):!(0,n.default)(t)})),y=(0,p.AC)(c).map((function(e){return{uavId:e,position:f(c,e)}})).filter((function(e){var t=e.position;return u?Array.isArray(t):!(0,n.default)(t)})),h=u?function(e){return[e.position[0],e.position[1]]}:function(e){return[e.position.lon,e.position.lat]},b=u?m.p:o.Sp,w=u?1:3,E=(0,m.x)(y,d,{distanceFunction:b,getter:h}),S=(0,a.I)(E,{algorithm:t,threshold:w}),O=k((0,v.eP)(c)),x=j(S);try{for(x.s();!(i=x.n()).done;){var P=A(i.value,2),C=P[0];O[d[P[1]].index]=y[C].uavId}}catch(e){x.e(e)}finally{x.f()}e((0,g.c6)(O))}},I=function(){return function(e){e((0,g.oi)()),e(T())}},L=function(e){return(0,i.Z5)((Array.isArray(e)?e:[]).filter((function(e){return!(0,n.default)(e)})).map((function(e){return(0,y.Wb)(e)})))},_=function(){return function(){var e=x(E().mark((function e(t,r){var n,o,a,i,c,u,p,y;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r(),(0,l.be)(n)){e.next=3;break}throw new Error("Virtual drones are supported for outdoor missions only");case 3:if(o=(0,l.dx)(n),a=(0,l.T8)(n),i=(0,l.sB)(n),o.origin&&"object"===S(o.origin)){e.next=8;break}throw new Error("Outdoor coordinate system not set up yet");case 8:return c=(0,v.x_)(n).filter(Boolean),u=c.length,p=String(u).length,e.next=13,d.Z.query.getConfigurationOfExtension("virtual_uavs");case 13:return(y=e.sent).origin=o.origin.slice(0,2),y.orientation=i,y.type=o.type,y.takeoff_area={type:"explicit",coordinates:c.map((function(e){var t=e.lat,r=e.lon,n=A(a.fromLonLat([r,t]),2),o=n[0],i=n[1];return[o.toFixed(2),i.toFixed(2)]}))},y.id_format="{0:0".concat(p,"}"),y.count=y.takeoff_area.coordinates.length,e.next=22,d.Z.execute.configureExtension("virtual_uavs",y);case 22:return e.next=24,d.Z.execute.reloadExtension("virtual_uavs");case 24:t((0,s.c)({message:"Virtual drones configured successfully.",semantics:f.j.SUCCESS}));case 25:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},Z=function(){return function(){var e=x(E().mark((function e(t,r){var n,o;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,v.Zs)(r()),o=(0,l.Z6)(r()),e.prev=2,e.next=5,(0,h.oH)(n,o,{title:"Export mapping",properties:["createDirectory","showOverwriteConfirmation","dontAddToRecent"]});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),t((0,u.x)("Error while exporting mapping: ".concat(String(e.t0))));case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t,r){return e.apply(this,arguments)}}()},N=function(){return function(){var e=x(E().mark((function e(t,r){var n,o,a,i,c,l,s,f,p,d;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,h.u5)({title:"Import mapping",properties:["openFile","dontAddToRecent"]});case 3:n=e.sent,o=(0,v.eP)(r()).concat(),a=n.split("\n"),i=0,c=j(a),e.prev=8,c.s();case 10:if((l=c.n()).done){e.next=26;break}if(s=(s=l.value).trim(),i++,0!==s.length&&!s.startsWith("#")){e.next=16;break}return e.abrupt("continue",24);case 16:if(f=s.match(b(/^(\d+)(\s+(.*))?$/,{index:1,uavId:3}))){e.next=19;break}throw new Error("Malformed line ".concat(i," in mapping file"));case 19:if(p=f.groups.uavId,d=Number.parseInt(f.groups.index,10),Number.isInteger(d)&&!(d<=0)){e.next=23;break}throw new Error("Invalid mission index in line ".concat(i," of mapping file"));case 23:d<=o.length&&(o[d-1]=p&&p.length>0?p:null);case 24:e.next=10;break;case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(8),c.e(e.t0);case 31:return e.prev=31,c.f(),e.finish(31);case 34:t((0,g.c6)(o)),e.next=40;break;case 37:e.prev=37,e.t1=e.catch(0),t((0,u.x)("Error while importing mapping: ".concat(String(e.t1))));case 40:case"end":return e.stop()}}),e,null,[[0,37],[8,28,31,34]])})));return function(t,r){return e.apply(this,arguments)}}()},R=function(){return function(e,t){e((0,c.hW)([(0,v.vj)(t())]))}},D=function(){return function(e,t){var r=t(),n=(0,p.qx)(r);e((0,g.Zg)(n))}}},93176:(e,t,r)=>{"use strict";r.d(t,{A_:()=>P,Aj:()=>I,Es:()=>h,G5:()=>w,G7:()=>g,Ho:()=>x,Kj:()=>y,Lx:()=>Z,ML:()=>k,N:()=>L,Q8:()=>R,Rc:()=>C,S8:()=>A,Zs:()=>v,ab:()=>E,bY:()=>S,eP:()=>m,g3:()=>O,iq:()=>p,mb:()=>b,pw:()=>N,rT:()=>T,rs:()=>j,vj:()=>_,x_:()=>d});r(34338),r(6203),r(38077),r(60228),r(65137);var n=r(27601),o=r(96446),a=r(91238),i=r(22222),c=r(63714),l=r(88839),u=r(15222),s=r(54384),f=r(41137),p=function(e,t){return t},d=function(e){return e.mission.homePositions},y=function(e){return e.mission.landingPositions},h=function(e){return e.mission.takeoffHeadings},m=function(e){return e.mission.mapping},v=function(e){var t=m(e),r=t&&Array.isArray(t)?t.length:0,o=[];o.push("# Mapping file generated at ".concat((new Date).toISOString()),"#","# showID droneID");for(var a=0;a<r;a++)o.push("".concat(a+1).concat((0,n.default)(t[a])?"":" ".concat(String(t[a]))));return o.push(""),o.join("\n")},g=(0,i.createSelector)(m,(function(e){return e?(0,o.Z)(e.length).filter((function(t){return(0,n.default)(e[t])})):[]})),b=function(e){return e.mission.mappingEditor.indexBeingEdited},w=(0,i.createSelector)(m,(function(e){return e.reduce((function(e,t,r){return(0,n.default)(t)||(e[t]=r),e}),{})})),E=(0,i.createSelector)(m,b,(function(e,t){return t>=0?e[t]:void 0})),S=(0,s.sw)(u.Bf),O=function(e){return function(e){var t=S(e);return Array.isArray(t)?t.length:0}(e)<=5?S(e):f.LZ},x=(0,i.createSelector)(m,(function(e){var t=(0,a.default)(e,n.default);return t.sort(),t})),A=function(e){return(0,a.default)(m(e),n.default)},j=(0,i.createSelector)(m,(function(e){return!!e&&!e.every(n.default)})),k=function(e){return e.mission.preferredChannelIndex},P=function(e){return e.mission.commandsAreBroadcast},C=(0,i.createSelector)(g,d,(function(e,t){return e.length>0&&t.some((function(e){return!(0,n.default)(e)}))})),T=function(e){return e.mission.mappingEditor.enabled},I=function(e){return e.mission.geofenceAction||l.i8.KEEP_CURRENT};function L(e){var t=I(e);if(!(0,l.mr)(t))throw new Error("Invalid geofence action: "+String(t));return t}var _=function(e){return e.mission.geofencePolygonId},Z=(0,i.createSelector)(_,(function(e){return e.features.byId}),(function(e,t){var r;return null===(r=t[e])||void 0===r?void 0:r.points})),N=(0,i.createSelector)(_,(function(e){return e.features.byId}),(function(e,t){return void 0!==e&&void 0!==t[e]})),R=(0,i.createSelector)(N,_,(function(e){return e.features.byId}),(function(e,t,r){return e?"show"===r[t].owner?c.q.SUCCESS:c.q.WARNING:c.q.OFF}))},11967:(e,t,r)=>{"use strict";r.d(t,{$8:()=>k,$F:()=>O,AV:()=>R,BJ:()=>S,B_:()=>p,Gd:()=>N,IC:()=>A,Io:()=>I,J9:()=>T,Lm:()=>M,Mb:()=>C,Ni:()=>f,Q7:()=>U,QE:()=>y,RU:()=>g,WL:()=>v,a6:()=>j,cV:()=>h,e0:()=>_,eJ:()=>Z,gc:()=>D,iO:()=>d,oY:()=>b,uF:()=>m,wI:()=>F,xd:()=>P});r(34338),r(60228);var n,o=r(27601),a=r(22222),i=r(49998),c=r(95656),l=r(71859),u=r(43280),s=r(48002),f=function(e){return e.servers.token||void 0},p=function(e){return e.servers.current.timeSync.clockSkew},d=(0,a.createSelector)((function(e){return e.servers.current.timeSync}),(function(e){var t=e.clockSkew,r=e.roundTripTime;return!(0,o.default)(t)&&!(0,o.default)(r)&&r<=l.b&&Math.abs(t)<=r/2?0:t})),y=function(e){return e.servers.current.timeSync.roundTripTime},h=function(e){return e.dialogs.serverSettings.protocol||s.b.WS},m=function(e){return e.dialogs.serverSettings.hostName},v=function(e){return e.dialogs.serverSettings.port},g=((0,a.createSelector)((function(e){return e.dialogs.serverSettings}),(function(e){var t=e.hostName,r=e.port;return t?"".concat(t,":").concat(r):void 0})),(0,a.createSelector)((function(e){return e.dialogs.serverSettings}),(function(e){var t=e.hostName,r=e.port,n=e.isSecure;return t?"".concat(n?"https:":"http:","//").concat(t,":").concat(r):void 0}))),b=function(e){return e.servers.current},w=function(e){return e.servers.current.features},E=function(e){return e.servers.current.license},S=function(e){return e.servers.current.version},O=(0,a.createSelector)((function(e){return e.servers.detected}),c.vA),x=(0,a.createSelector)(b,(function(e){return e.state===i.em.CONNECTED?e.authentication:u.UI})),A=(0,a.createSelector)(x,(function(e){return e.user})),j=(0,a.createSelector)(x,(function(e){return e.valid})),k=(0,a.createSelector)(A,Boolean),P=function(e){return e.servers.isAuthenticating},C=(0,a.createSelector)(b,(function(e){return e.state===i.em.CONNECTED})),T=(0,a.createSelector)(b,(function(e){return e.state===i.em.CONNECTING})),I=(0,a.createSelector)(x,(function(e){return e.methods&&e.methods.length>0})),L=function(e){return(0,a.createSelector)(w,(function(t){return void 0!==t[e]}))},_=L("virtual_uavs"),Z=L("map_cache"),N=(n="pro",(0,a.createSelector)(E,(function(e){var t;return null==e||null===(t=e.features)||void 0===t?void 0:t.some((function(e){return e.type===n}))}))),R=(0,a.createSelector)(x,(function(e){return e.required})),D=function(e){return e.servers.current.timeSync.adjusting},F=function(e){return e.servers.current.timeSync.calculating},M=(0,a.createSelector)((function(e){return e.servers.current.timeSync}),(function(e){var t=e.clockSkew,r=e.roundTripTime;return!(0,o.default)(t)&&!(0,o.default)(r)&&Math.abs(t)>Math.max(r/2,l.j)})),U=function(e){return e.servers.timeSyncDialog.open}},27170:(e,t,r)=>{"use strict";r.d(t,{Z:()=>Z});r(69358),r(59749),r(60429);var n=r(45697),o=r.n(n),a=r(67294),i=r(86706),c=r(31051),l=r(83328),u=(r(69373),r(59903),r(86544),r(60228),r(79288),r(38077),r(81919),r(47522),r(99474),r(84254),r(752),r(21694),r(76265),r(90512)),s=r(41120),f=r(52954),p=r(88685),d=r(32565),y=r(25476),h=r(49998),m=r(42871),v=r(32246);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e,t,r){var n;return n=function(e,t){if("object"!=g(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==g(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E.apply(this,arguments)}var S=m.hy,O=(0,s.Z)((function(e){return{row:{display:"flex",flexDirction:"row",flexWrap:"no-wrap",alignItems:"baseline",margin:e.spacing(0,-.5,.5,0),"& .muted":{color:e.palette.text.disabled}},uavIdCell:{display:"inline-block",fontWeight:"bold",overflow:"hidden"},pill:{display:"inline-block",margin:e.spacing(0,.5,0,0),verticalAlign:"text-top"},statusPill:{minWidth:88+e.spacing(.5),flex:1},modePill:{minWidth:48,flex:1},gpsPill:{minWidth:40,flex:1},batteryIndicator:{display:"inline-block",flex:1,fontFamily:e.typography.fontFamily,minWidth:48,textAlign:"left",padding:e.spacing(0,.75),whiteSpace:"noWrap"},altitudeLabel:{flex:1,textAlign:"center",whiteSpace:"noWrap",margin:e.spacing(0,1,0,0)},numSatellitesLabel:{flex:1,textAlign:"center",whiteSpace:"noWrap"}}}),{name:"DroneInfoTooltipContent"}),x=a.createElement("span",{className:"muted"},"\u2014"),A=function(e){var t=e.batteryFormatter,r=e.batteryStatus,n=e.details,o=e.gpsFix,i=e.heading,c=e.label,l=e.localPosition,s=e.mode,f=e.position,y=e.text,v=e.textSemantics,g=O(),b=o||{},w=b.type,A=b.numSatellites,j=l&&Array.isArray(l);return a.createElement(a.Fragment,null,a.createElement("div",{className:g.row},a.createElement("div",{className:g.uavIdCell},c),a.createElement("div",{className:g.batteryIndicator},a.createElement(p.Z,E({formatter:t},r))),a.createElement("div",null,(0,m.HP)(i,1,"\xb0",x))),a.createElement("div",{className:g.row},a.createElement(d.Z,{inline:!0,className:(0,u.Z)(g.pill,g.statusPill),status:v},n||y)),a.createElement("div",{className:g.row},a.createElement(d.Z,{inline:!0,className:(0,u.Z)(g.pill,g.modePill),status:"off"},s?(0,h.QF)(s):"----"),a.createElement(d.Z,{inline:!0,hollow:!0,className:(0,u.Z)(g.pill,g.gpsPill),status:(0,h.nP)(w)},w?(0,h.b_)(w):"\u2014")),a.createElement("div",{className:g.row},j?S(l):a.createElement(a.Fragment,null,a.createElement("div",{className:g.altitudeLabel},(0,m.HP)(null==f?void 0:f.ahl,1," m",x),a.createElement("span",{className:"muted"},"\xa0","AHL")),a.createElement("div",{className:g.numSatellitesLabel},(0,m.HP)(A,0,"",x),a.createElement("span",{className:"muted"},"\xa0","sats")))))};A.propTypes={batteryFormatter:o().instanceOf(f.C),batteryStatus:o().shape({cellCount:o().number,charging:o().bool,voltage:o().number,percentage:o().number}),details:o().string,gpsFix:o().shape({type:o().number,numSatellites:o().number}),heading:o().number,label:o().string,localPosition:o().arrayOf(o().number),mode:o().string,position:o().shape({ahl:o().number}),text:o().string,textSemantics:o().string};const j=(0,i.$j)((function(){var e=(0,v.vN)();return function(t,r){var n=r.id,o=(0,v.Rk)(t,n);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({batteryFormatter:(0,y.KI)(t),gpsFix:null==o?void 0:o.gpsFix,heading:null==o?void 0:o.heading,label:n,localPosition:null==o?void 0:o.localPosition,missing:!o,mode:null==o?void 0:o.mode,position:null==o?void 0:o.position},e(t,r.id))}}))(A);var k=r(15222),P=r(87172),C=["featureId"];function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T.apply(this,arguments)}function I(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var L=a.memo((function(e){var t=e.featureId;return(0,k.bf)(t)?a.createElement(j,{id:(0,k.$7)(t)}):null}));L.propTypes={featureId:o().string};var _=function(e){var t=e.featureId,r=I(e,C),n=function(e){return e&&(0,k.bf)(e)}(t);return a.createElement(l.kR,T({followCursor:!0,ignoreAttributes:!0,mouseOnly:!0,duration:0,placement:"right",plugins:[c.Cv],visible:n,content:n?a.createElement(L,{featureId:t}):null},r))};_.propTypes={featureId:o().string};const Z=(0,i.$j)((function(e){return{featureId:(0,P.f)(e)}}),{})(_)},87172:(e,t,r)=>{"use strict";function n(e){var t;return null===(t=e.session)||void 0===t?void 0:t.featureIdForTooltip}function o(e){var t;return null===(t=e.session)||void 0===t?void 0:t.broadcast}r.d(t,{d:()=>o,f:()=>n})},34457:(e,t,r)=>{"use strict";r.d(t,{$U:()=>g,Hy:()=>d,Nk:()=>h,Pb:()=>p,_v:()=>b,jZ:()=>y,qX:()=>v,yN:()=>m});r(69373),r(59903),r(59749),r(86544),r(60228),r(79288),r(69358),r(38077),r(81919),r(47522),r(99474),r(84254),r(752),r(21694),r(76265);var n=r(27601),o=r(98781),a=r(25476),i=r(80297),c=r(75505);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){var n;return n=function(e,t){if("object"!=l(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==l(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=c.N.closeAppSettingsDialog,d=c.N.setAppSettingsDialogTab,y=c.N.showAppSettingsDialog,h=c.N.toggleAppSettingsDialog;function m(e){return function(t){t((0,i.IA)("display",{uavListFilters:(0,n.default)(e)||e===o.DB.DEFAULT?[]:[e]}))}}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.key,r=e.reverse;return function(e,n){var o=(0,a.UP)(n()),c={},l=!1;t&&"string"==typeof t&&t.length>0&&(c.key=t,l=!0),null!=r&&(c.reverse=Boolean(r),l=!0),l&&e((0,i.IA)("display",{uavListSortPreference:s(s({},o),c)}))}}function g(){return function(e,t){var r=(0,a.UP)(t());e((0,i.IA)("display",{uavListSortPreference:s(s({},r),{},{reverse:!r.reverse})}))}}function b(e,t){return function(r,n){var o=n().settings.uavs,a=o.fullChargeVoltage,c=o.lowVoltageThreshold,l=o.criticalVoltageThreshold;switch(e){case"criticalVoltageThreshold":l=t,c=Math.max(l,c),a=Math.max(c,a);break;case"lowVoltageThreshold":c=t,a=Math.max(c,a),l=Math.min(c,l);break;case"fullChargeVoltage":a=t,c=Math.min(a,c),l=Math.min(c,l)}r((0,i.IA)("uavs",{fullChargeVoltage:a,lowVoltageThreshold:c,criticalVoltageThreshold:l}))}}},25476:(e,t,r)=>{"use strict";r.d(t,{AD:()=>h,BN:()=>T,CX:()=>w,Em:()=>L,KI:()=>v,Pb:()=>R,QW:()=>I,Qr:()=>P,Rf:()=>j,UP:()=>C,WQ:()=>k,Yg:()=>m,ak:()=>_,cT:()=>O,eD:()=>g,f8:()=>N,nx:()=>Z,sx:()=>b,y3:()=>S,yI:()=>E});r(79288),r(36585),r(69373),r(59903),r(59749),r(86544),r(60228),r(69358),r(38077),r(81919),r(47522),r(99474),r(84254),r(752),r(21694),r(76265),r(89730),r(12826),r(34284),r(77049),r(64043),r(7409);var n=r(22222),o=r(63745),a=r(52954),i=r(66263),c=r(35122),l=r(23736);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){var n;return n=function(e,t){if("object"!=u(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==u(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e){var t;return(null===(t=e.settings.display)||void 0===t?void 0:t.altitudeSummaryType)||c.nN.AMSL},m=(0,n.createSelector)((function(e){return e.settings.uavs}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultBatteryCellCount,r=e.fullChargeVoltage,n=e.lowVoltageThreshold,o=e.criticalVoltageThreshold;return new i.h({defaultBatteryCellCount:t,voltageThresholds:{full:r,low:n,critical:o}})})),v=(0,n.createSelector)(m,(function(e){return e.settings.uavs}),(function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).preferredBatteryDisplayStyle,r=void 0===t?c.ol.VOLTAGE:t;return new a.C({settings:e,style:r})})),g=function(e){return(e.settings.uavs.placementAccuracy||1e3)/1e3},b=function(e){return e.settings.uavs.takeoffHeadingAccuracy||20},w=function(e){return e.settings.display.language},E=function(e){var t=e.settings.threeD,r=t.scenery,n=t.lighting;return"day"===r?"light":"night"===r?"dark":"light"===n?"light":"dark"},S=function(e){var t=e.settings.threeD.scenery;return"day"===t||"night"===t?"outdoor":"indoor"===t?"indoor":"auto"===t?"auto":"outdoor"},O=(0,n.createSelector)((function(e){return e.settings.uavs}),(function(e){var t=e.warnThreshold,r=e.goneThreshold,n=e.forgetThreshold,o=e.autoRemove;return{goneThreshold:Math.max(1e3,1e3*r),warnThreshold:Math.max(1e3,1e3*t),forgetThreshold:o?Math.max(1e3,1e3*n):Number.POSITIVE_INFINITY}})),x=[],A={key:l.$O.DEFAULT,reverse:!1},j=function(e){var t;return(null===(t=e.settings.display)||void 0===t?void 0:t.uavListFilters)||x},k=function(e){return e.settings.display.uavListLayout},P=function(e){return"grid"===k(e)?"horizontal":"vertical"};function C(e){var t;return(null===(t=e.settings.display)||void 0===t?void 0:t.uavListSortPreference)||A}var T=function(e){var t;return!(null!==(t=e.settings.display)&&void 0!==t&&t.hideEmptyMissionSlots)},I=function(e){var t;return null===(t=e.settings.display)||void 0===t?void 0:t.showMissionIds},L=function(e){var t;return null===(t=e.settings.display)||void 0===t?void 0:t.experimentalFeaturesEnabled};function _(e,t,r){var n=function(e){var t;return(null===(t=e.settings.uavs)||void 0===t?void 0:t.uavOperationConfirmationStyle)||c.iU.NEVER}(e);switch(n){case c.iU.ALWAYS:return!0;case c.iU.ONLY_MULTIPLE:return r||Array.isArray(t)&&t.length>1;default:return!1}}var Z=function(e){var t;return null===(t=e.settings.display)||void 0===t?void 0:t.hideInactiveSegmentsOnDarkLCD},N=function(e){var t;return null===(t=e.settings.display)||void 0===t?void 0:t.optimizeUIForTouch},R=(0,n.createSelector)((function(e){return e.settings.apiKeys}),(function(e){for(var t={},r=0,n=Object.entries(d(d({},o.Z),e));r<n.length;r++){var a=s(n[r],2),i=a[0],c=a[1];t[String(i).toUpperCase()]=String(c||o.Z[i])||""}return t}))},27799:(e,t,r)=>{"use strict";r.d(t,{Aw:()=>W,Hk:()=>U,I0:()=>Y,OA:()=>G,Qv:()=>ee,W2:()=>M,X7:()=>$,ae:()=>X,hx:()=>K,jX:()=>V,kL:()=>Q,rK:()=>J,yb:()=>z,zC:()=>R,zw:()=>q});r(50886),r(38077),r(60228),r(82243),r(79288),r(97389),r(60429),r(73964),r(59749),r(86544),r(84254),r(752),r(21694),r(76265),r(58373),r(66793),r(7629),r(77509),r(88052),r(47522),r(34284),r(5399),r(89730),r(69373),r(59903),r(69358),r(81919),r(99474),r(12826),r(77049),r(64043),r(7409);var n=r(53521),o=r(16423),a=r(26774),i=r(111),c=r(60188),l=r(12902),u=r(12662),s=r(11648),f=r(1227),p=r(36952),d=r(29441),y=r(27079),h=r(25161),m=r(39535),v=r(32246),g=r(647),b=r(86686),w=r(48829),E=r(43774),S=r(41137),O=r(59978),x=r(66853),A=r(28703),j=r(97604);function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function P(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){L(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e,t,r){var n;return n=function(e,t){if("object"!=k(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=k(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==k(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(){_=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new I(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(L([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==k(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=P(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function P(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,P(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function L(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(k(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:L(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function Z(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function N(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Z(a,n,o,i,c,"next",e)}function c(e){Z(a,n,o,i,c,"throw",e)}i(void 0)}))}}var R=function(){return function(e){e((0,j.zG)(Date.now()))}},D=function(){return(0,g.fy)(O.oe)},F=function(){return function(e,t){var r=t(),n=(0,A._j)(r),o=(0,A.fn)(r),a=(0,A.H_)(r);e((0,y.pN)(n)),e((0,y.ZG)(o)),e((0,y.sp)(a))}},M=function(){return function(e){e((0,d.Zb)()),e((function(e,t){var r=t(),n=r.dialogs.geofenceSettings,o=n.horizontalMargin,a=n.simplify,i=n.maxVertexCount,c=(0,A.i7)(r);if(0!==c.length){var l=(0,A.T8)(r);if(!l)throw new Error("Outdoor coordinate system not set up yet");var u=(0,w.j)(c,o),d=a?(0,E.B5)(u,i):u;if(d.length<3)throw new Error("Calculated geofence contains less than 3 points");var v={label:"Geofence",labelStyle:b.gF.HIDDEN,type:b.Te.LINE_STRING,owner:"show",color:s.wL.geofence,points:d.map((function(e){return l.toLonLat(e)}))},g=(0,p.JC)(r,v);e((0,f.EF)({feature:v,id:g})),e((0,y._X)(g))}else e((0,h.c)({message:"Could not calculate geofence coordinates. Did you load a show file?",semantics:m.j.ERROR,permanent:!0}))}))}},U=function(e){return function(t,r){var n=(0,A._$)(r()),o=(0,w.KL)(n,e);t(V({origin:o,setupMission:!0}))}},G=function(e,t){return function(r,n){var o=(0,w.Gv)((0,A._$)(n())),a=new c.default(o);a.rotate((0,E.Yr)(-e),t);var i,l=(0,w.T$)(a.flatCoordinates);r((0,j.iD)(l)),r((i=e,function(e,t){var r=(0,A.nB)(t())+i;Number.isFinite(r)&&e(V({orientation:r.toFixed(1),setupMission:!0}))}))}},V=function(e){var t=e.origin,r=e.orientation,n=e.takeoffHeading,o=e.setupMission;return function(e){var a=!1;t&&(e((0,j.iD)(t)),a=!0),r&&(e((0,j.u$)(r)),a=!0),n&&(e((0,j.U2)(n)),a=!0),a&&(e(D()),o&&e(F()))}},B=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).errorMessage,r=(0,S.FZ)("show/loading",e,{minDelay:500});return function(e){return function(){var n=N(_().mark((function n(o,a){var c,l,u;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=(0,i.Z)((function(e){o({type:j.rz.type,payload:e})}),200),o((0,j.Td)(!1)),o(D()),n.prev=3,l=o(r(e,{dispatch:o,getState:a,onProgress:c})),n.next=7,l;case 7:u=n.sent,H(u.value.spec,o),n.next=17;break;case 12:n.prev=12,n.t0=n.catch(3),o((0,h.c)({message:t||"Failed to load show.",semantics:m.j.ERROR,permanent:!0})),o((0,j.Td)(!0));case 17:case"end":return n.stop()}}),n,null,[[3,12]])})));return function(e,t){return n.apply(this,arguments)}}()}},W=B(function(){var e=N(_().mark((function e(t){var r,n;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t&&t.path?"file://".concat(t.path):void 0,e.next=3,(0,u.loadCompiledShow)(t);case 3:return n=e.sent,e.abrupt("return",{spec:(0,l.vV)(n),url:r});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{errorMessage:"Failed to load show from the given file."}),z=B(function(){var e=N(_().mark((function e(t,r){var o,a,i;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.onProgress,e.next=3,(0,n.ZP)(t,{onDownloadProgress:function(e){e.totalBytes>0&&o(e.percent)}}).arrayBuffer();case 3:return a=e.sent,e.next=6,(0,u.loadCompiledShow)(a);case 6:return i=e.sent,e.abrupt("return",{spec:(0,l.vV)(i),url:t});case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),{errorMessage:"Failed to load show from the given URL."});function H(e,t){var r=(0,o.Z)(e,"swarm.drones");t((0,y.gi)(r.length));var n=(0,o.Z)(e,"environment");n.type&&t((0,j.Yb)(n.type)),"indoor"===n.type&&t((0,j.iD)(null)),t(F()),t((0,j.O0)()),"indoor"===n.type&&t((0,j.Ae)(x.VS.AUTO))}function Y(){return function(){var e=N(_().mark((function e(t,r){var n,o,a,i,c,l;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=window.bridge.getFileAsBlob){e.next=4;break}return e.abrupt("return");case 4:if(!(o=(0,A.C2)(r()))){e.next=14;break}return e.next=8,n(o);case 8:return a=e.sent,i=a.buffer,c=a.props,l=new Blob([i]),Object.assign(l,c),e.abrupt("return",t(W(l)));case 14:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}var q=function(){return function(e){e((0,j.wQ)(Date.now()))}},$=function(){return function(e){e((0,j.rm)(Date.now()))}},K=function(e){return function(t,r){var n=(0,A.c2)(r());t((0,j.cQ)([e,n[1]]))}},X=function(e){return function(t,r){var n=(0,A.c2)(r());t((0,j.cQ)([n[0],e]))}},Q=function(e){return function(t,r){t((0,j.WT)(I(I({},(0,A.Cj)(r())),{},{type:e}))),t(D())}},J=function(e){return function(t,r){var n=Number(e);Number.isFinite(n)&&n>=-1e4&&n<=1e4&&(t((0,j.WT)(I(I({},(0,A.Cj)(r())),{},{value:n}))),t(D()))}},ee=function(){return function(e,t){var r,n=t(),o=[],i=P((0,v.Xe)(n));try{for(i.s();!(r=i.n()).done;){var c=r.value,l=(0,v.ax)(n,c);l&&"number"==typeof l.amsl&&Number.isFinite(l.amsl)&&o.push(l.amsl)}}catch(e){i.e(e)}finally{i.f()}if(o.length>0){var u=(0,a.Z)(o)/o.length;e(J(u.toFixed(1)))}}}},28703:(e,t,r)=>{"use strict";r.d(t,{zk:()=>C,Uc:()=>T,Vr:()=>I,b6:()=>L,yf:()=>_,k_:()=>Z,C2:()=>N,H$:()=>be,fy:()=>G,H_:()=>oe,i7:()=>ye,SR:()=>me,iG:()=>V,qh:()=>ve,_j:()=>ge,iP:()=>we,fn:()=>Se,a8:()=>Ae,EM:()=>xe,QL:()=>q,TV:()=>se,Cj:()=>Y,dx:()=>$,nB:()=>Q,_$:()=>X,AC:()=>ee,zO:()=>le,T8:()=>ce,c2:()=>ae,R9:()=>Le,xe:()=>Pe,ei:()=>je,VF:()=>B,_v:()=>Ce,dN:()=>_e,sB:()=>J,nJ:()=>Ze,OF:()=>Ne,e7:()=>Re,u3:()=>De,nH:()=>ue,MV:()=>te,Gu:()=>ne,HE:()=>fe,KT:()=>pe,ib:()=>Te,YO:()=>Ie,Eg:()=>Fe,$C:()=>R,K8:()=>D,a0:()=>Me,D$:()=>Ue,oe:()=>ie,Aw:()=>M,ce:()=>F,Vq:()=>Ge,rQ:()=>W,be:()=>z,B2:()=>U,Z6:()=>Ve});r(268),r(89730),r(60228),r(82243),r(79288),r(52362),r(50886),r(62795),r(13383),r(97895),r(77049),r(21694),r(34338),r(97389),r(45993),r(59749),r(86544),r(84254),r(752),r(76265),r(12826),r(34284),r(64043),r(7409);var n=r(38779),o=r(79033),a=r(42227),i=r(16423),c=r(69203),l=r(27601),u=r(90783),s=r(27812),f=r(22222),p=r(75879),d=r.n(p),y=r(67665),h=r(53910),m=r(55334),v=r(93176),g=r(42871),b=r(48829),w=r(43774),E=r(41137),S=r(59978),O=r(49374);function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}var A=function(e){return function(e){return"object"===x(e)&&1===e.version&&"object"===x(e.setpoints)&&Array.isArray(e.setpoints)}(e)&&(e.setpoints.length>0||Boolean(e.autoYaw))};function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}var C=function(e){return Boolean(e.show.preflight.manualChecksSignedOffAt)},T=function(e){return Boolean(e.show.preflight.onboardChecksSignedOffAt)},I=function(e){return"synced"===e.show.start.syncStatusWithServer},L=function(e){var t=e.show.start.uavIds;return t?t.length:0},_=function(e){return e.show.lastLoadAttemptFailed},Z=function(e){return"error"===e.show.start.syncStatusWithServer},N=(0,f.createSelector)((function(e){return e.show.sourceUrl}),(function(e){return e&&e.startsWith("file://")?e.slice(7):null})),R=function(e){return!(0,l.default)(Ne(e))},D=function(e){return e.show.changedSinceLoaded},F=function(e){return Boolean(e.show.start.authorized)},M=function(e){return F(e)&&I(e)},U=function(e){return Boolean(e.show.preflight.takeoffAreaApprovedAt)},G=function(e){var t=(0,i.Z)(e,"show.data.settings");return"object"===P(t)?t:E.Nu},V=function(e){var t=(0,i.Z)(e,"show.data.swarm.drones");return Array.isArray(t)?t:E.LZ},B=function(e){return e.show.environment.type},W=function(e){return"indoor"===B(e)},z=function(e){return"outdoor"===B(e)},H=(0,f.createSelector)(V,(function(e){return e.some((function(e){var t=(0,i.Z)(e,"settings.yawControl");return A(t)}))})),Y=function(e){return(0,i.Z)(e,"show.environment.outdoor.altitudeReference")||S.V2},q=function(e){if(!z(e))return null;var t=Y(e);return t&&t.type===S.Nx.AMSL&&"number"==typeof t.value&&Number.isFinite(t.value)?t.value:null},$=function(e){return(0,i.Z)(e,"show.environment.outdoor.coordinateSystem")},K=(0,f.createSelector)((function(e){return(0,i.Z)(e,"show.environment.indoor.coordinateSystem")}),(function(e){return e?Number.parseFloat(e.orientation):0})),X=(0,f.createSelector)($,(function(e){return e.origin})),Q=(0,f.createSelector)($,(function(e){return Number.parseFloat(e.orientation)})),J=(0,f.createSelector)(W,K,Q,(function(e,t,r){return e?t:r})),ee=function(e){return(0,i.Z)(e,"show.environment.outdoor.takeoffHeading")||S.$q},te=(0,f.createSelector)(W,(function(e){return(0,i.Z)(e,"show.environment.indoor.takeoffHeading")||S.$q}),ee,(function(e,t,r){return e?t:r})),re=function(e){var t=("object"===P(e)?e:S.$q).value;return("string"==typeof t?Number.parseFloat(t):"number"==typeof t?t:0)%360},ne=function(e){var t=te(e);return re(t)},oe=(0,f.createSelector)(te,J,(function(e,t){var r=("object"===P(e)?e:S.$q).type,n=re(e);switch(r){case S.Z7.NONE:return;case S.Z7.ABSOLUTE:return n;case S.Z7.RELATIVE:return(t+n)%360;default:return}})),ae=(0,f.createSelector)((function(e){var t;return null===(t=e.show.environment)||void 0===t||null===(t=t.indoor)||void 0===t||null===(t=t.room)||void 0===t?void 0:t.firstCorner}),(function(e){var t;return null===(t=e.show.environment)||void 0===t||null===(t=t.indoor)||void 0===t||null===(t=t.room)||void 0===t?void 0:t.secondCorner}),(function(e,t){return[e||[-S.f1.width/2,-S.f1.depth/2,0],t||[S.f1.width/2,S.f1.depth/2,S.f1.height]]})),ie=function(e){var t;return W(e)&&(null===(t=e.show.environment.indoor)||void 0===t||null===(t=t.room)||void 0===t?void 0:t.visible)},ce=(0,f.createSelector)($,(function(e){return e&&e.origin?new b.kb(e):void 0})),le=(0,f.createSelector)(ce,(function(e){return e?function(t){if(!(0,l.default)(t)){var r=j(t,3),n=r[0],o=r[1],a=r[2],i=j(e.toLonLat([n,o]),2);return{lon:i[0],lat:i[1],amsl:void 0,ahl:a}}}:void 0})),ue=(0,f.createSelector)(W,(function(e){return e?c.default:void 0})),se=(0,f.createSelector)(V,(function(e){return e.length})),fe=(0,f.createSelector)(V,(function(e){return e.map((function(e){var t=(0,i.Z)(e,"settings.trajectory");return(0,O.v_)(t)?t:void 0}))})),pe=d()(fe,le,v.iq,(function(e,t,r){if(void 0!==t){var n=e[r];return(0,O.v_)(n)?(0,O.Gv)(n,{includeControlPoints:!0}).map(t):void 0}}))({keySelector:v.iq}),de=(0,f.createSelector)(fe,(function(e){return e.map(O.L9)})),ye=(0,f.createSelector)(de,(function(e){return(0,w.JI)(e.flat())})),he=function(e,t){return t?e.map(t):Array.from({length:e.length}).fill(void 0)},me=(0,f.createSelector)(ye,le,(function(e,t){return t?e.map(t):[]})),ve=(0,f.createSelector)(fe,(function(e){return e.map(O.VV)})),ge=(0,f.createSelector)(ve,le,he),be=(0,f.createSelector)(ge,(function(e){var t=j((0,w.Az)(e.map((function(e){return[e.lon,e.lat]}))),2);return{lon:t[0],lat:t[1]}})),we=(0,f.createSelector)(v.Lx,ce,(function(e,t){return Array.isArray(e)&&t&&t.fromLonLat?e.map((function(e){return t.fromLonLat(e)})):void 0})),Ee=(0,f.createSelector)(fe,(function(e){return e.map(O.rP)})),Se=(0,f.createSelector)(Ee,le,he);function Oe(e){if(!(0,O.v_)(e))return 0;var t=e.points,r=void 0===t?[]:t;if(0===r.length)return 0;var n=r[0][1],o=function(e){var t=e[1];return(0,w.p)(t,n)},a=(0,s.Z)(r,o);return a?o(a):0}var xe=(0,f.createSelector)(fe,(function(e){return(0,u.Z)(e.map(Oe))||0})),Ae=(0,f.createSelector)(fe,(function(e){return(0,u.Z)(e.map(O.$M))||0})),je=(0,f.createSelector)(fe,(function(e){var t=(0,s.Z)(e,O.Dr);return t?(0,O.Dr)(t):0})),ke=(0,f.createSelector)(je,g.LU),Pe=(0,f.createSelector)(se,ke,Ae,H,(function(e,t,r,n){return"".concat(e," drones, ").concat(t,", max AHL ").concat(r.toFixed(1),"m")+(n?", yaw controlled":"")})),Ce=function(e){var t=e.show.progress;return"number"==typeof t?100*t:null},Te=function(e){return function(e){var t=xe(e),r=(0,i.Z)(e,"dialogs.geofenceSettings.horizontalMargin");return(0,m.r)(t,r)}(e)},Ie=function(e){return function(e){var t=Ae(e),r=(0,i.Z)(e,"dialogs.geofenceSettings.verticalMargin");return(0,m.T)(t,r)}(e)},Le=function(e){var t;return null!==(t=e.show.start.clock)&&void 0!==t?t:null},_e=(0,f.createSelector)((function(e){return e.show.data}),(function(e){return(e&&"object"===P(e.meta)?e.meta:null)||{}})),Ze=function(e){return e.show.start.method},Ne=function(e){var t=e.show.start,r=t.clock,n=t.timeOnClock,o=t.utcTime,a=(0,l.default)(r)?o:n;return(0,l.default)(a)||Number.isNaN(a)?null:a},Re=(0,f.createSelector)(Le,Ne,(function(e,t){return(0,l.default)(e)?t?(0,o.Z)((0,a.Z)(t)):void 0:e===h.T.MTC?t?(0,g.g)(t,{padHours:!0})+" MTC":void 0:(0,g.g)(t,{padHours:!0})+" on clock ".concat(e)})),De=(0,f.createSelector)(_e,se,(function(e,t){return e.title||"Show with ".concat(t," drones")})),Fe=function(e){return Boolean(e.show.data)},Me=function(e){return Boolean((0,i.Z)(e,"show.environment.outdoor.coordinateSystem.origin"))},Ue=function(e){return e.show.loading},Ge=(0,f.createSelector)(me,v.Lx,(function(e,t){return e&&(e=e.map((function(e){return[e.lon,e.lat]}))),!!(Array.isArray(t)&&t.length>0&&Array.isArray(e)&&e.length>0)&&(t=(0,w.MC)(t),e=(0,w.MC)(e),(0,y.ZP)(t,e))}));function Ve(e){var t=(0,n.Z)(new Date,"yyyy-MM-dd_HH-mm-ss"),r=N(e),o=r?r.lastIndexOf("/"):-1,a=r&&o>=0?r.slice(o+1):r,i=a?a.lastIndexOf("."):-1,c=a&&i>0?a.slice(0,i):a;return c&&c.length>0?"".concat(c,"_mapping_").concat(t,".txt"):"mapping_".concat(t,".txt")}},49374:(e,t,r)=>{"use strict";r.d(t,{$M:()=>p,Dr:()=>y,Gv:()=>d,L9:()=>u,VV:()=>s,rP:()=>f,v_:()=>h});r(50886),r(89730),r(60228),r(12826),r(34284),r(77049),r(21694),r(64043),r(7409),r(59749),r(86544),r(84254),r(752),r(76265);var n=r(27812),o=r(43774);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e){return(0,o.JI)(d(e))}function s(e){return h(e)?e.points[0][1]:void 0}function f(e){return h(e)?e.points[e.points.length-1][1]:void 0}function p(e){if(h(e)){var t=e.points,r=void 0===t?[]:t,o=(0,n.Z)(r,(function(e){return e[1][2]}));return o?o[1][2]:0}}function d(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).includeControlPoints,r=void 0!==t&&t;if(!h(e))return[];var n=e.points,o=void 0===n?[]:n;if(r){var a,l=[],u=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=c(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw a}}}}(o);try{for(u.s();!(a=u.n()).done;){var s=a.value;s.length>2&&Array.isArray(s[2])&&l.push.apply(l,i(s[2])),l.push(s[1])}}catch(e){u.e(e)}finally{u.f()}return l}return o.map((function(e){return e[1]}))}function y(e){if(!h(e))return 0;var t=e.points,r=e.takeoffTime;if(!(t.length>0))return 0;var n=t[t.length-1];return Array.isArray(n)&&n.length>1?n[0]+(r||0):void 0}var h=function(e){return"object"===a(e)&&1===e.version&&"object"===a(e.points)&&Array.isArray(e.points)&&e.points.length>0}},81545:(e,t,r)=>{"use strict";r.d(t,{c:()=>n.c,x:()=>a});var n=r(25161),o=r(39535);function a(e){return(0,n.c)({message:e,semantics:o.j.ERROR})}},37390:(e,t,r)=>{"use strict";r.d(t,{L:()=>v,p:()=>g});r(82243),r(79288),r(38077),r(60228),r(50886),r(97389),r(69373),r(59903),r(59749),r(86544),r(69358),r(81919),r(47522),r(99474),r(89730),r(12826),r(34284),r(77049),r(21694),r(64043),r(7409),r(84254),r(752),r(76265);var n=r(53420),o=r(81545),a=r(32246),i=r(79237),c=r(48829),l=r(69709),u=r(30263);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){var n;return n=function(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==s(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=function(e){return"number"==typeof e.amsl&&Number.isFinite(e.amsl)},v=function(e){var t=e.coords,r=e.uavIds;return function(e,o){var c=o(),l=function(e){return(0,a.ax)(c,e)},s=r.filter(l).map(l),f=s.length;if(!(f<=0)){var p=1===f?s[0].ahl:(0,n.Z)(s.filter(m),"amsl"),d=Number.isFinite(p)?p:0,y=1===f&&d?"ahl":"amsl",h=(0,i.EQ)(c);e((0,u.Lt)({coords:h(t),mode:y,altitude:Number(d.toFixed(1))}))}}},g=function(e){return function(t,r){var n=(0,c.ie)(e.coords),i=r(),s=(0,a.yi)(i);if(n)if(0===s.length)t((0,o.x)("Selection is empty"));else{var p=Number(e.altitude),d={lat:n[1],lon:n[0]};if(Number.isFinite(p))if("agl"===e.mode)d.agl=p;else if("ahl"===e.mode)d.ahl=p;else if("amsl"===e.mode)d.amsl=p;else if("relative"===e.mode&&Math.abs(p)>.01){var h=y({},d);d=function(e){var t=(0,a.ax)(i,e);return t&&t.amsl?y(y({},h),{},{amsl:t.amsl+p}):t&&t.ahl?y(y({},h),{},{ahl:t.ahl+p}):t&&t.agl?y(y({},h),{},{agl:t.agl+p}):void 0}}if("function"==typeof d){var m,v=f(s);try{for(v.s();!(m=v.n()).done;){var g=m.value,b=d(g);b&&(0,l.SB)([g],{target:b})}}catch(e){v.e(e)}finally{v.f()}}else(0,l.SB)(s,{target:d})}else t((0,o.x)("Coordinate format invalid"));t((0,u.z0)())}}},66047:(e,t,r)=>{"use strict";r.d(t,{D0:()=>f,or:()=>l,pH:()=>s,tf:()=>u});r(38077),r(60228),r(50886);var n=r(27601),o=r(95622),a=r(15883),i=r(15222),c=r(32246),l=function(e){return function(){e.length>0&&a.ZP.removeUAVsByIds(e)}},u=function(){return function(e,t){var r=(0,c.Hz)(t());r.length>0&&e(l(r))}},s=function(){return function(e,t){var r=(0,c.yi)(t()).filter(Boolean);r.length>0&&e(l(r))}},f=function(e){return(0,o.Z5)((Array.isArray(e)?e:[]).filter((function(e){return!(0,n.default)(e)})).map((function(e){return(0,i.TB)(e)})))}},32246:(e,t,r)=>{"use strict";r.d(t,{AC:()=>oe,BO:()=>G,BY:()=>Y,FS:()=>q,G7:()=>re,Hz:()=>ne,Ix:()=>N,JU:()=>Q,L8:()=>L,PY:()=>D,Q4:()=>ae,RO:()=>V,Rk:()=>_,T8:()=>se,Xe:()=>X,_n:()=>H,ax:()=>Z,d9:()=>le,fL:()=>te,gg:()=>$,jt:()=>ie,lI:()=>T,nK:()=>ce,qx:()=>J,uO:()=>R,vN:()=>ue,yi:()=>ee});r(38077),r(60228),r(50886),r(79288),r(36585),r(86466),r(21552),r(97389),r(89730),r(12826),r(34284),r(77049),r(21694),r(64043),r(7409),r(59749),r(86544),r(84254),r(752),r(76265);var n=r(15643),o=r(27601),a=r(3695),i=r(98697),c=r(97580),l=r(75879),u=r.n(l),s=r(22222),f=r(63714),p=r(93176),d=r(25476),y=r(28703),h=r(49374),m=r(73129),v=r(82578),g=r(13802),b=r(15222),w=r(82071),E=r(54384),S=r(43774),O=r(41137),x=r(31175);function A(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||P(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=P(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function P(e,t){if(e){if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var T=function(e){return e.uavs.order},I=function(e,t){return t},L=function(e){return e.uavs.byId},_=function(e,t){return e.uavs.byId[t]},Z=function(e,t){var r=_(e,t);return r?r.position:void 0},N=function(e,t){var r=_(e,t);return r?r.localPosition:void 0},R=function(e,t){var r=_(e,t);return r?r.heading:void 0},D=function(e){var t=X(e).map((function(t){return R(e,t)})).filter((function(e){return"number"==typeof e}));return(0,S.Pn)(t)},F=u()(p.G5,p.x_,I,(function(e,t,r){var n=e[r];if(void 0!==n)return t[n]}))({keySelector:I}),M=u()(p.G5,y.qh,I,(function(e,t,r){var n=e[r];if(void 0!==n)return t[n]}))({keySelector:I}),U=u()(p.G5,p.Es,I,(function(e,t,r){var n=e[r];if(void 0!==n)return t[n]}))({keySelector:I}),G=(u()(p.G5,y.HE,I,(function(e,t,r){var n=e[r];if(void 0!==n){var o=t[n];return(0,h.v_)(o)?(0,h.Gv)(o,{includeControlPoints:!0}):void 0}}))({keySelector:I}),u()(p.G5,y.HE,y.nH,I,(function(e,t,r,n){var o=e[n];if(void 0!==r&&void 0!==o){var a=t[o];return(0,h.v_)(a)?(0,h.Gv)(a,{includeControlPoints:!0}).map(r):void 0}}))({keySelector:I})),V=u()(p.G5,y.HE,y.zO,I,(function(e,t,r,n){var o=e[n];if(void 0!==r&&void 0!==o){var a=t[o];return(0,h.v_)(a)?(0,h.Gv)(a,{includeControlPoints:!0}).map(r):void 0}}))({keySelector:I}),B=u()(F,Z,(function(e,t){if(!(0,o.default)(e))return(0,o.default)(t)?Number.POSITIVE_INFINITY:(0,c.Sp)([e.lon,e.lat],[t.lon,t.lat])}))({keySelector:I}),W=u()(M,N,(function(e,t){if(!(0,o.default)(e))return(0,o.default)(t)?Number.POSITIVE_INFINITY:(0,S.p)(e,t)}))({keySelector:I}),z=function(e){var t,r=(0,p.eP)(e),n={},a=(0,y.rQ)(e)?W:B,i=k(r);try{for(i.s();!(t=i.n()).done;){var c=t.value;(0,o.default)(c)||!_(e,c)?n[c]=void 0:n[c]=a(e,c)}}catch(e){i.e(e)}finally{i.f()}return n},H=(0,s.createSelector)(z,d.eD,(function(e,t){return Object.entries(e).reduce((function(e,r){var n=j(r,2),o=n[0];return n[1]>t&&e.push(o),e}),[])})),Y=function(e){for(var t=z(e),r=-1,n=0,a=Object.values(t);n<a.length;n++){var i=a[n];!(0,o.default)(i)&&i>r&&(r=i)}return r<0?void 0:r},q=u()(U,R,(function(e,t){if(void 0!==e&&void 0!==t)return(e-t+540)%360-180}))({keySelector:I}),$=u()(_,(function(e){return(0,g.li)((e?e.light:0)||0)}))({keySelector:I}),K=function(e){return function(t){return T(t).filter((function(r){var n=_(t,r);return n&&n.age===e}))}},X=K(w.y.ACTIVE),Q=(0,s.createSelector)((function(e){var t,r={},n=k((0,p.eP)(e));try{for(n.s();!(t=n.n()).done;){var a=t.value;(0,o.default)(a)?r[a]=void 0:r[a]=q(e,a)}}catch(e){n.e(e)}finally{n.f()}return r}),d.sx,(function(e,t){return Object.entries(e).reduce((function(e,r){var n=j(r,2),a=n[0],i=n[1];return!(0,o.default)(i)&&Math.abs(i)>t&&e.push(a),e}),[])})),J=(0,s.createSelector)(p.eP,L,(function(e,t){return e.filter((function(e){var r;if((0,o.default)(e))return!1;var n=null===(r=t[e])||void 0===r?void 0:r.age;return(0,o.default)(n)||"gone"===n}))})),ee=(0,E.sw)(b.$7),te=(0,s.createSelector)(ee,(function(e){return 1===e.length?e[0]:void 0})),re=function(e){return function(e){var t=ee(e);return Array.isArray(t)?t.length:0}(e)<=5?ee(e):O.LZ},ne=K(w.y.GONE),oe=(0,s.createSelector)(p.G5,T,(function(e,t){return t.filter((function(t){return(0,o.default)(e[t])}))})),ae=(0,s.createSelector)(p.G5,p.Ho,L,(function(e,t,r){var o,a=[],c=k(t);try{for(c.s();!(o=c.n()).done;){var l=o.value,u=r[l];if(u){var s,f=k(u.errors);try{for(f.s();!(s=f.n()).done;){var p=s.value;p!==v.Z.ON_GROUND&&a.push([p,[l,e[l]||null]])}}catch(e){f.e(e)}finally{f.f()}}}}catch(e){c.e(e)}finally{c.f()}return(0,i.Z)(Object.entries((0,n.Z)(a,(function(e){return e[0]}))),(function(e){var t=j(e,2),r=t[0];t[1];return Number.parseInt(r,10)})).map((function(e){var t=j(e,2);return{code:t[0],uavIdsAndIndices:t[1].map((function(e){return e[1]}))}}))})),ie=(0,s.createSelector)(p.Ho,L,(function(e,t){var r,n,o,a=k(e);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(n=t[i],o=void 0,o=(n||{}).errors,Array.isArray(o)&&!(o.length<=0)&&(1!==o.length||o[0]!==v.Z.ON_GROUND))return!1}}catch(e){a.e(e)}finally{a.f()}return!0}));function ce(e){var t=-1;if(e.errors&&e.errors.length>0&&(t=(0,m.Vi)(e.errors))>=m.zb.WARNING)return(0,m.r4)(t);if(e.age===w.y.GONE)return f.q.OFF;if(e.age===w.y.INACTIVE)return f.q.WARNING;var r=Math.max.apply(Math,A(e.errors));return r===v.Z.RETURN_TO_HOME?f.q.RTH:r===v.Z.ON_GROUND?f.q.SUCCESS:t>=m.zb.INFO?(0,m.r4)(t):f.q.SUCCESS}function le(e){var t,r,n,o,a=0;if(e)if(e.errors&&e.errors.length>0){a=Math.max.apply(Math,A(e.errors));var i=(0,m.H0)(a);n=v.Z.abbreviate(a),o=a===v.Z.RETURN_TO_HOME?f.q.RTH:a===v.Z.ON_GROUND?f.q.SUCCESS:(0,m.r4)(i)}else e.position&&Math.abs(e.position.ahl)>=.3?(n="airborne",r="".concat(e.position.ahl.toFixed(2),"m"),o=f.q.SUCCESS):(n="ready",o=f.q.SUCCESS);else t=void 0,n="missing",o=f.q.WARNING;return o!==f.q.SUCCESS&&o!==f.q.INFO||(e.age===w.y.GONE?("ready"!==n&&a!==v.Z.ON_GROUND||(n="gone"),o=f.q.OFF):e.age===w.y.INACTIVE&&("ready"!==n&&a!==v.Z.ON_GROUND||(n="no telem"),o=f.q.WARNING)),e&&(t=ce(e)),{status:t,details:r||n,gone:!!e&&(e.age===w.y.GONE||e.age===w.y.INACTIVE),text:n,textSemantics:o,batteryStatus:e?e.battery:void 0}}var ue=function(){return(0,x.f)(_,le)},se=(0,s.createSelector)(T,L,(function(e,t){return(0,a.Z)(e,[function(e){return Math.max.apply(Math,A(t[e].errors.filter((function(e){return(0,m.H0)(e)>0}))))}],["desc"])}))},75531:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>kt,sm:()=>pt});r(64043),r(9873),r(89730),r(69358),r(752),r(56646),r(60228),r(21694),r(76265),r(19649),r(62506),r(36585),r(48324),r(76801),r(43843),r(73964),r(34338),r(5399),r(88052),r(12826),r(76034),r(30050),r(69373),r(59903),r(59749),r(86544),r(79288),r(84254),r(58373),r(66793),r(7629),r(77509),r(47522),r(34284),r(77049),r(7409),r(38077),r(81919),r(99474);var n=r(43402),o=r(77226),a=r(53416),i=r(63931),c=r.n(i),l=r(78864),u=r(58147),s=r.n(u),f=r(38840);function p(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var y=function(e){return{type:e}};function h(e,t){var r=y("ASYNC-RESUME");if(r.ids=(0,f.Z)(e),void 0!==t){r.values={};var n,o=p(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;void 0!==t[a]&&(r.values[a]=t[a])}}catch(e){o.e(e)}finally{o.f()}}return r}function m(e,t,r,n){var o=y("OBJ-CMD");return o.ids=e,o.command=t,void 0!==r&&(o.args=r),void 0!==n&&(o.kwds=n),o}function v(e,t,r){var n=y("PRM-SET");return n.ids=(0,f.Z)(e),n.name=String(t),n.value=r,n}var g=r(13802);function b(e){if("string"!=typeof e||e.includes("."))throw new Error(`Invalid extension name: ${e}`)}function w(e){if("string"!=typeof e||0===e.length)throw new Error(`Invalid object ID: ${e}`)}var E=r(90694);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){T(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function A(){A=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new L(n||[]);return o(i,"_invoke",{value:P(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,O=E&&E(E(_([])));O&&O!==r&&n.call(O,i)&&(w=O);var x=b.prototype=v.prototype=Object.create(w);function j(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==S(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function P(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=C(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function _(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(S(t)+" is not iterable")}return g.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},j(k.prototype),u(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new k(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},j(x),u(x,l,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=_,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:_(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I(n.key),n)}}function C(e,t,r){return t&&P(e.prototype,t),r&&P(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function T(e,t,r){return(t=I(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I(e){var t=function(e,t){if("object"!=S(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==S(t)?t:String(t)}function L(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function _(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){L(a,n,o,i,c,"next",e)}function c(e){L(a,n,o,i,c,"throw",e)}i(void 0)}))}}function Z(e,t,r){return N.apply(this,arguments)}function N(){return(N=_(A().mark((function e(t,r,n){var o,a;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(r),e.next=3,t.sendMessage({type:"EXT-SETCFG",ids:T({},r,n)});case 3:return o=e.sent,a=(0,g.b7)(o,r,{error:"Failed to retrieve configuration for extension: ".concat(r)}),e.abrupt("return",Boolean(a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,t){return D.apply(this,arguments)}function D(){return(D=_(A().mark((function e(t,r){var n,o;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(r),e.next=3,t.sendMessage({type:"EXT-RELOAD",ids:[r]});case 3:return n=e.sent,o=(0,g.b7)(n,r,{error:"Failed to reload extension: ".concat(r)}),e.abrupt("return",Boolean(o));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,t){return M.apply(this,arguments)}function M(){return(M=_(A().mark((function e(t,r){var n;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.startAsyncOperationForSingleId(r,{type:"UAV-RST"});case 3:e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(0),n=(0,E.VK)(e.t0),new Error("Failed to reset UAV ".concat(r,": ").concat(n));case 9:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function U(e,t){return G.apply(this,arguments)}function G(){return(G=_(A().mark((function e(t,r){return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendMessage({type:"X-DBG-RESP",data:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e,t){return B.apply(this,arguments)}function B(){return(B=_(A().mark((function e(t,r){var n,o,a,i,c;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.uavId,o=r.name,a=r.value,i=v(n,o,a),e.prev=2,e.next=5,t.startAsyncOperationForSingleId(n,i);case 5:e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(2),c=(0,E.VK)(e.t0),new Error("Failed to set parameter ".concat(o," on UAV ").concat(n,": ").concat(c));case 11:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}function W(e,t){return z.apply(this,arguments)}function z(){return(z=_(A().mark((function e(t,r){return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendMessage({type:"X-RTK-SOURCE",id:r});case 2:if("ACK-ACK"===e.sent.body.type){e.next=5;break}throw new Error("Failed to set new RTK correction source");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e,t){return Y.apply(this,arguments)}function Y(){return(Y=_(A().mark((function e(t,r){return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendMessage({type:"SHOW-SETCFG",configuration:r});case 2:if("ACK-ACK"===e.sent.body.type){e.next=5;break}throw new Error("Failed to set new show configuration on the server");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e,t){return $.apply(this,arguments)}function $(){return($=_(A().mark((function e(t,r){return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendMessage({type:"SHOW-SETLIGHTS",configuration:r});case 2:if("ACK-ACK"===e.sent.body.type){e.next=5;break}throw new Error("Failed to set new light configuration on the server");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e,t){return X.apply(this,arguments)}function X(){return(X=_(A().mark((function e(t,r){var n,o;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.accuracy,o=r.duration,e.next=3,t.sendMessage({type:"X-RTK-SURVEY",settings:{accuracy:n,duration:o}});case 3:if("ACK-ACK"===e.sent.body.type){e.next=6;break}throw new Error("Failed to start RTK survey on the server");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e,t,r){return J.apply(this,arguments)}function J(){return(J=_(A().mark((function e(t,r,n){var o,a;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.uavId,a=r.data,w(o),e.prev=2,e.next=5,t.sendCommandRequest({uavId:o,command:"__show_upload",kwds:{show:a}},x({timeout:300},n));case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(2),new Error((0,E.VK)(e.t0.message||e.t0,"Failed to upload show data to UAV ".concat(o)));case 10:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}var ee=C((function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),T(this,"_operations",{configureExtension:Z,reloadExtension:R,resetUAV:F,sendDebugMessage:U,setParameter:V,setRTKCorrectionsSource:W,setShowConfiguration:H,setShowLightConfiguration:q,startRTKSurvey:K,uploadDroneShow:Q});for(var n=function(){var e=j(a[o],2),n=e[0],i=e[1];r[n]=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return i.apply(void 0,[t].concat(r))}},o=0,a=Object.entries(this._operations);o<a.length;o++)n()})),te=(r(86466),r(16423)),re=r(85389),ne=r(98697),oe=r(34156);function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ce(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ce(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function le(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,se(n.key),n)}}function ue(e,t,r){return t&&le(e.prototype,t),r&&le(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function se(e){var t=function(e,t){if("object"!=ae(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ae(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ae(t)?t:String(t)}function fe(){fe=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==ae(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(ae(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function pe(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function de(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){pe(a,n,o,i,c,"next",e)}function c(e){pe(a,n,o,i,c,"throw",e)}i(void 0)}))}}function ye(e,t){return he.apply(this,arguments)}function he(){return(he=de(fe().mark((function e(t,r){var n,o;return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,"string"==typeof r&&(r=[r],n=!0),Array.isArray(r)&&!r.some((function(e){return"string"!=typeof e}))){e.next=4;break}throw new Error("Invalid ID array:"+JSON.stringify(r));case 4:return e.next=6,t.sendMessage({type:"BCN-PROPS",ids:r});case 6:if(o=e.sent,!n){e.next=11;break}return e.abrupt("return",(0,g.b7)(o,r[0],{key:"result",error:"Failed to retrieve basic properties of beacon: ".concat(r[0])}));case 11:return e.abrupt("return",o.body.result);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function me(e,t){return ve.apply(this,arguments)}function ve(){return(ve=de(fe().mark((function e(t,r){var n;return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(r),e.next=3,t.sendMessage({type:"EXT-CFG",ids:[r]});case 3:return n=e.sent,e.abrupt("return",(0,g.b7)(n,r,{error:"Failed to retrieve configuration for extension: ".concat(r)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(e){return be.apply(this,arguments)}function be(){return(be=de(fe().mark((function e(t){var r;return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendMessage({type:"LCN-INF"});case 2:return r=e.sent,e.abrupt("return",r.body&&"LCN-INF"===r.body.type&&"object"===ae(r.body.license)?r.body.license:void 0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(e,t,r){return Ee.apply(this,arguments)}function Ee(){return Ee=de(fe().mark((function e(t,r,n){var o,a,i,c=arguments;return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=(c.length>3&&void 0!==c[3]?c[3]:{}).onProgress,r&&"string"==typeof r){e.next=3;break}throw new Error("Expected non-empty UAV ID");case 3:if(n&&"string"==typeof n){e.next=5;break}throw new Error("Expected non-empty log ID");case 5:return e.prev=5,e.next=8,t.startAsyncOperationForSingleId(r,{type:"LOG-DATA",logId:n,uavId:r},{idProp:null,onProgress:o,single:!0});case 8:a=e.sent,e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(5),i=(0,E.VK)(e.t0),new Error("Failed to retrieve log ".concat(n," for UAV ").concat(r,": ").concat(i));case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e,null,[[5,11]])}))),Ee.apply(this,arguments)}function Se(e,t){return Oe.apply(this,arguments)}function Oe(){return(Oe=de(fe().mark((function e(t,r){var n,o;return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&"string"==typeof r){e.next=2;break}throw new Error("Expected non-empty UAV ID");case 2:return e.prev=2,e.next=5,t.startAsyncOperationForSingleId(r,{type:"LOG-INF"});case 5:n=e.sent,e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),o=(0,E.VK)(e.t0),new Error("Failed to retrieve log list for UAV ".concat(r,": ").concat(o));case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}function xe(e,t){return Ae.apply(this,arguments)}function Ae(){return(Ae=de(fe().mark((function e(t,r){var n,o;return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&"string"==typeof r){e.next=2;break}throw new Error("Expected non-empty UAV ID");case 2:return e.next=4,t.sendMessage({type:"UAV-PREFLT",ids:[r]});case 4:if(o=e.sent,"UAV-PREFLT"!==(null===(n=o.body)||void 0===n?void 0:n.type)||!o.body.result||!o.body.result[r]){e.next=7;break}return e.abrupt("return",o.body.result[r]);case 7:throw new Error("Unexpected response for preflight status query");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(e){return ke.apply(this,arguments)}function ke(){return(ke=de(fe().mark((function e(t){var r,n,o,a,i,c,l;return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendMessage({type:"X-RTK-LIST"});case 2:if(!(r=e.sent).body||"X-RTK-LIST"!==r.body.type){e.next=14;break}if(!((n=(0,te.Z)(r,"body.ids")||[]).length>0)){e.next=12;break}return e.next=8,t.sendMessage({type:"X-RTK-INF",ids:n});case 8:for(r=e.sent,o=(0,te.Z)(r,"body.preset")||{},a=0,i=Object.entries(o);a<i.length;a++)c=ie(i[a],2),l=c[0],c[1].id=l;return e.abrupt("return",(0,ne.Z)(Object.values(o),["title","id"]));case 12:e.next=15;break;case 14:return e.abrupt("return",[]);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pe(e){return Ce.apply(this,arguments)}function Ce(){return(Ce=de(fe().mark((function e(t){var r;return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendMessage({type:"X-RTK-SURVEY"});case 2:return r=e.sent,e.abrupt("return",r.body&&"X-RTK-SURVEY"===r.body.type&&r.body.settings?(0,re.default)(r.body.settings,["accuracy","duration"]):{});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Te(e){return Ie.apply(this,arguments)}function Ie(){return(Ie=de(fe().mark((function e(t){var r;return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendMessage({type:"X-RTK-STAT"});case 2:if(!(r=e.sent).body||"X-RTK-STAT"!==r.body.type){e.next=5;break}return e.abrupt("return",{antenna:r.body.antenna,messages:r.body.messages,cnr:r.body.cnr,survey:r.body.survey});case 5:throw new Error("Unexpected response for RTK subsystem status query");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(e){return _e.apply(this,arguments)}function _e(){return(_e=de(fe().mark((function e(t){var r;return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendMessage({type:"X-RTK-SOURCE"});case 2:if(!(r=e.sent).body||"X-RTK-SOURCE"!==r.body.type){e.next=5;break}return e.abrupt("return",(0,te.Z)(r,"body.id"));case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ze(e){return Ne.apply(this,arguments)}function Ne(){return(Ne=de(fe().mark((function e(t){var r,n;return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendMessage({type:"SHOW-CFG"});case 2:if(r=e.sent,!(n=(0,te.Z)(r,"body.configuration"))||"object"!==ae(n)){e.next=6;break}return e.abrupt("return",n);case 6:throw new Error("No show configuration returned");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Re(e,t){return De.apply(this,arguments)}function De(){return(De=de(fe().mark((function e(t,r){var n;return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(r)&&!(r.length<2)){e.next=2;break}throw new Error("Invalid position");case 2:return e.next=4,t.sendMessage({type:"WTH-AT",position:[Math.round(1e7*r[1]),Math.round(1e7*r[0])]});case 4:if(!(n=e.sent).body||"WTH-AT"!==n.body.type){e.next=7;break}return e.abrupt("return",n.body.weather);case 7:throw new Error("Unexpected response for weather query");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fe=r.n(oe)()(function(){var e=de(fe().mark((function e(t){var r;return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendMessage("EXT-LIST");case 2:return r=e.sent,e.abrupt("return",r.body);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{maxAge:5e3,promise:!0});function Me(e,t){return Ue.apply(this,arguments)}function Ue(){return(Ue=de(fe().mark((function e(t,r){var n;return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe(t);case 2:if(n=e.sent,!Array.isArray((0,te.Z)(n,"loaded"))){e.next=5;break}return e.abrupt("return",n.loaded.includes(r));case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ge=ue((function e(t){var r,n,o,a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,o={getBasicBeaconProperties:ye,getConfigurationOfExtension:me,getFlightLog:we,getFlightLogList:Se,getLicenseInformation:ge,getPreflightStatus:xe,getRTKPresets:je,getRTKStatus:Te,getRTKSurveySettings:Pe,getSelectedRTKPresetId:Le,getShowConfiguration:Ze,getWeatherInformation:Re,isExtensionLoaded:Me,listExtensions:Fe},(n=se(n="_queries"))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o;for(var i=function(){var e=ie(l[c],2),r=e[0],n=e[1];a[r]=function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return n.apply(void 0,[t].concat(r))}},c=0,l=Object.entries(this._queries);c<l.length;c++)i()}));function Ve(e){return Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ve(e)}function Be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(r),!0).forEach((function(t){Je(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ze(e){return function(e){if(Array.isArray(e))return $e(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||qe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function He(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||qe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=qe(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function qe(e,t){if(e){if("string"==typeof e)return $e(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$e(e,t):void 0}}function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ke(){Ke=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==Ve(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(Ve(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function Xe(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Qe(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Xe(a,n,o,i,c,"next",e)}function c(e){Xe(a,n,o,i,c,"throw",e)}i(void 0)}))}}function Je(e,t,r){return(t=rt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function et(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rt(n.key),n)}}function tt(e,t,r){return t&&et(e.prototype,t),r&&et(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rt(e){var t=function(e,t){if("object"!=Ve(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ve(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ve(t)?t:String(t)}function nt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ot(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&st(e,t)}function at(e){var t=ut();return function(){var r,n=ft(e);if(t){var o=ft(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Ve(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return it(e)}(this,r)}}function it(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ct(e){var t="function"==typeof Map?new Map:void 0;return ct=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return lt(e,arguments,ft(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),st(r,e)},ct(e)}function lt(e,t,r){return lt=ut()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&st(o,r.prototype),o},lt.apply(null,arguments)}function ut(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function st(e,t){return st=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},st(e,t)}function ft(e){return ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ft(e)}function pt(e){var t=e&&e.length>0?e.split(/\s+/):[""];return{command:t[0],args:t.slice(1),kwds:{}}}function dt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.Z)(e)||(e=y(e)),{"$fw.version":"1.0",id:(0,a.x0)(8),body:e}}var yt=function(e){ot(r,e);var t=at(r);function r(e){return nt(this,r),t.call(this,e||"Message hub emitter changed while waiting for a response")}return tt(r)}(ct(Error)),ht=function(e){ot(r,e);var t=at(r);function r(e){return nt(this,r),t.call(this,e||"No emitter was associated to the message hub")}return tt(r)}(ct(Error)),mt=function(e){ot(r,e);var t=at(r);function r(e){var n;return nt(this,r),(n=t.call(this,"Response to message ".concat(e," timed out"))).messageId=e,n.userMessage="Response timed out",n.hideStackTrace=!0,n.isTimeout=!0,n}return tt(r)}(ct(Error)),vt=function(e){ot(r,e);var t=at(r);function r(e){var n;return nt(this,r),(n=t.call(this)).receipt=e,n.message="Response to command ".concat(e," timed out"),n.userMessage="Response timed out",n.hideStackTrace=!0,n}return tt(r)}(ct(Error)),gt=function(e){ot(r,e);var t=at(r);function r(e){var n;return nt(this,r),(n=t.call(this,e)).message+=" (no response from target)",n.userMessage+=" (no response from target)",n.hideStackTrace=!0,n}return tt(r)}(vt),bt=function(e){ot(r,e);var t=at(r);function r(e){var n;return nt(this,r),(n=t.call(this,e)).message+=" (no response from server)",n.userMessage+=" (no response from server)",n.hideStackTrace=!0,n}return tt(r)}(vt),wt=function(e){ot(r,e);var t=at(r);function r(e,n){var o;return nt(this,r),(o=t.call(this,n||"Cancellation of operation ".concat(e," failed"))).receipt=e,o}return tt(r)}(ct(Error)),Et=function(){function e(t){var r=this;nt(this,e),Je(this,"cancel",Qe(Ke().mark((function e(){var t,n,o,a=arguments;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(a.length>0&&void 0!==a[0]?a[0]:{}).allowFailure,r._hub){e.next=3;break}throw new Error("This token is not activated yet");case 3:if(r._receipt){e.next=5;break}throw new Error("This token has already been used");case 5:return n=r._receipt,e.prev=6,e.next=9,r._hub._sendCancellationRequest([n]);case 9:o=e.sent,e.next=16;break;case 12:e.prev=12,e.t0=e.catch(6),o=[n];case 16:if(!(!t&&o&&Object.keys(o).length>0)){e.next=18;break}throw new wt(n);case 18:case"end":return e.stop()}}),e,null,[[6,12]])})))),this._hub=t,this._receipt=void 0}return tt(e,[{key:"_activate",value:function(e,t){if(this._hub!==e)throw new Error("Cancel token is owned by a different hub");if(!t)throw new Error("Receipt ID must not be empty");if(this._receipt)throw new Error("This token is already activated");this._receipt=t}}]),e}(),St=function(){function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.timeout,a=void 0===o?5:o,i=n.onTimeout;nt(this,e),Je(this,"_onTimeout",(function(){r.reject(new mt(r.messageId)),r._timeoutCallback&&r._timeoutCallback(r.receipt)})),this._messageId=t,this._deferred=c()(),a>0?(this._timeoutId=setTimeout(this._onTimeout,1e3*a),this._timeoutCallback=i):(this._timeoutId=void 0,this._timeoutCallback=void 0)}var t;return tt(e,[{key:"messageId",get:function(){return this._messageId}},{key:"resolve",value:function(e){this._clearTimeoutIfNeeded(),this._deferred.resolve(e)}},{key:"reject",value:function(e){this._clearTimeoutIfNeeded(),this._deferred.reject(e)}},{key:"wait",value:(t=Qe(Ke().mark((function e(){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._deferred.promise);case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"_clearTimeoutIfNeeded",value:function(){this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=void 0,this._timeoutCallback=void 0)}}]),e}(),Ot=function(){function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.timeout,a=void 0===o?5:o,i=n.onProgress,l=n.onResume,u=n.onTimeout;nt(this,e),Je(this,"processResponseMessageBody",(function(e){var t=e.error,n=e.result;r._clearTimeoutIfNeeded(),void 0!==t?r._deferred.reject(new Error(t)):void 0!==n?r._deferred.resolve(n):r._deferred.reject(new Error("Malformed response was provided by the server"))})),Je(this,"processStatusUpdateMessageBody",(function(e){var t=e.progress,n=e.suspended,o=void 0!==n&&n;r._restartTimeoutIfNeeded(),(t||o)&&r._progressCallback&&r._progressCallback({progress:t,suspended:o,resume:r._resumeCallback})})),Je(this,"_onTimeout",(function(){r._timeoutCallback&&r._timeoutCallback(r.receipt),r._deferred.reject(new bt(r.receipt))})),this._receipt=t,this._deferred=c()(),this._progressCallback=i,this._resumeCallback=l,a>0?(this._timeoutInMsec=1e3*a,this._timeoutId=setTimeout(this._onTimeout,this._timeoutInMsec),this._timeoutCallback=u):(this._timeoutInMsec=void 0,this._timeoutId=void 0,this._timeoutCallback=void 0)}var t;return tt(e,[{key:"receipt",get:function(){return this._receipt}},{key:"serverSideTimeout",value:function(){this._clearTimeoutIfNeeded(),this._deferred.reject(new gt(this.receipt))}},{key:"wait",value:(t=Qe(Ke().mark((function e(){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._deferred.promise);case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"_clearTimeoutIfNeeded",value:function(){void 0!==this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=void 0,this._timeoutCallback=void 0)}},{key:"_restartTimeoutIfNeeded",value:function(){this._clearTimeoutIfNeeded(),void 0!==this._timeoutInMsec&&(this._timeoutId=setTimeout(this._onTimeout,this._timeoutInMsec))}}]),e}(),xt=function(){function e(t){nt(this,e),this._hub=void 0,this._setHub(t)}return tt(e,[{key:"hub",get:function(){return this._hub}},{key:"_onAttachedToHub",value:function(){}},{key:"_onDetachingFromHub",value:function(){throw new Error("You may not detach this object from its message hub")}},{key:"_setHub",value:function(e){e!==this._hub&&(this._hub&&this._onDetachingFromHub(),this._hub=e,this._hub&&this._onAttachedToHub())}}]),e}(),At=function(e){ot(n,e);var t,r=at(n);function n(e){var t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60;return nt(this,n),Je(it(t=r.call(this,e)),"_onResponseTimedOut",function(){var e=Qe(Ke().mark((function e(r){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,t._hub._sendCancellationRequest([r]);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()),t.timeout=o,t._pendingOperations={},t._earlyResponses={},t}return tt(n,[{key:"_onAttachedToHub",value:function(){this._hub.registerNotificationHandlers({"ASYNC-RESP":this._onResponseReceived.bind(this),"ASYNC-ST":this._onStatusUpdateReceived.bind(this),"ASYNC-TIMEOUT":this._onTimeoutReceived.bind(this),"OBJ-CMD":this._onResponseReceived.bind(this)})}},{key:"cancelAll",value:function(e){for(var t=this._pendingOperations,r=0,n=Object.keys(t);r<n.length;r++){var o=t[n[r]];o&&o.reject(e)}this._pendingOperations={},this._earlyResponses={}}},{key:"handleMultiAsyncResponseForSingleId",value:(t=Qe(Ke().mark((function e(t,r){var n,o,a,i,c,l,u,s,f,p=this,d=arguments;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=(n=d.length>2&&void 0!==d[2]?d[2]:{}).cancelToken,a=n.noThrow,i=n.onProgress,c=n.timeout,l=(0,g.z$)(t,r),u=l.receipt,s=l.result,!u){e.next=23;break}return f=new Ot(u,{timeout:"number"==typeof c&&c>0?c:this.timeout,onProgress:i,onResume:function(e){return p._sendSingleResumeRequest(u,e)},onTimeout:this._onResponseTimedOut}),o&&o._activate(this._hub,u),this._earlyResponses[u]&&(f.processResponseMessageBody(this._earlyResponses[u]),delete this._earlyResponses[u]),this._pendingOperations[u]=f,e.prev=7,e.next=10,f.wait();case 10:return e.abrupt("return",e.sent);case 13:if(e.prev=13,e.t0=e.catch(7),!a){e.next=17;break}return e.abrupt("return",e.t0);case 17:throw e.t0;case 18:return e.prev=18,delete this._pendingOperations[u],e.finish(18);case 21:e.next=24;break;case 23:return e.abrupt("return",s);case 24:case"end":return e.stop()}}),e,this,[[7,13,18,21]])}))),function(e,r){return t.apply(this,arguments)})},{key:"_onResponseReceived",value:function(e){var t=e.body.id,r=this._pendingOperations[t];r?r.processResponseMessageBody(e.body):this._earlyResponses[t]=e.body}},{key:"_onStatusUpdateReceived",value:function(e){var t=e.body.id,r=this._pendingOperations[t];r&&r.processStatusUpdateMessageBody(e.body)}},{key:"_onTimeoutReceived",value:function(e){var t,r=Ye(e.body.ids);try{for(r.s();!(t=r.n()).done;){var n=t.value,o=this._pendingOperations[n];o&&o.serverSideTimeout()}}catch(e){r.e(e)}finally{r.f()}}},{key:"_sendSingleResumeRequest",value:function(e,t){return void 0!==t?this.hub._sendResumeRequest([e],Je({},e,t)):this.hub._sendResumeRequest([e])}}]),n}(xt),jt=function(e){ot(i,e);var t,r,n,o,a=at(i);function i(e){var t;return nt(this,i),(t=a.call(this,e))._subscriptions=new Map,t._subscriptionsOnServer=null,t._subscriptionUpdateInProgress=null,t}return tt(i,[{key:"requestSubscriptionUpdates",value:(o=Qe(Ke().mark((function e(){var t,r,n;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._hub){e.next=4;break}return this._subscriptionsOnServer=null,e.abrupt("return");case 4:if(this._hub.canSend()){e.next=7;break}return this._subscriptionsOnServer=null,e.abrupt("return");case 7:return e.prev=7,e.next=10,this._hub.sendMessage("DEV-LISTSUB");case 10:r=e.sent,e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(7),e.abrupt("return");case 17:if(n=null===(t=r)||void 0===t||null===(t=t.body)||void 0===t?void 0:t.paths,Array.isArray(n)){e.next=21;break}throw this._subscriptionsOnServer=null,new Error("DEV-LISTSUB expected to return an array of paths");case 21:return this._subscriptionsOnServer=new Set(n),e.next=24,this._updateSubscriptions();case 24:case"end":return e.stop()}}),e,this,[[7,13]])}))),function(){return o.apply(this,arguments)})},{key:"subscribe",value:(n=Qe(Ke().mark((function e(t,r){var n,o,a,i=this;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=!this._subscriptions.has(t))&&this._subscriptions.set(t,[]),(o=this._subscriptions.get(t)).push(r),e.prev=4,!n){e.next=8;break}return e.next=8,this._updateSubscriptions();case 8:e.next=16;break;case 10:throw e.prev=10,e.t0=e.catch(4),(a=o.indexOf(r))>=0&&o.splice(a,1),this._subscriptions.get(t)===o&&0===o.length&&this._subscriptions.delete(t),e.t0;case 16:return e.abrupt("return",(function(){return i.unsubscribe(t,r)}));case 17:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(e,t){return n.apply(this,arguments)})},{key:"unsubscribe",value:(r=Qe(Ke().mark((function e(t,r){var n,o;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._subscriptions.has(t)){e.next=2;break}return e.abrupt("return");case 2:if(n=this._subscriptions.get(t),!((o=n.indexOf(r))>=0)){e.next=9;break}return n.splice(o,1),0===n.length&&this._subscriptions.delete(t),e.next=9,this._updateSubscriptions();case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"_onAttachedToHub",value:function(){this._hub&&(this._hub.registerNotificationHandlers({"DEV-INF":this._onDeviceTreeNodeValuesChanged.bind(this)}),this.requestSubscriptionUpdates())}},{key:"_onDeviceTreeNodeValuesChanged",value:function(e){for(var t=0,r=Object.entries(e.body.values);t<r.length;t++){var n=He(r[t],2),o=n[0],a=n[1];this._handleUpdatedValueOfDeviceTreeNode(o,a)}}},{key:"_handleUpdatedValueOfDeviceTreeNode",value:function(e,t){var r=this._subscriptions.get(e);if(r){var n,o=Ye(r);try{for(o.s();!(n=o.n()).done;){(0,n.value)(t)}}catch(e){o.e(e)}finally{o.f()}}}},{key:"_updateSubscriptions",value:(t=Qe(Ke().mark((function e(){var t,r,n,o,a,i,l,u,s,f,p,d,y,h,m,v,g,b,w,E,S,O,x,A=this;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._subscriptionUpdateInProgress){e.next=6;break}return e.next=3,this._subscriptionUpdateInProgress.promise;case 3:return e.next=5,this._updateSubscriptions();case 5:return e.abrupt("return");case 6:if(null!==this._subscriptionsOnServer){e.next=9;break}return e.abrupt("return");case 9:t=[],r=[],n=!1,o=Ye(this._subscriptions.keys());try{for(o.s();!(a=o.n()).done;)i=a.value,this._subscriptionsOnServer.has(i)||t.push(i)}catch(e){o.e(e)}finally{o.f()}l=Ye(this._subscriptionsOnServer.values(O));try{for(l.s();!(u=l.n()).done;)s=u.value,this._subscriptions.has(s)||r.push(s)}catch(e){l.e(e)}finally{l.f()}if(0!==r.length||0!==t.length){e.next=18;break}return e.abrupt("return");case 18:if(this._hub){e.next=21;break}return e.abrupt("return");case 21:if(this._subscriptionUpdateInProgress=c()(),!(r.length>0)){e.next=28;break}return e.next=25,this._hub.sendMessage({type:"DEV-UNSUB",paths:r});case 25:null!=(d=e.sent)&&null!==(f=d.body)&&void 0!==f&&f.error&&(n=!0),null!=d&&null!==(p=d.body)&&void 0!==p&&p.success&&(y=this._subscriptionsOnServer).deleteAll.apply(y,ze(d.body.success));case 28:if(!(t.length>0)){e.next=39;break}return e.next=31,this._hub.sendMessage({type:"DEV-SUB",paths:t,lazy:!0});case 31:if(v=e.sent,null!==(h=v)&&void 0!==h&&null!==(h=h.body)&&void 0!==h&&h.error&&(n=!0),null===(m=v)||void 0===m||null===(m=m.body)||void 0===m||!m.success){e.next=39;break}return(g=this._subscriptionsOnServer).addAll.apply(g,ze(v.body.success)),e.next=37,this._hub.sendMessage({type:"DEV-INF",paths:null===(b=v)||void 0===b||null===(b=b.body)||void 0===b?void 0:b.success});case 37:for(v=e.sent,w=0,E=Object.entries(v.body.values);w<E.length;w++)S=He(E[w],2),O=S[0],x=S[1],this._handleUpdatedValueOfDeviceTreeNode(O,x);case 39:n&&setTimeout((function(){return A._updateSubscriptions()}),5e3),this._subscriptionUpdateInProgress.resolve(),this._subscriptionUpdateInProgress=null;case 42:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),i}(xt),kt=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;nt(this,e),this.emitter=t,this.timeout=r,this._notificationHandlers={},this._pendingResponses={},this._waitUntilReadyDeferred=void 0,this._executor=void 0,this._query=void 0,this._onMessageTimedOut=this._onMessageTimedOut.bind(this),this._asyncOperationManager=new At(this),this._deviceTreeSubscriptionManager=new jt(this)}var t,r,o,a,i,u,p,d;return tt(e,[{key:"emitter",get:function(){return this._emitter},set:function(e){if(this._emitter!==e){var t=new yt;this._asyncOperationManager.cancelAll(t),this.cancelAllPendingResponses(),this._emitter=e,this._emitter&&this._waitUntilReadyDeferred&&(this._waitUntilReadyDeferred.resolve(),this._waitUntilReadyDeferred=void 0)}}},{key:"execute",get:function(){return this._executor||(this._executor=new ee(this)),this._executor}},{key:"query",get:function(){return this._query||(this._query=new Ge(this)),this._query}},{key:"cancelAllPendingResponses",value:function(){for(var e=this._pendingResponses,t=0,r=Object.keys(e);t<r.length;t++){var n=e[r[t]];n&&n.reject(new yt)}}},{key:"canSend",value:function(){return Boolean(this._emitter)}},{key:"createCancelToken",value:function(){return new Et(this)}},{key:"processIncomingMessage",value:function(e){var t=e.refs;if(t){var r=this._pendingResponses[t];r&&r.resolve(e)}else{var n=e.body?e.body.type:void 0,o=this._notificationHandlers[n];if(o){var a,i=Ye(o);try{for(i.s();!(a=i.n()).done;){(0,a.value)(e)}}catch(e){i.e(e)}finally{i.f()}}}}},{key:"registerNotificationHandler",value:function(e,t){(0,n.Z)(this._notificationHandlers,e)||(this._notificationHandlers[e]=[]),this._notificationHandlers[e].push(t)}},{key:"registerNotificationHandlers",value:function(e){for(var t=0,r=Object.keys(e);t<r.length;t++){var n=r[t];this.registerNotificationHandler(n,e[n])}}},{key:"unregisterNotificationHandler",value:function(e,t){if(!(0,n.Z)(this._notificationHandlers,e)||!this._notificationHandlers[e].includes(t))throw new Error("Unable to unregister handler from ".concat(e,". Handler doesn\u2019t exist."));this._notificationHandlers[e].splice(this._notificationHandlers[e].indexOf(t))}},{key:"unregisterNotificationHandlers",value:function(e){for(var t=0,r=Object.keys(e);t<r.length;t++){var n=r[t];this.unregisterNotificationHandler(n,e[n])}}},{key:"sendCommandRequest",value:(d=Qe(Ke().mark((function e(t,r){var n,o,a,i,c,l;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.uavId,o=t.command,a=t.args,i=t.kwds,c=m([n],o,a,i),e.next=4,this.sendMessage(c);case 4:return l=e.sent,e.abrupt("return",this._asyncOperationManager.handleMultiAsyncResponseForSingleId(l,n,r));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return d.apply(this,arguments)})},{key:"sendMessage",value:(p=Qe(Ke().mark((function e(){var t,r,n,o,a=arguments;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:{},this._emitter){e.next=4;break}throw new ht;case 4:return r=dt(t),n=r.id,o=new St(n,{timeout:this.timeout,onTimeout:this._onMessageTimedOut}),this._emitter("fw",r),this._pendingResponses[n]=o,e.prev=9,e.next=12,o.wait();case 12:return e.abrupt("return",e.sent);case 13:return e.prev=13,delete this._pendingResponses[r.id],e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[9,,13,16]])}))),function(){return p.apply(this,arguments)})},{key:"sendNotification",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._emitter&&this._emitter("fw",dt(e))}},{key:"subscribe",value:(u=Qe(Ke().mark((function e(t,r){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._deviceTreeSubscriptionManager.subscribe(t,r));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return u.apply(this,arguments)})},{key:"startAsyncOperation",value:(i=Qe(Ke().mark((function e(t){var r,n;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.type){e.next=3;break}throw new Error("Message must have a type");case 3:return e.next=5,this.sendMessage(t);case 5:return n=e.sent,e.abrupt("return",this._processMultiAsyncOperationResponse(n,r));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"startAsyncOperationForSingleId",value:(a=Qe(Ke().mark((function e(t,r){var n,o,a,i,c,l,u,s,f,p,d,y,h,m,v,g=arguments;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=g.length>2&&void 0!==g[2]?g[2]:{},o=r.ids,a=r.type,i=n.idProp,c=n.onProgress,l=n.single,u=void 0!==l&&l,a){e.next=5;break}throw new Error("Message must have a type");case 5:if(!o||Array.isArray(o)){e.next=7;break}throw new Error("Message must not have an ids key");case 7:return w(t),null!==i&&(r[i||(u?"id":"ids")]=[t]),e.next=11,this.sendMessage(r);case 11:if(s=e.sent,u){for(f=We({},s),p=0,d=["error","result","receipt"];p<d.length;p++)y=d[p],Object.prototype.hasOwnProperty.call(s.body,y)&&(f.body[y]=Je({},t,s.body[y]));s=f}return h=c?u?function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return c.apply(void 0,r)}:c:void 0,e.next=16,this._processMultiAsyncOperationResponse(s,a,{onProgress:h});case 16:if(m=e.sent,!Object.prototype.hasOwnProperty.call(m,t)){e.next=26;break}if(!((v=m[t])instanceof Error)){e.next=23;break}throw v;case 23:return e.abrupt("return",v);case 24:e.next=27;break;case 26:throw new Error("Server did not return a response for ID ".concat(t));case 27:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"waitUntilReady",value:function(e){return void 0!==this._emitter?Promise.resolve():(void 0===this._waitUntilReadyDeferred&&(this._waitUntilReadyDeferred=c()()),e&&e>0?s()(this._waitUntilReadyDeferred.promise,e):this._waitUntilReadyDeferred.promise)}},{key:"_onMessageTimedOut",value:function(e){}},{key:"_processMultiAsyncOperationResponse",value:(o=Qe(Ke().mark((function e(t,r){var n,o,a,i,c,u,s,f,p,d,y,h,m=this,v=arguments;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(v.length>2&&void 0!==v[2]?v[2]:{}).onProgress,t){e.next=5;break}throw new Error("Response should not be empty");case 5:if(t.body){e.next=9;break}throw new Error("Response has no body");case 9:if("ACK-NAK"!==t.body.type){e.next=13;break}throw new Error("Execution rejected by server; reason: ".concat(t.body.reason||"unknown"));case 13:if(t.body.type===r){e.next=17;break}throw new Error("Response has an unexpected type: ".concat(t.body.type,", expected ").concat(r));case 17:for(o=t.body,a=o.error,i=o.result,c=o.receipt,u=We({},i),s=0,f=Object.keys(a||[]);s<f.length;s++)p=f[s],u[p]=new Error(String(a[p]));d=Ke().mark((function e(){var r;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=h[y];try{u[r]=m._asyncOperationManager.handleMultiAsyncResponseForSingleId(t,r,{onProgress:function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return n.apply(void 0,[r].concat(t))},noThrow:!0})}catch(e){u[r]=e}case 2:case"end":return e.stop()}}),e)})),y=0,h=Object.keys(c||[]);case 23:if(!(y<h.length)){e.next=28;break}return e.delegateYield(d(),"t0",25);case 25:y++,e.next=23;break;case 28:return e.abrupt("return",(0,l.Z)(u));case 29:case"end":return e.stop()}}),e)}))),function(e,t){return o.apply(this,arguments)})},{key:"_sendCancellationRequest",value:(r=Qe(Ke().mark((function e(t){var r,n,o,a,i;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t,l=void 0,(l=y("ASYNC-CANCEL")).ids=(0,f.Z)(c),r=l,e.next=3,this.sendMessage(r);case 3:if(n=e.sent,o=(0,g.Sz)(n),a=o.body,!((i=a.error)&&Object.keys(i).length>0)){e.next=10;break}return e.abrupt("return",i);case 10:return e.abrupt("return",{});case 11:case"end":return e.stop()}var c,l}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"_sendResumeRequest",value:(t=Qe(Ke().mark((function e(t,r){var n,o,a,i,c;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h(t,r),e.next=3,this.sendMessage(n);case 3:if(o=e.sent,a=(0,g.Sz)(o),i=a.body,!((c=i.error)&&Object.keys(c).length>0)){e.next=10;break}return e.abrupt("return",c);case 10:return e.abrupt("return",{});case 11:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),e}()},13802:(e,t,r)=>{"use strict";r.d(t,{Sz:()=>s,b7:()=>p,li:()=>l,sR:()=>c,z$:()=>f});r(59749),r(86544),r(60228),r(84254),r(752),r(21694),r(76265);var n=r(6767),o=r.n(n),a=r(16423);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function c(e){var t=(63488&e)>>11,r=(2016&e)>>5,n=31&e;return(t<<3)+(t>>2)<<16|(r<<2)+(r>>4)<<8|(n<<3)+(n>>2)}function l(e){return o()(c(e||0)).string()}var u={"LOG-DATA":!0,"LOG-INF":!0,"OBJ-CMD":!0,"PRM-GET":!0,"PRM-SET":!0,"UAV-CALIB":!0,"UAV-FLY":!0,"UAV-HALT":!0,"UAV-HOVER":!0,"UAV-LAND":!0,"UAV-MOTOR":!0,"UAV-RST":!0,"UAV-RTH":!0,"UAV-SIGNAL":!0,"UAV-TAKEOFF":!0,"UAV-TEST":!0,"UAV-WAKEUP":!0};function s(e){var t=(e||{}).body,r=(t||{}).type;if(!r)throw new Error("Received message has no type");if("ACK-NAK"===r)throw new Error(t.reason||"ACK-NAK received; no reason given");return e}function f(e,t){var r=s(e).body,n=r.type;if(u[n]){var o=r.error,a=r.receipt,i=r.result;if(o&&void 0!==o[t])throw new Error(r.error[t]||"Failed to execute command");if(i&&void 0!==i[t])return{result:i[t]};if(a&&void 0!==a[t])return{receipt:a[t]};throw new Error("Server did not provide a response or receipt for the command")}throw new Error("".concat(n," messages do not contain receipts"))}function p(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=(0,a.Z)(e,"body.error");if("object"===i(n)&&void 0!==n[t]){if("string"==typeof n[t])throw new TypeError(n[t]);var o=r.error;throw new Error(o||"Failed to retrieve result for ID ".concat(t," from response"))}var c=r.key,l=void 0===c?"status":c,u=(0,a.Z)(e,"body."+l);if("object"===i(u)&&void 0!==u[t])return u[t];throw new Error("No result for ID ".concat(t," but no error either; this should not have happened."))}},38305:(e,t,r)=>{"use strict";r.d(t,{Z:()=>Z});r(89730),r(60228),r(12826),r(34284),r(77049),r(21694),r(64043),r(7409),r(59749),r(86544),r(84254),r(752),r(76265);var n=r(79697),o=r(86706),a=(r(99211),r(28607),r(95194),r(36664),r(55980),r(79943),r(96089),r(18539),r(48690),r(54302),r(1274),r(45385),r(85552),r(31803),r(91565),r(67987),r(49365),r(80677),r(18118),r(41165),r(71522),r(79976),r(4797),r(7300),r(93356),r(62533),r(99724),r(99901),r(48324),r(34338),r(73964),r(58373),r(66793),r(7629),r(77509),r(88052),r(47522),r(5399),r(52300));function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function c(){c=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},l=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function p(e,t,r,n){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),c=new L(n||[]);return o(i,"_invoke",{value:P(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var y="suspendedStart",h="suspendedYield",m="executing",v="completed",g={};function b(){}function w(){}function E(){}var S={};f(S,l,(function(){return this}));var O=Object.getPrototypeOf,x=O&&O(O(_([])));x&&x!==r&&n.call(x,l)&&(S=x);var A=E.prototype=b.prototype=Object.create(S);function j(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(o,a,c,l){var u=d(e[o],e,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==i(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,c,l)}),(function(e){r("throw",e,c,l)})):t.resolve(f).then((function(e){s.value=e,c(s)}),(function(e){return r("throw",e,c,l)}))}l(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function P(t,r,n){var o=y;return function(a,i){if(o===m)throw new Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=C(c,n);if(l){if(l===g)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===y)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var u=d(t,r,n);if("normal"===u.type){if(o=n.done?v:h,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=v,n.method="throw",n.arg=u.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function _(t){if(t||""===t){var r=t[l];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(i(t)+" is not iterable")}return w.prototype=E,o(A,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:w,configurable:!0}),w.displayName=f(E,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,s,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},j(k.prototype),f(k.prototype,u,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new k(p(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},j(A),f(A,s,"Generator"),f(A,l,(function(){return this})),f(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=_,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:_(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function l(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){l(a,n,o,i,c,"next",e)}function c(e){l(a,n,o,i,c,"throw",e)}i(void 0)}))}}function s(e){var t,r,n,o,a,i=e.length;for(t="",r=0;r<i;)switch((n=e[r++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=String.fromCharCode(n);break;case 12:case 13:o=e[r++],t+=String.fromCharCode((31&n)<<6|63&o);break;case 14:o=e[r++],a=e[r++],t+=String.fromCharCode((15&n)<<12|(63&o)<<6|63&a)}return t}function f(e){for(var t=[],r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t.push(n):n<2048?t.push(192|n>>6,128|63&n):n<55296||n>=57344?t.push(224|n>>12,128|n>>6&63,128|63&n):(r++,n=65536+((1023&n)<<10|1023&e.charCodeAt(r)),t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return new Uint8Array(t)}function p(){return(p=u(c().mark((function e(t,r){var n,o,i,l,u,p,d;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(t||{}).data){e.next=3;break}return e.abrupt("return");case 3:for(i=a.DS.toUint8Array(n),o=0;o<i.length;o++)i[o]^=85;if(0!==(l=s(i)).length){e.next=8;break}return e.abrupt("return");case 8:if(0!==(u=l.indexOf(" "))){e.next=13;break}p="err Invalid command",e.next=22;break;case 13:if(!(u<0)){e.next=19;break}return e.next=16,y(l);case 16:p=e.sent,e.next=22;break;case 19:return e.next=21,y(l.slice(0,u),l.slice(u+1));case 21:p=e.sent;case 22:if(!r){e.next=29;break}for(d=f(p),o=0;o<d.length;o++)d[o]^=85;return e.next=27,r(a.DS.fromUint8Array(d));case 27:e.next=30;break;case 29:case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d={};function y(e,t){return h.apply(this,arguments)}function h(){return(h=u(c().mark((function e(t,r){var n,o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d[t],a=!1,e.prev=2,!n){e.next=9;break}return e.next=6,n(r);case 6:o=e.sent,e.next=10;break;case 9:throw new Error("no such command");case 10:a=!0,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),o=e.t0.toString();case 16:return e.prev=16,o=JSON.stringify(o),e.finish(16);case 19:return e.abrupt("return","".concat(a?"ok":"err"," ").concat(o));case 20:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})))).apply(this,arguments)}var m=r(75531),v=r(50913),g=r(92517),b=r(72047),w=r(66299),E=r(71936);var S=r(80684),O=r(81545),x=r(49998),A=r(39535);function j(e){switch((e||"").toLowerCase()){case x.zb.ERROR:case x.zb.CRITICAL:return A.j.ERROR;case x.zb.WARNING:return A.j.WARNING;case x.zb.INFO:return A.j.INFO;default:return A.j.DEFAULT}}A.j.SUCCESS,A.j.ERROR,A.j.WARNING,A.j.INFO,A.j.DEFAULT;var k=r(15883),P=r(90855);function C(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var I=P.ZP.dispatch,L=P.ZP.getState,_=new m.ZP;_.registerNotificationHandlers({"BCN-INF":function(e){return(0,v.AP)(e.body,I,L)},"CLK-INF":function(e){return(0,g.D)(e.body,I)},"CONN-DEL":function(e){return(0,w.L)(e.body,I)},"CONN-INF":function(e){return(0,w.v)(e.body,I)},"DOCK-INF":function(e){return(0,b.D)(e.body,I)},"OBJ-DEL":function(e){return function(e,t){var r=e.ids;Array.isArray(r)&&0!==r.length&&t((0,E.y)(r))}(e.body,I)},"SYS-CLOSE":function(e){e.body&&e.body.reason&&I((0,O.x)(e.body.reason))},"SYS-MSG":function(e){e.body&&Array.isArray(e.body.items)&&(0,o.dC)((function(){var t,r=C(e.body.items);try{for(r.s();!(t=r.n()).done;){var o=t.value;(0,n.Z)(o.sender)?I((0,O.c)({message:o.message,semantics:j(o.severity)})):I((0,S.WT)({message:o.message,uavId:o.sender,severity:o.severity}))}}catch(e){r.e(e)}finally{r.f()}}))},"UAV-INF":function(e){return k.ZP.handleUAVInformationMessage(e.body,I)},"X-DBG-REQ":function(e){return function(e,t){return p.apply(this,arguments)}(e.body,_.execute.sendDebugMessage)}});const Z=_},50913:(e,t,r)=>{"use strict";r.d(t,{AP:()=>s,Yc:()=>l,nC:()=>f});r(34284);var n=r(27601),o=r(49360),a=r(48392),i=r(8856),c=r(48362),l=function(e){return e&&Array.isArray(e)&&(0!==e[0]||0!==e[1])?{lat:e[0]/1e7,lon:e[1]/1e7,amsl:(0,n.default)(e[2])?null:e[2]/1e3,ahl:(0,n.default)(e[3])?null:e[3]/1e3,agl:(0,n.default)(e[4])?null:e[4]/1e3}:null},u=function(e){return e&&"number"==typeof e?e/10:null};function s(e,t){var r=(0,a.Z)(e.status,(function(e){var t=e.id,r=e.active,n=e.heading,a=e.position;return(0,i.Z)({id:t,position:l(a),heading:u(n),active:r},o.Z)}));t((0,c.y3)(r))}function f(e,t){var r=(0,a.Z)(e.result,(function(e){var t=e.id,r=e.name;return(0,i.Z)({id:t,name:r},o.Z)}));t((0,c.y3)(r))}},92517:(e,t,r)=>{"use strict";r.d(t,{D:()=>l});var n=r(49360),o=r(48392),a=r(8856),i=r(10244),c=r(33769);function l(e,t){var r=(0,o.Z)(e.status,(function(e){return(0,a.Z)({id:e.id,epoch:(0,c.eJ)(e.epoch),referenceTime:e.retrievedAt,running:e.running,ticks:e.ticks,ticksPerSecond:e.ticksPerSecond||1},n.Z)}));t((0,i.ne)(r))}},66299:(e,t,r)=>{"use strict";r.d(t,{L:()=>c,v:()=>l});r(59749),r(86544);var n=r(49360),o=r(48392),a=r(8856),i=r(21424);function c(e,t){t((0,i.XH)(e.ids))}function l(e,t){var r=(0,o.Z)(e.status,(function(e){return(0,a.Z)({id:e.id,name:e.description,state:e.status,stateChangedAt:e.timestamp},n.Z)}));t((0,i.c$)(r))}},72047:(e,t,r)=>{"use strict";r.d(t,{D:()=>l});var n=r(49360),o=r(48392),a=r(8856),i=r(76254),c=r(50913);function l(e,t){var r=(0,o.Z)(e.status,(function(e){var t=e.id,r=e.position;return(0,a.Z)({id:t,position:(0,c.Yc)(r)},n.Z)}));t((0,i.oL)(r))}},70072:(e,t,r)=>{"use strict";r.d(t,{VR:()=>E,aY:()=>S,cu:()=>O});r(50886),r(89730),r(60228),r(47522),r(59749),r(86544),r(84254),r(752),r(21694),r(76265),r(77049),r(12826),r(34284),r(64043),r(7409);var n=r(79697),o=r(27601),a=r(63790),i=r(97973),c=r(71817),l=r(20858),u=r(1227),s=r(27799),f=r(48829),p=r(43774),d=r(86686),y=r(15222);function h(e,t){return w(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||g(e,t)||v()}function m(e){return w(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||g(e)||v()}function v(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w(e){if(Array.isArray(e))return e}function E(e){if((0,o.default)(e))return!1;var t=e.getId();return(0,y.gw)(t)||(0,y.fm)(t)||(0,y.U1)(t)}function S(e){var t=e.getGeometry(),r=t.getType(),n=t.getCoordinates();switch(r){case"Point":return[{type:d.Te.POINTS,filled:!1,points:[(0,f.T$)(n)]}];case"Circle":var o=t.getCenter();return[{type:d.Te.CIRCLE,points:[(0,f.T$)(o),(0,f.T$)([o[0]+t.getRadius(),o[1]])]}];case"LineString":return[{type:d.Te.LINE_STRING,filled:!1,points:n.map((0,a.Z)(f.T$))}];case"Polygon":var c=m(n.map((function(e){return e.map((0,a.Z)(f.T$)).slice(0,-1)}))),l=c[0],u=c.slice(1).reduce((function(e,t){return(0,i.Z)(e,{type:"Feature",geometry:{type:"Polygon",coordinates:[t]}})}),{type:"Feature",geometry:{type:"Polygon",coordinates:[l]}});switch(u.geometry.type){case"Polygon":var s=m(u.geometry.coordinates),p=s[0],y=s.slice(1);return[{type:d.Te.POLYGON,points:p,holes:y}];case"MultiPolygon":return u.geometry.coordinates.map((function(e){var t=m(e),r=t[0],n=t.slice(1);return{type:d.Te.POLYGON,points:r,holes:n}}));default:throw new Error("Unexpected geometry type: ".concat({}.geometry.type))}default:throw new Error("Unsupported feature geometry type: "+r)}}function O(e,t){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=o.event,i=o.type,f={},d=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=g(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}(e);try{var v=function(){var e=r.value,n=e.getId(),o=(0,y.K$)(n);if(o){var u=m(S(e)),d=u[0],v=u.slice(1);return f[o]=d,v.forEach((function(e){t((0,l.eq)(o,e))})),0}var g=(0,y.d$)(n);if(g){if(g===y.R||g===y.R+"$y"){var b=h(S(e),1)[0],w=g===y.R+"$y",E=e.getGeometry().getCoordinates(),O=b.points[0],x=90-(0,p.Ux)(Math.atan2(E[1][1]-E[0][1],E[1][0]-E[0][0]));w&&(x+=90),t((0,c.KH)({position:O,angle:x}))}return 0}(0,y.ZA)(n)===y.Y9&&"transform"===i&&("move"===a.subType&&a.delta?t((0,s.Hk)(a.delta)):"rotate"===a.subType&&a.angleDelta&&a.origin&&t((0,s.OA)((0,p.Ux)(-a.angleDelta),a.origin)))};for(d.s();!(r=d.n()).done;)v()}catch(e){d.e(e)}finally{d.f()}(0,n.Z)(f)||t((0,u.TO)(f))}},79237:(e,t,r)=>{"use strict";r.d(t,{EQ:()=>S,FV:()=>j,VE:()=>O,uR:()=>x,x6:()=>E});r(64043),r(57267),r(28436),r(59749),r(86544),r(60228),r(84254),r(752),r(21694),r(76265),r(89730),r(12826),r(34284),r(77049),r(7409),r(69373),r(59903),r(79288);var n=r(11628),o=r.n(n),a=r(22222),i=r(35122),c=r(42871),l=r(48829),u=r(24652);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t,r){var n;return n=function(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==s(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var y=/\.?0+([\xb0\u2032\u2033'"]?)$/,h=(0,l.Zy)({digits:2,unit:c.st}),m=(0,l.YX)({digits:2,unit:c.st}),v=(0,l.Zy)({digits:7,reverse:!0,separator:" ",unit:"\xb0"}),g=f(f(f(f(f(f({},i.mY.DEGREES,(function(e){var t=p(e,2),r=t[0],n=t[1];return o()(r,n,!0).format("Xdd",{decimalPlaces:7})})),i.mY.DEGREES_MINUTES,(function(e){var t=p(e,2),r=t[0],n=t[1];return o()(r,n,!0).format("XDDmm",{decimalPlaces:4})})),i.mY.DEGREES_MINUTES_SECONDS,(function(e){var t=p(e,2),r=t[0],n=t[1];return o()(r,n,!0).format("XDDMMss",{decimalPlaces:3})})),i.mY.SIGNED_DEGREES,v),i.mY.SIGNED_DEGREES_MINUTES,(function(e){var t=p(e,2),r=t[0],n=t[1];return o()(r,n,!0).format("-DDmm",{decimalPlaces:4})})),i.mY.SIGNED_DEGREES_MINUTES_SECONDS,(function(e){var t=p(e,2),r=t[0],n=t[1];return o()(r,n,!0).format("-DDMMss",{decimalPlaces:3})})),b=f(f(f(f(f(f({},i.mY.DEGREES,(function(e){return o()(e,0,!0).format("Xdd",{decimalPlaces:7,latLonSeparator:"|"}).split("|")[1].replace(y,"$1")})),i.mY.DEGREES_MINUTES,(function(e){return o()(e,0,!0).format("XDDmm",{decimalPlaces:4,latLonSeparator:"|"}).split("|")[1].replace(y,"$1")})),i.mY.DEGREES_MINUTES_SECONDS,(function(e){return o()(e,0,!0).format("XDDMMss",{decimalPlaces:3,latLonSeparator:"|"}).split("|")[1].replace(y,"$1")})),i.mY.SIGNED_DEGREES,(function(e){return v([e,0]).split(" ")[1].replace(y,"$1")})),i.mY.SIGNED_DEGREES_MINUTES,(function(e){return o()(e,0,!0).format("-DDmm",{decimalPlaces:4,latLonSeparator:"|"}).split("|")[1].replace(y,"$1")})),i.mY.SIGNED_DEGREES_MINUTES_SECONDS,(function(e){return o()(e,0,!0).format("-DDMMss",{decimalPlaces:3,latLonSeparator:"|"}).split("|")[1].replace(y,"$1")})),w=f(f(f(f(f(f({},i.mY.DEGREES,(function(e){return o()(0,e,!0).format("Xdd",{decimalPlaces:7,latLonSeparator:"|"}).split("|")[0].replace(y,"$1")})),i.mY.DEGREES_MINUTES,(function(e){return o()(0,e,!0).format("XDDmm",{decimalPlaces:4,latLonSeparator:"|"}).split("|")[0].replace(y,"$1")})),i.mY.DEGREES_MINUTES_SECONDS,(function(e){return o()(0,e,!0).format("XDDMMss",{decimalPlaces:3,latLonSeparator:"|"}).split("|")[0].replace(y,"$1")})),i.mY.SIGNED_DEGREES,(function(e){return v([0,e]).split(" ")[0].trim().replace(y,"$1")})),i.mY.SIGNED_DEGREES_MINUTES,(function(e){return o()(0,e,!0).format("-DDmm",{decimalPlaces:4,latLonSeparator:"|"}).split("|")[0].replace(y,"$1")})),i.mY.SIGNED_DEGREES_MINUTES_SECONDS,(function(e){return o()(0,e,!0).format("-DDMMss",{decimalPlaces:3,latLonSeparator:"|"}).split("|")[0].replace(y,"$1")})),E=function(e){return e.settings.display.coordinateFormat},S=(0,a.createSelector)(E,(function(e){return g[e]||v})),O=(0,a.createSelector)(E,(function(e){return w[e]||w[i.mY.SIGNED_DEGREES]})),x=(0,a.createSelector)(E,(function(e){return b[e]||b[i.mY.SIGNED_DEGREES]})),A=((0,a.createSelector)(u.C3,(function(e){if(void 0!==e)return function(t){return h(e.fromLonLat(t))}})),(0,a.createSelector)(u.C3,(function(e){if(void 0!==e)return function(t){return m((0,l.Jc)(e.fromLonLat(t)))}})),(0,a.createSelector)(u.C3,(function(e){if(void 0!==e)return function(t){var r=e.fromLonLat(t);return h(r)+"<br/>"+m((0,l.Jc)(r))}}))),j=(0,a.createSelector)(S,A,(function(e,t){return function(r){var n=e(r);return void 0===t?n:n+"<br/>"+t(r)}}))},23112:(e,t,r)=>{"use strict";r.d(t,{WB:()=>l,g7:()=>u,xb:()=>c});r(50886),r(76801),r(43843);var n=r(48392),o=r(22222),a=r(11967),i=r(35543),c=function(e){return e.map.layers},l=(0,o.createSelector)(c,a.Mb,a.Gd,(function(e,t,r){var o=e.order,a=e.byId;return{order:o,byId:t?(0,n.Z)(a,(function(e){return i.yd.includes(e.type)&&!r?{id:e.id,type:i.F5.UNAVAILABLE,label:e.label}:e})):a}})),u=function(e){return(0,o.createSelector)(l,(function(t){return t.byId[e]}))}},24652:(e,t,r)=>{"use strict";r.d(t,{C3:()=>a,HK:()=>u,H_:()=>s,VM:()=>c,Xq:()=>l,zn:()=>i});r(50886),r(52362),r(79288);var n=r(22222),o=r(48829),a=(0,n.createSelector)((function(e){return e.map.origin}),(function(e){return e.position?new o.kb({origin:e.position,orientation:e.angle,type:e.type}):void 0})),i=function(e){return e.map.view.position},c=(0,n.createSelector)((function(e){return e.map.view.angle}),Number.parseFloat),l=(0,n.createSelector)((function(e){return e.map.origin.angle}),Number.parseFloat),u=function(e){return"neu"===e.map.origin.type},s=function(e){return Array.isArray(e.map.origin.position)}},7482:(e,t,r)=>{"use strict";r.d(t,{MT:()=>i,Yo:()=>l,sk:()=>u,us:()=>c});r(89730),r(38077),r(60228);var n=r(22222),o=r(95656),a=r(23112),i=(0,n.createSelector)((function(e){return e.connections}),o.vA),c=(0,n.createSelector)(a.WB,o.vA),l=(0,n.createSelector)(c,(function(e){return e.slice().reverse()})),u=(0,n.createSelector)(c,(function(e){return e.filter((function(e){var t;return null===(t=e.visible)||void 0===t||t}))}))},54384:(e,t,r)=>{"use strict";r.d(t,{Mf:()=>l,VL:()=>u,sw:()=>s,xl:()=>p});r(50886),r(76801),r(43843);var n=r(27601),o=r(91238),a=r(78714),i=r(22222),c=r(15222),l=function(e){return e.map.selection},u=function(e){return(0,i.createSelector)(l,(function(t){return t.includes(e)}))},s=function(e){return(0,i.createSelector)(l,(function(t){return(0,o.default)(t.map(e),n.default)}))},f=new a.default([],{unique:!0}),p=((0,i.createSelector)(l,(function(e){return f.clear(),f.extend(e),f})),s(c.d$))},37381:(e,t,r)=>{"use strict";r.d(t,{Kc:()=>w,P7:()=>b,ji:()=>h,lq:()=>v,q4:()=>d,rn:()=>m,zx:()=>y});r(89730),r(50886),r(82243),r(79288),r(97389),r(69358),r(59749),r(69373),r(59903),r(86544),r(60228),r(38077),r(81919),r(47522),r(99474),r(84254),r(752),r(21694),r(76265);var n=r(41055),o=r(28641),a=r(48829);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var c=["margin"],l=["rotation","zoom"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){var n;return n=function(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==i(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var d=new n.MiniSignal,y=new n.MiniSignal,h=new n.MiniSignal,m=new n.MiniSignal,v=new n.MiniSignal;function g(e){return Array.isArray(e)&&e.length>=2?e.slice(0,2):[e.lon,e.lat]}function b(e,t){var r=s({margin:16,duration:500},t),n=r.margin,i=p(r,c),l=(0,o.hI)(e.map((function(e){return(0,a.Gv)(g(e))}))),u=n&&n>0?(0,o.f3)(l,n):l;v.dispatch(u,i)}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.rotation,n=t.zoom,o=s({duration:500},p(t,l)),a=g(e);if(Array.isArray(a)&&a.length>=2){var i={center:{lon:a[0],lat:a[1]}};Number.isFinite(r)&&(i.rotation=Number(r).toFixed(1)),Number.isFinite(n)&&(i.zoom=Number(n).toFixed(1)),m.dispatch(i,o)}}},90855:(e,t,r)=>{"use strict";r.d(t,{iG:()=>ut,ZP:()=>pt,Dj:()=>it,sq:()=>nt,t6:()=>ft});r(752),r(60228),r(21694),r(76265),r(78730),r(79307),r(34338),r(69373),r(59903),r(59749),r(86544),r(79288),r(69358),r(38077),r(81919),r(47522),r(99474),r(73964),r(84254),r(58373),r(66793),r(7629),r(77509),r(88052),r(34284),r(5399),r(89730);var n=r(24268),o=r(97779),a=r(44683),i=r(34716),c=r(69483),l=r.n(c),u=r(20315),s=r(73234),f=r(63931),p=r.n(f),d=r(51129),y=r(5068),h=r(30797),m=r(72042),v=r(38551),g=r(13064),b=r(11967),w=r(11385),E=r(34457),S=r(97604),O=r(6021),x=r(16310),A=r(75505),j=r(71579),k=r(18661),P=r(51712),C=r(44613),T=r(48947),I=r(544),L=r(34199),_=r(19973),Z=r(66409),N=r(3419),R=r(14440),D=r(92730),F=r(48362),M=r(10244),U=r(21424),G=r(95656);const V=G.rz,{actions:B,reducer:W}=(0,n.oM)({name:"datasets",initialState:V,reducers:{removeDatasets(e,t){(0,G.DD)(e,t.payload)}}}),{removeDatasets:z}=B,H=W;var Y=r(98168),q=r(76254),$=r(27880),K=r(64634),X=r(68327),Q=r(53743),J=r(10314),ee=r(34190),te=r(36943),re=r(12493),ne=r(1227),oe=r(14814),ae=r(71817),ie=r(95622),ce=r(70881),le=r(37890);const ue=(0,o.UY)({layers:oe.ZP,origin:ae.ZP,selection:ie.ZP,tools:ce.ZP,view:le.Z});var se=r(80684),fe=r(27079),pe=r(53096),de=r(21147),ye=r(82985),he=r(43280),me=r(22345),ve=r(80297),ge=r(5353),be=r(25161),we=r(84347),Ee=r(76985),Se=r(647),Oe=r(30263),xe=r(42047),Ae=r(65758);const je=(0,o.UY)({appSettings:A.Z,authentication:j.Z,deauthentication:k.Z,dockDetails:P.ZP,error:C.Z,featureEditor:T.Z,geofenceSettings:I.ZP,layerSettings:L.ZP,prompt:_.ZP,savedLocationEditor:Z.Z,serverSettings:N.ZP,uavDetails:R.ZP}),ke=(0,o.UY)({alert:D.ZP,beacons:F.ZP,clocks:M.ZP,connections:U.ZP,datasets:H,detachablePanels:Y.ZP,dialogs:je,docks:q.ZP,features:ne.ZP,fieldNotes:$.Z,hotkeys:K.ZP,lcdClock:X.ZP,licenseInfo:J.ZP,lightControl:ee.ZP,localServer:Q.ZP,log:te.ZP,map:ue,mapCaching:re.ZP,measurement:g.ZP,messages:se.ZP,mission:fe.ZP,parameters:pe.ZP,preflight:de.ZP,rtk:w.ZP,savedLocations:ye.Z,servers:he.ZP,session:me.ZP,settings:ve.ZP,show:S.ZP,sidebar:ge.Z,snackbar:be.Z,threeD:we.ZP,tour:Ee.ZP,uavs:O.ZP,uavControl:Oe.ZP,upload:Se.ZP,versionCheck:xe.ZP,weather:Ae.ZP,workbench:x.ZP});var Pe=r(12902),Ce=r(13281);function Te(e){return Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Te(e)}function Ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(r),!0).forEach((function(t){_e(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _e(e,t,r){var n;return n=function(e,t){if("object"!=Te(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Te(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Te(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ze={2:(0,Pe.ZP)((function(e){e.settings.uavs=Le(Le({},e.settings.uavs),{},{defaultBatteryCellCount:Ce.uV,fullChargeVoltage:Ce.yj,lowVoltageThreshold:Ce.jO,criticalVoltageThreshold:Ce.YI})}))};const Ne=(0,m.createMigrate)(Ze);var Re=r(43402),De=r(77186),Fe=r(1190);function Me(e){return Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Me(e)}function Ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(r),!0).forEach((function(t){Ve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ve(e,t,r){var n;return n=function(e,t){if("object"!=Me(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Me(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Me(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Be(e){return function(){var t=e.apply(void 0,arguments);return"number"==typeof a.Z.session.maxLengthInSeconds&&a.Z.session.maxLengthInSeconds>0&&(t=Ge(Ge({},t),{},{session:Ge(Ge({},t.session),{},{expiresAt:Date.now()+1e3*a.Z.session.maxLengthInSeconds})})),t}}var We=Be((function(e,t,r){for(var n=arguments.length,o=new Array(n>3?n-3:0),a=3;a<n;a++)o[a-3]=arguments[a];if(e&&"object"===Me(e)){var i=function e(t,r){for(var n,o=(0,De.Z)(r,(function(e,r){return!((n=t[r])&&(0,Re.Z)(n,"byId"));var n})),a=0,i=Object.keys(o);a<i.length;a++){var c=i[a];null!==(n=o[c])&&"object"===Me(n)&&!Array.isArray(n)&&(0,Re.Z)(t,c)&&(o[c]=e(t[c],o[c]))}return o}(e,r);return Fe.Z.apply(void 0,[e,i,i].concat(o))}return Fe.Z.apply(void 0,[e,t,r].concat(o))})),ze=Be((function(e,t,r){return r})),He=r(48392),Ye=r(20050),qe=r.n(Ye);function $e(e){return $e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$e(e)}function Ke(){Ke=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==$e(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError($e(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function Xe(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Qe(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Xe(a,n,o,i,c,"next",e)}function c(e){Xe(a,n,o,i,c,"throw",e)}i(void 0)}))}}var Je={key:"flockwave-client",storage:window.bridge?window.bridge.createStateStore():l(),version:2,migrate:Ne,stateReconciler:We,blacklist:["alert","beacons","clocks","connections","datasets","detachablePanels","docks","localServer","log","messages","rtk","servers","session","snackbar","uavs","weather"],throttle:1e3,transforms:[(0,v.cj)("dialogs",["appSettings","featureEditor","layerSettings","messages","savedLocationEditor","serverSettings"]),(0,v.sQ)("hotkeys",["pendingUAVId"]),(0,v.cj)("licenseInfo",["dialog"]),(0,v.sQ)("mission",["homePositions","landingPositions","takeoffHeadings"]),(0,v.sQ)("preflight",["checked"]),(0,v.cj)("show",["environment"]),(0,v.cj)("upload",["settings"]),(0,v.sQ)("threeD",["camera","tooltip","sceneId"])]},et=new URL(window.location.href);(a.Z.ephemeral||et.searchParams&&et.searchParams.get("pristine"))&&(Je.stateReconciler=ze);var tt=(0,d.Z)({simple:300}),rt=(0,y.wv)({promiseTypeDelimiter:"Promise",promiseTypeSuffixes:["Pending","Fulfilled","Rejected"]}),nt=(0,h.ZP)(),ot=(0,n.xC)({reducer:(0,m.persistReducer)(Je,ke),middleware:function(e){return e({immutableCheck:!1,serializableCheck:{isSerializable:function(e){return(0,n.yd)(e)||(0,s.default)(e)||(0,i.Z)(e)||(0,u.Z)(e)},ignoredActions:[String(S.gk),String(x.Eh)],ignoredPaths:["show.data","workbench"]}}).concat(tt,rt,nt)},devTools:!1}),at=p()(),it=(0,m.persistStore)(ot,null,at.resolve);function ct(){return lt.apply(this,arguments)}function lt(){return(lt=Qe(Ke().mark((function e(){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",it.purge());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ut(){return st.apply(this,arguments)}function st(){return(st=Qe(Ke().mark((function e(){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure? All settings will be lost.")){e.next=4;break}return e.next=3,ct();case 3:window.location.reload();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ft=function(){return at.promise};window.bridge&&(window.bridge.provideActions((0,o.DE)({showAppSettingsDialog:E.jZ},ot.dispatch)),window.bridge.provideSubscriptions(function(e,t){return(0,He.Z)(e,(function(e){return function(r){return t.subscribe(qe()((function(){return e(t.getState())}))(r))}}))}({shouldPreventSleepMode:b.Mb},ot)));const pt=ot},75639:(e,t,r)=>{"use strict";r.d(t,{cP:()=>y,oH:()=>m,u5:()=>p});r(60228),r(73964),r(69358),r(59749),r(86544),r(84254),r(752),r(21694),r(76265),r(58373),r(66793),r(7629),r(77509),r(88052),r(47522),r(34284),r(5399),r(89730);var n=r(93162);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var a=["maxSize"];function i(){i=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},c="function"==typeof Symbol?Symbol:{},l=c.iterator||"@@iterator",u=c.asyncIterator||"@@asyncIterator",s=c.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function p(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),c=new L(n||[]);return a(i,"_invoke",{value:P(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var y="suspendedStart",h="suspendedYield",m="executing",v="completed",g={};function b(){}function w(){}function E(){}var S={};f(S,l,(function(){return this}));var O=Object.getPrototypeOf,x=O&&O(O(_([])));x&&x!==r&&n.call(x,l)&&(S=x);var A=E.prototype=b.prototype=Object.create(S);function j(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,i,c,l){var u=d(e[a],e,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==o(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,c,l)}),(function(e){r("throw",e,c,l)})):t.resolve(f).then((function(e){s.value=e,c(s)}),(function(e){return r("throw",e,c,l)}))}l(u.arg)}var i;a(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,r,n){var o=y;return function(a,i){if(o===m)throw new Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=C(c,n);if(l){if(l===g)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===y)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var u=d(t,r,n);if("normal"===u.type){if(o=n.done?v:h,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=v,n.method="throw",n.arg=u.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function _(t){if(t||""===t){var r=t[l];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(o(t)+" is not iterable")}return w.prototype=E,a(A,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:w,configurable:!0}),w.displayName=f(E,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,s,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},j(k.prototype),f(k.prototype,u,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new k(p(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},j(A),f(A,s,"Generator"),f(A,l,(function(){return this})),f(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=_,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:_(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function c(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function l(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){l(a,n,o,i,c,"next",e)}function c(e){l(a,n,o,i,c,"throw",e)}i(void 0)}))}}function s(){return f.apply(this,arguments)}function f(){return f=u(i().mark((function e(){var t,r,n,o,l,u,s,f=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(r=f.length>0&&void 0!==f[0]?f[0]:{}).maxSize,o=c(r,a),l=(null===(t=window)||void 0===t?void 0:t.bridge)||{},!(u=l.readBufferFromFile)){e.next=9;break}return e.next=5,u({maxSize:n,dialogOptions:o});case 5:return s=e.sent,e.abrupt("return",new Blob([s],{type:"application/octet-stream"}));case 9:throw new Error("Not supported in the browser");case 10:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function p(e){return d.apply(this,arguments)}function d(){return(d=u(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t);case 2:return r=e.sent,e.abrupt("return",r.text());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t){return h.apply(this,arguments)}function h(){return h=u(i().mark((function e(t,r){var o,a,c,l,u=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=u.length>2&&void 0!==u[2]?u[2]:{},c=(null===(o=window)||void 0===o?void 0:o.bridge)||{},!(l=c.writeBufferToFile)){e.next=12;break}return e.t0=l,e.next=6,t.arrayBuffer();case 6:return e.t1=e.sent,e.t2=r,e.t3=a,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 12:return e.abrupt("return",(0,n.saveAs)(t,r));case 13:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}function m(e,t,r){return y(new Blob([e],{type:"text/plain;charset=utf-8"}),t,r)}},2925:(e,t,r)=>{"use strict";r.d(t,{Jz:()=>f,PL:()=>p,ZP:()=>y,in:()=>u});r(69373),r(59903),r(59749),r(86544),r(60228),r(79288),r(84254),r(752),r(21694),r(76265);var n=r(11648),o=r(36943),a=r(49998),i=r(90855);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t,r){var n;return n=function(e,t){if("object"!=c(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==c(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u={DEBUG:0,INFO:10,WARNING:20,ERROR:30,FATAL:40},s=l(l(l(l(l({},u.DEBUG,n.ZP.off),u.INFO,(0,n.oM)(a.zb.INFO)),u.WARNING,(0,n.oM)(a.zb.WARNING)),u.ERROR,(0,n.oM)(a.zb.ERROR)),u.FATAL,(0,n.oM)(a.zb.FATAL));function f(e){return e<=u.DEBUG?s[u.DEBUG]:e<=u.INFO?s[u.INFO]:e<=u.WARNING?s[u.WARNING]:e<=u.ERROR?s[u.ERROR]:e<=u.FATAL?s[u.FATAL]:n.ZP.off}function p(e){return"CRITICAL"===e&&(e="FATAL"),u[e]||"DEBUG"}function d(e){var t=function(t,r){i.ZP.dispatch((0,o.Hj)({level:t,message:String(r),module:e}))};this.debug=t.bind(this,u.DEBUG),this.error=t.bind(this,u.ERROR),this.info=t.bind(this,u.INFO),this.log=this.info,this.warn=t.bind(this,u.WARNING),this.assert=function(e,t){e||this.debug(t)}.bind(this)}const y=function(e){return new d(String(e||""))}},69709:(e,t,r)=>{"use strict";r.d(t,{FD:()=>T,Fj:()=>V,Mc:()=>N,Nn:()=>C,SB:()=>F,Wd:()=>_,ZE:()=>R,g$:()=>P,gr:()=>I,wz:()=>L,zt:()=>Z});r(34338),r(34284),r(60228),r(73964),r(69373),r(59903),r(59749),r(86544),r(79288),r(69358),r(38077),r(81919),r(47522),r(99474),r(84254),r(752),r(21694),r(76265),r(58373),r(66793),r(7629),r(77509),r(88052),r(5399),r(89730);var n=r(19064),o=r(20315),a=r(27601),i=r(48392),c=r(64657),l=r(62275),u=r(25476),s=r(25161),f=r(39535),p=r(38305),d=r(90855),y=r(2925);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}var m=["target"];function v(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function g(){g=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),c=new L(n||[]);return o(i,"_invoke",{value:P(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",v={};function b(){}function w(){}function E(){}var S={};u(S,i,(function(){return this}));var O=Object.getPrototypeOf,x=O&&O(O(_([])));x&&x!==r&&n.call(x,i)&&(S=x);var A=E.prototype=b.prototype=Object.create(S);function j(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==h(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function P(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=C(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function _(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(h(t)+" is not iterable")}return w.prototype=E,o(A,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:w,configurable:!0}),w.displayName=u(E,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,u(e,l,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},j(k.prototype),u(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new k(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},j(A),u(A,l,"Generator"),u(A,i,(function(){return this})),u(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=_,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:_(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e,t,r){var n;return n=function(e,t){if("object"!=h(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==h(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}var O=(0,y.ZP)("messaging"),x=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.reportSuccess,i=void 0===a||a,l=r.reportFailure,u=void 0===l||l;t=(0,c.Z)(t);var p,y,h=(0,n.Z)(t,o.Z).true||0,m=t.length-h;h&&u?(y=f.j.ERROR,p=m>1?"".concat(e," sent for ").concat(m," UAVs, failed for ").concat(h):m?"".concat(e," sent for one UAV, failed for ").concat(h):h>1?"".concat(e," failed for ").concat(h," UAVs"):"".concat(e," failed")):i&&(y=f.j.SUCCESS,m>1?p="".concat(e," sent for ").concat(m," UAVs"):m&&(p="".concat(e," sent successfully"))),p&&d.ZP.dispatch((0,s.c)({message:p,semantics:y}))},A=function(e,t,r){var n,o=(e||"an unknown command").toLowerCase();return r?"Are you sure you want to broadcast ".concat(o," to all UAVs?"):(n=Array.isArray(t)&&0!==t.length?1===t.length?" on UAV ".concat(t[0]):" on ".concat(t.length," UAVs"):"","Are you sure you want to execute ".concat(o).concat(n,"?"))},j=function(e){var t=e.type,r=e.name,n=e.mapper,o=void 0===n?void 0:n,a=e.reportFailure,i=void 0===a||a,c=e.reportSuccess,s=void 0===c||c,f=e.skipConfirmation,y=void 0!==f&&f;return function(){var e,n=(e=g().mark((function e(n,a){var c,f,h,m;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,f=o?o(a):a,h=Boolean(null==f||null===(c=f.transport)||void 0===c?void 0:c.broadcast),y||!(0,u.ak)(d.ZP.getState(),n,h)){e.next=10;break}return e.next=7,d.ZP.dispatch((0,l.g7)(A(r,n,h),{title:"Confirmation needed"}));case 7:if(e.sent){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,p.Z.startAsyncOperation(w({type:t,ids:n},f));case 12:m=e.sent,x(r,m,{reportFailure:i,reportSuccess:s}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),O.error("".concat(r,": ").concat(String(e.t0)));case 20:case"end":return e.stop()}}),e,null,[[0,16]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){S(a,n,o,i,c,"next",e)}function c(e){S(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e,t){return n.apply(this,arguments)}}()},k=j({type:"UAV-SIGNAL",name:"Light signal command",mapper:function(e){return w({signals:["light"],duration:5e3},e)},reportSuccess:!1,skipConfirmation:!0}),P=j({type:"UAV-SIGNAL",name:"Light signal command",mapper:function(e){return w({signals:["light"],duration:5e3},e)},reportSuccess:!1,reportFailure:!1,skipConfirmation:!0}),C=j({type:"UAV-TAKEOFF",name:"Takeoff command"}),T=j({type:"UAV-LAND",name:"Landing command"}),I=j({type:"UAV-HOVER",name:"Position hold command"}),L=j({type:"UAV-RTH",name:"Return to home command"}),_=j({type:"UAV-HALT",name:"Shutdown command"}),Z=j({type:"UAV-RST",name:"Reset command"}),N=j({type:"UAV-SLEEP",name:"Low-power mode command"}),R=j({type:"UAV-WAKEUP",name:"Resume from low-power mode command"}),D=j({type:"UAV-FLY",name:"Fly to target command",mapper:function(e){var t=e.target;return{target:[Math.round(1e7*t.lat),Math.round(1e7*t.lon),(0,a.default)(t.amsl)?null:Math.round(1e3*t.amsl),(0,a.default)(t.ahl)?null:Math.round(1e3*t.ahl),(0,a.default)(t.agl)?null:Math.round(1e3*t.agl)]}},skipConfirmation:!0}),F=function(e,t){var r=t.target,n=v(t,m);if((0,a.default)(r))throw new Error("No target given in arguments");var o=r.lat,i=r.lon,c=r.amsl,l=r.ahl,u=r.agl;if(!(0,a.default)(c)&&!(0,a.default)(l)&&!(0,a.default)(u))throw new Error("only one of AMSL, AHL and AGL may be given");var s=n;return(0,a.default)(c)?(0,a.default)(l)?(0,a.default)(u)?s.target={lat:o,lon:i}:s.target={lat:o,lon:i,agl:u}:s.target={lat:o,lon:i,ahl:l}:s.target={lat:o,lon:i,amsl:c},D(e,s)},M=j({type:"UAV-MOTOR",name:"Motor off command",mapper:function(e){return w(w({},e),{},{start:!1})}}),U=j({type:"UAV-MOTOR",name:"Motor on command",mapper:function(e){return w(w({},e),{},{start:!0})}}),G={flashLight:k,shutdown:_,land:T,holdPosition:I,reset:Z,returnToHome:L,sleep:N,takeOff:C,turnMotorsOff:M,turnMotorsOn:U,wakeUp:R};function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getTargetedUAVIds,r=e.getTransportOptions;if("function"!=typeof t)throw new TypeError("getTargetedUAVIds() must be a function");return(0,i.Z)(G,(function(e){return function(){return function(n,o){var a,i=o(),c=t(i),l={};r&&(l.transport=r(i),0===(null===(a=l.transport)||void 0===a?void 0:a.channel)&&delete l.transport.channel);e(c,l)}}}))}},97188:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});r(86466);var n=r(45697),o=r.n(n),a=r(49998);const i={angle:o().number,coordinate:o().shape({lat:o().number.isRequired,lon:o().number.isRequired}),preflightCheckResult:o().oneOf(Object.values(a.uZ)),severity:o().oneOf(Object.values(a.zb))}},54266:(e,t,r)=>{"use strict";r.d(t,{A:()=>u,d:()=>s});r(92176),r(7961),r(62506);var n=r(90096),o=r(27771),a=r(50576),i=r(73234),c=r(7979),l=r(46338);function u(e){return e?(0,i.default)(e)?e:(0,o.default)(e)?function(t){return(0,n.Z)(e,t)}:c.Z:l.Z}var s=function(e){var t=e.target.getCoordinates();(0,a.default)(t.at(0),t.at(-1))||(t.splice(-1,1,t[0]),e.target.setCoordinates(t))}},77932:(e,t,r)=>{"use strict";r.d(t,{l9:()=>gi,S9:()=>wi,Qr:()=>Ei,ml:()=>bi});r(60429),r(84254),r(752),r(21694),r(76265),r(69373),r(59903),r(59749),r(86544),r(60228),r(79288);var n,o=r(67294),a=r(39445),i=(r(50886),r(97061)),c=r(45697),l=r.n(c),u=r(86706),s=r(22222),f=r(77442),p=r(30553),d=r(40074),y=r(52541),h=r(14814),m=r(85360),v=r(11967),g=r(25476),b=r(63745);!function(e){let t,r,n,o,a;!function(e){e.AERIAL_WITH_LABELS="bingMaps.aerialWithLabels",e.ROAD="bingMaps.road"}(t=e.BING||(e.BING={})),function(e){e.DEFAULT="googleMaps.default",e.SATELLITE="googleMaps.satellite",e.ROADS="googleMaps.roads"}(r=e.GOOGLE||(e.GOOGLE={})),function(e){e.SATELLITE="mapbox.satellite",e.STATIC="mapbox.static",e.VECTOR="mapbox.vector"}(n=e.MAPBOX||(e.MAPBOX={})),function(e){e.BASIC="maptiler.basic",e.HYBRID="maptiler.hybrid",e.SATELLITE="maptiler.satellite",e.STREETS="maptiler.streets"}(o=e.MAPTILER||(e.MAPTILER={})),e.NEXTZEN="nextzen",e.OSM="osm",function(e){e.TERRAIN="stamen.terrain",e.TONER="stamen.toner",e.WATERCOLOR="stamen.watercolor"}(a=e.STAMEN||(e.STAMEN={}))}(n||(n={}));const w=[n.OSM,n.STAMEN.TERRAIN];b.Z.MAPBOX&&w.push(n.MAPBOX.STATIC,n.MAPBOX.SATELLITE),b.Z.MAPTILER&&w.push(n.MAPTILER.BASIC,n.MAPTILER.SATELLITE,n.MAPTILER.HYBRID);const E={mapbox:['\xa9 <a href="https://www.mapbox.com/map-feedback/">Mapbox</a>','\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap contributors</a>'],maptiler:['\xa9 <a href="https://www.maptiler.com/copyright/">Maptiler</a>','\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap contributors</a>'],nextzen:"Map data &copy; OpenStreetMap contributors, Who's On First, Natural Earth, and openstreetmapdata.com",stamen:['Map tiles by <a href="https://stamen.com/" target="_blank">Stamen Design</a>, under <a href="https://creativecommons.org/licenses/by/3.0/" target="_blank">CC BY 3.0</a>.','&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors']},S={[n.BING.AERIAL_WITH_LABELS]:{label:"Bing Maps (aerial with labels)"},[n.BING.ROAD]:{label:"Bing Maps (road)"},[n.GOOGLE.DEFAULT]:{label:"Google Maps"},[n.GOOGLE.SATELLITE]:{label:"Google Maps (satellite)"},[n.GOOGLE.ROADS]:{label:"Google Maps (roads)"},[n.MAPBOX.STATIC]:{label:"Mapbox",attributions:E.mapbox},[n.MAPBOX.SATELLITE]:{label:"Mapbox satellite",attributions:E.mapbox},[n.MAPBOX.VECTOR]:{label:"Mapbox vector",attributions:E.mapbox},[n.MAPTILER.BASIC]:{label:"Maptiler",attributions:E.maptiler},[n.MAPTILER.HYBRID]:{label:"Maptiler hybrid",attributions:E.maptiler},[n.MAPTILER.SATELLITE]:{label:"Maptiler satellite",attributions:E.maptiler},[n.MAPTILER.STREETS]:{label:"Maptiler streets",attributions:E.maptiler},[n.NEXTZEN]:{label:"Nextzen",attributions:E.nextzen},[n.OSM]:{label:"OpenStreetMap"},[n.STAMEN.TERRAIN]:{label:"Stamen terrain",attributions:E.stamen},[n.STAMEN.TONER]:{label:"Stamen toner",attributions:E.stamen},[n.STAMEN.WATERCOLOR]:{label:"Stamen watercolor",attributions:E.stamen}};function O(e){const t=S[e];return t?t.label:"unknown"}var x=r(51345),A=r(58958),j=r(47539),k=r(21280),P=r(72846);r(70429);var C=function(){var e=new x.default({color:""}),t=new A.default({color:"",width:1}),r=new j.default({fill:e}),n=new j.default({fill:e,stroke:t}),o=new j.default({stroke:t}),a=new j.default({text:new k.default({text:"",fill:e,stroke:t})}),i={};function c(e){var t=i[e];return t||(t=new j.default({image:new P.Z({src:"https://unpkg.com/@mapbox/maki@4.0.0/icons/"+e+"-15.svg",imgSize:[15,15],crossOrigin:"anonymous"})}),i[e]=t),t}var l=[];return function(i,u){var s=0,f=i.get("layer"),p=i.get("class"),d=i.get("type"),y=i.get("scalerank"),h=i.get("labelrank"),m=i.get("admin_level"),v=i.get("maritime"),g=i.get("disputed"),b=i.get("maki"),w=i.getGeometry().getType();if("landuse"===f)switch(p){case"park":e.setColor("#d8e8c8"),l[s++]=r;break;case"cemetery":e.setColor("#e0e4dd"),l[s++]=r;break;case"hospital":e.setColor("#fde"),l[s++]=r;break;case"school":e.setColor("#f0e8f8"),l[s++]=r;break;case"wood":e.setColor("rgb(233,238,223)"),l[s++]=r}else"waterway"===f&&"river"!==p&&"stream"!==p&&"canal"!==p||"waterway"===f&&"river"===p?(t.setColor("#a0c8f0"),t.setWidth(1),l[s++]=o):"waterway"!==f||"stream"!==p&&"canal"!==p?"water"===f?(e.setColor("#a0c8f0"),l[s++]=r):"aeroway"===f&&"Polygon"===w?(e.setColor("rgb(242,239,235)"),l[s++]=r):"aeroway"===f&&"LineString"===w&&u<=76.43702828517625?(t.setColor("#f0ede9"),t.setWidth(1),l[s++]=o):"building"===f?(e.setColor("#f2eae2"),t.setColor("#dfdbd7"),t.setWidth(1),l[s++]=n):"tunnel"===f&&"motorway_link"===p?(t.setColor("#e9ac77"),t.setWidth(1),l[s++]=o):"tunnel"===f&&"service"===p?(t.setColor("#cfcdca"),t.setWidth(1),l[s++]=o):"tunnel"!==f||"street"!==p&&"street_limited"!==p?"tunnel"===f&&"main"===p&&u<=1222.99245256282||"tunnel"===f&&"motorway"===p?(t.setColor("#e9ac77"),t.setWidth(1),l[s++]=o):"tunnel"===f&&"path"===p?(t.setColor("#cba"),t.setWidth(1),l[s++]=o):"tunnel"===f&&"major_rail"===p?(t.setColor("#bbb"),t.setWidth(2),l[s++]=o):"road"===f&&"motorway_link"===p?(t.setColor("#e9ac77"),t.setWidth(1),l[s++]=o):"road"!==f||"street"!==p&&"street_limited"!==p||"LineString"!==w?"road"===f&&"main"===p&&u<=1222.99245256282||"road"===f&&"motorway"===p&&u<=4891.96981025128?(t.setColor("#e9ac77"),t.setWidth(1),l[s++]=o):"road"===f&&"path"===p?(t.setColor("#cba"),t.setWidth(1),l[s++]=o):"road"===f&&"major_rail"===p?(t.setColor("#bbb"),t.setWidth(2),l[s++]=o):"bridge"===f&&"motorway_link"===p||"bridge"===f&&"motorway"===p?(t.setColor("#e9ac77"),t.setWidth(1),l[s++]=o):"bridge"===f&&"service"===p?(t.setColor("#cfcdca"),t.setWidth(1),l[s++]=o):"bridge"!==f||"street"!==p&&"street_limited"!==p?"bridge"===f&&"main"===p&&u<=1222.99245256282?(t.setColor("#e9ac77"),t.setWidth(1),l[s++]=o):"bridge"===f&&"path"===p?(t.setColor("#cba"),t.setWidth(1),l[s++]=o):"bridge"===f&&"major_rail"===p?(t.setColor("#bbb"),t.setWidth(2),l[s++]=o):"admin"===f&&m>=3&&0===v||"admin"===f&&2===m&&0===g&&0===v||"admin"===f&&2===m&&1===g&&0===v?(t.setColor("#9e9cab"),t.setWidth(1),l[s++]=o):"admin"===f&&m>=3&&1===v||"admin"===f&&2===m&&1===v?(t.setColor("#a0c8f0"),t.setWidth(1),l[s++]=o):"country_label"===f&&1===y?(a.getText().setText(i.get("name_en")),a.getText().setFont('bold 11px "Open Sans", "Arial Unicode MS"'),e.setColor("#334"),t.setColor("rgba(255,255,255,0.8)"),t.setWidth(2),l[s++]=a):"country_label"===f&&2===y&&u<=19567.87924100512?(a.getText().setText(i.get("name_en")),a.getText().setFont('bold 10px "Open Sans", "Arial Unicode MS"'),e.setColor("#334"),t.setColor("rgba(255,255,255,0.8)"),t.setWidth(2),l[s++]=a):"country_label"===f&&3===y&&u<=9783.93962050256?(a.getText().setText(i.get("name_en")),a.getText().setFont('bold 9px "Open Sans", "Arial Unicode MS"'),e.setColor("#334"),t.setColor("rgba(255,255,255,0.8)"),t.setWidth(2),l[s++]=a):"country_label"===f&&4===y&&u<=4891.96981025128?(a.getText().setText(i.get("name_en")),a.getText().setFont('bold 8px "Open Sans", "Arial Unicode MS"'),e.setColor("#334"),t.setColor("rgba(255,255,255,0.8)"),t.setWidth(2),l[s++]=a):"marine_label"===f&&1===h&&"Point"===w||"marine_label"===f&&2===h&&"Point"===w?(a.getText().setText(i.get("name_en")),a.getText().setFont('italic 11px "Open Sans", "Arial Unicode MS"'),e.setColor("#74aee9"),t.setColor("rgba(255,255,255,0.8)"),t.setWidth(1),l[s++]=a):"marine_label"===f&&3===h&&"Point"===w?(a.getText().setText(i.get("name_en")),a.getText().setFont('italic 10px "Open Sans", "Arial Unicode MS"'),e.setColor("#74aee9"),t.setColor("rgba(255,255,255,0.8)"),t.setWidth(1),l[s++]=a):"marine_label"===f&&4===h&&"Point"===w?(a.getText().setText(i.get("name_en")),a.getText().setFont('italic 9px "Open Sans", "Arial Unicode MS"'),e.setColor("#74aee9"),t.setColor("rgba(255,255,255,0.8)"),t.setWidth(1),l[s++]=a):"place_label"===f&&"city"===d&&u<=1222.99245256282?(a.getText().setText(i.get("name_en")),a.getText().setFont('11px "Open Sans", "Arial Unicode MS"'),e.setColor("#333"),t.setColor("rgba(255,255,255,0.8)"),t.setWidth(1),l[s++]=a):"place_label"===f&&"town"===d&&u<=305.748113140705?(a.getText().setText(i.get("name_en")),a.getText().setFont('9px "Open Sans", "Arial Unicode MS"'),e.setColor("#333"),t.setColor("rgba(255,255,255,0.8)"),t.setWidth(1),l[s++]=a):"place_label"===f&&"village"===d&&u<=38.21851414258813?(a.getText().setText(i.get("name_en")),a.getText().setFont('8px "Open Sans", "Arial Unicode MS"'),e.setColor("#333"),t.setColor("rgba(255,255,255,0.8)"),t.setWidth(1),l[s++]=a):"place_label"===f&&u<=19.109257071294063&&("hamlet"===d||"suburb"===d||"neighbourhood"===d)?(a.getText().setText(i.get("name_en")),a.getText().setFont('bold 9px "Arial Narrow"'),e.setColor("#633"),t.setColor("rgba(255,255,255,0.8)"),t.setWidth(1),l[s++]=a):("poi_label"===f&&u<=19.109257071294063&&1===y&&"marker"!==b||"poi_label"===f&&u<=9.554628535647032&&2===y&&"marker"!==b||"poi_label"===f&&u<=4.777314267823516&&3===y&&"marker"!==b||"poi_label"===f&&u<=2.388657133911758&&4===y&&"marker"!==b||"poi_label"===f&&u<=1.194328566955879&&y>=5&&"marker"!==b)&&(l[s++]=c(b)):(t.setColor("#cfcdca"),t.setWidth(1),l[s++]=o):(t.setColor("#cfcdca"),t.setWidth(1),l[s++]=o):(t.setColor("#cfcdca"),t.setWidth(1),l[s++]=o):(t.setColor("#a0c8f0"),t.setWidth(1),l[s++]=o);return l.length=s,l}}();var T=function(e){var t=e.layer,r=e.onLayerSourceChanged,n=w.map((function(e){return o.createElement(p.Z,{key:e,value:e,label:O(e),style:{marginTop:5},control:o.createElement(d.Z,null)})}));return o.createElement(y.Z,{key:"baseProperties",name:"source.base",value:t.parameters.source,onChange:r},n)};T.propTypes={layer:l().object,onLayerSourceChanged:l().func};var I=(0,u.$j)(null,(function(e,t){return{onLayerSourceChanged:function(r,n){e((0,h.Rv)({layerId:t.layerId,source:n}))}}}))(T),L=new i.Z,_=function(e){var t=e.children,r=e.type,a=e.zIndex;switch(r){case n.MAPBOX.VECTOR:case n.NEXTZEN:return o.createElement(f.EY.VectorTile,{declutter:!0,style:C,zIndex:a},t);default:return o.createElement(f.EY.Tile,{zIndex:a},t)}};_.propTypes={children:l().node,type:l().string,zIndex:l().number};var Z=function(e){var t=e.apiKeys,r=e.tileLoadFunction,a=e.type,i=function(e){const t=S[e],r=null==t?void 0:t.attributions;return Array.isArray(r)?r:r?[r]:[]}(a);switch(a){case n.MAPBOX.STATIC:return o.createElement(f.qz.XYZ,{attributions:i,tilePixelRatio:2,tileSize:512,tileLoadFunction:r,url:"https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/512/{z}/{x}/{y}@2x?access_token=".concat(t.MAPBOX)});case n.MAPBOX.SATELLITE:return o.createElement(f.qz.XYZ,{attributions:i,tilePixelRatio:2,tileSize:512,tileLoadFunction:r,url:"https://api.mapbox.com/v4/mapbox.satellite/{z}/{x}/{y}@2x.jpg90?access_token=".concat(t.MAPBOX)});case n.MAPBOX.VECTOR:return o.createElement(f.qz.VectorTile,{attributions:i,format:L,tileLoadFunction:r,url:"https://{a-d}.tiles.mapbox.com/v4/mapbox.mapbox-streets-v8/{z}/{x}/{y}.vector.pbf?access_token=".concat(t.MAPBOX)});case n.MAPTILER.BASIC:return o.createElement(f.qz.XYZ,{tileLoadFunction:r,tilePixelRatio:2,tileSize:512,url:"https://api.maptiler.com/maps/basic/{z}/{x}/{y}@2x.png?key=".concat(t.MAPTILER)});case n.MAPTILER.HYBRID:return o.createElement(f.qz.XYZ,{tileLoadFunction:r,tilePixelRatio:2,tileSize:512,url:"https://api.maptiler.com/maps/hybrid/{z}/{x}/{y}@2x.jpg?key=".concat(t.MAPTILER)});case n.MAPTILER.SATELLITE:return o.createElement(f.qz.XYZ,{tileLoadFunction:r,tileSize:512,url:"https://api.maptiler.com/tiles/satellite-v2/{z}/{x}/{y}.jpg?key=".concat(t.MAPTILER)});case n.MAPTILER.STREETS:return o.createElement(f.qz.XYZ,{tileLoadFunction:r,tilePixelRatio:2,tileSize:512,url:"https://api.maptiler.com/maps/streets/{z}/{x}/{y}@2x.png?key=".concat(t.MAPTILER)});case n.NEXTZEN:return o.createElement(f.qz.VectorTile,{attributions:i,format:L,maxZoom:16,tileLoadFunction:r,url:"https://tile.nextzen.org/tilezen/vector/v1/512/all/{z}/{x}/{y}.mvt?api_key=".concat(t.NEXTZEN)});case n.OSM:return o.createElement(f.qz.OSM,{tileLoadFunction:r,url:"https://{a-c}.tile.skybrush.io/osm/{z}/{x}/{y}.png"});case n.STAMEN.TERRAIN:return o.createElement(f.qz.StadiaMaps,{tileLoadFunction:r,layerName:"stamen_terrain"});case n.STAMEN.TONER:return o.createElement(f.qz.StadiaMaps,{tileLoadFunction:r,layerName:"stamen_toner"});case n.STAMEN.WATERCOLOR:return o.createElement(f.qz.StadiaMaps,{tileLoadFunction:r,layerName:"stamen_watercolor"});case n.GOOGLE.DEFAULT:return o.createElement(f.qz.XYZ,{tileLoadFunction:r,url:"https://mt1.google.com/vt/lyrs=r&x={x}&y={y}&z={z}"});case n.GOOGLE.SATELLITE:return o.createElement(f.qz.XYZ,{tileLoadFunction:r,url:"https://mt1.google.com/vt/lyrs=y&x={x}&y={y}&z={z}"});case n.BING.AERIAL_WITH_LABELS:return o.createElement(f.qz.BingMaps,{apiKey:t.BING,imagerySet:"AerialWithLabels",maxZoom:19});case n.BING.ROAD:return o.createElement(f.qz.BingMaps,{apiKey:t.BING,imagerySet:"Road"});default:return null}};function N(e,t){e.getImage().src=t}Z.propTypes={apiKeys:l().object,tileLoadFunction:l().func,type:l().string};var R=(0,s.createSelector)(m.x,v.eJ,v.RU,(function(e,t,r){return e&&t?function(e){return function(t,r){N(t,"".concat(e,"/map-cache/_?url=")+encodeURIComponent(r))}}(r):N})),D=(0,u.$j)((function(e){return{apiKeys:(0,g.Pb)(e),tileLoadFunction:R(e)}}),{})(Z),F=function(e){var t=e.layer,r=e.zIndex;return o.createElement(_,{type:t.parameters.source,zIndex:r},o.createElement(D,{type:t.parameters.source}))};F.propTypes={layer:l().object,zIndex:l().number};r(62506),r(76801),r(43843),r(69358);var M=r(30283);const U=r.p+"c66c82627760fafe63c6.png",G=r.p+"19ad6093d71a16f981a5.png";var V=r(11648),B=r(96424),W=r(48829),z=r(15222),H=r(35543),Y=r(43800),q=["selected","value"];function $(){return $=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$.apply(this,arguments)}function K(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var X=new j.default({image:new P.Z({src:U})}),Q=new j.default({image:new P.Z({src:G})}),J=[V.tc.error,V.tc.success].map((function(e){return new j.default({image:new M.Z({displacement:[0,2],fill:(0,Y.hl)(e),stroke:Y.TS,radius:6})})})),ee=o.memo((function(e){var t=e.selected,r=e.value,n=K(e,q),a=r.id,i=r.position,c=r.active;if(!i)return null;var l=function(e,t,r){var n=[X];return t&&n.splice(0,0,Q),null!=r&&n.push(J[r?1:0]),n.push(new j.default({text:new k.default({font:"12px sans-serif",offsetY:18,placement:"point",text:e,textAlign:"center"})})),n}((0,B.P$)(r),t,c);return o.createElement(f.L0,$({id:(0,z.YA)(a),style:l},n),o.createElement(f.J7.Point,{coordinates:(0,W.Gv)([i.lon,i.lat])}))}));function te(e){e&&(0,H._K)(e.layer)}ee.propTypes={selected:l().bool,value:l().shape({id:l().string,position:l().shape({lat:l().number.required,lon:l().number.required}),heading:l().number,active:l().bool})};var re=function(e){var t=e.beacons,r=e.selectedBeaconIds,n=e.zIndex;return o.createElement(f.EY.Vector,{ref:te,updateWhileAnimating:!0,updateWhileInteracting:!0,zIndex:n},o.createElement(f.qz.Vector,null,t.map((function(e){return o.createElement(ee,{key:e.id,value:e,selected:r.includes(e.id)})}))))};re.propTypes={beacons:l().arrayOf(l().object).isRequired,selectedBeaconIds:l().arrayOf(l().string).isRequired,zIndex:l().number};var ne=(0,u.$j)((function(e){return{beacons:(0,B.U7)(e),selectedBeaconIds:(0,B.E8)(e)}}),null)(re),oe=r(35393),ae=r(37400),ie=["selected","value"];function ce(){return ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ce.apply(this,arguments)}function le(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var ue=o.memo((function(e){var t=e.selected,r=e.value,n=le(e,ie),a=r.id,i=r.position;if(!i)return null;var c=function(e,t){return[new j.default({image:new oe.Z({points:4,fill:(0,Y.hl)([255,136,0,t?1:.5]),stroke:t?Y.o1:Y.TS,radius:10,rotation:Math.PI/4})}),new j.default({text:new k.default({font:"12px sans-serif",offsetY:18,placement:"point",text:e,textAlign:"center"})})]}(a,t);return o.createElement(f.L0,ce({id:(0,z.cf)(a),style:c},n),o.createElement(f.J7.Point,{coordinates:(0,W.Gv)([i.lon,i.lat])}))}));function se(e){e&&(0,H._K)(e.layer)}ue.propTypes={selected:l().bool,value:l().shape({id:l().string,position:l().shape({lat:l().number.required,lon:l().number.required})})};var fe=function(e){var t=e.docks,r=e.selectedDockIds,n=e.zIndex;return o.createElement(f.EY.Vector,{ref:se,updateWhileAnimating:!0,updateWhileInteracting:!0,zIndex:n},o.createElement(f.qz.Vector,null,t.map((function(e){return o.createElement(ue,{key:e.id,value:e,selected:r.includes(e.id)})}))))};fe.propTypes={docks:l().arrayOf(l().object).isRequired,selectedDockIds:l().arrayOf(l().string).isRequired,zIndex:l().number};var pe=(0,u.$j)((function(e){return{docks:(0,ae.t)(e),selectedDockIds:(0,ae.h)(e)}}),null)(fe),de=(r(12826),r(34284),r(77049),r(64043),r(7409),r(62795),r(13383),r(89730),r(25728),r(38077),r(6767)),ye=r.n(de),he=r(63790),me=r(36259),ve=r(25063),ge=r(2033),be=r(54266),we=r(70582),Ee=r(36952),Se=r(93176),Oe=r(81545),xe=r(86686),Ae=r(70072),je=r(43774);function ke(e){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(e)}var Pe=["feature","isSelected","isGeofence","shouldShowPoints"];function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ce.apply(this,arguments)}function Te(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Ie(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ze(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e,t,r){var n;return n=function(e,t){if("object"!=ke(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ke(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ke(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _e(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Ze(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Ze(e,t){if(e){if("string"==typeof e)return Ne(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ne(e,t):void 0}}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Re=new j.default({stroke:Y.Gz}),De=Le(Le({},xe.gF.THIN_OUTLINE,Y.RU),xe.gF.THICK_OUTLINE,Y.Gz),Fe=function(e){return new me.default(e.getGeometry().getCoordinates())},Me=function(e){return new me.default(e.getGeometry().getCoordinates().flat())},Ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=e.color,a=e.label,i=e.labelStyle,c=e.measure,l=e.type,u=e.filled,s=ye()(o||Y.lr),f=[];switch(l){case xe.Te.POINTS:f.push(new j.default({image:new M.Z({stroke:r?Y.RU:void 0,fill:(0,Y.hl)(s.rgb().array()),radius:6})}));break;case xe.Te.LINE_STRING:r&&f.push(Re),f.push(new j.default({stroke:(t?Y.Se:Y.bP)(s.rgb().array())})),n&&f.push(function(e,t,r){return new j.default({image:new M.Z({stroke:t?Y.RU:void 0,fill:(0,Y.hl)(r.rgb().array()),radius:5}),geometry:Fe})}(0,r,s));break;case xe.Te.POLYGON:f.push(new j.default({stroke:(0,Y.Nj)(s.rgb().array()),geometry:function(e){var t=Ie(e.getGeometry().getCoordinates()).slice(1);return new ve.Z(t.map((function(e){return[e]})))},zIndex:1})),n&&f.push(function(e,t,r){return new j.default({image:new M.Z({stroke:t?Y.RU:void 0,fill:(0,Y.hl)(r.rgb().array()),radius:5}),geometry:Me})}(0,r,s));default:u&&f.push(new j.default({fill:(0,Y.hl)(s.fade(r?.5:.75).rgb().array())})),r&&f.push(Re),f.push(new j.default({stroke:(t?Y.Se:Y.bP)(s.rgb().array()),geometry:function(e){if(l===xe.Te.POLYGON){var t=e.getGeometry().getCoordinates()[0];return new ge.default([t])}return e.getGeometry()}}))}return a&&a.length>0&&i!==xe.gF.HIDDEN&&f.push(new j.default({text:new k.default({font:"12px sans-serif",offsetY:l===xe.Te.POINTS?16:0,placement:l===xe.Te.LINE_STRING?"line":"point",stroke:De[i],text:a,textAlign:"center",textBaseline:l===xe.Te.LINE_STRING?"bottom":"middle"})})),c&&f.push(new j.default({text:new k.default({font:"12px sans-serif",offsetY:l===xe.Te.LINE_STRING?3:15,placement:"lineString"===l?"line":"point",stroke:De[i],text:"(".concat((0,W.vr)(e),")"),textAlign:"center",textBaseline:l===xe.Te.LINE_STRING?"top":"middle"})})),f},Ge=function(e){var t=e.feature,r=e.isSelected,n=e.isGeofence,a=e.shouldShowPoints,i=Te(e,Pe);return o.createElement(f.L0,Ce({id:(0,z.Pe)(t.id),style:Ue(t,n,r,a)},i),function(e){var t=e.points,r=e.type,n=t.map((0,he.Z)(W.Gv));switch(r){case xe.Te.CIRCLE:if(n.length>=2){var a=n[0],i=(0,je.p)(n[0],n[1]);return o.createElement(f.J7.Circle,{center:a,radius:i})}return null;case xe.Te.POINTS:return n.length>1?o.createElement(f.J7.MultiPoint,{coordinates:n}):o.createElement(f.J7.Point,{coordinates:n[0]});case xe.Te.LINE_STRING:return o.createElement(f.J7.LineString,{coordinates:n});case xe.Te.POLYGON:var c;(0,je.y6)(n);var l,u=(null!==(c=e.holes)&&void 0!==c?c:[]).map((function(e){return e.map((0,he.Z)(W.Gv))})),s=_e(u);try{for(s.s();!(l=s.n()).done;){var p=l.value;(0,je.y6)(p)}}catch(e){s.e(e)}finally{s.f()}return o.createElement(f.J7.Polygon,{coordinates:n,holes:u});default:return null}}(t))};Ge.propTypes={feature:l().object.isRequired,isGeofence:l().bool,isSelected:l().bool,shouldShowPoints:l().bool};var Ve=(0,u.$j)((function(e,t){var r=t.feature;return{isGeofence:(0,Se.vj)(e)===r.id,isSelected:(0,Ee.zf)(e).includes(r.id),shouldShowPoints:(0,Ee.Z4)(e,r.id)}}))(Ge);function Be(e){e&&((0,H.Bl)(e.layer),(0,H._K)(e.layer))}var We=function(e){var t=e.features,r=e.geofencePolygonId,n=e.onError,a=e.onFeatureModificationStarted,i=e.onFeaturesModified,c=e.selectedTool,l=e.zIndex,u=(0,o.useRef)(null),s=(0,o.useCallback)((function(e){var t,n=e.features.getArray();null===(t=n.find((function(e){return e.getId()===(0,z.Pe)(r)})))||void 0===t||t.getGeometry().on("change",be.d),u.current=function(e){var t,r={},n=_e(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;r[o.getId()]=o.getRevision()}}catch(e){n.e(e)}finally{n.f()}return r}(n),a&&a(e)}),[a,r]),p=(0,o.useCallback)((function(e){var t,n=e.features.getArray();null===(t=n.find((function(e){return e.getId()===(0,z.Pe)(r)})))||void 0===t||t.getGeometry().un("change",be.d),i&&i(e,function(e,t){var r,n=[],o=[],a=_e(e);try{for(a.s();!(r=a.n()).done;){var i=r.value,c=i.getId();o.includes(c)||void 0!==t[c]&&t[c]===i.getRevision()||(n.push(i),o.push(c))}}catch(e){a.e(e)}finally{a.f()}return n}(n,u.current)),u.current=null}),[i,r]);return o.createElement(f.EY.Vector,{ref:Be,updateWhileAnimating:!0,updateWhileInteracting:!0,zIndex:l},o.createElement(f.qz.Vector,null,t.filter((function(e){return e.visible})).map((function(e){return o.createElement(Ve,{key:e.id,feature:e})})),c===we.UA.CUT_HOLE?o.createElement(f.Tl.CutHole,{onCutStart:s,onCutEnd:p,onError:n}):null,c===we.UA.EDIT_FEATURE?o.createElement(f.Tl.Modify,{onModifyStart:s,onModifyEnd:p}):null))};We.propTypes={selectedTool:l().string,zIndex:l().number,features:l().arrayOf(l().object).isRequired,geofencePolygonId:l().string,onError:l().func,onFeatureModificationStarted:l().func,onFeaturesModified:l().func};var ze=(0,u.$j)((function(e){return{features:(0,Ee.vQ)(e),geofencePolygonId:(0,Se.vj)(e)}}),(function(e){return{onError:function(t){e((0,Oe.x)(t))},onFeaturesModified:function(t,r){(0,Ae.cu)(r,e,{type:"modify",event:t})}}}))(We),He=(r(34338),r(48324),r(5399),r(88052),r(76034),r(30050),r(25742)),Ye=r(49466),qe=r(60188),$e=r(28889),Ke=r(282),Xe=r(39803),Qe=(r(81919),r(47522),r(99474),r(69653));function Je(e){return Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Je(e)}function et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?et(Object(r),!0).forEach((function(t){ct(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):et(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lt(n.key),n)}}function nt(e,t){return nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},nt(e,t)}function ot(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=it(e);if(t){var o=it(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Je(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return at(e)}(this,r)}}function at(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function it(e){return it=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},it(e)}function ct(e,t,r){return(t=lt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lt(e){var t=function(e,t){if("object"!=Je(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Je(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Je(t)?t:String(t)}var ut=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nt(e,t)}(i,e);var t,r,n,a=ot(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),ct(at(t=a.call(this,e)),"_registerClickawayHandlerIfNeeded",(function(){var e=t._isMounted&&t.state.open;e&&!t._clickawayHandlerRegistered?(document.addEventListener("click",t._handleClickAway,!0),t._clickawayHandlerRegistered=!0):!e&&t._clickawayHandlerRegistered&&(document.removeEventListener("click",t._handleClickAway,!0),t._clickawayHandlerRegistered=!1)})),ct(at(t),"_togglePicker",(function(){t.setState((function(e){return{open:!e.open}}))})),ct(at(t),"_handleChange",(function(e){var r,n={r:(r=e.rgb).r,g:r.g,b:r.b,alpha:r.a};t.setState({color:n}),t.props.onChange&&t.props.onChange(n)})),ct(at(t),"_handleClickAway",(function(e){t._pickerContainerRef.current&&!t._pickerContainerRef.current.contains(e.target)&&(t._togglePicker(),e.preventDefault(),e.stopPropagation())})),t._clickawayHandlerRegistered=!1,t._isMounted=!1,t._pickerContainerRef=o.createRef(),t.state={open:!1,color:e.value||e.defaultValue||{r:255,g:255,b:255,alpha:1}},t}return t=i,(r=[{key:"componentDidMount",value:function(){this._isMounted=!0,this._registerClickawayHandlerIfNeeded()}},{key:"componentDidUpdate",value:function(){this._registerClickawayHandlerIfNeeded()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this._registerClickawayHandlerIfNeeded()}},{key:"render",value:function(){var e,t={position:"absolute",overflow:"hidden",zIndex:"2",transition:"height 0.3s",height:this.state.open?298:0},r=this.state.color;return o.createElement("div",{ref:this._pickerContainerRef,className:"popup-color-picker"},o.createElement("div",{className:"popup-color-picker-button",style:tt(tt({},this.props.style),{},{backgroundColor:ye()(r).rgb().string()}),onClick:this._togglePicker}),o.createElement("div",{className:"popup-color-picker-dropdown",style:t},o.createElement(Qe.xS,{color:(e=r,{r:e.r,g:e.g,b:e.b,a:e.alpha}),onChange:this._handleChange})))}}])&&rt(t.prototype,r),n&&rt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.Component);ct(ut,"propTypes",{defaultValue:l().object,onChange:l().func,style:l().object,value:l().object});var st=r(25161),ft=function(e,t){try{return ye()(e)}catch(e){return ye()(t)}};r(97895);function pt(e){return pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pt(e)}function dt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(r),!0).forEach((function(t){ht(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ht(e,t,r){var n;return n=function(e,t){if("object"!=pt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=pt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==pt(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var mt={small:10,medium:15,large:20};function vt(e){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vt(e)}function gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kt(n.key),n)}}function wt(e,t,r){return t&&bt(e.prototype,t),r&&bt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Et(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&St(e,t)}function St(e,t){return St=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},St(e,t)}function Ot(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=At(e);if(t){var o=At(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===vt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return xt(e)}(this,r)}}function xt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function At(e){return At=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},At(e)}function jt(e,t,r){return(t=kt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kt(e){var t=function(e,t){if("object"!=vt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=vt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vt(t)?t:String(t)}var Pt=function(e){Et(r,e);var t=Ot(r);function r(){var e;gt(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return jt(xt(e=t.call.apply(t,[this].concat(o))),"state",{strokeWidth:e.props.layer.parameters.strokeWidth,data:JSON.stringify(e.props.layer.parameters.data,null,2)}),jt(xt(e),"_handleStrokeColorChange",(function(t){e.props.setLayerParameters({strokeColor:t})})),jt(xt(e),"_handleFillColorChange",(function(t){e.props.setLayerParameters({fillColor:t})})),jt(xt(e),"_handleStrokeWidthChange",(function(t){e.setState({strokeWidth:t.target.value})})),jt(xt(e),"_handleDataChange",(function(t){e.setState({data:t.target.value})})),jt(xt(e),"_handleClick",(function(){e.props.setLayerParameters({strokeWidth:(0,He.Z)(e.state.strokeWidth)});try{var t=JSON.parse(e.state.data);e.props.setLayerParameters({data:t}),e.props.showMessage({message:"GeoJSON imported successfully.",semantics:"success"})}catch(t){e.props.showMessage({message:"Invalid GeoJSON data.",semantics:"error"})}})),e}return wt(r,[{key:"render",value:function(){var e=this.props.layer.parameters,t=e.fillColor,r=e.strokeColor;return o.createElement($e.Z,null,o.createElement($e.Z,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},o.createElement($e.Z,null,o.createElement("span",null,"Stroke color: "),o.createElement(ut,{value:r,onChange:this._handleStrokeColorChange})),o.createElement($e.Z,null,o.createElement("span",null,"Fill color: "),o.createElement(ut,{value:t,onChange:this._handleFillColorChange})),o.createElement(Xe.Z,{style:{marginLeft:2},label:"Stroke width",type:"number",min:"1",max:"100",value:this.state.strokeWidth,variant:"filled",onChange:this._handleStrokeWidthChange})),o.createElement($e.Z,{pt:2},o.createElement(Xe.Z,{multiline:!0,fullWidth:!0,label:"GeoJSON data",placeholder:"GeoJSON",maxRows:10,value:this.state.data,variant:"filled",onChange:this._handleDataChange})),o.createElement($e.Z,{textAlign:"center",pt:2},o.createElement(Ke.Z,{variant:"contained",color:"primary",onClick:this._handleClick},"Update layer")))}}]),r}(o.Component);jt(Pt,"propTypes",{layer:l().object,setLayerParameters:l().func,showMessage:l().func});var Ct=(0,u.$j)(null,(function(e,t){return{setLayerParameters:function(r){e((0,h.er)(t.layerId,r))},showMessage:function(t){e((0,st.c)(t))}}}))(Pt);Ct.propTypes={layerId:l().string};var Tt=function(e){Et(r,e);var t=Ot(r);function r(e){var n;return gt(this,r),(n=t.call(this,e))._assignSourceRef=n._assignSourceRef.bind(xt(n)),n._sourceRef=void 0,n.geojsonFormat=new Ye.Z,n._updateFeaturesFromProps(e),n}return wt(r,[{key:"componentDidUpdate",value:function(){this._updateFeaturesFromProps(this.props)}},{key:"_assignSourceRef",value:function(e){if(this._sourceRef!==e){if(this._sourceRef)this._sourceRef.source.clear();this._sourceRef=e,this._sourceRef&&this._updateFeaturesFromProps(this.props)}}},{key:"_parseFeatures",value:function(e){try{return this.geojsonFormat.readFeatures(e,{featureProjection:"EPSG:3857"})}catch(e){return[]}}},{key:"_updateFeaturesFromProps",value:function(e){var t=this._parseFeatures(e.data);if(this._sourceRef){var r=this._sourceRef.source;r.clear(),r.addFeatures(t)}}},{key:"render",value:function(){return o.createElement(f.qz.Vector,{ref:this._assignSourceRef})}}]),r}(o.Component),It=function(e){var t=e.layer,r=e.zIndex,n=o.useMemo((function(){var e=t.parameters,r=e.strokeWidth,n=ft(e.strokeColor,Y.lr),o=ft(e.fillColor,ye()(Y.lr).alpha(.5)),a={stroke:n.rgb().hex(),"stroke-opacity":n.alpha(),"stroke-width":r,fill:o.rgb().hex(),"fill-opacity":o.alpha()};return function(e){var t=e.getProperties();return!t["marker-symbol"]&&e.getGeometry()instanceof qe.default&&(t["marker-symbol"]="marker"),function(e,t){var r=yt(yt({"fill-opacity":.6,"stroke-opacity":1,"stroke-width":2},t),e),n=void 0!==r.stroke,o=void 0!==r.fill,a=void 0!==r.title,i=r["marker-size"]||r["marker-symbol"]||r["marker-color"],c=n?ye()(r.stroke||"#555555").alpha(r["stroke-opacity"]):void 0,l=o?ye()(r.fill||"#555555").alpha(r["fill-opacity"]):void 0,u=r.title,s={},f=0;if(c&&(s.stroke=new A.default({color:c.array(),width:Number(r["stroke-width"])})),l&&(s.fill=new x.default({color:l.array()})),i){var p=ye()(r["marker-color"]||"#7e7e7e"),d=r["marker-size"]||"medium";f=void 0!==mt[d]?mt[d]:mt.medium,s.image=new M.Z({fill:new x.default({color:p.array()}),stroke:new A.default({color:p.blacken(.5)}),radius:f/2})}return a&&(s.text=new k.default({text:u,font:"normal 14px Arial",fill:new x.default({color:"#ffffff"}),stroke:new A.default({color:"#000000",width:2})})),a&&f>0&&s.text.setOffsetY(f+2),new j.default(s)}(t,a)}}),[t]);return o.createElement("div",null,o.createElement(f.EY.Vector,{zIndex:r,style:n},o.createElement(Tt,{data:t.parameters.data})))};It.propTypes={layer:l().object,zIndex:l().number};var Lt=r(63457);var _t=r(79237),Zt=r(35122),Nt=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new k.default({font:"14px 'Fira Sans',Calibri,sans-serif",textBaseline:"bottom",fill:new x.default({color:e?"rgba(255, 255, 255, 1)":"rgba(0,0,0,1)"}),stroke:new A.default({color:e?"rgba(0, 0, 0, 1)":"rgba(255,255,255,1)",width:3})})},Rt=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new k.default({font:"14px 'Fira Sans',Calibri,sans-serif",textAlign:"end",fill:new x.default({color:e?"rgba(255, 255, 255, 1)":"rgba(0,0,0,1)"}),stroke:new A.default({color:e?"rgba(0, 0, 0, 1)":"rgba(255,255,255,1)",width:3})})},Dt={light:Nt(),dark:Nt(!0)},Ft={light:Rt(),dark:Rt(!0)},Mt=[90,45,30,20,10,5,2,1,.5,20/60,10/60,5/60,2/60,1/60,30/3600,20/3600,10/3600,5/3600,2/3600,1/3600],Ut=[90,45,30,20,10,5,2,1,.5,20/60,10/60,5/60,2/60,1/60,1/120,1/300,1/600,1/1200,1/6e3],Gt=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001];function Vt(e){switch((0,_t.x6)(e)){case Zt.mY.DEGREES:case Zt.mY.SIGNED_DEGREES:return Gt;case Zt.mY.DEGREES_MINUTES:case Zt.mY.SIGNED_DEGREES_MINUTES:return Ut;default:return Mt}}var Bt=function(e){e.layer;var t=e.zIndex,r=(0,Lt.Z)("(prefers-color-scheme: dark)"),n=(0,u.v9)(_t.VE),a=(0,u.v9)(_t.uR),i=(0,u.v9)(Vt);return o.createElement(f.EY.Graticule,{showLabels:!0,intervals:i,latLabelFormatter:n,latLabelStyle:Ft[r?"dark":"light"],lonLabelFormatter:a,lonLabelStyle:Dt[r?"dark":"light"],zIndex:t})};Bt.propTypes={layer:l().object,zIndex:l().number};r(73964),r(58373),r(66793),r(7629),r(77509);var Wt,zt=r(52398),Ht=r(94316),Yt=r.n(Ht),qt=r(81090),$t=r(97580),Kt=r(64436),Xt=r(6562),Qt=r(7397),Jt=r(96394),er=r(85639),tr=r(9570),rr=r(26209),nr=r(53514),or=r(38305),ar=function(e,t,r,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,r):o?o.value=r:t.set(e,r),r},ir=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class cr{constructor(e){Wt.set(this,void 0),e instanceof Map?ar(this,Wt,new Map([...e.entries()].map((([e,t])=>[JSON.stringify(e),t]))),"f"):Array.isArray(e)?ar(this,Wt,new Map(e),"f"):ar(this,Wt,new Map,"f")}set(e,t){return ir(this,Wt,"f").set(JSON.stringify(e),t)}has(e){return ir(this,Wt,"f").has(JSON.stringify(e))}get(e){return ir(this,Wt,"f").get(JSON.stringify(e))}get data(){return ir(this,Wt,"f")}get size(){return ir(this,Wt,"f").size}*keys(){for(const e of ir(this,Wt,"f").keys())yield JSON.parse(e)}*[(Wt=new WeakMap,Symbol.iterator)](){for(const[e,t]of ir(this,Wt,"f"))yield[JSON.parse(e),t]}}function lr(e){return lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lr(e)}function ur(){ur=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==lr(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(lr(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function sr(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function fr(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){sr(a,n,o,i,c,"next",e)}function c(e){sr(a,n,o,i,c,"throw",e)}i(void 0)}))}}function pr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||hr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dr(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=hr(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function yr(e){return function(e){if(Array.isArray(e))return mr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||hr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hr(e,t){if(e){if("string"==typeof e)return mr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mr(e,t):void 0}}function mr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jr(n.key),n)}}function br(e,t,r){return t&&gr(e.prototype,t),r&&gr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Er(e,t)}function Er(e,t){return Er=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Er(e,t)}function Sr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=xr(e);if(t){var o=xr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===lr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Or(e)}(this,r)}}function Or(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xr(e){return xr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xr(e)}function Ar(e,t,r){return(t=jr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jr(e){var t=function(e,t){if("object"!=lr(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=lr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lr(t)?t:String(t)}var kr=function(e){return Yt()(e).format({mantissa:3})},Pr={linear:{name:"Linear",function:function(e){return e}},logarithmic:{name:"Logarithmic",function:function(e){return Math.log(e)}}},Cr=function(e){wr(r,e);var t=Sr(r);function r(e){var n;return vr(this,r),Ar(Or(n=t.call(this,e)),"_showSubscriptionDialog",(function(){n._refs.subscriptionDialog.current.showDialog()})),Ar(Or(n),"_handleHueChange",(function(e){n.setState(Ar({},e.target.id,(0,He.Z)(e.target.value)))})),Ar(Or(n),"_handleColoringFunctionChange",(function(e){n.setState({coloringFunction:e.target.value})})),Ar(Or(n),"_handleClick",(function(){n.props.setLayerParameters({threshold:(0,He.Z)(n._refs.threshold.current.value),coloringFunction:n.state.coloringFunction,minValue:(0,He.Z)(n._refs.minValue.current.value),maxValue:(0,He.Z)(n._refs.maxValue.current.value),minHue:n.state.minHue,maxHue:n.state.maxHue,minDistance:(0,He.Z)(n._refs.minDistance.current.value)})})),Ar(Or(n),"_clearData",(function(){window.localStorage.removeItem("".concat(n.props.layerId,"_data")),n._refs.minValue.current.value=0,n.props.setLayerParameters({minValue:0}),n._refs.maxValue.current.value=0,n.props.setLayerParameters({maxValue:0})})),n.state={coloringFunction:e.layer.parameters.coloringFunction,minHue:e.layer.parameters.minHue,maxHue:e.layer.parameters.maxHue},n._refs=Object.assign.apply(Object,[{}].concat(yr(["subscriptionDialog","threshold","minValue","maxValue","minHue","maxHue","minDistance"].map((function(e){return Ar({},e,o.createRef())}))))),n._setAutoScale=function(e,t){n.props.setLayerParameters({autoScale:t})},n._setSnapToGrid=function(e,t){n.props.setLayerParameters({snapToGrid:t})},n}return br(r,[{key:"render",value:function(){var e=this.props.setLayerParameter,t=this.props.layer.parameters,r=this.state,n=r.minHue,a=r.maxHue,i={marginRight:10,width:125};return o.createElement("div",null,o.createElement(nr.Z,{ref:this._refs.subscriptionDialog,subscriptions:t.subscriptions,setSubscriptions:(0,zt.Z)(e,"subscriptions"),unit:t.unit,setUnit:(0,zt.Z)(e,"unit")}),o.createElement(Ke.Z,{variant:"contained",style:{marginBottom:"10px"},onClick:this._showSubscriptionDialog},"Edit subscriptions"),o.createElement("br",null),o.createElement(Xt.Z,{row:!0},o.createElement(Xe.Z,{inputRef:this._refs.threshold,style:i,label:"Threshold",type:"number",defaultValue:kr(t.threshold)}),o.createElement(Kt.Z,{style:{width:"125px"}},o.createElement(Jt.Z,{htmlFor:"selectedChannel"},"Coloring function"),o.createElement(rr.Z,{value:this.state.coloringFunction,onChange:this._handleColoringFunctionChange},Object.keys(Pr).map((function(e){return o.createElement(er.Z,{key:e,value:e},Pr[e].name)}))))),o.createElement(Xt.Z,{row:!0},o.createElement(Xe.Z,{inputRef:this._refs.minValue,style:i,label:"Minimum value",type:"number",defaultValue:kr(t.minValue)}),o.createElement(Xe.Z,{inputRef:this._refs.maxValue,style:i,label:"Maximum value",type:"number",defaultValue:kr(t.maxValue)}),o.createElement(p.Z,{label:"Autoscale",control:o.createElement(tr.Z,{checked:t.autoScale,onChange:this._setAutoScale})})),o.createElement("div",{style:{padding:"24px 0"}},o.createElement("input",{ref:this._refs.minHue,id:"minHue",type:"range",min:"0",max:"360",style:{width:"100px",verticalAlign:"middle"},value:n,onChange:this._handleHueChange}),o.createElement("div",{style:{display:"inline-block",width:"300px",height:"25px",margin:"5px",verticalAlign:"middle",background:"linear-gradient(-90deg,\n              hsla(".concat(a,", 70%, 50%, 0.75),\n              hsla(").concat(n,", 70%, 50%, 0.75)\n            )"),borderRadius:"10px",boxShadow:"0px 0px 3px 0px black"}}),o.createElement("input",{ref:this._refs.maxHue,id:"maxHue",type:"range",min:"0",max:"360",style:{width:"100px",verticalAlign:"middle"},value:a,onChange:this._handleHueChange})),o.createElement(Xt.Z,{row:!0},o.createElement(Xe.Z,{inputRef:this._refs.minDistance,label:"Min distance",style:i,InputProps:{endAdornment:o.createElement(Qt.Z,{position:"end"},"m")},type:"number",defaultValue:kr(t.minDistance)}),o.createElement(p.Z,{label:"Snap to grid",control:o.createElement(tr.Z,{checked:t.snapToGrid,onChange:this._setSnapToGrid})})),o.createElement(Xt.Z,{row:!0,style:{paddingTop:10}},o.createElement(Ke.Z,{onClick:this._handleClick},"Update parameters"),o.createElement(Ke.Z,{color:"secondary",onClick:this._clearData},"Clear data")))}}]),r}(o.Component);Ar(Cr,"propTypes",{layer:l().object,layerId:l().string,setLayerParameter:l().func,setLayerParameters:l().func});var Tr=(0,u.$j)(null,(function(e,t){return{setLayerParameters:function(r){e((0,h.er)(t.layerId,r))},setLayerParameter:function(r,n){e((0,h.er)(t.layerId,Ar({},r,n)))}}}))(Cr),Ir=function(e){wr(r,e);var t=Sr(r);function r(e){var n;return vr(this,r),Ar(Or(n=t.call(this,e)),"_assignSourceRef",(function(e){n._sourceRef!==e&&(n._sourceRef&&n._sourceRef.source.clear(),n._sourceRef=e,n._sourceRef&&n._drawFromStoredData())})),Ar(Or(n),"_getStoredData",(function(){return window.localStorage.getItem(n.props.storageKey)||window.localStorage.setItem(n.props.storageKey,"[]"),new cr(JSON.parse(window.localStorage.getItem(n.props.storageKey)))})),Ar(Or(n),"_setStoredData",(function(e){window.localStorage.setItem(n.props.storageKey,JSON.stringify(yr(e.data)))})),Ar(Or(n),"_drawFromStoredData",(function(){var e=(n._sourceRef||{}).source;if(e){e.clear(),n.features=new cr;var t,r=dr(n._getStoredData());try{for(r.s();!(t=r.n()).done;){var o=pr(t.value,2),a=o[0],i=o[1];n.features.set(a,n._drawPointFromData(Object.assign({value:i},a)))}}catch(e){r.e(e)}finally{r.f()}}})),Ar(Or(n),"_trySubscribe",function(){var e=fr(ur().mark((function e(t){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,or.Z.waitUntilReady();case 2:or.Z.sendMessage({type:"DEV-SUB",paths:t});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ar(Or(n),"_tryUnsubscribe",function(){var e=fr(ur().mark((function e(t){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,or.Z.waitUntilReady();case 2:or.Z.sendMessage({type:"DEV-UNSUB",paths:t});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ar(Or(n),"_processData",(function(e,t){var r,o,a=n.props.parameters.minDistance;if(n.props.parameters.snapToGrid){var i=(0,W.T$)((0,W.Gv)([t.lon,t.lat]).map((function(e){return Math.round(e/a)*a})));t.lon=i[0],t.lat=i[1];var c={lon:t.lon,lat:t.lat};if(e.has(c))return t.value=(e.get(c)+t.value)/2,e.set(c,t.value),void(n.features.get(c).measuredValue=t.value)}else{var l,u=dr(e.keys());try{for(u.s();!(l=u.n()).done;){var s=l.value;if(r=s,o=t,(0,$t.Sp)([r.lon,r.lat],[o.lon,o.lat])<a)return t.value=(e.get(s)+t.value)/2,e.set(s,t.value),void(n.features.get(s).measuredValue=t.value)}}catch(e){u.e(e)}finally{u.f()}}var f={lon:t.lon,lat:t.lat};e.set(f,t.value),n.features.set(f,n._drawPointFromData(t))})),Ar(Or(n),"_processNotification",(function(e){var t=n._getStoredData();for(var r in e.body.values)if(n.props.parameters.subscriptions.includes(r)&&null!==e.body.values[r].value){var o=e.body.values[r];n._processData(t,o),n.props.parameters.autoScale&&(o.value>n.props.parameters.threshold&&(o.value<n.props.parameters.minValue||0===n.props.parameters.minValue&&0===n.props.parameters.maxValue)&&n.props.setLayerParameters({minValue:o.value}),o.value>n.props.parameters.maxValue&&n.props.setLayerParameters({maxValue:o.value}))}n._setStoredData(t),n.features.size!==t.size&&n._drawFromStoredData()})),Ar(Or(n),"_makePoint",(function(e){return new qt.default({geometry:new qe.default((0,W.Gv)(e))})})),Ar(Or(n),"_drawPointFromData",(function(e){var t=n._makePoint([e.lon,e.lat]);t.measuredValue=e.value;var r=(n._sourceRef||{}).source;return r&&r.addFeature(t),t})),n._sourceRef=void 0,n.features=new cr,n}return br(r,[{key:"componentDidMount",value:function(){this._trySubscribe(this.props.parameters.subscriptions),or.Z.registerNotificationHandler("DEV-INF",this._processNotification)}},{key:"componentDidUpdate",value:function(){this._drawFromStoredData()}},{key:"componentWillUnmount",value:function(){this._tryUnsubscribe(this.props.parameters.subscriptions),or.Z.unregisterNotificationHandler("DEV-INF",this._processNotification)}},{key:"render",value:function(){return o.createElement(f.qz.Vector,{ref:this._assignSourceRef})}}]),r}(o.Component);Ar(Ir,"propTypes",{storageKey:l().string,parameters:l().object,setLayerParameters:l().func});var Lr=function(e){wr(r,e);var t=Sr(r);function r(e){var n;return vr(this,r),(n=t.call(this,e))._colorForValue=n._colorForValue.bind(Or(n)),n.styleFunction=n.styleFunction.bind(Or(n)),n}return br(r,[{key:"_colorForValue",value:function(e){var t=this.props.layer.parameters,r=t.threshold,n=t.coloringFunction,o=t.minValue,a=t.maxValue,i=t.minHue,c=t.maxHue,l=Pr[n].function,u=l(e),s=l(o),f=l(a);return e<r?"hsla(0, 100%, 100%, 0.5)":"hsla(".concat(i+(f>s?(u-s)/(f-s):0)*(c-i),", 70%, 50%, 0.5)")}},{key:"styleFunction",value:function(e,t){var r=.9/t+1.5;return function(e,t){return new j.default({image:new M.Z({fill:new x.default({color:e}),radius:t})})}(this._colorForValue(e.measuredValue),r)}},{key:"render",value:function(){var e=this.props.layer.parameters,t=e.minValue,r=e.maxValue,n=e.unit||"";return o.createElement("div",null,o.createElement(f.EY.Vector,{zIndex:this.props.zIndex,style:this.styleFunction},o.createElement(Ir,{storageKey:"".concat(this.props.layerId,"_data"),parameters:this.props.layer.parameters,setLayerParameters:this.props.setLayerParameters})),o.createElement("div",{id:"heatmapScale",style:{background:"linear-gradient(\n              hsla(".concat(this.props.layer.parameters.maxHue,", 70%, 50%, 0.75),\n              hsla(").concat(this.props.layer.parameters.minHue,", 70%, 50%, 0.75)\n            )"),borderRadius:"5px"}},o.createElement("span",null,"".concat(kr(r)," ").concat(n)),o.createElement("span",null,"".concat(kr((r+t)/2)," ").concat(n)),o.createElement("span",null,"".concat(kr(t)," ").concat(n))))}}]),r}(o.Component);Ar(Lr,"propTypes",{layer:l().object,layerId:l().string,zIndex:l().number,setLayerParameters:l().func});var _r=(0,u.$j)(null,(function(e,t){return{setLayerParameters:function(r){e((0,h.er)(t.layerId,r))}}}))(Lr),Zr=(r(6203),r(26774)),Nr=r(64657),Rr=r(33983);function Dr(e){return Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dr(e)}function Fr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Yr(n.key),n)}}function Ur(e,t,r){return t&&Mr(e.prototype,t),r&&Mr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vr(e,t)}function Vr(e,t){return Vr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vr(e,t)}function Br(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=zr(e);if(t){var o=zr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Dr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Wr(e)}(this,r)}}function Wr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zr(e){return zr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zr(e)}function Hr(e,t,r){return(t=Yr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yr(e){var t=function(e,t){if("object"!=Dr(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Dr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Dr(t)?t:String(t)}var qr=function(e){Gr(r,e);var t=Br(r);function r(e){var n;return Fr(this,r),Hr(Wr(n=t.call(this,e)),"_assignCenterField",(function(e){n._inputFields.center=e})),Hr(Wr(n),"_assignRadiusField",(function(e){n._inputFields.radius=e})),Hr(Wr(n),"_assignSizeField",(function(e){n._inputFields.size=e})),Hr(Wr(n),"_handleClick",(function(){n.props.setLayerParameters({center:n._inputFields.center.value.split(",").map(He.Z),size:(0,He.Z)(n._inputFields.size.value),radius:(0,He.Z)(n._inputFields.radius.value)})})),n._inputFields={},n}return Ur(r,[{key:"render",value:function(){var e=this.props.layer.parameters,t=e.center,r=e.size,n=e.radius,a=t?t.join(", "):"";return o.createElement("div",null,o.createElement(Xe.Z,{style:{paddingRight:"1em"},inputRef:this._assignCenterField,label:"Center of the grid",placeholder:"Center (comma separated)",defaultValue:a}),o.createElement(Xe.Z,{style:{paddingRight:"1em"},inputRef:this._assignSizeField,label:"Size of the grid",placeholder:"Size",defaultValue:String(r)}),o.createElement(Xe.Z,{style:{paddingRight:"1em"},inputRef:this._assignRadiusField,label:"Radius of one cell",placeholder:"Radius",defaultValue:String(n)}),o.createElement("br",null),"\xa0",o.createElement("br",null),o.createElement(Ke.Z,{onClick:this._handleClick},"Update hex grid"))}}]),r}(o.Component);Hr(qr,"propTypes",{layer:l().object,setLayerParameters:l().func});var $r=(0,u.$j)(null,(function(e,t){return{setLayerParameters:function(r){e((0,h.er)(t.layerId,r))}}}))(qr),Kr=function(e){Gr(r,e);var t=Br(r);function r(){var e;Fr(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return Hr(Wr(e=t.call.apply(t,[this].concat(o))),"_assignSourceRef",(function(t){if(e._sourceRef!==t){if(e._sourceRef)e._sourceRef.source.clear();e._sourceRef=t}})),e}return Ur(r,[{key:"componentDidUpdate",value:function(){if(this._sourceRef){var e=this._sourceRef.source;this._drawHexagonsFromProps(this.props,e)}}},{key:"render",value:function(){return o.createElement(f.qz.Vector,{ref:this._assignSourceRef})}},{key:"_getCorners",value:function(e,t){return[30,90,150,210,270,330,30].map(Rr.Yr).map((function(r){return(0,W.Gv)([e[0]+t*Math.sin(r),e[1]+t*Math.cos(r)])}))}},{key:"_getHexagon",value:function(e,t){return new qt.default({geometry:new ge.default([this._getCorners(e,t)])})}},{key:"_drawHexagonsFromProps",value:function(e,t){for(var r,n=e.center,o=e.size,a=e.radius,i={},c=-o;c<=o;c++)for(var l=Math.max(-o,-o-c);l<=Math.min(o,o-c);l++){var u="".concat(c,",").concat(l);i[u]=this._getHexagon([n[0]+1.5*a*c,n[1]-a*Math.sqrt(3)*(.5*c+l)],a),i[u].setId(u)}t.clear(),t.addFeatures((0,Nr.Z)(i));for(var s=0,f=Object.keys(i);s<f.length;s++){var p=f[s],d=p.split(",").map(He.Z),y=(0,Zr.Z)(d.map(Math.abs))/(2*o+1)*115;i[p].setStyle((r="hsla(".concat(y,", 70%, 50%, 0.5)"),new j.default({fill:new x.default({color:r})})))}}}]),r}(o.PureComponent),Xr=function(e){var t=e.layer,r=e.zIndex,n=t.parameters,a=n.center,i=n.size,c=n.radius;return o.createElement("div",null,o.createElement(f.EY.Vector,{zIndex:r},o.createElement(Kr,{center:a,size:i,radius:c})),o.createElement("div",{id:"heatmapScale"},o.createElement("span",null,"100%"),o.createElement("span",null,"50%"),o.createElement("span",null,"0%")))};Xr.propTypes={layer:l().object,zIndex:l().number};var Qr=Xr,Jr=(r(97389),r(66688)),en=r(37176),tn=r(35798),rn=r(24849),nn=r(58365),on=r(21594),an=r(35806),cn=r(24652),ln=r(99234);function un(e){return un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},un(e)}function sn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sn(Object(r),!0).forEach((function(t){pn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pn(e,t,r){var n;return n=function(e,t){if("object"!=un(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=un(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==un(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dn(){dn=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",m={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==r&&n.call(S,i)&&(w=S);var O=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==un(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(un(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function yn(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function hn(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){yn(a,n,o,i,c,"next",e)}function c(e){yn(a,n,o,i,c,"throw",e)}i(void 0)}))}}var mn=function(e){var t=e.active,r=e.save,n=(0,en.Z)(t);return n&&n!==t&&setTimeout(r,0),null};mn.propTypes={active:l().string,save:l().func};var vn=function(){var e=hn(dn().mark((function e(t){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var r=new FileReader;r.addEventListener("load",(function(){e(r.result)})),r.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),gn=function(){var e=hn(dn().mark((function e(t){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var r=new window.Image;r.addEventListener("load",(function(){e({width:r.naturalWidth,height:r.naturalHeight})})),r.src=t})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),bn=function(e){var t=e.layer.parameters,r=e.mapViewCenterPosition,n=e.selectImage,a=e.updateTransform,i=(0,o.useRef)(),c=(0,o.useCallback)((function(){i.current&&i.current.click()}),[]);(0,o.useEffect)((function(){t.transform.position||a(fn(fn({},t.transform),{},{position:{lon:r[0].toFixed(6),lat:r[1].toFixed(6)}}))}));var l=(0,o.useCallback)((function(){(0,an.xe)("ImageTransformEditor")}),[]);return o.createElement(Jr.l0,{initialValues:fn({},t.transform),onSubmit:a},(function(e){var r=e.handleSubmit;return o.createElement("form",{id:"ImageTransformEditor",onSubmit:r},o.createElement(Jr.lP,{subscription:{active:!0,values:!0},component:mn,save:l}),o.createElement($e.Z,{display:"flex",flexDirection:"row"},t.image.name?o.createElement("img",{src:t.image.data,style:{width:"100%",minWidth:"0",height:"10em",objectFit:"contain"}}):o.createElement(nn.Z,{variant:"rect",width:"100%",height:"10em",onClick:c}),o.createElement($e.Z,{p:.75}),o.createElement($e.Z,{textAlign:"center",margin:"auto",width:"100%"},o.createElement(on.Z,{ref:i,filter:["image/*"],variant:"contained",startIcon:o.createElement(rn.Z,null),onSelected:n},"Select"),o.createElement($e.Z,{p:.75}),t.image.name?o.createElement(o.Fragment,null,o.createElement("span",null,t.image.name),o.createElement("br",null),o.createElement("span",{style:{fontStyle:"italic"}},t.image.dimensions.width,"\xa0\xd7\xa0",t.image.dimensions.height,"\xa0px")):"Please select an image!")),o.createElement($e.Z,{display:"flex",flexDirection:"row"},o.createElement(an.LT,{fullWidth:!0,margin:"dense",name:"position.lat",label:"Latitude of center"}),o.createElement($e.Z,{p:.75}),o.createElement(an.vL,{fullWidth:!0,margin:"dense",name:"position.lon",label:"Longitude of center"})),o.createElement($e.Z,{display:"flex",flexDirection:"row"},o.createElement(an.g7,{fullWidth:!0,margin:"dense",name:"angle",label:"Angle"}),o.createElement($e.Z,{p:.75}),o.createElement(an.nv,{fullWidth:!0,type:"number",inputProps:{step:.1},fieldProps:{validate:(0,ln.v_)([ln.C1,ln.yx,ln.i1])},InputProps:{endAdornment:o.createElement(Qt.Z,{position:"end"},"cm/px")},margin:"dense",name:"scale",label:"Scale",variant:"filled"})),o.createElement("input",{type:"submit",hidden:!0}))}))};bn.propTypes={layer:l().object,mapViewCenterPosition:l().arrayOf(l().number),selectImage:l().func,updateTransform:l().func};var wn=(0,u.$j)((function(e){return{mapViewCenterPosition:(0,cn.zn)(e)}}),(function(e,t){return{selectImage:function(r){return hn(dn().mark((function n(){var o;return dn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,vn(r);case 2:return o=n.sent,n.t0=e,n.t1=h.er,n.t2=t.layerId,n.t3=o,n.t4=r.name,n.next=10,gn(o);case 10:n.t5=n.sent,n.t6={data:n.t3,name:n.t4,dimensions:n.t5},n.t7={image:n.t6},n.t8=(0,n.t1)(n.t2,n.t7),(0,n.t0)(n.t8);case 15:case"end":return n.stop()}}),n)})))()},updateTransform:function(r){var n={position:{lon:Number(r.position.lon),lat:Number(r.position.lat)},angle:Number(r.angle),scale:Number(r.scale)};e((0,h.er)(t.layerId,{transform:n}))}}}))(bn),En=function(e){var t=e.layer.parameters,r=t.image,n=t.transform,a=n.position,i=n.angle,c=n.scale,l=e.zIndex;return a?o.createElement(f.EY.GeoImage,{zIndex:l},o.createElement(f.qz.GeoImage,{url:r.data,imageCenter:(0,W.Gv)([a.lon,a.lat]),imageRotate:(0,je.Yr)(i),imageScale:c/(0,tn._Q)("EPSG:3857",100,(0,W.Gv)([a.lon,a.lat]))})):null};En.propTypes={layer:l().object,zIndex:l().number};var Sn=En,On=(r(21552),r(30845)),xn=r(91900),An=r(13258),jn=r(28703),kn=r(32246),Pn=r(54384),Cn=r(42871),Tn=r(97188),In=r(91238);function Ln(e){return function(e){if(Array.isArray(e))return _n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return _n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _n(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Zn=new j.default({stroke:(0,Y.bP)(V.ZP.plannedTrajectory)}),Nn=[[Zn],[new j.default({stroke:Y.Gz}),Zn]],Rn=function(e,t,r){var n=r?[0,5]:[0,-10];return new j.default({geometry:new qe.default(e),image:new oe.Z({points:3,fill:(0,Y.hl)(V.ZP.plannedTrajectory),rotateWithView:!0,radius:10,scale:[.75,1],rotation:t,displacement:n})})},Dn=function(e,t){return Math.PI/2-Math.atan2(t[1]-e[1],t[0]-e[0])};function Fn(e){return e?(t=e.map((function(e){return(0,W.Gv)([e.lon,e.lat])})),(0,In.default)(t,(function(e,r){return r>0&&e[0]===t[r-1][0]&&e[1]===t[r-1][1]}))):void 0;var t}function Mn(e){var t=Nn[0],r=Array.isArray(e)?e.length:0;if(r>=2){var n=Dn(e[0],e[1]),o=Dn(e[r-2],e[r-1]);t=[].concat(Ln(t),[Rn(e[0],n,!0),Rn(e[r-1],o)])}return t}var Un=function(e){var t=e.source,r=e.trajectory,n=e.uavId,a=(0,o.useMemo)((function(){return Fn(r)}),[r]),i=(0,o.useMemo)((function(){return Mn(a)}),[a]);return a?o.createElement(f.L0,{id:(0,z.Bg)(n),source:t,style:i},o.createElement(f.J7.LineString,{coordinates:a})):null};Un.propTypes={source:l().any,trajectory:l().arrayOf(Tn.Z.coordinate),uavId:l().string};const Gn=(0,u.$j)((function(e,t){var r=t.uavId;return{trajectory:(0,kn.RO)(e,r)}}),{})(Un);var Vn=function(e){var t=e.source,r=e.trajectory,n=e.missionIndex,a=(0,o.useMemo)((function(){return Fn(r)}),[r]),i=(0,o.useMemo)((function(){return Mn(a)}),[a]);return a?o.createElement(f.L0,{id:(0,z.Bg)(n),source:t,style:i},o.createElement(f.J7.LineString,{coordinates:a})):null};Vn.propTypes={source:l().any,trajectory:l().arrayOf(Tn.Z.coordinate),missionIndex:l().string};const Bn=(0,u.$j)((function(e,t){var r=t.missionIndex;return{trajectory:(0,jn.KT)(e,r)}}),{})(Vn),Wn=r.p+"a1dd466ef5fec4212608.svg";var zn=["layer","zIndex"];function Hn(e){return Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hn(e)}function Yn(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function qn(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Kn(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function $n(e){return function(e){if(Array.isArray(e))return Xn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Kn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kn(e,t){if(e){if("string"==typeof e)return Xn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xn(e,t):void 0}}function Xn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qn(e,t,r){var n;return n=function(e,t){if("object"!=Hn(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Hn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Hn(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Jn=function(e){var t=e.layer,r=e.setLayerParameters,n=t.parameters||{},a=n.showConvexHull,i=n.showOrigin,c=n.showHomePositions,l=n.showLandingPositions,u=n.showMissionOrigin,s=n.showTrajectoriesOfSelection,f=function(e){return function(t){return r(Qn({},e,t.target.checked))}};return o.createElement(Xt.Z,null,o.createElement(p.Z,{control:o.createElement(An.Z,{checked:i,value:"showOrigin",onChange:f("showOrigin")}),label:"Show map origin"}),o.createElement(p.Z,{control:o.createElement(An.Z,{checked:u,value:"showMissionOrigin",onChange:f("showMissionOrigin")}),label:"Show mission origin"}),o.createElement(p.Z,{control:o.createElement(An.Z,{checked:c,value:"showHomePositions",onChange:f("showHomePositions")}),label:"Show home positions"}),o.createElement(p.Z,{control:o.createElement(An.Z,{checked:l,value:"showLandingPositions",onChange:f("showLandingPositions")}),label:"Show landing positions"}),o.createElement(p.Z,{control:o.createElement(An.Z,{checked:a,value:"showConvexHull",onChange:f("showConvexHull")}),label:"Show convex hull of trajectories"}),o.createElement(p.Z,{control:o.createElement(An.Z,{checked:s,value:"showTrajectoriesOfSelection",onChange:f("showTrajectoriesOfSelection")}),label:"Show trajectories of selected drones"}))};Jn.propTypes={layer:l().object,setLayerParameters:l().func};var eo=(0,u.$j)(null,(function(e,t){return{setLayerParameters:function(r){e((0,h.er)(t.layerId,r))}}}))(Jn);function to(e){e&&((0,H.Bl)(e.layer),(0,H._K)(e.layer))}var ro=(0,Y.Go)(V.ZP.axes.x,2),no=(0,Y.Go)(V.ZP.axes.y,2),oo=(0,Y.hl)(V.ZP.markers.origin),ao=new oe.Z({fill:(0,Y.hl)(V.ZP.markers.takeoff),points:3,radius:6,stroke:Y.dv}),io=new oe.Z({fill:(0,Y.hl)(V.ZP.markers.landing),points:3,radius:6,rotation:Math.PI,stroke:Y.dv}),co=function(e,t){return[new j.default({geometry:function(e){var t=e.getGeometry().getFirstCoordinate();return new qe.default(t)},image:new M.Z({fill:oo,radius:8,stroke:e?Y.Gz:Y.RU})}),new j.default({stroke:"x"===t?ro:no})]},lo=function(e,t){var r=(0,z.mK)(e.getId()),n={image:ao};return t<.4&&(n.text=new k.default({font:"12px sans-serif",offsetY:12,text:(0,Cn.Bq)(Number.parseInt(r,10)),textAlign:"center"})),new j.default(n)},uo=function(e,t){var r=(0,z.K5)(e.getId()),n={image:io};return t<.4&&(n.text=new k.default({font:"12px sans-serif",offsetY:-12,text:(0,Cn.Bq)(Number.parseInt(r,10)),textAlign:"center"})),new j.default(n)},so=(0,On.Z)((function(e){return new j.default({image:new P.Z({src:Wn,rotateWithView:!0,rotation:(0,je.Yr)(e),snapToPixel:!1})})})),fo=new j.default({stroke:(0,Y.bP)(V.ZP.convexHull)}),po=[[fo],[new j.default({stroke:Y.Gz}),fo]],yo=(0,Pn.VL)((0,z.ZX)(z.Y9)),ho=function(e){var t=e.convexHull,r=e.coordinateSystemType,n=e.homePositions,a=e.isConvexHullSelected,i=e.landingPositions,c=e.missionSlotIdsForTrajectories,l=e.missionOrientation,u=e.missionOrigin,s=e.orientation,p=e.origin,d=e.selectedOriginIds,y=e.uavIdsForTrajectories,h=[];if(Array.isArray(i)&&h.push.apply(h,$n(i.map((function(e,t){var r="land.".concat(t);if(!e)return null;var n=(0,z.HL)(t),a=(0,W.Gv)([e.lon,e.lat]);return o.createElement(f.L0,{key:r,id:n,style:uo},o.createElement(f.J7.Point,{coordinates:a}))})).filter(Boolean))),Array.isArray(n)&&h.push.apply(h,$n(n.map((function(e,t){var r="home.".concat(t);if(!e)return null;var n=(0,z.lP)(t),a=(0,W.Gv)([e.lon,e.lat]);return o.createElement(f.L0,{key:r,id:n,style:lo},o.createElement(f.J7.Point,{coordinates:a}))})).filter(Boolean))),p){var m=(0,z.M9)(z.R),v=(0,W.Gv)(p),g=50/(0,tn._Q)("EPSG:3857",1,v),b=[0,"nwu"===r?g:-g],w=[g,0],E=d.includes(z.R)||d.includes(z.R+"$y");xn.U1(w,(0,je.Yr)(90-s)),xn.U1(b,(0,je.Yr)(90-s)),xn.IH(b,v),xn.IH(w,v),h.push(o.createElement(f.L0,{key:"mapOrigin.x",id:m,style:co(E,"x")},o.createElement(f.J7.LineString,{coordinates:[v,w]})),o.createElement(f.L0,{key:"mapOrigin.y",id:m+"$y",style:co(E,"y")},o.createElement(f.J7.LineString,{coordinates:[v,b]})))}if(u){var S=(0,z.M9)(z.tr),O=(0,W.Gv)(u);h.push(o.createElement(f.L0,{key:"missionOrigin",id:S,style:so(l)},o.createElement(f.J7.Point,{coordinates:O})))}if(t){var x=(0,z.ZX)(z.Y9),A=t.map((function(e){return(0,W.Gv)([e.lon,e.lat])}));(0,je.y6)(A),h.push(o.createElement(f.L0,{key:"missionConvexHull",id:x,style:po[a?1:0]},o.createElement(f.J7.LineString,{coordinates:A})))}if(Array.isArray(y)&&y.length>0){var j,k=qn(y);try{for(k.s();!(j=k.n()).done;){var P=j.value;h.push(o.createElement(Gn,{key:"trajectory.".concat(P),uavId:P}))}}catch(e){k.e(e)}finally{k.f()}}if(Array.isArray(c)&&c.length>0){var C,T=qn(c);try{for(T.s();!(C=T.n()).done;){var I=C.value;h.push(o.createElement(Bn,{key:"trajectory.s".concat(I),missionIndex:I}))}}catch(e){T.e(e)}finally{T.f()}}return o.createElement(f.qz.Vector,null,h)};ho.propTypes={convexHull:l().arrayOf(Tn.Z.coordinate),coordinateSystemType:l().oneOf(["neu","nwu"]),homePositions:l().arrayOf(Tn.Z.coordinate),isConvexHullSelected:l().bool,landingPositions:l().arrayOf(Tn.Z.coordinate),missionSlotIdsForTrajectories:l().arrayOf(l().string),missionOrientation:Tn.Z.angle,missionOrigin:l().arrayOf(l().number),orientation:Tn.Z.angle,origin:l().arrayOf(l().number),selectedOriginIds:l().arrayOf(l().string),uavIdsForTrajectories:l().arrayOf(l().string)},ho.defaultProps={orientation:0};var mo=function(e){e.layer;var t=e.zIndex,r=Yn(e,zn);return o.createElement(f.EY.Vector,{ref:to,updateWhileAnimating:!0,updateWhileInteracting:!0,zIndex:t},o.createElement(ho,r))};mo.propTypes={layer:l().object,zIndex:l().number};var vo=(0,u.$j)((function(e,t){var r,n,o,a,i,c,l,u=t.layer;return{convexHull:null!=u&&null!==(r=u.parameters)&&void 0!==r&&r.showConvexHull?(0,jn.SR)(e):void 0,coordinateSystemType:e.map.origin.type,homePositions:null!=u&&null!==(n=u.parameters)&&void 0!==n&&n.showHomePositions?(0,Se.x_)(e):void 0,isConvexHullSelected:yo(e),landingPositions:null!=u&&null!==(o=u.parameters)&&void 0!==o&&o.showLandingPositions?(0,Se.Kj)(e):void 0,missionSlotIdsForTrajectories:null!=u&&null!==(a=u.parameters)&&void 0!==a&&a.showTrajectoriesOfSelection?(0,Se.g3)(e):void 0,missionOrigin:null!=u&&null!==(i=u.parameters)&&void 0!==i&&i.showMissionOrigin?(0,jn._$)(e):void 0,missionOrientation:(0,jn.nB)(e),orientation:(0,cn.Xq)(e),origin:(null==u||null===(c=u.parameters)||void 0===c?void 0:c.showOrigin)&&e.map.origin.position,selectedOriginIds:(0,Pn.xl)(e),uavIdsForTrajectories:null!=u&&null!==(l=u.parameters)&&void 0!==l&&l.showTrajectoriesOfSelection?(0,kn.G7)(e):void 0}}),{})(mo);function go(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wo(e){return wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wo(e)}function Eo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return So(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return So(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function So(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Oo(e,t,r){var n;return n=function(e,t){if("object"!=wo(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=wo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==wo(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xo=(0,r(2925).ZP)("OwnLocationLayer"),Ao=function(e){var t=e.layer.parameters,r=t.showAccuracy,n=t.showOrientation,a=e.setLayerParameters,i=function(e){return function(t){return a(Oo({},e,t.target.checked))}};return o.createElement(Xt.Z,null,o.createElement(p.Z,{control:o.createElement(An.Z,{checked:r,value:"showAccuracy",onChange:i("showAccuracy")}),label:"Show accuracy"}),o.createElement(p.Z,{control:o.createElement(An.Z,{checked:n,value:"showOrientation",onChange:i("showOrientation")}),label:"Show orientation"}))};Ao.propTypes={layer:l().object,setLayerParameters:l().func};var jo=(0,u.$j)(null,(function(e,t){return{setLayerParameters:function(r){e((0,h.er)(t.layerId,r))}}}))(Ao),ko=function(e){var t=e.layer.parameters,r=t.showAccuracy,n=t.showOrientation,a=e.zIndex,i=Eo((0,o.useState)(null),2),c=i[0],l=i[1],u=(0,o.useCallback)((function(e){l(e.target.getPosition())}),[l]),s=(0,o.useMemo)((function(){return new j.default({image:new M.Z({radius:8,fill:new x.default({color:"#00AEEF"}),stroke:new A.default({color:"#fff",width:2})})})}),[]),p=Eo((0,o.useState)(null),2),d=p[0],y=p[1],h=(0,o.useCallback)((function(e){y(e.target.getAccuracyGeometry().getLinearRing(0).getCoordinates())}),[y]),m=(0,o.useMemo)((function(){return new j.default({fill:new x.default({color:"rgba(255, 255, 255, 0.35)"}),stroke:new A.default({color:"#00AEEF",width:2})})}),[]),v=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).absolute,t=void 0!==e&&e,r=go((0,o.useState)(null),2),n=r[0],a=r[1];return(0,o.useEffect)((function(){var e=t?"deviceorientationabsolute":"deviceorientation";return window.addEventListener(e,a),function(){window.removeEventListener(e,a)}}),[t]),n}({absolute:!0}),g=(0,o.useMemo)((function(){return new j.default({image:new oe.Z({points:3,fill:new x.default({color:"#00AEEF"}),stroke:new A.default({color:"#fff",width:2}),rotateWithView:!0,radius:8,scale:[.75,1],rotation:v?(0,je.Yr)(-v.alpha):0,displacement:[0,11]})})}),[v]),b=(0,o.useCallback)((function(e){xo.warn("Error while getting position: ".concat(e.message))}),[]);return o.createElement(f.EY.Vector,{updateWhileAnimating:!0,updateWhileInteracting:!0,zIndex:a},o.createElement(f.bT,{changePosition:u,changeAccuracyGeometry:h,projection:"EPSG:3857",error:b}),o.createElement(f.qz.Vector,null,r&&d?o.createElement(f.L0,{id:"own-location-accuracy",style:m},o.createElement(f.J7.Polygon,{coordinates:d})):null,n&&c?o.createElement(f.L0,{id:"own-location-orientation",style:g},o.createElement(f.J7.Point,{coordinates:c})):null,c?o.createElement(f.L0,{id:"own-location-position",style:s},o.createElement(f.J7.Point,{coordinates:c})):null))};ko.propTypes={layer:l().object,zIndex:l().number};var Po=r(38799);function Co(e){return Co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Co(e)}function To(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Io(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Mo(n.key),n)}}function Lo(e,t,r){return t&&Io(e.prototype,t),r&&Io(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zo(e,t)}function Zo(e,t){return Zo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zo(e,t)}function No(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Do(e);if(t){var o=Do(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Co(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ro(e)}(this,r)}}function Ro(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Do(e){return Do=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Do(e)}function Fo(e,t,r){return(t=Mo(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mo(e){var t=function(e,t){if("object"!=Co(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Co(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Co(t)?t:String(t)}var Uo=function(e){_o(r,e);var t=No(r);function r(e){var n;To(this,r),Fo(Ro(n=t.call(this,e)),"_onLayersChanged",(function(e){n.setState({layers:e.target.value})})),Fo(Ro(n),"_onUrlChanged",(function(e){n.setState({url:e.target.value})})),Fo(Ro(n),"_handleClick",(function(){var e=n.state,t=e.layers,r=e.url;n.props.setLayerParameters({layers:t,url:r}),n.props.showMessage("Layer settings saved successfully.")}));var o=e.layer.parameters,a=o.layers,i=o.url;return n.state={layers:a||"",url:i||""},n}return Lo(r,[{key:"render",value:function(){var e=H.kP.map((function(e){return o.createElement(er.Z,{key:e,value:e},e.toUpperCase())})),t=this.props,r=t.changeTileServerType,n=t.layer,a=this.state,i=a.url,c=a.layers,l=n.parameters;return o.createElement("div",null,o.createElement(Kt.Z,{fullWidth:!0},o.createElement(Jt.Z,{htmlFor:"tile-server-type"},"Tile server type"),o.createElement(rr.Z,{value:l.type,input:o.createElement(Po.Z,{id:"tile-server-type"}),onChange:r},e)),o.createElement(Xe.Z,{fullWidth:!0,label:"Tile server URL",margin:"normal",value:i,onChange:this._onUrlChanged}),l.type===H.OH.XYZ?o.createElement("div",null,o.createElement("small",null,"Use ",o.createElement("code",null,"{x}"),", ",o.createElement("code",null,"{y}"),",",o.createElement("code",null,"{-y}")," and ",o.createElement("code",null,"{z}")," in the server URL template for the x and y coordinates and the zoom level. Use tokens like",o.createElement("code",null,"{a-c}")," to denote multiple servers handling the same tileset.")):o.createElement(Xe.Z,{fullWidth:!0,label:"Layers",margin:"normal",placeholder:"Layers to show (comma-separated)",value:c,onChange:this._onLayersChanged}),o.createElement("div",{style:{textAlign:"center",paddingTop:"1em"}},o.createElement(Ke.Z,{onClick:this._handleClick},"Save settings")))}}]),r}(o.Component);Fo(Uo,"propTypes",{layer:l().object.isRequired,changeTileServerType:l().func,setLayerParameters:l().func,showMessage:l().func});var Go=(0,u.$j)(null,(function(e,t){return{changeTileServerType:function(r){e((0,h.er)(t.layerId,{type:r.target.value}))},setLayerParameters:function(r){e((0,h.er)(t.layerId,r))},showMessage:function(t){e((0,st.c)(t))}}}))(Uo),Vo=function(e){_o(r,e);var t=No(r);function r(){return To(this,r),t.apply(this,arguments)}return Lo(r,[{key:"render",value:function(){var e=this._sourceFromParameters(this.props.layer.parameters);return o.createElement("div",null,o.createElement(f.EY.Tile,{zIndex:this.props.zIndex},e))}},{key:"_sourceFromParameters",value:function(e){var t=e.type,r=e.url,n=e.layers;switch(t){case H.OH.WMS:return o.createElement(f.qz.TileWMS,{url:r,params:{LAYERS:n,TILED:!0}});case H.OH.XYZ:return o.createElement(f.qz.XYZ,{url:r});case H.OH.TILE_CACHE:var a=(r&&r.length>0&&"/"===r.charAt(r.length-1)?r:r+"/")+"1.0.0/"+n+"/{z}/{x}/{-y}.png";return o.createElement(f.qz.XYZ,{url:a});default:return[]}}}]),r}(o.Component);Fo(Vo,"propTypes",{layer:l().object,zIndex:l().number});var Bo=Vo,Wo=r(75491),zo=r(44176),Ho=r(90096),Yo=r(1295),qo=r(92414),$o=r(69203),Ko=r(41055);function Xo(e){return Xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xo(e)}function Qo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ea(n.key),n)}}function Jo(e,t,r){return(t=ea(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ea(e){var t=function(e,t){if("object"!=Xo(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Xo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Xo(t)?t:String(t)}var ta=function(){function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Jo(this,"createOrUpdateFeatureById",(function(e,t){t=n.projection?n.projection(t):t;var r=n.getFeatureById(e)||n._createFeatureById(e,t);return r.getGeometry().setCoordinates(t),r})),Jo(this,"_createFeatureById",(function(e,t){var r=new qe.default(t),o=n._featureFactory?n._featureFactory(e,r):new qt.default(r),a=n._featureIdFunction(e);return o.setId(a),n._featuresByObjectId[e]=o,n._vectorSource&&n._vectorSource.addFeature(o),n.featureAdded.dispatch(o),o})),Jo(this,"getFeatureById",(function(e){return n._featuresByObjectId[e]})),Jo(this,"getFeatureArray",(function(){return(0,Nr.Z)(n._featuresByObjectId)})),Jo(this,"removeAllFeatures",(function(){n._vectorSource&&n._vectorSource.clear(),n._featuresByObjectId={}})),Jo(this,"removeFeatureById",(function(e){var t=n.getFeatureById(e);return t&&n._vectorSource&&n._vectorSource.removeFeature(t),delete n._featuresByObjectId[e],t})),this._featuresByObjectId={},this._featureFactory=void 0,this._featureIdFunction=$o.default,this._vectorSource=t,this.projection=r,this.featureAdded=new Ko.MiniSignal,this.featureRemoved=new Ko.MiniSignal}var t,r,n;return t=e,(r=[{key:"featureFactory",get:function(){return this._featureFactory},set:function(e){this._featureFactory=e}},{key:"featureIdFunction",get:function(){return this._featureIdFunction},set:function(e){this._featureIdFunction=e}},{key:"vectorSource",get:function(){return this._vectorSource},set:function(e){var t=this;this._vectorSource!==e&&(this._vectorSource&&this._vectorSource.clear(),this._vectorSource=e,this._vectorSource&&(0,qo.Z)(this._featuresByObjectId,(function(e){return t._vectorSource.addFeature(e)})))}}])&&Qo(t.prototype,r),n&&Qo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const ra=r.p+"c56587927ae56c9f1fda.png",na=r.p+"aa4f81a03c0266969f2f.png",oa=r.p+"dbf5668680c9e570435b.png",aa=r.p+"fd785e824996906d5f26.png",ia=r.p+"da17a5e486c03be05d7f.png";var ca=r(49998);function la(e){return la="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},la(e)}function ua(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ya(n.key),n)}}function sa(e,t){return sa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sa(e,t)}function fa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=pa(e);if(t){var o=pa(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===la(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function pa(e){return pa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pa(e)}function da(e,t,r){return(t=ya(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ya(e){var t=function(e,t){if("object"!=la(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=la(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==la(t)?t:String(t)}var ha=da(da(da(da({},ca.zb.INFO,na),ca.zb.WARNING,oa),ca.zb.ERROR,aa),ca.zb.CRITICAL,aa),ma=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sa(e,t)}(a,e);var t,r,n,o=fa(a);function a(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=o.call(this,t))._selected=!1,r._color="",r._labelColor="",r._heading=0,r._status=null,r.uavId=e,r._setupStyle(),r}return t=a,r=[{key:"heading",get:function(){return this._heading},set:function(e){if(this._heading!==e&&(this._heading=e,this._iconImage)){var t=this._headingToRotation();this._iconImage.setRotation(t),this._selectionImage.setRotation(t)}}},{key:"selected",get:function(){return this._selected},set:function(e){this._selected!==e&&(this._selected=e,this._setupStyle())}},{key:"color",get:function(){return this._color},set:function(e){this._color!==e&&(this._color=e,this._setupStyle())}},{key:"labelColor",get:function(){return this._labelColor},set:function(e){this._labelColor!==e&&(this._labelColor=e,this._setupStyle())}},{key:"status",get:function(){return this._status},set:function(e){this._status!==e&&(this._status=e,this._setupStyle())}},{key:"_setupStyle",value:function(){var e=[],t=new P.Z({rotateWithView:!0,rotation:this._headingToRotation(),snapToPixel:!1,src:ha[this._status]||ra});this._iconImage=t;var r=new j.default({image:t});e.push(r);var n=new P.Z({rotateWithView:!0,rotation:this._headingToRotation(),snapToPixel:!1,src:ia});this._selectionImage=n;var o=new j.default({image:n});this._selected&&e.splice(0,0,o);var a=new j.default({text:new k.default({fill:new x.default({color:this._labelColor&&this._labelColor.length>0?this._labelColor:"black"}),font:"12px sans-serif",offsetY:24,text:this.uavId||"undefined",textAlign:"center"})});e.push(a),this.setStyle(e)}},{key:"_headingToRotation",value:function(e){return void 0===e&&(e=this._heading),(0,je.Yr)(e%360)}}],r&&ua(t.prototype,r),n&&ua(t,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(qt.default),va=r(56958);function ga(e){return ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ga(e)}function ba(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return wa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wa(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function wa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ea(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ka(n.key),n)}}function Sa(e,t){return Sa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Sa(e,t)}function Oa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Aa(e);if(t){var o=Aa(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===ga(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return xa(e)}(this,r)}}function xa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Aa(e){return Aa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Aa(e)}function ja(e,t,r){return(t=ka(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ka(e){var t=function(e,t){if("object"!=ga(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ga(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ga(t)?t:String(t)}var Pa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sa(e,t)}(i,e);var t,r,n,a=Oa(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),ja(xa(t=a.call(this,e)),"_assignSourceRef",(function(e){e!==t._sourceRef&&(t._sourceRef&&(t._featureManager.vectorSource=void 0),t._sourceRef=e,t._sourceRef&&(t._featureManager.vectorSource=e.source))})),ja(xa(t),"_onFeatureAdded",(function(e){e.selected=(0,Ho.Z)(t.props.selection,e.getId())})),ja(xa(t),"_onFlockMaybeChanged",(function(e,r){e!==r&&(e&&(e.uavsUpdated.detach(t.eventBindings.uavsUpdated),delete t.eventBindings.uavsUpdated,e.uavsRemoved.detach(t.eventBindings.uavsRemoved),delete t.eventBindings.uavsRemoved,t._featureManager.removeAllFeatures()),r&&(t.eventBindings.uavsUpdated=r.uavsUpdated.add(t._onUAVsUpdated),t.eventBindings.uavsRemoved=r.uavsRemoved.add(t._onUAVsRemoved),t._onUAVsUpdated(r.getAllUAVs())))})),ja(xa(t),"_onSelectionMaybeChanged",(function(e,r){if(t._sourceRef){var n,o=t._sourceRef.source,a=o.getFeatureById.bind(o),i=ba((0,zo.Z)(r,e).map(a).filter(Boolean));try{for(i.s();!(n=i.n()).done;){n.value.selected=!0}}catch(e){i.e(e)}finally{i.f()}var c,l=ba((0,zo.Z)(e,r).map(a).filter(Boolean));try{for(l.s();!(c=l.n()).done;){c.value.selected=!1}}catch(e){l.e(e)}finally{l.f()}}})),ja(xa(t),"_onLabelColorMaybeChanged",(function(e,r){if(e!==r){var n,o=ba(t._featureManager.getFeatureArray());try{for(o.s();!(n=o.n()).done;){n.value.labelColor=r}}catch(e){o.e(e)}finally{o.f()}}})),ja(xa(t),"_onUAVsRemoved",(function(e){var r,n=ba(e);try{for(n.s();!(r=n.n()).done;){var o=r.value;t._featureManager.removeFeatureById(o.id)}}catch(e){n.e(e)}finally{n.f()}})),ja(xa(t),"_onUAVsUpdated",(function(e){var r,n=ba(e);try{for(n.s();!(r=n.n()).done;){var o=r.value;if(0!==o.lon||0!==o.lat){var a=t._featureManager.createOrUpdateFeatureById(o.id,[o.lon,o.lat]);void 0!==o.heading&&(a.heading=o.heading),a.status=(0,kn.nK)(o),a.labelColor=t.props.labelColor}}}catch(e){n.e(e)}finally{n.f()}})),t._sourceRef=void 0,t._featureManager=new ta,t._featureManager.featureFactory=function(e,t){return new ma(e,t)},t._featureManager.featureIdFunction=z.TB,t._featureManager.featureAdded.add(t._onFeatureAdded),t.eventBindings={},t}return t=i,(r=[{key:"componentDidUpdate",value:function(e){this._onFlockMaybeChanged(e.flock,this.props.flock),this._onSelectionMaybeChanged(e.selection,this.props.selection),this._onLabelColorMaybeChanged(e.labelColor,this.props.labelColor),this._featureManager.projection=this.props.projection}},{key:"componentDidMount",value:function(){this.props.layer&&((0,H._K)(this.props.layer),(0,H.qc)(this.props.layer)),this._featureManager.projection=this.props.projection,this._onFlockMaybeChanged(void 0,this.props.flock),this._onSelectionMaybeChanged(void 0,this.props.selection)}},{key:"componentWillUnmount",value:function(){this._onFlockMaybeChanged(this.props.flock,void 0),this._onSelectionMaybeChanged(this.props.selection,void 0),this._featureManager.projection=void 0}},{key:"render",value:function(){return o.createElement(f.qz.Vector,{ref:this._assignSourceRef})}}])&&Ea(t.prototype,r),n&&Ea(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.Component);ja(Pa,"propTypes",{flock:l().instanceOf(va.Z),labelColor:l().string,layer:l().instanceOf(Yo.default),projection:l().func,selection:l().arrayOf(l().string).isRequired});const Ca=(0,f.VP)(Pa);var Ta=r(29227),Ia=r(15883),La=function(e){var t=e.layer,r=e.setLayerParameters,n=(t.parameters||{}).labelColor,a=(0,o.useCallback)((function(e){r({labelColor:e.hex})}),[r]);return o.createElement(o.Fragment,null,o.createElement(Wo.Z,null,"Label color"),o.createElement(Ta.Z,{color:n||"#000000",onChangeComplete:a}))};La.propTypes={layer:l().object,setLayerParameters:l().func};var _a=(0,u.$j)(null,(function(e,t){return{setLayerParameters:function(r){e((0,h.er)(t.layerId,r))}}}))(La),Za=function(e){var t=e.layer,r=e.projection,n=e.selection,a=e.zIndex;return o.createElement(f.EY.Vector,{updateWhileAnimating:!0,updateWhileInteracting:!0,zIndex:a},o.createElement(Ca,{selection:n,labelColor:t.parameters.labelColor,flock:Ia.ZP,projection:r}))};Za.propTypes={layer:l().object,zIndex:l().number,selection:l().arrayOf(l().string).isRequired,projection:l().func},Za.defaultProps={projection:W.Gv};var Na=(0,u.$j)((function(e){return{selection:(0,Pn.Mf)(e)}}),{})(Za),Ra=(r(82243),r(92083));function Da(e){return Da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Da(e)}function Fa(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Ma(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ma(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Ma(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ua(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ga(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Va(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ka(n.key),n)}}function Ba(e,t,r){return t&&Va(e.prototype,t),r&&Va(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wa(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&za(e,t)}function za(e,t){return za=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},za(e,t)}function Ha(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=qa(e);if(t){var o=qa(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Da(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ya(e)}(this,r)}}function Ya(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qa(e){return qa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qa(e)}function $a(e,t,r){return(t=Ka(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ka(e){var t=function(e,t){if("object"!=Da(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Da(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Da(t)?t:String(t)}var Xa=function(e){Wa(r,e);var t=Ha(r);function r(){var e;Ga(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return $a(Ya(e=t.call.apply(t,[this].concat(o))),"_onColorChanged",(function(t){e.props.setLayerParameters({trailColor:t.hex})})),$a(Ya(e),"_onTrailLengthChanged",(function(t){var r=(0,He.Z)(t.target.value);r>0&&Number.isFinite(r)&&e.props.setLayerParameters({trailLength:r})})),$a(Ya(e),"_onTrailWidthChanged",(function(t){var r=(0,He.Z)(t.target.value);r>0&&r<20&&e.props.setLayerParameters({trailWidth:r})})),e}return Ba(r,[{key:"render",value:function(){var e=this.props.layer,t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ua(Object(r),!0).forEach((function(t){$a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ua(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({trailColor:Y.lr,trailLength:10,trailWidth:2},e.parameters),r=t.trailColor,n=t.trailLength,a=t.trailWidth;return o.createElement("div",null,o.createElement(Xe.Z,{style:{paddingRight:"1em",width:150},label:"Trail length",placeholder:"Samples",type:"number",value:n,onChange:this._onTrailLengthChanged}),o.createElement(Xe.Z,{style:{paddingRight:"1em",width:150},label:"Trail width",placeholder:"Pixels",type:"number",value:a,onChange:this._onTrailWidthChanged}),o.createElement("div",{style:{paddingTop:"0.5em"}},o.createElement(Ta.Z,{color:r||Y.lr,onChangeComplete:this._onColorChanged})))}}]),r}(o.Component);$a(Xa,"propTypes",{layer:l().object,setLayerParameters:l().func});var Qa=(0,u.$j)(null,(function(e,t){return{setLayerParameters:function(r){e((0,h.er)(t.layerId,r))}}}))(Xa),Ja=function(e){Wa(r,e);var t=Ha(r);function r(e){var n;return Ga(this,r),$a(Ya(n=t.call(this,e)),"_assignSourceRef",(function(e){e!==n._sourceRef&&(n._sourceRef&&n._sourceRef.source.clear(),n._sourceRef=e,n._sourceRef&&n._sourceRef.source.addFeatures(n.features))})),$a(Ya(n),"_handleUpdate",(function(e){var t,r=Fa(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;o._id in n.lineStringsById?n.lineStringsById[o._id].appendCoordinate((0,W.Gv)([o.lon,o.lat])):(n.lineStringsById[o._id]=new Ra.default([(0,W.Gv)([o.lon,o.lat])]),n._registerNewFeature(new qt.default(n.lineStringsById[o._id])));for(;n.lineStringsById[o._id].getCoordinates().length>n.props.trailLength;)n.lineStringsById[o._id].setCoordinates(n.lineStringsById[o._id].getCoordinates().slice(1))}}catch(e){r.e(e)}finally{r.f()}})),$a(Ya(n),"_registerNewFeature",(function(e){n._updateFeatureStyle(e),n.features.push(e),n._sourceRef&&n._sourceRef.source.addFeature(e)})),$a(Ya(n),"_updateFeatureStyle",(function(e){e.setStyle(new j.default({stroke:(0,Y.Go)(n.props.trailColor,n.props.trailWidth)}))})),n.features=[],n.lineStringsById={},n._sourceRef=void 0,Ia.ZP.uavsUpdated.add(n._handleUpdate),n}return Ba(r,[{key:"componentDidUpdate",value:function(){if(this._sourceRef){var e,t=Fa(this._sourceRef.source.getFeatures());try{for(t.s();!(e=t.n()).done;){var r=e.value;this._updateFeatureStyle(r)}}catch(e){t.e(e)}finally{t.f()}}}},{key:"render",value:function(){return o.createElement(f.qz.Vector,{ref:this._assignSourceRef})}}]),r}(o.Component);$a(Ja,"propTypes",{trailLength:l().number,trailColor:l().string,trailWidth:l().number});var ei=function(e){var t=e.layer,r=e.zIndex;return o.createElement(f.EY.Vector,{updateWhileAnimating:!0,updateWhileInteracting:!0,zIndex:r},o.createElement(Ja,{trailLength:t.parameters.trailLength,trailColor:t.parameters.trailColor,trailWidth:t.parameters.trailWidth}))};ei.propTypes={layer:l().object,zIndex:l().number};var ti=ei,ri=(r(19649),r(18463)),ni=r(94697),oi=r(41749),ai=r(22318),ii=r(7482);function ci(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return li(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return li(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function li(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ui=function(e){var t,r=[],n=new Set((0,ii.us)(e).map((function(e){return e.type}))),o=ci(H.og);try{for(o.s();!(t=o.n()).done;){var a=t.value;!(0,H.om)(a)&&n.has(a)||r.push(a)}}catch(e){o.e(e)}finally{o.f()}return r},si=function(e){var t=e.enabledLayerTypes,r=e.layerTypes,n=e.onLayerTypeSelected,a=r.map((function(e){var r=t.includes(e);return o.createElement(oi.Z,{key:e,item:!0,xs:8,sm:4},o.createElement(ri.Z,{style:{cursor:r?"pointer":"auto",height:"100%",userSelect:"none",opacity:r?1:.54},elevation:r?1:0,variant:r?"outlined":"elevation",onClick:r?function(){return n(e)}:null},o.createElement(ni.Z,{avatar:(0,H.gc)(e),title:(0,H.DT)(e),style:{paddingLeft:16,paddingRight:16,height:"100%"}})))}));return o.createElement($e.Z,{display:"flex",flexDirection:"column"},o.createElement(ai.Z,{gutterBottom:!0,variant:"subtitle1",component:"p"},"Pick a layer type"),o.createElement(oi.Z,{container:!0,flex:"1",alignItems:"stretch",justifyContent:"flex-start",spacing:2},a))};si.propTypes={layer:l().object,layerId:l().string,layerTypes:l().arrayOf(l().string),enabledLayerTypes:l().arrayOf(l().string),onLayerTypeSelected:l().func};var fi,pi,di=(0,u.$j)((function(e){return{layerTypes:H.og,enabledLayerTypes:ui(e)}}),(function(e,t){return{onLayerTypeSelected:function(r){e((0,h.tB)(t.layerId,r))}}}))(si),yi=(0,u.$j)(null,{})((function(){return null}));function hi(e){return hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hi(e)}function mi(){return mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mi.apply(this,arguments)}function vi(e,t,r){var n;return n=function(e,t){if("object"!=hi(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=hi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==hi(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var gi=(vi(vi(vi(vi(vi(vi(vi(vi(vi(vi(fi={},H.F5.BASE,I),H.F5.GEOJSON,Ct),H.F5.HEATMAP,Tr),H.F5.HEXGRID,$r),H.F5.IMAGE,wn),H.F5.MISSION_INFO,eo),H.F5.OWN_LOCATION,jo),H.F5.TILE_SERVER,Go),H.F5.UAVS,_a),H.F5.UAV_TRACE,Qa),vi(vi(fi,H.F5.UNAVAILABLE,(function(){return o.createElement("div",{key:"_hint",style:{position:"relative",height:48}},o.createElement(a.Z,{text:"This layer is unavailable under the license of the currently connected server."}))})),H.F5.UNTYPED,di)),bi=function(e,t){if(!(e.type in gi))throw new Error("Cannot render settings for nonexistent layer type (".concat(e.type,")."));var r=gi[e.type];return o.createElement(r,{key:"".concat(t,"_settings"),layer:e,layerId:t})},wi=(vi(vi(vi(vi(vi(vi(vi(vi(vi(vi(pi={},H.F5.BASE,F),H.F5.BEACONS,ne),H.F5.DOCKS,pe),H.F5.FEATURES,ze),H.F5.GEOJSON,It),H.F5.GRATICULE,Bt),H.F5.HEATMAP,_r),H.F5.HEXGRID,Qr),H.F5.IMAGE,Sn),H.F5.MISSION_INFO,vo),vi(vi(vi(vi(vi(pi,H.F5.OWN_LOCATION,ko),H.F5.TILE_SERVER,Bo),H.F5.UAVS,Na),H.F5.UAV_TRACE,ti),H.F5.UNTYPED,yi)),Ei=function(e,t){if(!(e.type in wi))throw new Error("Nonexistent layer type (".concat(e.type,") cannot be rendered."));var r=wi[e.type];return o.createElement(r,mi({key:"".concat(e.id,"_rendered")},t,{layer:e,layerId:e.id}))}},89785:(e,t,r)=>{"use strict";r.d(t,{Z:()=>S});var n=r(8081),o=r.n(n),a=r(23645),i=r.n(a),c=r(61667),l=r.n(c),u=new URL(r(47821),r.b),s=new URL(r(35327),r.b),f=new URL(r(82250),r.b),p=new URL(r(16739),r.b),d=new URL(r(9838),r.b),y=new URL(r(16881),r.b),h=i()(o()),m=l()(u),v=l()(s),g=l()(f),b=l()(p),w=l()(d),E=l()(y);h.push([e.id,`@font-face {\n  font-family: 'DSEG14-Classic';\n  src: url(${m}) format('woff2'),\n  url(${v}) format('woff'),\n  url(${g}) format('truetype');\n  font-weight: normal;\n  font-style: normal;\n}\n\n@font-face {\n  font-family: 'DSEG7-Classic';\n  src: url(${b}) format('woff2'),\n  url(${w}) format('woff'),\n  url(${E}) format('truetype');\n  font-weight: normal;\n  font-style: normal;\n}\n`,""]);const S=h},58421:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(8081),o=r.n(n),a=r(23645),i=r.n(a)()(o());i.push([e.id,'/**\n * CSS styling for <kbd> tags.\n *\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 Auth0, Inc. <support@auth0.com> (http://auth0.com)\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the "Software"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nkbd {\n  font-family: \'Fira Sans\', Arial, sans-serif;\n  display: inline-block;\n  border-radius: 3px;\n  padding: 0px 4px;\n  box-shadow: 1px 1px 1px #777;\n  margin: 2px;\n  background: #eee;\n  font-weight: normal;\n  color: #555;\n  cursor: pointer;\n\n  /* Prevent selection */\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\nkbd:hover, kbd:hover * {\n  color: black;\n  /* box-shadow: 1px 1px 1px #333; */\n}\nkbd:active, kbd:active * {\n  color: black;\n  box-shadow: 1px 1px 0px #ddd inset;\n}\n\nkbd kbd {\n  padding: 0px;\n  margin: 0 1px;\n  box-shadow: 0px 0px 0px black;\n  vertical-align: baseline;\n  background: none;\n}\n\nkbd kbd:hover {\n  box-shadow: 0px 0px 0px black;\n}\n\nkbd:active kbd {\n  box-shadow: 0px 0px 0px black;\n  background: none;\n}\n\n/* Deep blue */\nkbd.deep-blue, .deep-blue kbd {\n  background: steelblue;\n  color: #eee;\n}\n\nkbd.deep-blue:hover, kbd.deep-blue:hover *, .deep-blue kbd:hover {\n  color: white;\n}\n\n/* Dark apple */\nkbd.dark-apple, .dark-apple kbd {\n  background: black;\n  color: #ddd;\n}\n\nkbd.dark-apple:hover, kbd.dark-apple:hover *, .dark-apple kbd:hover {\n  color: white;\n}\n\n/* Type writer */\nkbd.type-writer, .type-writer kbd {\n  border-radius: 10px;\n  background: #333;\n  color: white;\n}\n',""]);const c=i},38556:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(8081),o=r.n(n),a=r(23645),i=r.n(a),c=r(61667),l=r.n(c),u=new URL(r(97376),r.b),s=new URL(r(50206),r.b),f=new URL(r(9465),r.b),p=i()(o()),d=l()(u),y=l()(s),h=l()(f);p.push([e.id,`@font-face {\n  font-family: 'Proggy Vector';\n  src: url(${d}) format('woff2'),\n  url(${y}) format('woff'),\n  url(${h}) format('truetype');\n  font-weight: normal;\n  font-style: normal;\n}\n`,""]);const m=p},79324:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(8081),o=r.n(n),a=r(23645),i=r.n(a)()(o());i.push([e.id,'/*!\n * "Fork me on GitHub" CSS ribbon v0.2.3 | MIT License\n * https://github.com/simonwhitaker/corner-ribbon-css\n*/\n.corner-ribbon {\n  width: 12.1em;\n  height: 12.1em;\n  position: absolute;\n  overflow: hidden;\n  top: 0;\n  right: 0;\n  z-index: 9999;\n  pointer-events: none;\n  font-size: 13px;\n  text-decoration: none;\n  text-indent: -999999px;\n}\n.corner-ribbon.fixed {\n  position: fixed;\n}\n.corner-ribbon:hover,\n.corner-ribbon:active {\n  background-color: rgba(0, 0, 0, 0);\n}\n.corner-ribbon:before,\n.corner-ribbon:after {\n  /* The right and left classes determine the side we attach our banner to */\n  position: absolute;\n  display: block;\n  width: 15.38em;\n  height: 1.54em;\n  top: 3.23em;\n  right: -3.23em;\n  -webkit-box-sizing: content-box;\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n  -webkit-transform: rotate(45deg);\n  -moz-transform: rotate(45deg);\n  -ms-transform: rotate(45deg);\n  -o-transform: rotate(45deg);\n  transform: rotate(45deg);\n}\n.corner-ribbon:before {\n  content: \'\';\n  /* Add a bit of padding to give some substance outside the "stitching" */\n  padding: 0.38em 0;\n  /* Set the base colour */\n  background-color: #a00;\n  /* Set a gradient: transparent black at the top to almost-transparent black at the bottom */\n  background-image: -webkit-gradient(linear, left top, left bottom, from(rgba(0, 0, 0, 0)), to(rgba(0, 0, 0, 0.15)));\n  background-image: -webkit-linear-gradient(top, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.15));\n  background-image: -moz-linear-gradient(top, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.15));\n  background-image: -ms-linear-gradient(top, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.15));\n  background-image: -o-linear-gradient(top, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.15));\n  background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.15));\n  /* Add a drop shadow */\n  -webkit-box-shadow: 0 0.15em 0.23em 0 rgba(0, 0, 0, 0.5);\n  -moz-box-shadow: 0 0.15em 0.23em 0 rgba(0, 0, 0, 0.5);\n  box-shadow: 0 0.15em 0.23em 0 rgba(0, 0, 0, 0.5);\n  pointer-events: auto;\n}\n.corner-ribbon:after {\n  /* Set the text from the data-ribbon attribute */\n  content: attr(data-ribbon);\n  /* Set the text properties */\n  color: #fff;\n  line-height: 1.54em;\n  text-decoration: none;\n  text-shadow: 0 -0.08em rgba(0, 0, 0, 0.5);\n  text-align: center;\n  text-indent: 0;\n  /* Set the layout properties */\n  padding: 0.15em 0;\n  margin: 0.15em 0;\n  /* Add "stitching" effect */\n  border-width: 0.08em 0;\n  border-style: dotted;\n  border-color: #fff;\n  border-color: rgba(255, 255, 255, 0.7);\n}\n.corner-ribbon.left-top,\n.corner-ribbon.left-bottom {\n  right: auto;\n  left: 0;\n}\n.corner-ribbon.left-bottom,\n.corner-ribbon.right-bottom {\n  top: auto;\n  bottom: 0;\n}\n.corner-ribbon.left-top:before,\n.corner-ribbon.left-top:after,\n.corner-ribbon.left-bottom:before,\n.corner-ribbon.left-bottom:after {\n  right: auto;\n  left: -3.23em;\n}\n.corner-ribbon.left-bottom:before,\n.corner-ribbon.left-bottom:after,\n.corner-ribbon.right-bottom:before,\n.corner-ribbon.right-bottom:after {\n  top: auto;\n  bottom: 3.23em;\n}\n.corner-ribbon.left-top:before,\n.corner-ribbon.left-top:after,\n.corner-ribbon.right-bottom:before,\n.corner-ribbon.right-bottom:after {\n  -webkit-transform: rotate(-45deg);\n  -moz-transform: rotate(-45deg);\n  -ms-transform: rotate(-45deg);\n  -o-transform: rotate(-45deg);\n  transform: rotate(-45deg);\n}\n',""]);const c=i},48620:(e,t,r)=>{"use strict";r.d(t,{Z:()=>x});var n=r(8081),o=r.n(n),a=r(23645),i=r.n(a),c=r(61667),l=r.n(c),u=new URL(r(39204),r.b),s=new URL(r(22182),r.b),f=new URL(r(13493),r.b),p=new URL(r(940),r.b),d=new URL(r(33994),r.b),y=new URL(r(47221),r.b),h=new URL(r(49414),r.b),m=i()(o()),v=l()(u),g=l()(s),b=l()(f),w=l()(p),E=l()(d),S=l()(y),O=l()(h);m.push([e.id,`html,\nbody {\n  width: 100%;\n  height: 100%;\n}\nbody {\n  font-family: 'Fira Sans', Arial, sans-serif;\n  padding: 0px;\n  margin: 0px;\n  overflow: hidden;\n}\n/* Replace default monospaced font */\npre,\ncode {\n  font-family: 'Proggy Vector', 'Menlo', 'Consolas', 'DejaVu Sans Mono', 'Courier New', 'Courier', monospace;\n}\n/* Autocomplete highlights */\nmark {\n  background-color: yellow;\n  color: black;\n}\n/* Vertical centering */\n.vertical-center {\n  position: relative;\n  top: 50%;\n  -webkit-transform: perspective(1px) translateY(-50%);\n  -ms-transform: perspective(1px) translateY(-50%);\n  transform: perspective(1px) translateY(-50%);\n}\n/* Horizontal centering */\n.horizontal-center {\n  text-align: center;\n}\n/* Full (vertical + horizontal) centering */\n.full-center {\n  position: relative;\n  top: 50%;\n  -webkit-transform: perspective(1px) translateY(-50%);\n  -ms-transform: perspective(1px) translateY(-50%);\n  transform: perspective(1px) translateY(-50%);\n  text-align: center;\n}\n/* Mixin for styling boxes with drop shadows */\n/* Shadow settings for bottom bars commonly used on same panels */\n.bottom-bar {\n  box-shadow: rgba(0, 0, 0, 0.3) 0 -10px 10px -10px;\n  z-index: 10;\n}\n/* Drag proxy for the workbench */\n.drag-proxy {\n  height: 100%;\n  background: repeating-linear-gradient(-45deg, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0) 10px, rgba(0, 0, 0, 0.15) 10px, rgba(0, 0, 0, 0.15) 20px);\n}\n/* Root container for React */\n#root {\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n/* Main workbench area of the root container */\n#workbench {\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n/* Footer in which the lower buttons are placed */\n#footer {\n  width: 100%;\n  position: absolute;\n  bottom: 0;\n  padding: 20px;\n}\n/* Map in the background of the main screen */\n#map {\n  width: 100%;\n  height: 100%;\n}\n/* Special styling for Material-UI lists that are placed within a\n * Dialog and whose left edge lines up with the left edge of the dialog. */\n.dialog-sidebar {\n  padding: 0 !important;\n  min-width: 240px;\n}\n/* Styling for selected list items in Material-UI */\n.selected-list-item {\n  color: #2196f3;\n  box-shadow: 5px 0px #2196f3 inset;\n}\n/* Autosuggestion lists */\n.react-autosuggest__suggestions-list {\n  list-style-type: none;\n  padding-left: 0;\n}\n/* Error panels */\n.error-panel {\n  background: #f4f4f4;\n  box-sizing: border-box;\n  display: flex;\n  flex-flow: column nowrap;\n  font-size: 14px;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  top: 0;\n  opacity: 0.5;\n  padding: 0 24px;\n  position: absolute;\n  text-align: center;\n  width: 100%;\n}\n.error-panel .error-icon {\n  padding-bottom: 12px;\n}\n.error-panel .button-bar {\n  padding-top: 24px;\n}\n.error-panel .button-bar button {\n  padding: 6px;\n  margin: 0 12px;\n}\n/* Widgets placed over the map */\n.widget {\n  position: absolute !important;\n  min-width: 48px;\n  min-height: 48px;\n  /* Title of widget */\n  /* Action bar of the widget (overlaid on top of it) */\n}\n.widget .title {\n  font-size: 10pt;\n  font-weight: bold;\n  text-transform: uppercase;\n  line-height: 24px;\n  height: 24px;\n}\n.widget .widget-action-bar {\n  position: absolute;\n  right: 0px;\n  top: 0px;\n  transition: opacity 0.2s;\n  opacity: 0;\n}\n.widget:hover .widget-action-bar {\n  opacity: 1;\n}\n/* Add OpenLayers styling to the main map view. These selectors need to be more\n * specific than the ones in ol.css because ol.css is lazy-loaded when the\n * map is mounted, and we don't want it to override any of our styles */\n#main-map-view {\n  /* Styling for OpenLayers controls */\n  /* OpenLayers scale line should have a half-transparent "box styling" */\n  /* OpenLayers attribution widget should be in the lower right corner\n  * by default */\n}\n#main-map-view .ol-control {\n  background-color: #ffffff;\n  color: rgba(0, 0, 0, 0.87);\n  padding: 0 !important;\n  border-radius: 2px !important;\n  box-shadow: rgba(0, 0, 0, 0.117647) 0px 1px 6px, rgba(0, 0, 0, 0.117647) 0px 1px 4px;\n}\n#main-map-view .ol-control button {\n  background-color: #ffffff;\n  color: rgba(0, 0, 0, 0.87);\n  margin: 0px;\n  /* to fit the Material design better */\n  width: 24px;\n  /* 24px because Material buttons are 48px */\n  height: 24px;\n}\n#main-map-view .ol-control button:hover,\n#main-map-view .ol-control button:focus {\n  background-color: #ffffff;\n  color: rgba(0, 0, 0, 0.87);\n}\n#main-map-view .ol-control.ol-full-screen {\n  right: auto;\n  top: 64px;\n  left: 8px;\n}\n#main-map-view .ol-control.ol-overviewmap {\n  bottom: 4em;\n}\n#main-map-view .ol-control.ol-rotate {\n  top: 4em;\n  right: auto;\n  left: 2.5em;\n}\n#main-map-view .ol-control.ol-zoomslider {\n  top: 4em;\n}\n#main-map-view .ol-control.ol-zoom-extent {\n  top: 4em;\n}\n#main-map-view .ol-scale-line {\n  background-color: #ffffff;\n  color: rgba(0, 0, 0, 0.87);\n  padding: 0 !important;\n  border-radius: 2px !important;\n  box-shadow: rgba(0, 0, 0, 0.117647) 0px 1px 6px, rgba(0, 0, 0, 0.117647) 0px 1px 4px;\n  bottom: 8px;\n  left: 8px;\n}\n#main-map-view .ol-scale-line-inner {\n  border-color: rgba(0, 0, 0, 0.87);\n  color: rgba(0, 0, 0, 0.87);\n}\n.key-control .tool-select #main-map-view .ol-viewport,\n.key-meta .tool-select #main-map-view .ol-viewport {\n  /* Path should be relative to LESS file otherwise it won't work in Electron */\n  cursor: url(${v}) 4 4, auto;\n}\n.key-shift .tool-select #main-map-view .ol-viewport {\n  cursor: url(${g}) 4 4, auto;\n}\n.key-alt .tool-select #main-map-view .ol-viewport {\n  cursor: url(${b}) 4 4, auto;\n}\n.tool-zoom #main-map-view .ol-viewport {\n  cursor: url(${w}) 9 9, auto;\n}\n.key-shift .tool-zoom #main-map-view .ol-viewport {\n  cursor: url(${E}) 9 9, auto;\n}\n.tool-pan #main-map-view .ol-viewport {\n  cursor: url(${S}) 12 12, auto;\n}\n.key-control .tool-pan #main-map-view .ol-viewport,\n.key-meta .tool-pan #main-map-view .ol-viewport {\n  cursor: url(${v}) 4 4, auto;\n}\n.key-shift .tool-pan #main-map-view .ol-viewport {\n  cursor: url(${w}) 9 9, auto;\n}\n.key-shift.key-alt .tool-pan #main-map-view .ol-viewport {\n  cursor: url(${O}) 12 12, auto;\n}\n#main-map-view .ol-dragbox,\n#main-map-view .ol-dragzoom {\n  background-color: rgba(0, 136, 255, 0.25);\n  border: 1px solid #08f;\n}\n#main-map-view .ol-attribution {\n  background-color: #ffffff;\n  color: rgba(0, 0, 0, 0.87);\n  padding: 0 !important;\n  border-radius: 2px !important;\n  box-shadow: rgba(0, 0, 0, 0.117647) 0px 1px 6px, rgba(0, 0, 0, 0.117647) 0px 1px 4px;\n  left: 8px;\n  bottom: 32px;\n  right: unset;\n}\n#main-map-view .ol-attribution ul {\n  color: rgba(0, 0, 0, 0.54);\n}\n#main-map-view .ol-attribution ul a,\n#main-map-view .ol-attribution ul a:hover,\n#main-map-view .ol-attribution ul a:active,\n#main-map-view .ol-attribution ul a:visited {\n  color: rgba(0, 0, 0, 0.87);\n  text-decoration: none;\n  text-shadow: none;\n}\n#main-map-view .ol-attribution.ol-uncollapsible {\n  border: 0 !important;\n  border-radius: 0 !important;\n  left: 0px;\n  bottom: 0px;\n  right: 0px;\n  max-width: unset;\n}\n#main-map-view .ol-mouse-position {\n  background-color: #ffffff;\n  color: rgba(0, 0, 0, 0.87);\n  padding: 0 !important;\n  border-radius: 2px !important;\n  box-shadow: rgba(0, 0, 0, 0.117647) 0px 1px 6px, rgba(0, 0, 0, 0.117647) 0px 1px 4px;\n  top: auto;\n  right: 8px;\n  bottom: 8px;\n  padding: 10px !important;\n  min-width: 175px;\n  text-align: right;\n}\n/* Styling for the heatmap scale */\n#heatmapScale {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  position: absolute;\n  left: 8px;\n  bottom: 30px;\n  width: 28px;\n  height: 200px;\n}\n#heatmapScale span {\n  background-color: rgba(200, 200, 200, 0.75);\n  position: relative;\n  left: 40px;\n  margin-right: auto;\n  padding: 2px;\n  white-space: nowrap;\n  border-top-right-radius: 3px;\n  border-bottom-right-radius: 3px;\n}\n#heatmapScale span:after {\n  display: block;\n  content: '';\n  position: absolute;\n  left: -12px;\n  top: 0px;\n  border-style: solid;\n  border-width: 12px 12px 12px 0;\n  border-color: transparent rgba(200, 200, 200, 0.75);\n}\n/* Styling for popup color pickers */\n.popup-color-picker {\n  display: inline-block;\n  vertical-align: middle;\n}\n.popup-color-picker .popup-color-picker-button {\n  min-height: 3ex;\n  width: 3em;\n  border: 1px solid rgba(0, 0, 0, 0.35);\n  cursor: pointer;\n}\n.popup-color-picker .popup-color-picker-dropdown {\n  background-color: #ffffff;\n  color: rgba(0, 0, 0, 0.87);\n  padding: 0 !important;\n  border-radius: 2px !important;\n  box-shadow: rgba(0, 0, 0, 0.117647) 0px 1px 6px, rgba(0, 0, 0, 0.117647) 0px 1px 4px;\n}\n/* Styling for the UAV count monitor */\n.coloredContainer span {\n  opacity: 0;\n  letter-spacing: -10px;\n  transition: letter-spacing 0.5s, opacity 0.2s;\n}\n.coloredContainer:hover span {\n  opacity: 1;\n  letter-spacing: normal;\n}\n/* Tour customization */\n.reactour__close {\n  transform: scale(150%);\n}\n/* Color picker customization */\n.swatches-picker.borderless > div:first-child {\n  margin: -16px 0 -6px -16px;\n}\n.swatches-picker.borderless > div:first-child > div:first-child {\n  background: transparent !important;\n  box-shadow: none !important;\n}\n/* Markdown editor customization for the "Field notes" panel */\n.EasyMDEContainer {\n  height: 100%;\n}\n.EasyMDEContainer .CodeMirror {\n  height: 100% !important;\n  border: none !important;\n  padding: 4px !important;\n}\n.EasyMDEContainer .CodeMirror .CodeMirror-scroll {\n  min-height: unset !important;\n}\n.EasyMDEContainer .CodeMirror .cm-link {\n  color: #4fadf8 !important;\n}\n`,""]);const x=m},74809:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(8081),o=r.n(n),a=r(23645),i=r.n(a),c=r(61667),l=r.n(c),u=new URL(r(85902),r.b),s=i()(o()),f=l()(u);s.push([e.id,`.tippy-box[data-theme~='dark-border'] {\n  background-color: #222;\n  background-clip: padding-box;\n  border: 1px solid rgba(128, 124, 120, 0.15);\n  color: white;\n  box-shadow: 0 4px 14px -2px rgba(0, 8, 16, 0.4);\n}\n.tippy-box[data-theme~='dark-border'] > .tippy-backdrop {\n  background-color: #222;\n}\n.tippy-box[data-theme~='dark-border'] > .tippy-arrow:after,\n.tippy-box[data-theme~='dark-border'] > .tippy-svg-arrow:after {\n  content: '';\n  position: absolute;\n  z-index: -1;\n}\n.tippy-box[data-theme~='dark-border'] > .tippy-arrow:after {\n  border-color: transparent;\n  border-style: solid;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='top'] > .tippy-arrow:before {\n  border-top-color: #222;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='top'] > .tippy-arrow:after {\n  border-top-color: rgba(0, 8, 16, 0.2);\n  border-width: 7px 7px 0;\n  top: 17px;\n  left: 1px;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='top'] > .tippy-svg-arrow > svg {\n  top: 16px;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='top'] > .tippy-svg-arrow:after {\n  top: 17px;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='bottom'] > .tippy-arrow:before {\n  border-bottom-color: #222;\n  bottom: 16px;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='bottom'] > .tippy-arrow:after {\n  border-bottom-color: rgba(0, 8, 16, 0.2);\n  border-width: 0 7px 7px;\n  bottom: 17px;\n  left: 1px;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='bottom'] > .tippy-svg-arrow > svg {\n  bottom: 16px;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='bottom'] > .tippy-svg-arrow:after {\n  bottom: 17px;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='left'] > .tippy-arrow:before {\n  border-left-color: #222;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='left'] > .tippy-arrow:after {\n  border-left-color: rgba(0, 8, 16, 0.2);\n  border-width: 7px 0 7px 7px;\n  left: 17px;\n  top: 1px;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='left'] > .tippy-svg-arrow > svg {\n  left: 11px;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='left'] > .tippy-svg-arrow:after {\n  left: 12px;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='right'] > .tippy-arrow:before {\n  border-right-color: #222;\n  right: 16px;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='right'] > .tippy-arrow:after {\n  border-width: 7px 7px 7px 0;\n  right: 17px;\n  top: 1px;\n  border-right-color: rgba(0, 8, 16, 0.2);\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='right'] > .tippy-svg-arrow > svg {\n  right: 11px;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='right'] > .tippy-svg-arrow:after {\n  right: 12px;\n}\n.tippy-box[data-theme~='dark-border'] > .tippy-svg-arrow {\n  fill: #222;\n}\n.tippy-box[data-theme~='dark-border'] > .tippy-svg-arrow:after {\n  background-image: url(${f});\n  background-size: 16px 6px;\n  width: 16px;\n  height: 6px;\n}\n`,""]);const p=s},7197:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(8081),o=r.n(n),a=r(23645),i=r.n(a),c=r(42806),l=r(88955),u=r(38249),s=r(61667),f=r.n(s),p=new URL(r(22367),r.b),d=i()(o());d.i(c.Z),d.i(l.Z),d.i(u.Z);var y=f()(p);d.push([e.id,`/* Styling for the global workbench component, currently implemented\n * using golden-layout */\n/* Make the panels scrollable */\nbody .lm_content {\n  overflow-y: auto;\n  background-color: white;\n}\n/* Fix the background color of the panel bodies and the tabs */\nbody .lm_header .lm_tab {\n  background-color: #ddd;\n}\nbody .lm_header .lm_tab.lm_active {\n  background-color: white;\n}\n/* Prevent selection in the panel titles */\n.lm_title {\n  user-select: none;\n}\n/* Settings button */\n.lm_controls .lm_settings {\n  background-image: url(${y});\n}\n/* Icon styling in workbench-related components */\n.wb-icon {\n  display: inline-block;\n  position: relative;\n  vertical-align: middle;\n  width: 48px;\n  height: 48px;\n  padding: 12px;\n  box-sizing: border-box;\n}\n.wb-module {\n  padding: 0 !important;\n  white-space: nowrap;\n}\n.wb-module .wb-module-label {\n  margin-right: 15px;\n  white-space: nowrap;\n}\n/* Horizontal separators in sidebar */\n#sidebar hr {\n  width: 100%;\n  height: 1px;\n  margin: 0.25em 0;\n  border: none;\n  background: #424242;\n  box-shadow: 0 -1px 4px rgba(0, 0, 0, 0.65);\n}\n/* Vertical separators in header */\n#header-inner > hr {\n  align-self: stretch;\n  width: 1px;\n  margin: 0 0.25em;\n  border: none;\n  background: #424242;\n  box-shadow: -1px 0 4px rgba(0, 0, 0, 0.65);\n}\n.wb-modification-indicator {\n  font-size: 10px;\n  text-align: center;\n  user-select: none;\n}\n/* Perspective switching in header */\n.wb-perspective-bar {\n  background: linear-gradient(to right, transparent 0%, rgba(0, 0, 0, 0.25) 80%, rgba(0, 0, 0, 0.4) 100%);\n  flex: 1;\n  justify-content: left;\n  border-right: 1px solid #424242;\n  border-bottom: 1px solid #424242;\n  overflow-x: auto;\n}\n.wb-perspective-bar-item {\n  margin: 0 !important;\n}\n.wb-perspective-bar button {\n  border-bottom: 3px solid transparent;\n  border-radius: 0;\n  font-size: 14px !important;\n  /* consistent with sidebar */\n  height: 100%;\n  background: unset;\n  box-shadow: unset;\n  padding: 7px 8px 4px 8px;\n  /* padding higher at the top to compensate for border at bottom */\n}\n.wb-perspective-bar .wb-perspective-selected button {\n  background: linear-gradient(to bottom, transparent 0%, rgba(0, 0, 0, 0.25) 100%);\n  border-bottom: 3px solid #03a9f4;\n  /* Material UI lightBlue[500] */\n}\n.wb-perspective-bar button:hover {\n  /* styling same as for GenericHeaderButton */\n  background: linear-gradient(to bottom, #06c 0%, #25a 100%);\n  border-bottom: 3px solid #03a9f4;\n  /* Material UI lightBlue[500] */\n}\n/* Disable draggable splitters for fixed layouts */\n.workbench-fixed .lm_splitter,\n.workbench-fixed .lm_tab {\n  pointer-events: none;\n}\n`,""]);const h=d},87009:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var n=r(93379),o=r.n(n),a=r(7795),i=r.n(a),c=r(90569),l=r.n(c),u=r(3565),s=r.n(u),f=r(19216),p=r.n(f),d=r(44589),y=r.n(d),h=r(89785),m={};m.styleTagTransform=y(),m.setAttributes=s(),m.insert=l().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p();o()(h.Z,m);const v=h.Z&&h.Z.locals?h.Z.locals:void 0},23008:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var n=r(93379),o=r.n(n),a=r(7795),i=r.n(a),c=r(90569),l=r.n(c),u=r(3565),s=r.n(u),f=r(19216),p=r.n(f),d=r(44589),y=r.n(d),h=r(58421),m={};m.styleTagTransform=y(),m.setAttributes=s(),m.insert=l().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p();o()(h.Z,m);const v=h.Z&&h.Z.locals?h.Z.locals:void 0},66901:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var n=r(93379),o=r.n(n),a=r(7795),i=r.n(a),c=r(90569),l=r.n(c),u=r(3565),s=r.n(u),f=r(19216),p=r.n(f),d=r(44589),y=r.n(d),h=r(38556),m={};m.styleTagTransform=y(),m.setAttributes=s(),m.insert=l().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p();o()(h.Z,m);const v=h.Z&&h.Z.locals?h.Z.locals:void 0},38439:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var n=r(93379),o=r.n(n),a=r(7795),i=r.n(a),c=r(90569),l=r.n(c),u=r(3565),s=r.n(u),f=r(19216),p=r.n(f),d=r(44589),y=r.n(d),h=r(48620),m={};m.styleTagTransform=y(),m.setAttributes=s(),m.insert=l().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p();o()(h.Z,m);const v=h.Z&&h.Z.locals?h.Z.locals:void 0},144:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var n=r(93379),o=r.n(n),a=r(7795),i=r.n(a),c=r(90569),l=r.n(c),u=r(3565),s=r.n(u),f=r(19216),p=r.n(f),d=r(44589),y=r.n(d),h=r(74809),m={};m.styleTagTransform=y(),m.setAttributes=s(),m.insert=l().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p();o()(h.Z,m);const v=h.Z&&h.Z.locals?h.Z.locals:void 0},20221:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var n=r(93379),o=r.n(n),a=r(7795),i=r.n(a),c=r(90569),l=r.n(c),u=r(3565),s=r.n(u),f=r(19216),p=r.n(f),d=r(44589),y=r.n(d),h=r(7197),m={};m.styleTagTransform=y(),m.setAttributes=s(),m.insert=l().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p();o()(h.Z,m);const v=h.Z&&h.Z.locals?h.Z.locals:void 0},63745:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(34155);const o={BING:n.env.SKYBRUSH_BING_API_KEY,MAPBOX:n.env.SKYBRUSH_MAPBOX_API_KEY,MAPTILER:n.env.SKYBRUSH_MAPTILER_API_KEY,NEXTZEN:n.env.SKYBRUSH_NEXTZEN_API_KEY}},11648:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>d,cr:()=>i.colorForStatus,oM:()=>p,tc:()=>s,wL:()=>l});var n=r(6767),o=r(48392),a=r(96984),i=r(73435),c=r(49998);const l=Object.assign(Object.assign({},i.Colors),{geofence:"#f00",convexHull:"#fc0",plannedTrajectory:"#08f",positionHold:a.Z.A400}),u=e=>"object"==typeof e?(0,o.Z)(e,u):Object.freeze(n(e).rgb().array()),s=u(l),f=new Map([[c.zb.CRITICAL,l.seriousWarning],[c.zb.DEBUG,l.off],[c.zb.ERROR,l.error],[c.zb.INFO,l.info],[c.zb.WARNING,l.warning]]),p=e=>f.has(e)?f.get(e):l.missing,d=l},63714:(e,t,r)=>{"use strict";r.d(t,{_:()=>a,q:()=>n.Status});var n=r(73435);const o={[n.Status.CRITICAL]:100,[n.Status.ERROR]:90,[n.Status.WARNING]:80,[n.Status.MISSING]:70,[n.Status.RTH]:60,[n.Status.SKIPPED]:50,[n.Status.NEXT]:40,[n.Status.INFO]:30,[n.Status.SUCCESS]:20,[n.Status.WAITING]:10,[n.Status.OFF]:0},a=e=>o[e]},92730:(e,t,r)=>{"use strict";r.d(t,{W9:()=>i,ZP:()=>u,Zj:()=>c,qH:()=>l});var n=r(24268);const{actions:o,reducer:a}=(0,n.oM)({name:"alert",initialState:{muted:!1,count:0},reducers:{dismissAlerts(e){e.count=0},setMuted(e,t){e.muted=t.payload},triggerAlert(e){e.count+=1}}}),{dismissAlerts:i,setMuted:c,triggerAlert:l}=o,u=a},48362:(e,t,r)=>{"use strict";r.d(t,{IH:()=>f,ZP:()=>y,y3:()=>d});var n=r(24268),o=r(71936),a=r(95656);function i(e,t,r){const n=e.byId[t];n?Object.assign(n,r):(e.byId[t]=Object.assign({id:t,position:void 0,heading:void 0,active:!1},r),e.order.push(t))}var c=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};const l=a.rz,{actions:u,reducer:s}=(0,n.oM)({name:"beacons",initialState:l,reducers:{clearBeaconList(e){(0,a.iW)(e)},setBeaconState(e,t){var r=t.payload,{id:n}=r;i(e,n,c(r,["id"]))},setBeaconStateMultiple(e,{payload:t}){for(const[r,n]of Object.entries(t))i(e,r,n)}},extraReducers(e){e.addCase(o.y,((e,t)=>{(0,a.OA)(e,t.payload)}))}}),{clearBeaconList:f,setBeaconState:p,setBeaconStateMultiple:d}=u,y=s},10244:(e,t,r)=>{"use strict";r.d(t,{EJ:()=>s,ZP:()=>d,ne:()=>p});var n=r(24268),o=r(95656),a=r(45667),i=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};const c=o.rz,{actions:l,reducer:u}=(0,n.oM)({name:"clocks",initialState:c,reducers:{clearClockList(e){(0,o.iW)(e)},setClockState(e,t){var r=t.payload,{id:n}=r,o=i(r,["id"]);(0,a.K9)(e,n,o)},setClockStateMultiple(e,{payload:t}){for(const[r,n]of Object.entries(t))(0,a.K9)(e,r,n)}}}),{clearClockList:s,setClockState:f,setClockStateMultiple:p}=l,d=u},53910:(e,t,r)=>{"use strict";var n;r.d(t,{T:()=>n}),function(e){e.SYSTEM="system",e.LOCAL="__local__",e.MISSION="mission",e.MTC="mtc",e.SHOW="show",e.END_OF_SHOW="end_of_show"}(n||(n={}))},45667:(e,t,r)=>{"use strict";r.d(t,{J8:()=>f,K9:()=>m,Nu:()=>p,_o:()=>y,jl:()=>u,m7:()=>h,tG:()=>d,v_:()=>s});var n=r(38779),o=r(73234),a=r(42871),i=r(53910);const c={[i.T.SYSTEM]:{label:"Server clock",abbreviation:"SRV",affectedByClockSkew:!0},[i.T.LOCAL]:{label:"Client clock",abbreviation:"Time"},[i.T.MISSION]:{label:"Mission clock",abbreviation:"MSN",signed:!0,affectedByClockSkew:!0},[i.T.MTC]:{label:"MIDI timecode",abbreviation:"MTC"},[i.T.SHOW]:{label:"Drone show clock",abbreviation:"SHOW",signed:!0,affectedByClockSkew:!0},[i.T.END_OF_SHOW]:{label:"Time until end of show",abbreviation:"END",signed:!0,affectedByClockSkew:!0}},l=e=>Object.values(i.T).includes(e);function u({id:e}){return l(e)?c[e].abbreviation:"CLK"}function s({id:e}){return l(e)?c[e].label:`Clock \u2019${e}\u2019`}function f(e,t,r){const{epoch:c,ticksPerSecond:l}=t,{format:u=t.format}=r;let s=e/l;if(Number.isNaN(c))return t.id===String(i.T.MTC)?(s=Math.floor(s)+e%l/100,(0,a.g)(s,{padHours:!0,precision:2})):l<=1?(0,a.g)(s,{padHours:!0}):(0,a.g)(s,{padHours:!0,precision:1});const f=new Date(1e3*(c+s));return(0,o.default)(u)?u(f):(0,n.Z)(f,null!=u?u:"HH:mm:ss")}function p(e,t){const{referenceTime:r=0,running:n,ticks:o,ticksPerSecond:a}=e;return o+(n?(t-r)/1e3:0)*a}function d(e){return e&&e.ticksPerSecond>1?Math.max(1e3/e.ticksPerSecond,100):1e3}function y(e){return Boolean(l(null==e?void 0:e.id)&&c[e.id].affectedByClockSkew)}function h(e){return Boolean(l(null==e?void 0:e.id)&&c[e.id].signed)}function m(e,t,r){const n=e.byId[t];n?Object.assign(n,r):(e.byId[t]=Object.assign({id:t,running:!1,ticks:0},r),e.order.push(t))}},21424:(e,t,r)=>{"use strict";r.d(t,{XM:()=>s,ZP:()=>d,XH:()=>f,c$:()=>p});var n=r(24268),o=r(95656),a=r(49998);function i(e,t,r){var n;const{byId:o,order:i}=e;o[t]=Object.assign(Object.assign({},null!==(n=o[t])&&void 0!==n?n:(e=>({id:e,name:e,state:a.em.DISCONNECTED,stateChangedAt:void 0}))(t)),r),i.includes(t)||i.push(t)}const c=o.rz,{actions:l,reducer:u}=(0,n.oM)({name:"connections",initialState:c,reducers:{clearConnectionList(e){(0,o.iW)(e)},removeConnectionsByIds(e,t){(0,o.DD)(e,t.payload)},updateConnections(e,t){for(const[r,n]of Object.entries(t.payload))i(e,r,n)}}}),{clearConnectionList:s,removeConnectionsByIds:f,updateConnections:p}=l,d=u},98168:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>l,ht:()=>i,k5:()=>c});var n=r(24268);const{actions:o,reducer:a}=(0,n.oM)({name:"detachablePanels",initialState:{detachedPanels:[]},reducers:{attachPanel(e,{payload:t}){const r=e.detachedPanels.indexOf(t);-1!==r&&e.detachedPanels.splice(r,1)},detachPanel(e,{payload:t}){e.detachedPanels.push(t)}}}),{attachPanel:i,detachPanel:c}=o,l=a},51712:(e,t,r)=>{"use strict";r.d(t,{RN:()=>s,ZP:()=>y,zr:()=>p,XZ:()=>d,qc:()=>u,BC:()=>f});var n,o=r(24268),a=r(41137);!function(e){e.LIVE_CAM="liveCam",e.SCHEDULE="schedule",e.STATUS="status",e.STORAGE="storage"}(n||(n={}));const i={open:!1,selectedDockId:void 0,selectedTab:n.STATUS},{actions:c,reducer:l}=(0,o.oM)({name:"dock-details",initialState:i,reducers:{openDockDetailsDialog(e,{payload:t}){e.selectedDockId=t,e.open=!0},closeDockDetailsDialog:(0,a.WZ)((e=>{e.open=!1})),setSelectedTabInDockDetailsDialog(e,{payload:t}){e.selectedTab=t}}}),{openDockDetailsDialog:u,closeDockDetailsDialog:s,setSelectedTabInDockDetailsDialog:f}=c,p=e=>e.dialogs.dockDetails.selectedDockId,d=e=>e.dialogs.dockDetails.selectedTab,y=l},76254:(e,t,r)=>{"use strict";r.d(t,{iP:()=>f,ZP:()=>y,oL:()=>d});var n=r(24268),o=r(71936),a=r(95656);function i(e,t,r){const n=e.byId[t];n?Object.assign(n,r):(e.byId[t]=Object.assign({id:t,position:void 0},r),e.order.push(t))}var c=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};const l=a.rz,{actions:u,reducer:s}=(0,n.oM)({name:"docks",initialState:l,reducers:{clearDockList(e){(0,a.iW)(e)},setDockState(e,t){var r=t.payload,{id:n}=r;i(e,n,c(r,["id"]))},setDockStateMultiple(e,{payload:t}){for(const[r,n]of Object.entries(t))i(e,r,n)}},extraReducers(e){e.addCase(o.y,((e,t)=>{(0,a.OA)(e,t.payload)}))}}),{clearDockList:f,setDockState:p,setDockStateMultiple:d}=u,y=s},44613:(e,t,r)=>{"use strict";r.d(t,{N:()=>c,Z:()=>i});var n=r(24268),o=r(41137);const a={message:void 0,open:!1},{reducer:i,actions:c}=(0,n.oM)({name:"error-handling",initialState:a,reducers:{closeErrorDialog:(0,o.WZ)((e=>{e.open=!1})),showErrorMessage:{prepare:(e,t)=>({payload:t instanceof Error?`${e}: `+String(t):e}),reducer(e,t){e.message=t.payload,e.open=!0}}}})},27880:(e,t,r)=>{"use strict";r.d(t,{J:()=>c,Z:()=>l});var n=r(24268);const o={contents:"\nYou can use Markdown syntax to format your notes, such as **bold**, _italic_ or ~~strikethrough~~.\nSee https://quickref.me/markdown for a quick reference guide to Markdown syntax.\n    ".trim()},{actions:a,reducer:i}=(0,n.oM)({name:"field-notes",initialState:o,reducers:{updateFieldNotes(e,{payload:t}){e.contents=t}}}),{updateFieldNotes:c}=a,l=i},88839:(e,t,r)=>{"use strict";var n;r.d(t,{BH:()=>i,i8:()=>n,mr:()=>c}),function(e){e.KEEP_CURRENT="keepCurrent",e.REPORT="report",e.LAND="land",e.RETURN="return",e.SMART_LAND="smartLand",e.SMART_RETURN="smartReturn",e.STOP="stop",e.SHUT_DOWN="shutDown"}(n||(n={}));const o=Object.values(n),a={[n.KEEP_CURRENT]:"Keep current action",[n.REPORT]:"Report only",[n.LAND]:"Land",[n.RETURN]:"Return to home",[n.SMART_LAND]:"Land with collision avoidance",[n.SMART_RETURN]:"Return to home with collision avoidance",[n.STOP]:"Stop and hover",[n.SHUT_DOWN]:"Shut down"};function i(e){return a[e]||`unknown action: ${e}`}function c(e){return o.includes(e)}},544:(e,t,r)=>{"use strict";r.d(t,{D9:()=>l,ZP:()=>f,Oi:()=>u,Y7:()=>s});var n=r(24268),o=r(41137);const a={dialogVisible:!1,horizontalMargin:20,verticalMargin:10,simplify:!0,maxVertexCount:10},{actions:i,reducer:c}=(0,n.oM)({name:"geofence",initialState:a,reducers:{showGeofenceSettingsDialog:(0,o.WZ)((e=>{e.dialogVisible=!0})),closeGeofenceSettingsDialog:(0,o.WZ)((e=>{e.dialogVisible=!1})),updateGeofenceSettings(e,{payload:t}){Object.assign(e,t)}}}),{closeGeofenceSettingsDialog:l,showGeofenceSettingsDialog:u,updateGeofenceSettings:s}=i,f=c},55334:(e,t,r)=>{"use strict";r.d(t,{T:()=>a,r:()=>o});const n=({rounding:e,minimum:t})=>(r,n)=>Math.max(t||e,Math.ceil(((r||0)+n)/e)*e),o=n({minimum:30,rounding:10}),a=n({minimum:30,rounding:10})},64634:(e,t,r)=>{"use strict";r.d(t,{E9:()=>s,Jg:()=>u,ZP:()=>f,hE:()=>c,j6:()=>l});var n=r(24268),o=r(41137);const{actions:a,reducer:i}=(0,n.oM)({name:"hotkeys",initialState:{dialogVisible:!1,pendingUAVId:""},reducers:{setPendingUAVId(e,t){e.pendingUAVId=t.payload},startPendingUAVIdTimeout(){},showHotkeyDialog:(0,o.WZ)((e=>{e.dialogVisible=!0})),closeHotkeyDialog:(0,o.WZ)((e=>{e.dialogVisible=!1}))}}),{closeHotkeyDialog:c,showHotkeyDialog:l,setPendingUAVId:u,startPendingUAVIdTimeout:s}=a,f=i},68327:(e,t,r)=>{"use strict";r.d(t,{AL:()=>f,Ft:()=>s,YZ:()=>l,ZP:()=>p,cs:()=>u});var n=r(24268),o=r(95656),a=r(95684);const{actions:i,reducer:c}=(0,n.oM)({name:"lcd-clock",initialState:{byId:{server:{id:"server",clockId:"system",preset:0},show:{id:"show",clockId:"show",preset:1}},order:["server","show"]},reducers:{addClockDisplay(e,t){const{clockId:r,preset:n}=t.payload,i=(0,a.HY)(r,e.order);(0,o.TT)(e,{id:i,clockId:r,preset:n})},removeClockDisplay(e,t){(0,o.zD)(e,t.payload)},setClockIdForClockDisplay(e,t){const{id:r,clockId:n}=t.payload,o=e.byId[r];o&&(o.clockId=n)},setPresetIndexForClockDisplay(e,t){const{id:r,preset:n}=t.payload,o=e.byId[r];o&&(o.preset=n)}}}),{addClockDisplay:l,removeClockDisplay:u,setClockIdForClockDisplay:s,setPresetIndexForClockDisplay:f}=i,p=c},10314:(e,t,r)=>{"use strict";r.d(t,{KA:()=>c,Pf:()=>l,ZP:()=>u});var n=r(24268),o=r(41137);const{actions:a,reducer:i}=(0,n.oM)({name:"licenseInfo",initialState:{dialog:{open:!1}},reducers:{closeLicenseInfoDialog:(0,o.WZ)((e=>{e.dialog.open=!1})),showLicenseInfoDialog:(0,o.WZ)((e=>{e.dialog.open=!0}))}}),{closeLicenseInfoDialog:c,showLicenseInfoDialog:l}=a,u=i},34190:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>l,__:()=>c,vk:()=>i});var n=r(24268);const{actions:o,reducer:a}=(0,n.oM)({name:"lightControl",initialState:{active:!1,color:"#ffffff"},reducers:{setColor(e,t){"string"==typeof t.payload&&(e.color=t.payload)},setLightControlActive(e,t){e.active=Boolean(t.payload)}}}),{setColor:i,setLightControlActive:c}=o,l=a},53743:(e,t,r)=>{"use strict";r.d(t,{CB:()=>f,OU:()=>u,ZP:()=>p,hg:()=>s,n7:()=>l});var n=r(24268),o=r(41137);const a={pathScan:{scanning:!1,result:void 0,error:void 0},running:!1},{actions:i,reducer:c}=(0,n.oM)({name:"localServer",initialState:a,reducers:{notifyLocalServerExecutableSearchStarted(e){e.pathScan.scanning=!0,e.pathScan.result=void 0,e.pathScan.error=void 0},notifyLocalServerExecutableSearchFinished(e,t){e.pathScan.scanning=!1,e.pathScan.result=t.payload,e.pathScan.error=void 0},notifyLocalServerExecutableSearchFailed(e,t){e.pathScan.scanning=!1,e.pathScan.result=void 0,e.pathScan.error=t.payload},startLocalServerExecutableSearch:(0,o.WZ)((e=>{e.pathScan.result=void 0,e.pathScan.error=void 0}))}}),{notifyLocalServerExecutableSearchStarted:l,notifyLocalServerExecutableSearchFinished:u,notifyLocalServerExecutableSearchFailed:s,startLocalServerExecutableSearch:f}=i,p=c},36943:(e,t,r)=>{"use strict";r.d(t,{Hj:()=>c,ZP:()=>f,xy:()=>s});var n=r(27601),o=r(24268);const{actions:a,reducer:i}=(0,o.oM)({name:"log",initialState:{highestUnseenMessageLevel:-1,items:[],nextId:0,panelVisible:!1},reducers:{addLogItem(e,t){const{auxiliaryId:r,message:o,module:a,level:i,timestamp:c}=t.payload,l={id:e.nextId,timestamp:(0,n.default)(c)?Date.now():c,message:null!=o?o:"",module:null!=a?a:"",level:null!=i?i:0,auxiliaryId:null!=r?r:""};e.items.push(l),e.nextId+=1,e.panelVisible||void 0===i||(e.highestUnseenMessageLevel=Math.max(e.highestUnseenMessageLevel,i))},clearLogItems(e){e.items=[],e.highestUnseenMessageLevel=-1},deleteLogItem(e,t){const r=t.payload,n=e.items.findIndex((e=>e.id===r));n>=0&&e.items.splice(n,1)},updateLogPanelVisibility(e,t){e.panelVisible=Boolean(t.payload),e.panelVisible&&(e.highestUnseenMessageLevel=-1)}}}),{addLogItem:c,clearLogItems:l,deleteLogItem:u,updateLogPanelVisibility:s}=a,f=i},12493:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>s,ey:()=>u,it:()=>c,kA:()=>l});var n=r(24268),o=r(41137);const{actions:a,reducer:i}=(0,n.oM)({name:"mapCaching",initialState:{dialog:{open:!1},enabled:!1},reducers:{closeMapCachingDialog:(0,o.WZ)((e=>{e.dialog.open=!1})),showMapCachingDialog:(0,o.WZ)((e=>{e.dialog.open=!0})),setMapCachingEnabled(e,t){e.enabled=Boolean(t.payload)}}}),{closeMapCachingDialog:c,showMapCachingDialog:l,setMapCachingEnabled:u}=a,s=i},48947:(e,t,r)=>{"use strict";r.d(t,{N:()=>c,Z:()=>i});var n,o=r(24268);!function(e){e.GENERAL="general"}(n||(n={}));const a={dialogVisible:!1,featureId:void 0,selectedTab:n.GENERAL},{reducer:i,actions:c}=(0,o.oM)({name:"feature-editor",initialState:a,reducers:{closeFeatureEditorDialog(e){e.dialogVisible=!1},showFeatureEditorDialog(e,t){e.dialogVisible=!0,e.featureId=t.payload},setFeatureEditorDialogTab(e,t){e.selectedTab=t.payload}}})},1227:(e,t,r)=>{"use strict";r.d(t,{Co:()=>h,EF:()=>c,GX:()=>u,Rq:()=>s,TO:()=>y,ZP:()=>m,cu:()=>d,gG:()=>p,hW:()=>l,o:()=>f});var n=r(24268),o=r(95656);const{actions:a,reducer:i}=(0,n.oM)({name:"features",initialState:{byId:{},order:[]},reducers:{addFeatureById(e,t){const{id:r,feature:n}=t.payload,{points:a,type:i}=n;if(!r)throw new Error("Feature must have an ID");if(!i)throw new Error("Feature must have a type");if(!a||0===a.length)throw new Error("Feature must have at least one point");if(e.byId[r])throw new Error("Feature ID is already taken");const c=Object.assign(Object.assign({visible:!0,filled:!0,measure:!1,showPoints:!1},structuredClone(n)),{id:r});t.featureId=r,(0,o.TT)(e,c)},removeFeaturesByIds(e,t){(0,o.DD)(e,t.payload)},renameFeature(e,t){const{id:r,name:n}=t.payload,o=e.byId[r];void 0===o||(o.label=n)},setFeatureColor(e,t){const{id:r,color:n}=t.payload,o=e.byId[r];void 0===o||(o.color=n)},updateFeatureFillVisible(e,t){const{id:r,filled:n}=t.payload,o=e.byId[r];void 0===o||(o.filled=Boolean(n))},updateFeatureMeasurementVisible(e,t){const{id:r,measure:n}=t.payload,o=e.byId[r];void 0===o||(o.measure=Boolean(n))},updateFeaturePointsVisible(e,t){const{id:r,visible:n}=t.payload,o=e.byId[r];void 0===o||(o.showPoints=Boolean(n))},updateFeaturePropertiesByIds(e,t){for(const[r,n]of Object.entries(t.payload)){const t=e.byId[r];t&&Object.assign(t,n)}},updateFeatureVisibility(e,t){const{id:r,visible:n}=t.payload,o=e.byId[r];void 0===o||(o.visible=Boolean(n))}}}),{addFeatureById:c,removeFeaturesByIds:l,renameFeature:u,setFeatureColor:s,updateFeatureFillVisible:f,updateFeatureMeasurementVisible:p,updateFeaturePointsVisible:d,updateFeaturePropertiesByIds:y,updateFeatureVisibility:h}=a,m=i},34199:(e,t,r)=>{"use strict";r.d(t,{Wb:()=>s,ZP:()=>f,wp:()=>u});var n=r(24268),o=r(14814),a=r(41137);const i={dialogVisible:!1,selectedLayer:void 0},{actions:c,reducer:l}=(0,n.oM)({name:"layer-settings-dialog",initialState:i,reducers:{showLayerSettingsDialog(e,{payload:t}){e.dialogVisible=!0,e.selectedLayer=t},closeLayerSettingsDialog:(0,a.WZ)((e=>{e.dialogVisible=!1}))},extraReducers(e){e.addCase(o.$o,((e,t)=>{e.selectedLayer===t.payload&&(e.dialogVisible=!1,e.selectedLayer=void 0)}))}}),{showLayerSettingsDialog:u,closeLayerSettingsDialog:s}=c,f=l},14814:(e,t,r)=>{"use strict";r.d(t,{$n:()=>m,$o:()=>h,A4:()=>p,Rv:()=>v,ZP:()=>E,er:()=>b,tB:()=>y,vr:()=>w,wS:()=>d});var n=r(45542),o=r(43836),a=r(24268),i=r(35543),c=r(95656),l=r(95684);const u={byId:{base:(0,i.lB)("base",i.F5.BASE,"Base map"),graticule:(0,i.lB)("graticule",i.F5.GRATICULE,"Graticule"),beacons:(0,i.lB)("beacons",i.F5.BEACONS,"Beacons"),features:(0,i.lB)("features",i.F5.FEATURES,"Features"),home:(0,i.lB)("home",i.F5.MISSION_INFO,"Mission info"),uavs:(0,i.lB)("uavs",i.F5.UAVS,"UAVs")},order:["base","graticule","beacons","features","home","uavs"]},{reducer:s,actions:f}=(0,a.oM)({name:"layers",initialState:u,reducers:{addLayer:{prepare:(e,t)=>({payload:{name:e,type:t}}),reducer(e,t){let{name:r}=t.payload;const{type:a}=t.payload;if(!a&&!r)for(const[r,n]of Object.entries(e.byId))if(!n.type||n.type===i.F5.UNTYPED)return void(t.id=r);if(!r){const t=(0,o.Z)(e.byId,(e=>e.label));r=(0,l.o8)("New layer",t)}const c=Object.keys(e.byId),u=(0,l.HY)((0,n.Z)(r),c),s=(0,i.lB)(u,a,"");t.id=u,e.byId[u]=s,e.order.push(u)}},adjustLayerZIndex:{prepare:(e,t)=>({payload:{id:e,delta:t}}),reducer(e,t){const{id:r,delta:n}=t.payload,{order:o}=e,a=o.indexOf(r),i=a<0?-1:Math.max(0,Math.min(a+n,o.length-1));return a>=0&&i>=0&&(o.splice(a,1),o.splice(i,0,r)),e}},changeLayerType:{prepare:(e,t)=>({payload:{id:e,type:t}}),reducer(e,t){const{id:r,type:n}=t.payload,a=e.byId[r];if(void 0===a);else if(a.type===i.F5.UNTYPED){const t=(0,o.Z)(e.byId,(e=>e.label)),r=(0,l.o8)((0,i.DT)(n),t),c=a.label,u=""===c?r:c;Object.assign(a,{type:n,label:u,parameters:(0,i.S2)(n),visible:!0})}return e}},removeLayer(e,{payload:t}){(0,c.zD)(e,t)},renameLayer:{prepare:(e,t)=>({payload:{id:e,name:t}}),reducer(e,t){const{id:r,name:n}=t.payload,o=e.byId[r];void 0===o||(o.label=n)}},selectMapSource(e,t){const{layerId:r,source:n}=t.payload,o=e.byId[r];void 0===o||(o.parameters.source=n)},setLayerParameterById:{prepare:(e,t,r)=>({payload:{layerId:e,parameter:t,value:r}}),reducer(e,t){const{layerId:r,parameter:n,value:o}=t.payload,a=e.byId[r];void 0===a||(a.parameters[n]=o)}},setLayerParametersById:{prepare:(e,t)=>({payload:{layerId:e,parameters:t}}),reducer(e,t){const{layerId:r,parameters:n}=t.payload,o=e.byId[r];void 0===o||Object.assign(o.parameters,n)}},toggleLayerVisibility(e,{payload:t}){const r=e.byId[t];void 0===r||(r.visible=!r.visible)}}}),{addLayer:p,adjustLayerZIndex:d,changeLayerType:y,removeLayer:h,renameLayer:m,selectMapSource:v,setLayerParameterById:g,setLayerParametersById:b,toggleLayerVisibility:w}=f,E=s},71817:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>p,FY:()=>s,ZG:()=>u,y_:()=>f,KH:()=>l});var n,o=r(24268);!function(e){e.NEU="neu",e.NWU="nwu"}(n||(n={}));const a={position:[18.915125,47.486305],angle:"59",type:n.NWU},{reducer:i,actions:c}=(0,o.oM)({name:"map/origin",initialState:a,reducers:{updateFlatEarthCoordinateSystem(e,t){const{angle:r,position:n,type:o}=t.payload;void 0!==n&&(e.position=n),void 0!==r&&(e.angle=r),void 0!==o&&(e.type=o)}}}),{updateFlatEarthCoordinateSystem:l}=c;function u(e){return l({position:e})}function s(e){return l({angle:e})}function f(e){return l({type:e})}const p=i},95622:(e,t,r)=>{"use strict";r.d(t,{cY:()=>d,MO:()=>y,ZP:()=>b,Vx:()=>h,i3:()=>m,Z5:()=>v,Iv:()=>g});var n=r(57993),o=r(24268),a=r(1227),i=r(15222),c=r(44176),l=r(94207),u=r(15883);function s(e,t,r=[]){const n=(0,c.Z)(e,r);return t&&t.length>0?(n.splice(0,0,...t),(0,l.Z)(n)):n}const{actions:f,reducer:p}=(0,o.oM)({name:"map/selection",initialState:[],reducers:{addToSelection:(e,t)=>s(e,t.payload),clearSelection(e){e.length=0},removeFromSelection:(e,t)=>s(e,[],t.payload),selectAllUAVs:()=>s([],Object.keys(u.ZP._uavsById).map(i.TB)),setSelection:(e,t)=>s([],t.payload),toggleInSelection:(e,t)=>s([],(0,n.Z)(e,t.payload))},extraReducers(e){e.addCase(a.hW,((e,t)=>s(e,[],t.payload.map(i.Pe).filter(Boolean))))}}),{addToSelection:d,clearSelection:y,removeFromSelection:h,selectAllUAVs:m,setSelection:v,toggleInSelection:g}=f,b=p},70881:(e,t,r)=>{"use strict";r.d(t,{S:()=>l,ZP:()=>u,qd:()=>c});var n=r(24268);const o={selectedTool:r(70582).UA.SELECT},{reducer:a,actions:i}=(0,n.oM)({name:"map/tools",initialState:o,reducers:{setSelectedTool(e,t){e.selectedTool=t.payload}}}),{setSelectedTool:c}=i,l=e=>e.map.tools.selectedTool,u=a},37890:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l,v:()=>c});var n=r(24268),o=r(48829);const{actions:a,reducer:i}=(0,n.oM)({name:"map/view",initialState:{position:[18.915125,47.486305],angle:"0",zoom:17},reducers:{updateMapViewSettings(e,t){const{angle:r,position:n,zoom:a}=t.payload;e.position=n,e.angle=(0,o.LW)(r),e.zoom=Math.max(Math.min(a,20),0)}}}),{updateMapViewSettings:c}=a,l=i},13064:(e,t,r)=>{"use strict";r.d(t,{Aq:()=>y,Ar:()=>g,Fg:()=>d,X8:()=>m,XC:()=>h,ZP:()=>b,a_:()=>f,e5:()=>p,pM:()=>s,vA:()=>v});var n=r(84942),o=r(24268),a=r(95656),i=r(41137);const c={averagingResults:a.rz,averagingDialog:{open:!1,selectedUAVIds:[]}},{actions:l,reducer:u}=(0,o.oM)({name:"measurement",initialState:c,reducers:{closeAveragingDialog:(0,i.WZ)((e=>{e.averagingDialog.open=!1})),showAveragingDialog:(0,i.WZ)((e=>{e.averagingDialog.open=!0})),setSelectedUAVIdsForAveragingMeasurement(e,t){e.averagingDialog.selectedUAVIds=[...t.payload]},startAveragingUAVCoordinateById(e,t){const r=t.payload;(0,a.m9)(e.averagingResults,{id:r,startedAt:Date.now(),lastSampleAt:void 0,numSamples:0,extraSamplingTime:0,sampling:!0,mean:{lat:0,lon:0,amsl:0,ahl:0},sqDiff:{lat:0,lon:0,amsl:0,ahl:0}})},pauseAveragingUAVCoordinatesByIds(e,t){const r=t.payload,n=e.averagingResults;for(const e of r){const t=n.byId[e];t&&"number"==typeof t.startedAt&&(t.sampling=!1,t.extraSamplingTime+=Date.now()-t.startedAt,t.startedAt=void 0,t.lastSampleAt=void 0)}},restartAveragingUAVCoordinatesByIds(e,t){const r=t.payload,n=e.averagingResults;for(const e of r){const t=n.byId[e];t&&(n.byId[e]=Object.assign(Object.assign({},t),{startedAt:Date.now(),lastSampleAt:void 0,numSamples:0,extraSamplingTime:0,sampling:!0,mean:{lat:0,lon:0,amsl:0,ahl:0},sqDiff:{lat:0,lon:0,amsl:0,ahl:0}}))}},resumeAveragingUAVCoordinatesByIds(e,t){const r=t.payload;for(const t of r){const r=e.averagingResults.byId[t];r&&(r.sampling=!0,r.startedAt=Date.now())}},stopAveragingUAVCoordinatesByIds(e,t){const r=t.payload;(0,a.DD)(e.averagingResults,r),e.averagingDialog.selectedUAVIds=(0,n.Z)(e.averagingDialog.selectedUAVIds,e.averagingResults.order)},updateAveragingByIds(e,t){for(const[r,n]of Object.entries(t.payload)){const t=e.averagingResults.byId[r];t&&(t.mean=Object.assign(Object.assign({},t.mean),n.mean),t.sqDiff=Object.assign(Object.assign({},t.sqDiff),n.sqDiff),void 0!==n.numSamples&&(t.numSamples=n.numSamples),void 0!==n.lastSampleAt&&(t.lastSampleAt=n.lastSampleAt))}}}}),{closeAveragingDialog:s,pauseAveragingUAVCoordinatesByIds:f,restartAveragingUAVCoordinatesByIds:p,resumeAveragingUAVCoordinatesByIds:d,setSelectedUAVIdsForAveragingMeasurement:y,showAveragingDialog:h,startAveragingUAVCoordinateById:m,stopAveragingUAVCoordinatesByIds:v,updateAveragingByIds:g}=l,b=u},80684:(e,t,r)=>{"use strict";r.d(t,{Iw:()=>s,WT:()=>l,hJ:()=>u,gY:()=>f,ZP:()=>d,J0:()=>p});var n=r(24268),o=r(49998);function a(e,t,r,n){const o=Object.assign({id:e.nextMessageId++},t);if(void 0!==n){const t=e.byId[n];t&&(t.responseId=o.id)}e.byId[o.id]=o;let a=e.uavIdsToMessageIds[r];return a||(a=[],e.uavIdsToMessageIds[r]=a),a.push(o.id),o.id}const{actions:i,reducer:c}=(0,n.oM)({name:"messages",initialState:{byId:{},commandHistory:[],uavIdsToMessageIds:{},nextMessageId:1},reducers:{addErrorMessage(e,t){const{message:r,refs:n,uavId:i}=t.payload,c=a(e,{type:o.Cs.ERROR,date:Date.now(),body:r},i,n);t.messageId=c},addInboundMessage(e,t){const{message:r,refs:n,severity:i,uavId:c}=t.payload,l=a(e,{type:o.Cs.INBOUND,author:c,date:Date.now(),raw:!0,recipient:"Operator",severity:i,body:r},c,n);t.messageId=l},addOutboundMessage(e,t){const{message:r,uavId:n}=t.payload;if(!n)return;const i=a(e,{type:o.Cs.OUTBOUND,author:"Operator",date:Date.now(),responseId:void 0,recipient:n,body:r,percentage:void 0,status:void 0,suspended:!1},n);t.messageId=i,e.commandHistory.at(-1)!==r&&e.commandHistory.push(r)},clearMessagesOfUAVById(e,t){var r;const{payload:n}=t,o=null!==(r=e.uavIdsToMessageIds[n])&&void 0!==r?r:[];for(const t of o)delete e.byId[t];delete e.uavIdsToMessageIds[n]},updateProgressByMessageId(e,t){const{messageId:r,progress:n,suspended:o}=t.payload,a=e.byId[r];a&&"object"==typeof n&&("number"==typeof n.percentage&&(a.percentage=Number(Math.max(0,Math.min(n.percentage,100)).toFixed(1))),void 0!==n.message&&(a.message=String(n.message)),void 0!==o&&(a.suspended=Boolean(o)))}}}),{addInboundMessage:l,addOutboundMessage:u,addErrorMessage:s,clearMessagesOfUAVById:f,updateProgressByMessageId:p}=i,d=c},27079:(e,t,r)=>{"use strict";r.d(t,{QD:()=>p,dt:()=>d,Ef:()=>y,oi:()=>h,$x:()=>v,ZP:()=>I,EN:()=>g,Zg:()=>b,c6:()=>w,rE:()=>E,jZ:()=>S,_X:()=>O,gi:()=>x,_Y:()=>A,xG:()=>j,s1:()=>k,pN:()=>P,ZG:()=>C,sp:()=>T});var n=r(27601),o=r(24268),a=r(88839),i=r(1227),c=r(41137);function l(e,t){const r=t.length;if(r<e){const n=t.concat();return n.length=e,n.fill(null,r),n}return t.slice(0,e)}const u={mapping:[],homePositions:[],landingPositions:[],takeoffHeadings:[],mappingEditor:{enabled:!1,indexBeingEdited:-1},preferredChannelIndex:0,commandsAreBroadcast:!1,geofencePolygonId:void 0,geofenceAction:a.i8.RETURN},{actions:s,reducer:f}=(0,o.oM)({name:"mission",initialState:u,reducers:{adjustMissionMapping(e,t){const{uavId:r,to:o}=t.payload,a=e.mapping.indexOf(r),i=(0,n.default)(o)?null:e.mapping[o];a>=0&&(e.mapping[a]=null!=i?i:null),(0,n.default)(o)||(e.mapping[o]=r)},cancelMappingEditorSessionAtCurrentSlot:(0,c.WZ)((e=>{e.mappingEditor.indexBeingEdited=-1})),clearGeofencePolygonId:(0,c.WZ)((e=>{e.geofencePolygonId=void 0})),clearMapping(e){e.mapping=Array.from({length:e.mapping.length},(()=>null))},clearMappingSlot(e,t){const r=t.payload;r>=0&&r<e.mapping.length&&(e.mapping[r]=null)},finishMappingEditorSession:(0,c.WZ)((e=>{e.mappingEditor.enabled=!1,e.mappingEditor.indexBeingEdited=-1})),commitMappingEditorSessionAtCurrentSlot(e,t){const{continuation:r,value:o}=t.payload,a="string"==typeof o&&o.trim().length>0?o:null,i=e.mappingEditor.indexBeingEdited;if(i>=0&&i<e.mapping.length){const t=e.mapping[i],r=null===a?-1:e.mapping.indexOf(a);r>=0&&(e.mapping[r]=null!=t?t:null),e.mapping[i]=a}e.mappingEditor.indexBeingEdited=function(e,t){const{mapping:r}=e,o=e.mappingEditor.indexBeingEdited,a=r.length,i="prev"===t||"prevEmpty"===t?-1:"next"===t||"nextEmpty"===t?1:0,c="prevEmpty"===t||"nextEmpty"===t;let l;if(0===i)l=-1;else for(l=(o+i)%a;l!==o&&c&&!(0,n.default)(r[l]);l=(l+i)%a);return l===o&&(l=-1),l}(e,r)},removeUAVsFromMapping(e,t){for(const r of t.payload){const t=e.mapping.indexOf(r);t>=0&&(e.mapping[t]=null)}},replaceMapping(e,t){const r=t.payload;if(!Array.isArray(r))throw new TypeError("New mapping must be an array");if(r.length!==e.mapping.length)throw new Error("Cannot change mapping length with replaceMapping()");e.mapping=r},setCommandsAreBroadcast(e,t){e.commandsAreBroadcast=Boolean(t.payload)},setGeofenceAction(e,t){e.geofenceAction=t.payload},setGeofencePolygonId(e,t){e.geofencePolygonId=t.payload},setMappingLength(e,t){const r="string"==typeof t.payload?Number.parseInt(t.payload,10):t.payload;if(Number.isNaN(r)||r<0||r>1e3)return;const n=e.mapping.length;if(r<n)e.mapping.splice(r),e.homePositions.splice(r),e.landingPositions.splice(r),e.takeoffHeadings.splice(r);else if(r>n){const t=Array.from({length:r-n},(()=>null));e.mapping.push(...t),e.homePositions.push(...t),e.landingPositions.push(...t),e.takeoffHeadings.push(...t)}},startMappingEditorSessionAtSlot(e,t){const r="number"==typeof t.payload?t.payload:-1,n=r<0||r>=e.mapping.length?-1:r;e.mappingEditor.enabled=!0,e.mappingEditor.indexBeingEdited=n},startMappingEditorSession:(0,c.WZ)((e=>{e.mappingEditor.enabled=!0,e.mappingEditor.indexBeingEdited=-1})),togglePreferredChannel(e){e.preferredChannelIndex=e.preferredChannelIndex?0:1},updateHomePositions(e,t){e.homePositions=l(e.mapping.length,t.payload)},updateLandingPositions(e,t){e.landingPositions=l(e.mapping.length,t.payload)},updateTakeoffHeadings(e,{payload:t}){Array.isArray(t)?e.takeoffHeadings=l(e.mapping.length,t):e.takeoffHeadings=Array.from({length:e.mapping.length},(()=>t))}},extraReducers(e){e.addCase(i.hW,((e,t)=>{const r=t.payload;e.geofencePolygonId&&r.includes(e.geofencePolygonId)&&(e.geofencePolygonId=void 0)}))}}),{adjustMissionMapping:p,cancelMappingEditorSessionAtCurrentSlot:d,clearGeofencePolygonId:y,clearMapping:h,clearMappingSlot:m,commitMappingEditorSessionAtCurrentSlot:v,finishMappingEditorSession:g,removeUAVsFromMapping:b,replaceMapping:w,setCommandsAreBroadcast:E,setGeofenceAction:S,setGeofencePolygonId:O,setMappingLength:x,startMappingEditorSession:A,startMappingEditorSessionAtSlot:j,togglePreferredChannel:k,updateHomePositions:P,updateLandingPositions:C,updateTakeoffHeadings:T}=s,I=f},71936:(e,t,r)=>{"use strict";r.d(t,{y:()=>n});const n=(0,r(24268).PH)("objects/notifyObjectsDeletedOnServer")},53096:(e,t,r)=>{"use strict";r.d(t,{$e:()=>y,I2:()=>u,JR:()=>p,Ld:()=>s,VF:()=>f,ZP:()=>h,on:()=>d});var n=r(24268),o=r(95656),a=r(41137);const i={manifest:o.rz,rebootAfterUpload:!1,dialog:{open:!1}},{actions:c,reducer:l}=(0,n.oM)({name:"parameters",initialState:i,reducers:{clearManifest:(0,a.WZ)((e=>{(0,o.iW)(e.manifest)})),closeParameterUploadSetupDialog:(0,a.WZ)((e=>{e.dialog.open=!1})),removeParameterFromManifest(e,t){const{payload:r}=t,{manifest:n}=e;r&&"string"==typeof r&&(0,o.zD)(n,r)},setRebootAfterUpload(e,t){e.rebootAfterUpload=Boolean(t.payload)},showParameterUploadSetupDialog:(0,a.WZ)((e=>{e.dialog.open=!0})),updateParametersInManifest(e,t){const{payload:r}=t,{manifest:n}=e;if(Array.isArray(r))for(const{name:e,value:t}of r)n.order.includes(e)&&(0,o.zD)(n,e),(0,o.DY)(n,{id:e,name:e,value:t})}}}),{clearManifest:u,closeParameterUploadSetupDialog:s,removeParameterFromManifest:f,setRebootAfterUpload:p,showParameterUploadSetupDialog:d,updateParametersInManifest:y}=c,h=l},21147:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>d,bH:()=>p,mS:()=>s});var n=r(24268),o=r(95656);const a={groups:(0,o.U9)([{id:"weather",label:"Weather"},{id:"permissions",label:"Permissions"},{id:"equipment",label:"Equipment"},{id:"environment",label:"Environment"}]),items:(0,o.U9)([{id:"weather-wind-speed",label:"Wind speed is within an acceptable range",groupId:"weather"},{id:"weather-visibility",label:"Visibility sufficient for flight",groupId:"weather"},{id:"weather-precipitation",label:"Precipitation within acceptable range",groupId:"weather"},{id:"planetary-k-index",label:"No geomagnetic storms indicated by Kp-index",groupId:"weather"},{id:"permissions-drone-pilot-license",label:"Drone pilot license is valid",groupId:"permissions"},{id:"permissions-airspace-authorization",label:"Airspace authorization has been obtained",groupId:"permissions"},{id:"equipment-rc-charged",label:"Remote controller batteries are charged",groupId:"equipment"},{id:"equipment-propellers-mounted",label:"Drone propellers are securely mounted",groupId:"equipment"},{id:"equipment-no-visible-damage",label:"No visible damage on drone components",groupId:"equipment"},{id:"environment-no-obstructions",label:"No obstructions in takeoff area",groupId:"environment"},{id:"environment-cordoned-off",label:"Takeoff and landing area cordoned off",groupId:"environment"},{id:"environment-flight-path-clear",label:"No people below flight paths",groupId:"environment"}]),checked:[]},{actions:i,reducer:c}=(0,n.oM)({name:"preflight",initialState:a,reducers:{clearPreflightCheckGroups(e){(0,o.iW)(e.items),(0,o.iW)(e.groups),e.checked=[]},clearPreflightCheckListItems(e){(0,o.iW)(e.items),e.checked=[]},setPreflightCheckListItems(e,t){const{groups:r,items:n}=t.payload;r.byId&&r.order&&n.byId&&n.order&&(e.items={byId:n.byId,order:n.order},e.groups={byId:r.byId,order:r.order},e.checked=[])},setPreflightCheckStatus(e,t){const{id:r,checked:n}=t.payload,o=e.items.byId[r],a=e.checked.indexOf(r);o&&(n&&a<0?e.checked.push(r):!n&&a>=0&&e.checked.splice(a,1))},togglePreflightCheckStatus(e,t){const r=t.payload,n=e.items.byId[r],o=e.checked.indexOf(r);n&&(o<0?e.checked.push(r):o>=0&&e.checked.splice(o,1))}}}),{clearPreflightCheckGroups:l,clearPreflightCheckListItems:u,setPreflightCheckListItems:s,setPreflightCheckStatus:f,togglePreflightCheckStatus:p}=i,d=c},62275:(e,t,r)=>{"use strict";r.d(t,{FP:()=>l,g7:()=>s,zB:()=>u});var n=r(84106),o=r(19973),a=function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{l(n.next(e))}catch(e){a(e)}}function c(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,c)}l((n=n.apply(e,t||[])).next())}))};let i;function c(e){void 0!==i&&(i(e),i=void 0)}function l(){return e=>{e((0,o.fH)()),c(void 0)}}function u(e){return void 0===e?l():t=>{t((0,o.XN)()),c(e)}}function s(e,t={}){return r=>a(this,void 0,void 0,(function*(){return c(void 0),r((0,o.VP)(e,Object.assign(Object.assign({submitButtonLabel:"Confirm"},t),{type:n.P.CONFIRMATION}))),new Promise((e=>{i=e}))}))}},19973:(e,t,r)=>{"use strict";r.d(t,{VP:()=>u,XN:()=>s,ZP:()=>f,fH:()=>l});var n=r(24268);const o={cancelButtonLabel:"Cancel",fieldType:"text",hintText:void 0,initialValue:void 0,message:void 0,submitButtonLabel:"Submit",title:void 0,type:r(84106).P.PROMPT},a=Object.assign(Object.assign({},o),{dialogVisible:!1}),{reducer:i,actions:c}=(0,n.oM)({name:"prompt",initialState:a,reducers:{_cancelPromptDialog(e){e.dialogVisible=!1},_showPromptDialog:{reducer:(e,t)=>Object.assign(Object.assign(Object.assign({},o),t.payload),{dialogVisible:!0}),prepare:(e,t)=>({payload:Object.assign(Object.assign({},"string"==typeof t?{initialValue:t}:t),{message:e})})},_submitPromptDialog(e){e.dialogVisible=!1}}}),{_cancelPromptDialog:l,_showPromptDialog:u,_submitPromptDialog:s}=c,f=i},84106:(e,t,r)=>{"use strict";var n;r.d(t,{P:()=>n}),function(e){e.PROMPT="prompt",e.CONFIRMATION="confirm"}(n||(n={}))},11385:(e,t,r)=>{"use strict";r.d(t,{Dp:()=>s,tP:()=>f,ZP:()=>v,aO:()=>p,O1:()=>d,Pw:()=>y,$m:()=>h,dx:()=>m});var n,o=r(27601),a=r(24268),i=r(41137);!function(e){e.LON_LAT="lonLat",e.ECEF="ecef"}(n||(n={}));const c={stats:{lastUpdatedAt:void 0,satellites:{},messages:{},antenna:{descriptor:void 0,height:void 0,position:void 0,positionECEF:void 0,serialNumber:void 0,stationId:void 0},survey:{accuracy:void 0,flags:0}},dialog:{open:!1,antennaPositionFormat:n.LON_LAT,surveySettingsEditorVisible:!1}},{actions:l,reducer:u}=(0,a.oM)({name:"rtk",initialState:c,reducers:{closeRTKSetupDialog:(0,i.WZ)((e=>{e.dialog.open=!1})),closeSurveySettingsPanel:(0,i.WZ)((e=>{e.dialog.surveySettingsEditorVisible=!1})),showRTKSetupDialog:(0,i.WZ)((e=>{e.dialog.open=!0})),resetRTKStatistics(e){e.stats.lastUpdatedAt=void 0,e.stats.antenna={},e.stats.satellites={},e.stats.messages={},e.stats.survey={}},setAntennaPositionFormat(e,t){e.dialog.antennaPositionFormat=t.payload},toggleSurveySettingsPanel:(0,i.WZ)((e=>{e.dialog.surveySettingsEditorVisible=!e.dialog.surveySettingsEditorVisible})),updateRTKStatistics(e,t){const{antenna:r,lastUpdatedAt:n,messages:a,satellites:i,survey:c}=t.payload;e.stats.antenna=r,e.stats.lastUpdatedAt=n,e.stats.messages=a,e.stats.satellites=i,void 0===e.stats.survey&&(e.stats.survey={}),(0,o.default)(c.accuracy)||(e.stats.survey.accuracy=c.accuracy),(0,o.default)(c.flags)||(e.stats.survey.flags=c.flags)}}}),{closeRTKSetupDialog:s,closeSurveySettingsPanel:f,resetRTKStatistics:p,setAntennaPositionFormat:d,showRTKSetupDialog:y,toggleSurveySettingsPanel:h,updateRTKStatistics:m}=l,v=u},66409:(e,t,r)=>{"use strict";r.d(t,{N:()=>a,Z:()=>i});var n=r(24268);const o={dialogVisible:!1,editedLocationId:void 0},{actions:a,reducer:i}=(0,n.oM)({name:"saved-location-editor",initialState:o,reducers:{_cancelLocationEditing(e){e.editedLocationId=void 0},_closeSavedLocationEditorDialog(e){e.dialogVisible=!1},editSavedLocation(e,{payload:t}){e.dialogVisible=!0,e.editedLocationId=t}}})},82985:(e,t,r)=>{"use strict";r.d(t,{N:()=>a,Z:()=>i});var n=r(24268),o=r(95656);const{actions:a,reducer:i}=(0,n.oM)({name:"savedLocations",initialState:{byId:{fahegy:{id:"fahegy",name:"Farkashegy Airfield",center:{lon:18.915125,lat:47.486305},rotation:59,zoom:17,notes:""},elte:{id:"elte",name:"ELTE Garden",center:{lon:19.061951,lat:47.47334},rotation:0,zoom:17,notes:""}},order:["fahegy","elte"]},reducers:{addSavedLocation(e,t){(0,o.DY)(e,t.payload)},createNewSavedLocation(e,t){(0,o.v7)(e,t)},deleteSavedLocation(e,t){(0,o.zD)(e,t.payload)},updateSavedLocation(e,t){(0,o.lQ)(e,t.payload)}}})},71579:(e,t,r)=>{"use strict";r.d(t,{N:()=>a,Z:()=>i});var n=r(24268);const o={lastError:void 0,open:!1},{actions:a,reducer:i}=(0,n.oM)({name:"authentication-dialog",initialState:o,reducers:{authenticateToServerFulfilled(e,{payload:t}){var r;t.result?(e.lastError=void 0,e.open=!1):e.lastError=null!==(r=t.reason)&&void 0!==r?r:"Unexpected failure"},authenticateToServerPending(e){e.lastError=void 0},closeAuthenticationDialog(e){e.lastError=void 0,e.open=!1},showAuthenticationDialog(e){e.lastError=void 0,e.open=!0}}})},71859:(e,t,r)=>{"use strict";r.d(t,{b:()=>o,j:()=>n});const n=1e3,o=500},18661:(e,t,r)=>{"use strict";r.d(t,{N:()=>o,Z:()=>a});var n=r(24268);const{actions:o,reducer:a}=(0,n.oM)({name:"deauthentication-dialog",initialState:{open:!1},reducers:{closeDeauthenticationDialog(e){e.open=!1},showDeauthenticationDialog(e){e.open=!0}}})},3419:(e,t,r)=>{"use strict";r.d(t,{Nw:()=>s,SW:()=>c,ZP:()=>u});var n,o=r(24268),a=r(41137),i=r(48002);const c=Boolean(null===(n=window.bridge)||void 0===n?void 0:n.createTCPSocket),l={active:!1,protocol:c?i.b.TCP:i.b.WS,hostName:void 0,port:c?5001:5e3,isSecure:!1,dialogVisible:!1,selectedTab:i.x.AUTO},{reducer:u,actions:s}=(0,o.oM)({name:"server-settings-dialog",initialState:l,reducers:{closeServerSettingsDialog(e,t){Object.assign(e,t.payload,{dialogVisible:!1})},disconnectFromServer(e){e.active=!1},setServerSettingsDialogTab(e,t){e.selectedTab=t.payload},showServerSettingsDialog:(0,a.WZ)((e=>{e.dialogVisible=!0})),updateServerSettings(e,t){Object.assign(e,t.payload)}}})},43280:(e,t,r)=>{"use strict";r.d(t,{UI:()=>u,GP:()=>d,pv:()=>y,_p:()=>h,Fg:()=>m,MA:()=>w,_1:()=>E,DV:()=>S,fc:()=>O,Fy:()=>x,ZP:()=>R,fv:()=>A,$A:()=>j,IF:()=>k,fR:()=>P,hn:()=>C,HD:()=>T,D$:()=>I,WU:()=>L,nD:()=>_,V3:()=>Z});var n=r(24268),o=r(49998),a=r(92760),i=r(95656),c=r(41137);function l(e,t,r){const{hostName:n,label:o,port:a,protocol:i}=r.payload,c=`${n}:${a}:${t}:${i}`,l={id:c,hostName:n,label:o,port:a,protocol:i,type:t};r.key=c,void 0===e.detected.byId[c]?(r.wasAdded=!0,e.detected.order.push(c)):r.wasAdded=!1,e.detected.byId[c]=l}const u={methods:[],required:!1,user:"",valid:!1},s={current:{authentication:u,features:{},license:void 0,state:o.em.DISCONNECTED,timeSync:{adjusting:!1,adjustmentResult:void 0,calculating:!1,clockSkew:void 0,roundTripTime:void 0},version:void 0},isAuthenticating:!1,isScanning:!1,detected:i.rz,token:(0,a.Q)(),timeSyncDialog:{open:!1}},{actions:f,reducer:p}=(0,n.oM)({name:"servers",initialState:s,reducers:{addDetectedServer(e,t){l(e,"detected",t)},addInferredServer(e,t){l(e,"inferred",t)},addServerFeatures(e,t){let{payload:r}=t;Array.isArray(r)||(r=[r]);for(let t of r){"object"!=typeof t&&(t={name:String(t),data:!0});const{name:r,data:n}=t;e.current.features[r]=n}},adjustServerTimePromisePending(e){e.current.timeSync.adjusting=!0,e.current.timeSync.adjustmentResult=void 0},adjustServerTimePromiseFulfilled(e){e.current.timeSync.adjusting=!1,e.current.timeSync.adjustmentResult=!0},adjustServerTimePromiseRejected(e){e.current.timeSync.adjusting=!1,e.current.timeSync.adjustmentResult=!1},authenticateToServerPromisePending(e){e.isAuthenticating=!0},authenticateToServerPromiseFulfilled(e){e.isAuthenticating=!1},authenticateToServerPromiseRejected(e){e.isAuthenticating=!1},clearAuthenticatedUser(e){e.current.authentication.user=""},clearAuthenticationToken(e){e.token=void 0},clearServerFeatures(e){e.current.features={}},clearServerLicense(e){e.current.license=void 0},clearTimeSyncStatistics(e){e.current.timeSync={clockSkew:void 0,roundTripTime:void 0}},calculateClockSkewPromisePending(e){e.current.timeSync.calculating=!0},calculateClockSkewPromiseFulfilled(e,t){e.current.timeSync.calculating=!1;const{clockSkew:r,roundTripTime:n}=t.payload;e.current.timeSync.clockSkew="number"==typeof r&&Number.isFinite(r)?r:void 0,e.current.timeSync.roundTripTime="number"==typeof n&&Number.isFinite(n)?n:void 0},calculateClockSkewPromiseRejected(e){e.current.timeSync.calculating=!1},closeTimeSyncWarningDialog:(0,c.WZ)((e=>{e.timeSyncDialog.open=!1})),openTimeSyncWarningDialog:(0,c.WZ)((e=>{e.timeSyncDialog.open=!0})),removeAllDetectedServers(e){(0,i.iW)(e.detected)},setAuthenticatedUser(e,t){var r;e.current.authentication.user=null!==(r=t.payload)&&void 0!==r?r:""},setCurrentServerConnectionState(e,t){const r=t.payload;e.current.state=r,r===o.em.DISCONNECTED&&(e.current.authentication=u)},setServerLicense(e,{payload:t}){e.current.license=t},setServerVersion(e,{payload:t}){e.current.version=t},startScanning(e){e.isScanning=!0},stopScanning(e){e.isScanning=!1},updateCurrentServerAuthenticationSettings(e,t){const{methods:r,required:n,user:o}=t.payload;Array.isArray(r)&&(e.current.authentication.required=Boolean(n),e.current.authentication.methods=r.map(String),void 0!==o&&(e.current.authentication.user=o),e.current.authentication.valid=!0)},updateDetectedServerHostname(e,t){const{key:r,hostName:n}=t.payload,o=e.detected.byId[r];o&&(o.hostName=n)},updateDetectedServerLabel(e,t){const{key:r,label:n}=t.payload,o=e.detected.byId[r];o&&(o.label=n)}}}),{addDetectedServer:d,addInferredServer:y,addServerFeatures:h,authenticateToServerPromiseFulfilled:m,authenticateToServerPromisePending:v,authenticateToServerPromiseRejected:g,clearAuthenticatedUser:b,clearAuthenticationToken:w,clearServerFeatures:E,clearServerLicense:S,clearTimeSyncStatistics:O,closeTimeSyncWarningDialog:x,openTimeSyncWarningDialog:A,removeAllDetectedServers:j,setAuthenticatedUser:k,setCurrentServerConnectionState:P,setServerLicense:C,setServerVersion:T,startScanning:I,stopScanning:L,updateCurrentServerAuthenticationSettings:_,updateDetectedServerHostname:Z,updateDetectedServerLabel:N}=f,R=p},48002:(e,t,r)=>{"use strict";var n,o;r.d(t,{b:()=>n,x:()=>o}),function(e){e.TCP="tcp",e.WS="ws"}(n||(n={})),function(e){e.AUTO="auto",e.MANUAL="manual"}(o||(o={}))},22345:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>d,us:()=>u,c0:()=>s,x2:()=>f,pW:()=>l,kj:()=>p});var n=r(24268);const o=(e,t)=>{e.expiresAt=((e,t)=>"number"==typeof t&&t>=0?"number"==typeof e.expiresAt?Math.min(e.expiresAt,t):t:e.expiresAt)(e,t),"number"==typeof e.expiresAt&&e.expiresAt<=Date.now()&&(e.isExpired=!0)},a={broadcast:!1,expiresAt:void 0,featureIdForTooltip:void 0,isExpired:!1},{actions:i,reducer:c}=(0,n.oM)({name:"session",initialState:a,reducers:{ensureSessionExpiresNoLaterThan(e,t){o(e,t.payload)},ensureSessionIsNotLongerThan(e,t){const r=t.payload;if("number"==typeof r&&r>=0){const t=Date.now()+1e3*r;o(e,t)}},expireSession(e){o(e,Date.now())},setBroadcast(e,t){e.broadcast=Boolean(t.payload)},setFeatureIdForTooltip(e,t){e.featureIdForTooltip=t.payload}}}),{setBroadcast:l,ensureSessionExpiresNoLaterThan:u,ensureSessionIsNotLongerThan:s,expireSession:f,setFeatureIdForTooltip:p}=i,d=c},75505:(e,t,r)=>{"use strict";r.d(t,{N:()=>c,Z:()=>i});var n=r(24268),o=r(41137);const a={open:!1,selectedTab:r(67755).Np.DISPLAY},{reducer:i,actions:c}=(0,n.oM)({name:"app-settings",initialState:a,reducers:{closeAppSettingsDialog(e){e.open=!1},setAppSettingsDialogTab(e,t){e.selectedTab=t.payload},showAppSettingsDialog:(0,o.WZ)((e=>{e.open=!0})),toggleAppSettingsDialog:(0,o.WZ)((e=>{e.open=!e.open}))}})},80297:(e,t,r)=>{"use strict";r.d(t,{IA:()=>g,KI:()=>h,Ok:()=>m,Uy:()=>v,ZP:()=>b});var n,o=r(44683),a=r(24268),i=r(13281),c=r(35122),l=r(23736),u=r(41741),s=r(41137),f=r(67755);const p={display:{altitudeSummaryType:c.nN.AMSL,coordinateFormat:c.mY.SIGNED_DEGREES,experimentalFeaturesEnabled:!1,hideEmptyMissionSlots:!1,language:"en",optimizeForSingleUAV:o.Z.optimizeForSingleUAV.default,optimizeUIForTouch:null!==(n=o.Z.optimizeUIForTouch.default)&&void 0!==n?n:u.qC,showMissionIds:!1,showMouseCoordinates:!0,showScaleLine:!0,theme:f.Q2.AUTO,hideInactiveSegmentsOnDarkLCD:!1,uavListFilters:[],uavListLayout:f.Yj.GRID,uavListSortPreference:{key:l.$O.DEFAULT,reverse:!1}},threeD:{scenery:"auto",lighting:"dark",grid:"none",quality:"medium",showAxes:!0,showHomePositions:!0,showLandingPositions:!1,showStatistics:!1,showTrajectoriesOfSelection:!0},localServer:{cliArguments:"",enabled:!1,searchPath:[]},uavs:{autoRemove:!1,warnThreshold:3,goneThreshold:60,forgetThreshold:600,placementAccuracy:1e3,defaultBatteryCellCount:i.uV,fullChargeVoltage:i.yj,lowVoltageThreshold:i.jO,criticalVoltageThreshold:i.YI,preferredBatteryDisplayStyle:c.ol.VOLTAGE,uavOperationConfirmationStyle:c.iU.NEVER},apiKeys:{}},{actions:d,reducer:y}=(0,a.oM)({name:"settings",initialState:p,reducers:{replaceAppSettings:{prepare:(e,t)=>({payload:{category:e,updates:t}}),reducer(e,t){const{category:r,updates:n}=t.payload;void 0!==e[r]&&(e[r]=n)}},toggleLightingConditionsInThreeDView:(0,s.WZ)((e=>{e.threeD.lighting="dark"===e.threeD.lighting?"light":"dark"})),toggleMissionIds:(0,s.WZ)((e=>{e.display.showMissionIds=!e.display.showMissionIds})),updateAppSettings:{prepare:(e,t)=>({payload:{category:e,updates:t}}),reducer(e,t){const{category:r,updates:n}=t.payload;void 0!==e[r]&&(e[r]=Object.assign(Object.assign({},e[r]),n))}}}}),{replaceAppSettings:h,toggleLightingConditionsInThreeDView:m,toggleMissionIds:v,updateAppSettings:g}=d,b=y},67755:(e,t,r)=>{"use strict";var n,o,a;r.d(t,{Np:()=>n,Q2:()=>o,Yj:()=>a}),function(e){e.API_KEYS="apiKeys",e.DISPLAY="display",e.PREFLIGHT="preflight",e.SERVER="server",e.THREE_D="threeD",e.UAVS="uavs"}(n||(n={})),function(e){e.AUTO="auto",e.DARK="dark",e.LIGHT="light"}(o||(o={})),function(e){e.GRID="grid",e.LIST="list"}(a||(a={}))},59978:(e,t,r)=>{"use strict";var n,o;r.d(t,{$q:()=>i,Nx:()=>n,V2:()=>a,Z7:()=>o,_f:()=>u,f1:()=>c,oe:()=>l}),function(e){e.AHL="ahl",e.AMSL="amsl"}(n||(n={})),function(e){e.NONE="none",e.ABSOLUTE="absolute",e.RELATIVE="relative"}(o||(o={}));const a={type:n.AHL,value:0},i={type:o.RELATIVE,value:0},c={width:12,depth:12,height:6},l="showUpload",u=Object.freeze({type:l})},66853:(e,t,r)=>{"use strict";var n,o,a;r.d(t,{Qj:()=>n,VS:()=>a,wC:()=>o}),function(e){e.INDOOR="indoor",e.OUTDOOR="outdoor"}(n||(n={})),function(e){e.SYNCED="synced",e.NOT_SYNCED="notSynced",e.IN_PROGRESS="inProgress",e.ERROR="error"}(o||(o={})),function(e){e.RC="rc",e.AUTO="auto"}(a||(a={}))},97604:(e,t,r)=>{"use strict";r.d(t,{Ae:()=>Y,B8:()=>Q,Cx:()=>x,Fp:()=>w,GN:()=>T,Gs:()=>O,O0:()=>Z,Rj:()=>L,Sl:()=>S,Td:()=>F,U2:()=>V,WC:()=>E,WT:()=>M,YN:()=>z,Yb:()=>N,ZP:()=>J,_u:()=>_,cQ:()=>B,gk:()=>j,iD:()=>G,jB:()=>m,jT:()=>P,nN:()=>v,o6:()=>H,oN:()=>b,qp:()=>$,qv:()=>q,rD:()=>C,rR:()=>k,rm:()=>X,rz:()=>A,u$:()=>U,vT:()=>h,vj:()=>W,wQ:()=>K,x5:()=>g,zG:()=>y,zm:()=>I});var n=r(42902),o=r(27601),a=r(48707),i=r(24268),c=r(12662),l=r(41137),u=r(59978),s=r(66853);const f={data:void 0,loading:!1,progress:0,sourceUrl:void 0,changedSinceLoaded:!1,lastLoadAttemptFailed:!1,environment:{editing:!1,outdoor:{coordinateSystem:{orientation:"0",origin:void 0,type:c.COORDINATE_SYSTEM_TYPE},altitudeReference:Object.assign({},u.V2),takeoffHeading:Object.assign({},u.$q)},indoor:{coordinateSystem:{orientation:"0"},room:{visible:!1,firstCorner:[-u.f1.width/2,-u.f1.depth/2,0],secondCorner:[u.f1.width/2,u.f1.depth/2,u.f1.height]},takeoffHeading:Object.assign({},u.$q)},type:s.Qj.OUTDOOR},loadShowFromCloudDialog:{open:!1},manualPreflightChecksDialog:{open:!1},onboardPreflightChecksDialog:{open:!1},preflight:{manualChecksSignedOffAt:void 0,onboardChecksSignedOffAt:void 0,takeoffAreaApprovedAt:void 0},start:{authorized:!1,clock:void 0,utcTime:void 0,timeOnClock:void 0,method:s.VS.RC,uavIds:[],syncStatusWithServer:s.wC.NOT_SYNCED},startTimeDialog:{open:!1},takeoffAreaSetupDialog:{open:!1}},{actions:p,reducer:d}=(0,i.oM)({name:"show",initialState:f,reducers:{approveTakeoffAreaAt(e,t){e.preflight.takeoffAreaApprovedAt=t.payload},clearLoadedShow:(0,l.WZ)((e=>{e.data=void 0,e.sourceUrl=void 0,e.changedSinceLoaded=!1,e.preflight.manualChecksSignedOffAt=void 0,e.preflight.onboardChecksSignedOffAt=void 0,e.preflight.takeoffAreaApprovedAt=void 0})),clearManualPreflightChecks:(0,l.WZ)((e=>{e.preflight.manualChecksSignedOffAt=void 0})),clearOnboardPreflightChecks:(0,l.WZ)((e=>{e.preflight.onboardChecksSignedOffAt=void 0})),clearStartTimeAndMethod(e){e.start.utcTime=void 0,e.start.timeOnClock=void 0,e.start.method=s.VS.RC},closeEnvironmentEditorDialog:(0,l.WZ)((e=>{e.environment.editing=!1})),closeLoadShowFromCloudDialog:(0,l.WZ)((e=>{e.loadShowFromCloudDialog.open=!1})),closeManualPreflightChecksDialog:(0,l.WZ)((e=>{e.manualPreflightChecksDialog.open=!1})),closeOnboardPreflightChecksDialog:(0,l.WZ)((e=>{e.onboardPreflightChecksDialog.open=!1})),closeStartTimeDialog:(0,l.WZ)((e=>{e.startTimeDialog.open=!1})),closeTakeoffAreaSetupDialog:(0,l.WZ)((e=>{e.takeoffAreaSetupDialog.open=!1})),loadingProgress(e,t){if(e.loading){const r=Number(t.payload);Number.isNaN(r)?e.progress=void 0:e.progress=Math.min(1,Math.max(r,0))}},loadingPromisePending(e){e.loading=!0,e.progress=void 0,e.changedSinceLoaded=!1},loadingPromiseFulfilled(e,t){const{spec:r,url:n}=t.payload;e.data=r,e.sourceUrl=n,e.loading=!1,e.progress=void 0,e.changedSinceLoaded=!1},loadingPromiseRejected(e){e.loading=!1,e.progress=void 0,e.changedSinceLoaded=!1},notifyShowFileChangedSinceLoaded(e){e.changedSinceLoaded=!0},openEnvironmentEditorDialog:(0,l.WZ)((e=>{e.environment.editing=!0})),openLoadShowFromCloudDialog:(0,l.WZ)((e=>{e.loadShowFromCloudDialog.open=!0})),openManualPreflightChecksDialog:(0,l.WZ)((e=>{e.manualPreflightChecksDialog.open=!0})),openOnboardPreflightChecksDialog:(0,l.WZ)((e=>{e.onboardPreflightChecksDialog.open=!0})),openStartTimeDialog:(0,l.WZ)((e=>{e.startTimeDialog.open=!0})),openTakeoffAreaSetupDialog:(0,l.WZ)((e=>{e.takeoffAreaSetupDialog.open=!0})),revokeTakeoffAreaApproval:(0,l.WZ)((e=>{e.preflight.takeoffAreaApprovedAt=void 0})),setEnvironmentType(e,t){e.environment.type=t.payload},setIndoorShowOrientation(e,t){e.environment.indoor.coordinateSystem.orientation=String(t.payload)},setIndoorShowTakeoffHeadingSpecification(e,t){var r;e.environment.indoor.takeoffHeading=null!==(r=t.payload)&&void 0!==r?r:u.$q},setLastLoadingAttemptFailed(e,t){e.lastLoadAttemptFailed=Boolean(t.payload)},_setOutdoorShowAltitudeReference(e,t){const{payload:r}=t;"object"==typeof r&&void 0!==r.type&&void 0!==r.value&&(e.environment.outdoor.altitudeReference=r)},setOutdoorShowOrientation(e,t){e.environment.outdoor.coordinateSystem.orientation=String(t.payload)},setOutdoorShowOrigin(e,t){e.environment.outdoor.coordinateSystem.origin=t.payload},setOutdoorShowTakeoffHeadingSpecification(e,t){var r;e.environment.outdoor.takeoffHeading=null!==(r=t.payload)&&void 0!==r?r:u.$q},setRoomCorners(e,t){const r=t.payload;if(!Array.isArray(r)||r.length<2)return;const n=r[0],o=r[1];!Array.isArray(n)||n.length<3||!Array.isArray(o)||o.length<3||((0,a.Z)(e,"environment.indoor.room.firstCorner",n.slice(0,3)),(0,a.Z)(e,"environment.indoor.room.secondCorner",o.slice(0,3)))},setRoomVisibility(e,t){(0,a.Z)(e,"environment.indoor.room.visible",Boolean(t.payload))},setShowAuthorization(e,t){e.start.authorized=!0===t.payload},setShowSettingsSynchronizationStatus(e,t){Object.values(s.wC).includes(t.payload)&&(e.start.syncStatusWithServer=t.payload)},setStartMethod(e,t){Object.values(s.VS).includes(t.payload)&&(e.start.method=t.payload)},setStartTime(e,t){const{payload:r}=t,{clock:a,time:i}=r||{};e.start.clock=(0,o.default)(a)||""===a?void 0:String(a);if(!(0,o.default)(e.start.clock))e.start.timeOnClock=(0,o.default)(i)||"number"!=typeof i?void 0:i;else{const t=i instanceof Date?(0,n.Z)(i):i;e.start.utcTime="number"==typeof t?t:void 0}},setUAVIdsToStartAutomatically(e,t){Array.isArray(t.payload)&&(e.start.uavIds=t.payload)},signOffOnManualPreflightChecksAt(e,t){e.preflight.manualChecksSignedOffAt=t.payload},signOffOnOnboardPreflightChecksAt(e,t){e.preflight.onboardChecksSignedOffAt=t.payload},synchronizeShowSettings(){}}}),{approveTakeoffAreaAt:y,clearLoadedShow:h,clearManualPreflightChecks:m,clearOnboardPreflightChecks:v,clearStartTimeAndMethod:g,closeEnvironmentEditorDialog:b,closeLoadShowFromCloudDialog:w,closeManualPreflightChecksDialog:E,closeOnboardPreflightChecksDialog:S,closeStartTimeDialog:O,closeTakeoffAreaSetupDialog:x,loadingProgress:A,loadingPromiseFulfilled:j,notifyShowFileChangedSinceLoaded:k,openEnvironmentEditorDialog:P,openLoadShowFromCloudDialog:C,openManualPreflightChecksDialog:T,openOnboardPreflightChecksDialog:I,openStartTimeDialog:L,openTakeoffAreaSetupDialog:_,revokeTakeoffAreaApproval:Z,setEnvironmentType:N,setIndoorShowOrientation:R,setIndoorShowTakeoffHeadingSpecification:D,setLastLoadingAttemptFailed:F,_setOutdoorShowAltitudeReference:M,setOutdoorShowOrientation:U,setOutdoorShowOrigin:G,setOutdoorShowTakeoffHeadingSpecification:V,setRoomCorners:B,setRoomVisibility:W,setShowAuthorization:z,setShowSettingsSynchronizationStatus:H,setStartMethod:Y,setStartTime:q,setUAVIdsToStartAutomatically:$,signOffOnManualPreflightChecksAt:K,signOffOnOnboardPreflightChecksAt:X,synchronizeShowSettings:Q}=p,J=d},5353:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c,l:()=>i});var n=r(24268);const{actions:o,reducer:a}=(0,n.oM)({name:"sidebar",initialState:{open:!1},reducers:{setSidebarOpen(e,t){e.open=t.payload}}}),{setSidebarOpen:i}=o,c=a},25161:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u,c:()=>l});var n=r(24268),o=r(39535);const a={notification:{buttons:void 0,header:"",message:"",permanent:!1,semantics:o.j.DEFAULT}},{actions:i,reducer:c}=(0,n.oM)({name:"snackbar",initialState:a,reducers:{showNotification(e,t){let r;if("string"==typeof t.payload)r={buttons:void 0,header:"",message:String(t.payload),semantics:o.j.DEFAULT,permanent:!1};else{const{buttons:e,header:n,message:o,semantics:a,permanent:i}=t.payload;r={buttons:Array.isArray(e)?e:void 0,header:n?String(n):"",message:String(o),semantics:a,permanent:Boolean(i)}}e.notification=r}}}),{showNotification:l}=i,u=c},39535:(e,t,r)=>{"use strict";var n;r.d(t,{j:()=>n}),function(e){e.SUCCESS="success",e.WARNING="warning",e.ERROR="error",e.INFO="info",e.DEFAULT="default"}(n||(n={}))},84347:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>h,cL:()=>u,uN:()=>s,S8:()=>f,Xu:()=>p,oJ:()=>d});var n,o=r(24268);!function(e){e.FLY="fly",e.WALK="walk"}(n||(n={}));const a={camera:{position:void 0,rotation:void 0},navigation:{mode:n.WALK,parameters:{}},tooltip:void 0,sceneId:0},{actions:i,reducer:c}=(0,o.oM)({name:"threeD",initialState:a,reducers:{notifySceneRemoval(e){e.sceneId++},resetZoom(){},rotateViewTowards(){},setCameraPose(e,t){const{position:r,rotation:n}=t.payload;e.camera.position=r,e.camera.rotation=n},setNavigationMode(e,t){const{payload:r}=t;if("string"==typeof r)e.navigation.mode=r,e.navigation.parameters={};else{const{mode:t,parameters:n}=r;"string"==typeof t&&"object"==typeof n&&(e.navigation.mode=t,e.navigation.parameters=n)}},showTooltip(e,t){e.tooltip=t.payload?String(t.payload):void 0},hideTooltip(e){e.tooltip=void 0}}}),{hideTooltip:l,notifySceneRemoval:u,resetZoom:s,rotateViewTowards:f,setCameraPose:p,setNavigationMode:d,showTooltip:y}=i,h=c},76985:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>l,Zu:()=>i,e_:()=>c});var n=r(24268);const{actions:o,reducer:a}=(0,n.oM)({name:"tour",initialState:{isOpen:!1,seen:!1},reducers:{dismissTour(e){e.isOpen=!1,e.seen=!0},startTour(e){e.isOpen=!0}}}),{dismissTour:i,startTour:c}=o,l=a},30263:(e,t,r)=>{"use strict";r.d(t,{Lt:()=>l,ZP:()=>u,z0:()=>c});var n=r(24268),o=r(41137);const{actions:a,reducer:i}=(0,n.oM)({name:"uavControl",initialState:{flyToTargetDialog:{open:!1,initialValues:{coords:"",mode:"relative",altitude:0}}},reducers:{closeFlyToTargetDialog:(0,o.WZ)((e=>{e.flyToTargetDialog.open=!1})),openFlyToTargetDialog(e,{payload:{coords:t,mode:r="ahl",altitude:n=10}}){e.flyToTargetDialog.initialValues={coords:t,mode:r,altitude:n},e.flyToTargetDialog.open=!0}}}),{closeFlyToTargetDialog:c,openFlyToTargetDialog:l}=a,u=i},78752:(e,t,r)=>{"use strict";r.d(t,{f3:()=>i,g_:()=>c,gw:()=>n,x_:()=>a,yN:()=>o});const n=185,o=414,a=448,i=n+o,c=48+a},14440:(e,t,r)=>{"use strict";r.d(t,{DU:()=>d,ZP:()=>O,Or:()=>w,PM:()=>b,qJ:()=>E,Xf:()=>S,Xn:()=>g,Um:()=>p,KF:()=>y,hy:()=>h,bd:()=>m,M2:()=>v});var n,o=r(24268),a=r(95622),i=r(15222),c=r(41137),l=r(78752);!function(e){e.LOGS="logs",e.MESSAGES="messages",e.PREFLIGHT="preflight",e.TESTS="tests"}(n||(n={}));const u={open:!1,selectedUAVId:void 0,selectedTab:n.PREFLIGHT,position:{x:0,y:0},width:l.f3},{actions:s,reducer:f}=(0,o.oM)({name:"uav-details",initialState:u,reducers:{openUAVDetailsDialog(e,{payload:t}){e.selectedUAVId=t,e.open=!0},closeUAVDetailsDialog:(0,c.WZ)((e=>{e.open=!1})),setSelectedTabInUAVDetailsDialog(e,{payload:t}){e.selectedTab=t},setSelectedUAVIdInUAVDetailsDialog(e,{payload:t}){e.selectedUAVId=t},setUAVDetailsDialogPosition(e,{payload:t}){e.position=t},setUAVDetailsDialogWidth(e,{payload:t}){e.width=t}},extraReducers(e){e.addCase(a.Z5,((e,{payload:t})=>{const r=t.find(i.bf);r&&(e.selectedUAVId=(0,i.$7)(r))}))}}),{openUAVDetailsDialog:p,closeUAVDetailsDialog:d,setSelectedTabInUAVDetailsDialog:y,setSelectedUAVIdInUAVDetailsDialog:h,setUAVDetailsDialogPosition:m,setUAVDetailsDialogWidth:v}=s,g=e=>e.dialogs.uavDetails.open,b=e=>e.dialogs.uavDetails.selectedUAVId,w=e=>e.dialogs.uavDetails.selectedTab,E=e=>e.dialogs.uavDetails.position,S=e=>e.dialogs.uavDetails.width,O=f},6021:(e,t,r)=>{"use strict";r.d(t,{Tw:()=>f,UF:()=>l,UR:()=>s,ZP:()=>d,cS:()=>p});var n=r(24268),o=r(95656);const a=o.rz,{actions:i,reducer:c}=(0,n.oM)({name:"uavs",initialState:a,reducers:{addUAVs(e,t){for(const r of Object.values(t.payload))(0,o.wg)(e,r);(0,o.W7)(e)},clearUAVList(e){(0,o.iW)(e)},_removeUAVsByIds(e,t){(0,o.DD)(e,t.payload)},updateAgesOfUAVs(e,t){for(const[r,n]of Object.entries(t.payload)){const t=r?e.byId[r]:void 0;t&&(t.age=n)}},updateUAVs(e,t){for(const r of Object.values(t.payload))(0,o.Wf)(e,r)}}}),{addUAVs:l,clearUAVList:u,updateAgesOfUAVs:s,updateUAVs:f,_removeUAVsByIds:p}=i,d=c},647:(e,t,r)=>{"use strict";r.d(t,{fS:()=>j,mf:()=>k,U9:()=>P,tO:()=>T,dJ:()=>I,dB:()=>L,lS:()=>_,LS:()=>Z,a:()=>C,uh:()=>N,m1:()=>E,fy:()=>S,xq:()=>O,Mr:()=>x,ZP:()=>W,tm:()=>A,OK:()=>R,KE:()=>D,YP:()=>M,xx:()=>U,pK:()=>V,cm:()=>G,HU:()=>F,Bj:()=>B});var n=r(24268),o=r(59978),a=r(97604),i=r(95656),c=r(41137),l=r(38840),u=r(27601),s=r(89214),f=r(61295);const p=["failedItems","itemsInProgress","itemsWaitingToStart","itemsQueued","itemsFinished"];function d(e,t){(0,i.zD)(e.history,t)}function y(e){e.queues.failedItems=[],e.queues.itemsFinished=[],e.queues.itemsQueued=[],e.queues.itemsWaitingToStart=[],e.errors={},e.dialog.showLastUploadResult=!1}function h(e,t){for(const r of t)delete e.errors[r]}const m=({target:e,doNotMoveWhenIn:t=[]}={})=>{const r=(0,f.default)(p,...e?[e]:[],...t);return(t,n)=>{const o=(0,l.Z)(n.payload),a=e?t.queues[e]:void 0;for(const e of r){const r=t.queues[e];(0,s.Z)(r,...o),"failedItems"===e&&h(t,o)}if(!(0,u.default)(a))for(const e of o)a.includes(e)||a.push(e)}},v=({source:e,target:t})=>(r,n)=>{const o=(0,l.Z)(n.payload),a=r.queues[e],i=t?r.queues[t]:void 0;for(const e of o){const t=a.indexOf(e);t>=0&&(a.splice(t,1),i&&i.push(e))}"failedItems"===e&&h(r,o)},g={currentJob:{type:void 0,payload:void 0,running:!1},history:{order:[],byId:{}},queues:{itemsInProgress:[],itemsWaitingToStart:[],itemsQueued:[],itemsFinished:[],failedItems:[]},errors:{},dialog:{open:!1,showLastUploadResult:!1,selectedJob:{type:void 0,payload:void 0},backAction:void 0},settings:{autoRetry:!1,flashFailed:!1}},{actions:b,reducer:w}=(0,n.oM)({name:"upload",initialState:g,reducers:{clearLastUploadResultForJobType(e,t){const{payload:r}=t;r&&d(e,r)},clearUploadQueue:(0,c.WZ)((e=>{e.queues.itemsWaitingToStart=[]})),closeUploadDialog:(0,c.WZ)((e=>{e.dialog.open=!1})),dismissLastUploadResult:(0,c.WZ)((e=>{e.dialog.showLastUploadResult=!1})),putUavsInWaitingQueue:m({target:"itemsWaitingToStart",doNotMoveWhenIn:["itemsQueued","itemsInProgress"]}),removeUavsFromWaitingQueue:m({target:void 0,doNotMoveWhenIn:["itemsQueued","itemsInProgress"]}),setupNextUploadJob(e,t){const{payload:r}=t,{type:n,payload:o,targets:a}=r;e.currentJob.running||(e.currentJob.type=n,e.currentJob.payload=o,y(e),e.queues.itemsWaitingToStart=[...a])},setUploadAutoRetry(e,t){e.settings.autoRetry=Boolean(t.payload)},setFlashFailed(e,t){e.settings.flashFailed=Boolean(t.payload)},_enqueueFailedUploads:v({source:"failedItems",target:"itemsWaitingToStart"}),_enqueueSuccessfulUploads:v({source:"itemsFinished",target:"itemsWaitingToStart"}),_notifyUploadFinished(e,t){const{success:r,cancelled:n}=t.payload;if(e.queues.itemsWaitingToStart=[],e.queues.itemsInProgress=[],e.queues.itemsQueued=[],e.currentJob.running=!1,e.currentJob.type){const t={id:e.currentJob.type,payload:e.currentJob.payload,result:n?"cancelled":r?"success":"error"};(0,i.lQ)(e.history,t)}e.dialog.showLastUploadResult=!0},_notifyUploadStarted(e){e.currentJob.running=!0,e.dialog.showLastUploadResult=!1},_notifyUploadOnUavCancelled:v({source:"itemsInProgress",target:"itemsWaitingToStart"}),_notifyUploadOnUavFailed:v({source:"itemsInProgress",target:"failedItems"}),_notifyUploadOnUavQueued:v({source:"itemsWaitingToStart",target:"itemsQueued"}),_notifyUploadOnUavStarted:v({source:"itemsQueued",target:"itemsInProgress"}),_notifyUploadOnUavSucceeded:v({source:"itemsInProgress",target:"itemsFinished"}),_setErrorMessageForUAV:{reducer(e,t){const{uavId:r,message:n}=t.payload;n?e.errors[r]=n:delete e.errors[r]},prepare:(e,t)=>({payload:{uavId:e,message:String(t)}})},openUploadDialogKeepingCurrentJob(e,t){var r;const{payload:n}=t,{backAction:o}=null!=n?n:{};(null===(r=e.dialog.selectedJob)||void 0===r?void 0:r.type)&&(e.dialog.open=!0,e.dialog.backAction=o)},openUploadDialogForJob(e,t){var r;const{payload:n}=t,{job:o,options:a}=null!=n?n:{},{type:i,payload:c}=null!=o?o:{},{backAction:l}=null!=a?a:{};i&&(e.currentJob.running||(null===(r=e.dialog.selectedJob)||void 0===r?void 0:r.type)===i||y(e),e.dialog.backAction=l,e.dialog.selectedJob={type:i,payload:c},e.dialog.showLastUploadResult=!1,e.dialog.open=!0)},startUpload:(0,c.WZ)((()=>{})),cancelUpload:(0,c.WZ)((()=>{}))},extraReducers(e){e.addCase(a.vT,(e=>{d(e,o._f.type)}))}}),{cancelUpload:E,clearLastUploadResultForJobType:S,clearUploadQueue:O,closeUploadDialog:x,dismissLastUploadResult:A,_enqueueFailedUploads:j,_enqueueSuccessfulUploads:k,_notifyUploadFinished:P,_notifyUploadStarted:C,_notifyUploadOnUavCancelled:T,_notifyUploadOnUavFailed:I,_notifyUploadOnUavQueued:L,_notifyUploadOnUavStarted:_,_notifyUploadOnUavSucceeded:Z,_setErrorMessageForUAV:N,openUploadDialogForJob:R,openUploadDialogKeepingCurrentJob:D,setupNextUploadJob:F,putUavsInWaitingQueue:M,removeUavsFromWaitingQueue:U,setUploadAutoRetry:G,setFlashFailed:V,startUpload:B}=b,W=w},42047:(e,t,r)=>{"use strict";r.d(t,{AU:()=>l,ZP:()=>u,_7:()=>c});var n=r(24268),o=r(41137);const{actions:a,reducer:i}=(0,n.oM)({name:"version-check",initialState:{dialog:{open:!1}},reducers:{closeVersionCheckDialog:(0,o.WZ)((e=>{e.dialog.open=!1})),showVersionCheckDialog:(0,o.WZ)((e=>{e.dialog.open=!0}))}}),{closeVersionCheckDialog:c,showVersionCheckDialog:l}=a,u=i},65758:(e,t,r)=>{"use strict";r.d(t,{Hk:()=>c,IY:()=>u,ZP:()=>s,cO:()=>l});var n=r(24268);const o={loading:!1,error:void 0,data:void 0,lastUpdateAttemptAt:void 0,lastUpdatedAt:void 0},{actions:a,reducer:i}=(0,n.oM)({name:"weather",initialState:o,reducers:{clearWeatherData(e){e.data=void 0,e.error=void 0,e.lastUpdatedAt=void 0,e.lastUpdateAttemptAt=void 0},loadingPromisePending(e){e.loading=!0},loadingPromiseFulfilled(e,t){e.data=t.payload,e.loading=!1,e.error=void 0},loadingPromiseRejected:{prepare:e=>({payload:String(e)}),reducer(e,t){e.loading=!1,e.error=t.payload}},setLastUpdateTimestamp(e,t){e.lastUpdatedAt=Number(t.payload)},setLastUpdateAttemptTimestamp(e,t){e.lastUpdateAttemptAt=Number(t.payload)}}}),{clearWeatherData:c,setLastUpdateTimestamp:l,setLastUpdateAttemptTimestamp:u}=a,s=i},16310:(e,t,r)=>{"use strict";r.d(t,{Eh:()=>u,Gw:()=>l,Tm:()=>c,ZP:()=>s});var n=r(24268);const o={hideHeaders:!1,isFixed:!1,state:void 0},{actions:a,reducer:i}=(0,n.oM)({name:"workbench",initialState:o,reducers:{setWorkbenchHasHeaders(e,{payload:t}){e.hideHeaders=!(null==t||t)},setWorkbenchIsFixed(e,{payload:t}){e.isFixed=null!=t&&t},saveWorkbenchState:{prepare:e=>({payload:e.getState()}),reducer(e,t){e.state=t.payload}}}}),{setWorkbenchIsFixed:c,setWorkbenchHasHeaders:l,saveWorkbenchState:u}=a,s=i},15883:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>c,f1:()=>i,ki:()=>a});var n=r(67294);const o=new(r(56958).Z),a=n.createContext(o),i=e=>n.forwardRef(((t,r)=>n.createElement(a.Consumer,null,(o=>n.createElement(e,Object.assign({},t,{ref:r,flock:o})))))),c=o},82578:(e,t,r)=>{"use strict";var n;r.d(t,{Z:()=>i}),function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.ON_GROUND=1]="ON_GROUND",e[e.LOGGING_DEACTIVATED=2]="LOGGING_DEACTIVATED",e[e.PREARM_CHECK_IN_PROGRESS=3]="PREARM_CHECK_IN_PROGRESS",e[e.AUTOPILOT_INITIALIZING=4]="AUTOPILOT_INITIALIZING",e[e.TAKEOFF=5]="TAKEOFF",e[e.LANDING=6]="LANDING",e[e.LANDED=7]="LANDED",e[e.MOTORS_RUNNING_WHILE_ON_GROUND=8]="MOTORS_RUNNING_WHILE_ON_GROUND",e[e.SLEEPING=9]="SLEEPING",e[e.FLIGHT_CONTROL_SUSPENDED=10]="FLIGHT_CONTROL_SUSPENDED",e[e.RETURN_TO_HOME=63]="RETURN_TO_HOME",e[e.LOW_DISK_SPACE=64]="LOW_DISK_SPACE",e[e.RC_SIGNAL_LOST_WARNING=65]="RC_SIGNAL_LOST_WARNING",e[e.BATTERY_LOW_WARNING=66]="BATTERY_LOW_WARNING",e[e.TIMESYNC_ERROR=67]="TIMESYNC_ERROR",e[e.FAR_FROM_TAKEOFF_POSITION=68]="FAR_FROM_TAKEOFF_POSITION",e[e.INVALID_MISSION_CONFIGURATION=69]="INVALID_MISSION_CONFIGURATION",e[e.RADIO_MISSING=70]="RADIO_MISSING",e[e.GEOFENCE_VIOLATION_WARNING=71]="GEOFENCE_VIOLATION_WARNING",e[e.WIND_SPEED_WARNING=72]="WIND_SPEED_WARNING",e[e.DISARMED=73]="DISARMED",e[e.REBOOT_REQUIRED=74]="REBOOT_REQUIRED",e[e.DRIFT_FROM_DESIRED_POSITION=75]="DRIFT_FROM_DESIRED_POSITION",e[e.AUTOPILOT_COMM_TIMEOUT=128]="AUTOPILOT_COMM_TIMEOUT",e[e.AUTOPILOT_ACK_TIMEOUT=129]="AUTOPILOT_ACK_TIMEOUT",e[e.AUTOPILOT_PROTOCOL_ERROR=130]="AUTOPILOT_PROTOCOL_ERROR",e[e.PREARM_CHECK_FAILURE=131]="PREARM_CHECK_FAILURE",e[e.RC_SIGNAL_LOST_ERROR=132]="RC_SIGNAL_LOST_ERROR",e[e.GPS_SIGNAL_LOST=133]="GPS_SIGNAL_LOST",e[e.BATTERY_LOW_ERROR=134]="BATTERY_LOW_ERROR",e[e.TARGET_NOT_FOUND=135]="TARGET_NOT_FOUND",e[e.TARGET_TOO_FAR=136]="TARGET_TOO_FAR",e[e.CONFIGURATION_ERROR=137]="CONFIGURATION_ERROR",e[e.RC_NOT_CALIBRATED=138]="RC_NOT_CALIBRATED",e[e.WIND_SPEED_ERROR=139]="WIND_SPEED_ERROR",e[e.PAYLOAD_ERROR=140]="PAYLOAD_ERROR",e[e.PROXIMITY_ERROR=141]="PROXIMITY_ERROR",e[e.SIMULATED_ERROR=188]="SIMULATED_ERROR",e[e.CONTROL_ALGORITHM_ERROR=189]="CONTROL_ALGORITHM_ERROR",e[e.SENSOR_FAILURE=190]="SENSOR_FAILURE",e[e.UNSPECIFIED_ERROR=191]="UNSPECIFIED_ERROR",e[e.HW_SW_INCOMPATIBLE=192]="HW_SW_INCOMPATIBLE",e[e.MAGNETIC_ERROR=193]="MAGNETIC_ERROR",e[e.GYROSCOPE_ERROR=194]="GYROSCOPE_ERROR",e[e.ACCELEROMETER_ERROR=195]="ACCELEROMETER_ERROR",e[e.PRESSURE_SENSOR_ERROR=196]="PRESSURE_SENSOR_ERROR",e[e.GPS_SIGNAL_LOST_CRITICAL=197]="GPS_SIGNAL_LOST_CRITICAL",e[e.MOTOR_MALFUNCTION=198]="MOTOR_MALFUNCTION",e[e.BATTERY_CRITICAL=199]="BATTERY_CRITICAL",e[e.NO_GPS_HOME_POSITION=200]="NO_GPS_HOME_POSITION",e[e.GEOFENCE_VIOLATION=201]="GEOFENCE_VIOLATION",e[e.INTERNAL_CLOCK_ERROR=202]="INTERNAL_CLOCK_ERROR",e[e.EXTERNAL_CLOCK_ERROR=203]="EXTERNAL_CLOCK_ERROR",e[e.REQUIRED_HW_COMPONENT_MISSING=204]="REQUIRED_HW_COMPONENT_MISSING",e[e.AUTOPILOT_INIT_FAILED=205]="AUTOPILOT_INIT_FAILED",e[e.AUTOPILOT_COMM_FAILED=206]="AUTOPILOT_COMM_FAILED",e[e.CRASH=207]="CRASH",e[e.SIMULATED_CRITICAL_ERROR=253]="SIMULATED_CRITICAL_ERROR",e[e.CRITICAL_SENSOR_FAILURE=254]="CRITICAL_SENSOR_FAILURE",e[e.UNSPECIFIED_CRITICAL_ERROR=255]="UNSPECIFIED_CRITICAL_ERROR"}(n||(n={}));const o={[n.NO_ERROR]:"ok",[n.ON_GROUND]:"ground",[n.LOGGING_DEACTIVATED]:"no log",[n.PREARM_CHECK_IN_PROGRESS]:"prearm",[n.AUTOPILOT_INITIALIZING]:"init",[n.TAKEOFF]:"takeoff",[n.LANDING]:"landing",[n.LANDED]:"landed",[n.MOTORS_RUNNING_WHILE_ON_GROUND]:"motors",[n.SLEEPING]:"sleep",[n.FLIGHT_CONTROL_SUSPENDED]:"paused",[n.RETURN_TO_HOME]:"RTH",[n.LOW_DISK_SPACE]:"storage",[n.RC_SIGNAL_LOST_WARNING]:"RC lost",[n.BATTERY_LOW_WARNING]:"lowbat",[n.TIMESYNC_ERROR]:"timesync",[n.FAR_FROM_TAKEOFF_POSITION]:"tkoffpos",[n.INVALID_MISSION_CONFIGURATION]:"mission",[n.RADIO_MISSING]:"no radio",[n.GEOFENCE_VIOLATION_WARNING]:"fence",[n.WIND_SPEED_WARNING]:"wind",[n.DISARMED]:"disarm",[n.REBOOT_REQUIRED]:"reboot",[n.DRIFT_FROM_DESIRED_POSITION]:"drift",[n.AUTOPILOT_COMM_TIMEOUT]:"comm t/o",[n.AUTOPILOT_ACK_TIMEOUT]:"ack t/o",[n.AUTOPILOT_PROTOCOL_ERROR]:"proto",[n.PREARM_CHECK_FAILURE]:"prearm",[n.RC_SIGNAL_LOST_ERROR]:"RC lost",[n.GPS_SIGNAL_LOST]:"no GPS",[n.BATTERY_LOW_ERROR]:"lowbat",[n.TARGET_NOT_FOUND]:"target",[n.TARGET_TOO_FAR]:"too far",[n.CONFIGURATION_ERROR]:"config",[n.RC_NOT_CALIBRATED]:"RC calib",[n.WIND_SPEED_ERROR]:"wind",[n.PAYLOAD_ERROR]:"payload",[n.PROXIMITY_ERROR]:"proximity",[n.SIMULATED_ERROR]:"simerr",[n.CONTROL_ALGORITHM_ERROR]:"control",[n.SENSOR_FAILURE]:"sensor",[n.UNSPECIFIED_ERROR]:"error",[n.HW_SW_INCOMPATIBLE]:"compat",[n.MAGNETIC_ERROR]:"mag",[n.GYROSCOPE_ERROR]:"gyro",[n.ACCELEROMETER_ERROR]:"acc",[n.PRESSURE_SENSOR_ERROR]:"baro",[n.GPS_SIGNAL_LOST_CRITICAL]:"GPS",[n.MOTOR_MALFUNCTION]:"motor",[n.BATTERY_CRITICAL]:"lowbat",[n.NO_GPS_HOME_POSITION]:"home",[n.GEOFENCE_VIOLATION]:"fence",[n.INTERNAL_CLOCK_ERROR]:"clk",[n.EXTERNAL_CLOCK_ERROR]:"extclk",[n.REQUIRED_HW_COMPONENT_MISSING]:"no HW",[n.AUTOPILOT_INIT_FAILED]:"initfail",[n.AUTOPILOT_COMM_FAILED]:"commfail",[n.CRASH]:"crash",[n.SIMULATED_CRITICAL_ERROR]:"simcrit",[n.CRITICAL_SENSOR_FAILURE]:"sensor",[n.UNSPECIFIED_CRITICAL_ERROR]:"fatal"},a={[n.NO_ERROR]:"No error",[n.ON_GROUND]:"Drone is on the ground with motors off",[n.LOGGING_DEACTIVATED]:"Logging deactivated",[n.PREARM_CHECK_IN_PROGRESS]:"Prearm check in progress",[n.AUTOPILOT_INITIALIZING]:"Autopilot initializing",[n.TAKEOFF]:"Drone is taking off",[n.LANDING]:"Drone is landing",[n.LANDED]:"Drone has landed successfully",[n.MOTORS_RUNNING_WHILE_ON_GROUND]:"Motors are running while on ground",[n.SLEEPING]:"Drone is in sleep mode",[n.FLIGHT_CONTROL_SUSPENDED]:"Flight control is suspended",[n.RETURN_TO_HOME]:"Drone is returning home",[n.LOW_DISK_SPACE]:"Low disk space",[n.RC_SIGNAL_LOST_WARNING]:"RC lost",[n.BATTERY_LOW_WARNING]:"Battery low",[n.TIMESYNC_ERROR]:"Timesync error",[n.FAR_FROM_TAKEOFF_POSITION]:"Drone is not at its designated takeoff position",[n.INVALID_MISSION_CONFIGURATION]:"Mission configuration error or mission out of geofence",[n.RADIO_MISSING]:"Radio channel offline",[n.GEOFENCE_VIOLATION_WARNING]:"Drone is outside geofence on ground",[n.WIND_SPEED_WARNING]:"Wind speed is high",[n.DISARMED]:"Drone not armed yet",[n.REBOOT_REQUIRED]:"Drone requires a reboot",[n.DRIFT_FROM_DESIRED_POSITION]:"Drift from desired position is large",[n.AUTOPILOT_COMM_TIMEOUT]:"Autopilot communication timeout",[n.AUTOPILOT_ACK_TIMEOUT]:"Autopilot acknowledgment timeout",[n.AUTOPILOT_PROTOCOL_ERROR]:"Autopilot communication protocol error",[n.PREARM_CHECK_FAILURE]:"Prearm check failure",[n.RC_SIGNAL_LOST_ERROR]:"RC signal lost",[n.GPS_SIGNAL_LOST]:"GPS signal lost or GPS error",[n.BATTERY_LOW_ERROR]:"Battery low",[n.TARGET_NOT_FOUND]:"Target not found",[n.TARGET_TOO_FAR]:"Target is too far",[n.CONFIGURATION_ERROR]:"Configuration error",[n.RC_NOT_CALIBRATED]:"RC not calibrated",[n.WIND_SPEED_ERROR]:"Wind speed is too high",[n.PAYLOAD_ERROR]:"Payload error",[n.PROXIMITY_ERROR]:"Proximity sensor error",[n.SIMULATED_ERROR]:"Simulated error",[n.CONTROL_ALGORITHM_ERROR]:"Error in control algorithm",[n.SENSOR_FAILURE]:"Unspecified sensor failure",[n.UNSPECIFIED_ERROR]:"Unspecified error",[n.HW_SW_INCOMPATIBLE]:"Incompatible hardware or software",[n.MAGNETIC_ERROR]:"Magnetometer error",[n.GYROSCOPE_ERROR]:"Gyroscope error",[n.ACCELEROMETER_ERROR]:"Accelerometer error",[n.PRESSURE_SENSOR_ERROR]:"Pressure sensor or altimeter error",[n.GPS_SIGNAL_LOST_CRITICAL]:"GPS error or GPS signal lost",[n.MOTOR_MALFUNCTION]:"Motor malfunction",[n.BATTERY_CRITICAL]:"Battery critical",[n.NO_GPS_HOME_POSITION]:"No GPS home position",[n.GEOFENCE_VIOLATION]:"Geofence violation",[n.INTERNAL_CLOCK_ERROR]:"Internal clock error",[n.EXTERNAL_CLOCK_ERROR]:"External clock error",[n.REQUIRED_HW_COMPONENT_MISSING]:"Required hardware component missing",[n.AUTOPILOT_INIT_FAILED]:"Autopilot initialization failed",[n.AUTOPILOT_COMM_FAILED]:"Autopilot communication failed",[n.CRASH]:"Drone crashed",[n.SIMULATED_CRITICAL_ERROR]:"Simulated critical error",[n.CRITICAL_SENSOR_FAILURE]:"Unspecified critical sensor failure",[n.UNSPECIFIED_CRITICAL_ERROR]:"Unspecified critical error"};!function(e){e.abbreviate=e=>o[e]||`E${e}`,e.describe=e=>a[e]||`Error ${e}`}(n||(n={}));const i=n},73129:(e,t,r)=>{"use strict";r.d(t,{H0:()=>a,Vi:()=>i,qp:()=>u,r4:()=>l,zb:()=>n});var n,o=r(49998);!function(e){e[e.INFO=0]="INFO",e[e.WARNING=1]="WARNING",e[e.ERROR=2]="ERROR",e[e.FATAL=3]="FATAL"}(n||(n={}));const a=e=>(255&e)>>6,i=e=>e&&e.length>0?Math.max(...e.map(a)):n.INFO,c={[n.FATAL]:o.zb.CRITICAL,[n.ERROR]:o.zb.ERROR,[n.WARNING]:o.zb.WARNING,[n.INFO]:o.zb.INFO};function l(e){return c[e]}function u(e){return l(a(e))}},80245:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(67294);const o=(0,r(63786).Z)(n.createElement("path",{d:"M12 7.5C12.69 7.5 13.27 7.73 13.76 8.2S14.5 9.27 14.5 10C14.5 11.05 14 11.81 13 12.28V21H11V12.28C10 11.81 9.5 11.05 9.5 10C9.5 9.27 9.76 8.67 10.24 8.2S11.31 7.5 12 7.5M16.69 5.3C17.94 6.55 18.61 8.11 18.7 10C18.7 11.8 18.03 13.38 16.69 14.72L15.5 13.5C16.5 12.59 17 11.42 17 10C17 8.67 16.5 7.5 15.5 6.5L16.69 5.3M6.09 4.08C4.5 5.67 3.7 7.64 3.7 10S4.5 14.3 6.09 15.89L4.92 17.11C3 15.08 2 12.7 2 10C2 7.3 3 4.94 4.92 2.91L6.09 4.08M19.08 2.91C21 4.94 22 7.3 22 10C22 12.8 21 15.17 19.08 17.11L17.91 15.89C19.5 14.3 20.3 12.33 20.3 10S19.5 5.67 17.91 4.08L19.08 2.91M7.31 5.3L8.5 6.5C7.5 7.42 7 8.58 7 10C7 11.33 7.5 12.5 8.5 13.5L7.31 14.72C5.97 13.38 5.3 11.8 5.3 10C5.3 8.2 5.97 6.64 7.31 5.3Z"}),"Antenna")},4179:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(67294);const o=(0,r(63786).Z)(n.createElement("path",{d:"M11 21h-1l1-7H7.5c-.58 0-.57-.32-.38-.66.19-.34.05-.08.07-.12C8.48 10.94 10.42 7.54 13 3h1l-1 7h3.5c.49 0 .56.33.47.51l-.07.15C12.96 17.55 11 21 11 21z"}),"Bolt")},66263:(e,t,r)=>{"use strict";r.d(t,{A:()=>n,h:()=>l});var n,o=r(13281),a=r(73435);!function(e){e.FULL="Full",e.NEAR_FULL="NearFull",e.OK="Ok",e.WARNING="Warning",e.ERROR="Error",e.UNKNOWN="Unknown"}(n||(n={}));const i={[n.FULL]:a.Status.OFF,[n.NEAR_FULL]:a.Status.OFF,[n.OK]:a.Status.OFF,[n.WARNING]:a.Status.WARNING,[n.ERROR]:a.Status.ERROR,[n.UNKNOWN]:a.Status.OFF},c={[n.FULL]:95,[n.NEAR_FULL]:60,[n.OK]:20,[n.WARNING]:10};class l{constructor({defaultBatteryCellCount:e=o.uV,voltageThresholds:{full:t=o.yj,low:r=o.jO,critical:a=o.YI,empty:l=o.Jz}={}}={}){this.estimatePercentageFromVoltagePerCell=e=>e<=this.emptyVoltage?0:e>=this.fullChargeVoltage?100:Math.round((e-this.emptyVoltage)/(this.fullChargeVoltage-this.emptyVoltage)*100),this.estimatePercentageFromVoltage=(e,t)=>{const r=this.getVoltagePerCell(e,t);return this.estimatePercentageFromVoltagePerCell(r)},this.getSemanticBatteryStatus=(e,t,r)=>{const n=this.getBatteryStatus(e,t,r);return i[n]},this.getBatteryStatus=(e,t,r)=>{if(t)return t>c[n.FULL]?n.FULL:t>c[n.NEAR_FULL]?n.NEAR_FULL:t>c[n.OK]?n.OK:t>c[n.WARNING]?n.WARNING:n.ERROR;const o=this.getVoltagePerCell(e,r);return o>this.nearFullChargeVoltage?n.FULL:o>=this.okVoltageThreshold?n.NEAR_FULL:o>=this.lowVoltageThreshold?n.OK:o>=this.criticalVoltageThreshold?n.WARNING:n.ERROR},this.getVoltagePerCell=(e,t=this.defaultBatteryCellCount)=>!e||t<1?0:e/t,this.defaultBatteryCellCount=e,this.fullChargeVoltage=t,this.nearFullChargeVoltage=t-.1*(t-r),this.okVoltageThreshold=t-.4*(t-r),this.lowVoltageThreshold=r,this.criticalVoltageThreshold=Math.min(a,r),this.emptyVoltage=Math.min(l,this.criticalVoltageThreshold)}}},13281:(e,t,r)=>{"use strict";r.d(t,{Jz:()=>c,YI:()=>i,jO:()=>a,uV:()=>n,yj:()=>o});const n=3,o=4.2,a=3.6,i=3.4,c=3.3},49998:(e,t,r)=>{"use strict";r.d(t,{Cs:()=>o,G:()=>d,QF:()=>p,ZK:()=>u,b_:()=>v,c2:()=>E,d_:()=>y,em:()=>n,gk:()=>O,k_:()=>i,lP:()=>h,mO:()=>S,nP:()=>g,uZ:()=>b,zb:()=>a});var n,o,a,i,c=r(63714);!function(e){e.DISCONNECTED="disconnected",e.CONNECTING="connecting",e.CONNECTED="connected",e.DISCONNECTING="disconnecting"}(n||(n={})),function(e){e.OUTBOUND="outbound",e.INBOUND="inbound",e.ERROR="error"}(o||(o={})),function(e){e.DEBUG="debug",e.INFO="info",e.WARNING="warning",e.ERROR="error",e.CRITICAL="critical"}(a||(a={})),function(e){e.UNKNOWN="unknown",e.TEXT="text",e.ARDUPILOT="ardupilot",e.ULOG="ulog",e.FLOCKCTRL="flockctrl"}(i||(i={}));const l={[i.UNKNOWN]:{label:"Unknown",description:"Unknown flight log format"},[i.TEXT]:{label:"Plain text",description:"Plain text flight log"},[i.ARDUPILOT]:{label:"ArduPilot",description:"ArduPilot flight log"},[i.ULOG]:{label:"PX4 ULog",description:"PX4 ULog flight log"},[i.FLOCKCTRL]:{label:"FlockCtrl",description:"FlockCtrl high-level flight log"}};function u(e){return(l[e]||l[i.UNKNOWN]).description}var s;!function(e){e.ACRO="acro",e.ALTITUDE_HOLD="alt",e.AUTO="auto",e.CIRCLE="circle",e.FLOW_HOLD="flow",e.FOLLOW="follow",e.GUIDED="guided",e.LAND="land",e.LOITER="loiter",e.MISSION="mission",e.OTHER="other",e.PRECISION_LANDING="precland",e.POSITION_HOLD="pos",e.RTH="rth",e.SHOW="show",e.SIMPLE="simple",e.STABILIZE="stab",e.TAKEOFF="takeoff",e.UNKNOWN="unknown"}(s||(s={}));const f={[s.ACRO]:{abbreviation:"Acro",label:"Acrobatic",description:"Acrobatic"},[s.ALTITUDE_HOLD]:{abbreviation:"Alt",label:"Altitude hold",description:"Altitude hold"},[s.AUTO]:{abbreviation:"Auto",label:"Automatic",description:"Automatic"},[s.CIRCLE]:{abbreviation:"Circ",label:"Circling",description:"Circling around point of interest"},[s.FLOW_HOLD]:{abbreviation:"Flow",label:"Optical flow hold",description:"Optical flow hold"},[s.FOLLOW]:{abbreviation:"Flw",label:"Following",description:"Following another device",status:c.q.SUCCESS},[s.GUIDED]:{abbreviation:"Guid",label:"Guided",description:"Guided by companion computer",status:c.q.SUCCESS},[s.LAND]:{abbreviation:"Land",label:"Landing",description:"Autonomous landing",status:c.q.WARNING},[s.LOITER]:{abbreviation:"Loit",label:"Loiter",description:"Posiiton hold with manual velocity control"},[s.MISSION]:{abbreviation:"Wp",label:"Mission",description:"Following pre-programmed mission",status:c.q.SUCCESS},[s.OTHER]:{abbreviation:"Othr",label:"Other",description:"Other, unspecified flight mode"},[s.PRECISION_LANDING]:{abbreviation:"Plnd",label:"Precision landing",description:"Autonomous precision landing"},[s.POSITION_HOLD]:{abbreviation:"Pos",label:"Position hold",description:"Position hold with manual attitude control"},[s.RTH]:{abbreviation:"RTH",label:"Return to home",description:"Autonomous return to home",status:c.q.RTH},[s.SHOW]:{abbreviation:"Show",label:"Drone show",description:"Executing a drone show",status:c.q.SUCCESS},[s.SIMPLE]:{abbreviation:"Simp",label:"Simple",description:"Simplified aided flight mode"},[s.STABILIZE]:{abbreviation:"Stab",label:"Stabilize",description:"Roll and pitch stabilization"},[s.TAKEOFF]:{abbreviation:"Take",label:"Takeoff",description:"Autonomous takeoff"},[s.UNKNOWN]:{abbreviation:"----",label:"Unknown",description:"Unknown flight mode"}},p=e=>(e=>Object.values(s).includes(e))(e)?f[e].abbreviation:e.slice(0,4);function d(e){const t=f[e];return t?t.label:String(e).toUpperCase()}function y(e){return(f[e]||f[s.UNKNOWN]).status}var h;!function(e){e[e.NO_GPS=0]="NO_GPS",e[e.NO_FIX=1]="NO_FIX",e[e.FIX_2D=2]="FIX_2D",e[e.FIX_3D=3]="FIX_3D",e[e.DGPS=4]="DGPS",e[e.RTK_FLOAT=5]="RTK_FLOAT",e[e.RTK_FIXED=6]="RTK_FIXED",e[e.STATIC=7]="STATIC",e[e.UNKNOWN=8]="UNKNOWN"}(h||(h={}));const m={[h.NO_GPS]:{abbreviation:"",description:"No GPS connected",status:c.q.ERROR},[h.NO_FIX]:{abbreviation:"",description:"No GPS fix obtained",status:c.q.ERROR},[h.FIX_2D]:{abbreviation:"2D",description:"2D GPS fix",status:c.q.WARNING},[h.FIX_3D]:{abbreviation:"3D",description:"3D GPS fix",status:c.q.WARNING},[h.DGPS]:{abbreviation:"DGPS",description:"3D GPS fix with DGPS/SBAS",status:c.q.SUCCESS},[h.RTK_FLOAT]:{abbreviation:"RTK",description:"RTK float",status:c.q.SUCCESS},[h.RTK_FIXED]:{abbreviation:"RTK+",description:"RTK fixed",status:c.q.SUCCESS},[h.STATIC]:{abbreviation:"STA",description:"Static position",status:c.q.SUCCESS},[h.UNKNOWN]:{abbreviation:"----",description:"Unknown GPS fix type",status:c.q.WARNING}};function v(e){return(m[e]||m[h.UNKNOWN]).abbreviation}function g(e){return(m[e]||m[h.UNKNOWN]).status}var b;!function(e){e.OFF="off",e.PASS="pass",e.WARNING="warning",e.RUNNING="running",e.SOFT_FAILURE="softFailure",e.FAILURE="failure",e.ERROR="error",e.UNKNOWN="unknown"}(b||(b={}));const w={[b.OFF]:{description:"Disabled",overallDescription:"All preflight checks are disabled",status:c.q.OFF},[b.PASS]:{description:"OK",overallDescription:"Preflight checks passed",status:c.q.SUCCESS},[b.WARNING]:{description:"Needs attention",overallDescription:"Some preflight check items need attention",status:c.q.WARNING},[b.RUNNING]:{description:"Check in progress...",overallDescription:"Preflight checks are in progress...",status:c.q.WAITING},[b.SOFT_FAILURE]:{description:"Temporary failure",overallDescription:"Some preflight checks failed temporarily",status:c.q.WARNING},[b.FAILURE]:{description:"Failed",overallDescription:"Preflight checks failed",status:c.q.ERROR},[b.ERROR]:{description:"Error while executing test",overallDescription:"Error while executing preflight checks",status:c.q.CRITICAL},[b.UNKNOWN]:{description:"Unknown test result",overallDescription:"Unknown preflight test result",status:c.q.OFF}};function E(e){return(w[e]||w[b.UNKNOWN]).description}function S(e){return(w[e]||w[b.UNKNOWN]).overallDescription}function O(e){return(w[e]||w[b.UNKNOWN]).status}},86686:(e,t,r)=>{"use strict";r.d(t,{Ci:()=>p,GA:()=>f,IQ:()=>s,Ku:()=>d,Te:()=>n,gF:()=>o,r3:()=>y});var n,o,a=r(59832),i=r(34659),c=r(44657),l=r(83817);!function(e){e.CIRCLE="circle",e.LINE_STRING="lineString",e.POINTS="points",e.POLYGON="polygon"}(n||(n={})),function(e){e.HIDDEN="hidden",e.NORMAL="normal",e.THICK_OUTLINE="thickOutline",e.THIN_OUTLINE="thinOutline"}(o||(o={}));const u={[n.CIRCLE]:{name:"Circle",icon:c.Z,canBeMeasured:!1,hasInterior:!0,hasPoints:!1},[n.LINE_STRING]:{name:"Path",icon:i.Z,canBeMeasured:!0,hasInterior:!1,hasPoints:!0},[n.POINTS]:{name:"Marker",icon:a.Z,canBeMeasured:!1,hasInterior:!1,hasPoints:!1},[n.POLYGON]:{name:"Polygon",icon:l.Z,canBeMeasured:!0,hasInterior:!0,hasPoints:!0}};function s(e){var t,r;return null!==(r=null===(t=u[e])||void 0===t?void 0:t.name)&&void 0!==r?r:"Feature"}function f(e){var t,r;return null!==(r=null===(t=u[e])||void 0===t?void 0:t.icon)&&void 0!==r?r:u[n.POINTS].icon}const p=e=>{var t,r;return null!==(r=null===(t=u[e])||void 0===t?void 0:t.canBeMeasured)&&void 0!==r&&r},d=e=>{var t,r;return null!==(r=null===(t=u[e])||void 0===t?void 0:t.hasInterior)&&void 0!==r&&r},y=e=>{var t,r;return null!==(r=null===(t=u[e])||void 0===t?void 0:t.hasPoints)&&void 0!==r&&r}},98781:(e,t,r)=>{"use strict";r.d(t,{DB:()=>n,_J:()=>s,aC:()=>l,bw:()=>c,tA:()=>u});var n,o=r(34156),a=r(35353),i=r(82071);!function(e){e.DEFAULT="default",e.WITH_WARNINGS="withWarnings",e.WITH_ERRORS="withErrors",e.INACTIVE_ONLY="inactiveOnly"}(n||(n={}));const c=[n.DEFAULT,n.WITH_WARNINGS,n.WITH_ERRORS,n.INACTIVE_ONLY],l={[n.DEFAULT]:"All",[n.WITH_WARNINGS]:"Warnings and errors",[n.WITH_ERRORS]:"Errors only",[n.INACTIVE_ONLY]:"No telemetry only"},u={[n.DEFAULT]:"All",[n.WITH_WARNINGS]:"Warn/Err",[n.WITH_ERRORS]:"Errors",[n.INACTIVE_ONLY]:"No telem"},s=o((e=>{switch(e){case n.WITH_ERRORS:return e=>!!(e&&Array.isArray(e.errors)&&e.errors.length>0)&&(0,a.L)(Math.max(...e.errors));case n.WITH_WARNINGS:return e=>!!(e&&Array.isArray(e.errors)&&e.errors.length>0)&&(0,a.Y)(Math.max(...e.errors));case n.INACTIVE_ONLY:return e=>(null==e?void 0:e.age)===i.y.INACTIVE;default:return}}))},56958:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(79697),o=r(99168),a=r(41055),i=r(82071);class c{constructor(){this._uavsById={},this.uavsAdded=new a.MiniSignal,this.uavsUpdated=new a.MiniSignal,this.uavsRemoved=new a.MiniSignal}_createUAVById(e){return new i.Z(e)}getAllUAVIds(){return Object.keys(this._uavsById).sort()}getAllUAVs(){return this.getAllUAVIds().map((e=>this._uavsById[e]))}getUAVById(e){return this._uavsById[e]}getOrCreateUAVById(e){let t=this._uavsById[e];return t||(t=this._createUAVById(e),this._uavsById[e]=t),t}handleUAVInformationMessage(e){if(!e.status)return;const{addedUAVs:t,updatedUAVs:r}=(0,o.Z)(e.status,((e,t,r)=>{let n=this.getUAVById(r);n||(n=this._createUAVById(r),this._uavsById[r]=n,e.addedUAVs.push(n));n.handleUAVStatusInfo(t)&&e.updatedUAVs.push(n)}),{addedUAVs:new Array,updatedUAVs:new Array});(0,n.Z)(t)||this.uavsAdded.dispatch(t),(0,n.Z)(r)||this.uavsUpdated.dispatch(r)}removeUAVById(e){this.removeUAVsByIds([e])}removeUAVsByIds(e){const t=[];for(const r of e){const e=this._uavsById[r];void 0!==e&&(t.push(e),delete this._uavsById[r])}(0,n.Z)(t)||this.uavsRemoved.dispatch(t)}}},15222:(e,t,r)=>{"use strict";r.d(t,{Y9:()=>L,R:()=>T,tr:()=>I,ZX:()=>i,YA:()=>c,cf:()=>l,Pe:()=>u,ZA:()=>m,wf:()=>v,RG:()=>g,K$:()=>b,mK:()=>w,K5:()=>E,Bf:()=>x,d$:()=>S,$7:()=>O,lP:()=>s,fm:()=>A,dU:()=>j,gw:()=>k,U1:()=>P,bf:()=>C,HL:()=>f,Wb:()=>h,M9:()=>p,Bg:()=>d,TB:()=>y});const n=e=>t=>e+t,o=e=>t=>null==t?void 0:t.startsWith(e),a=e=>t=>{if(t.startsWith(e))return t.slice(e.length)},i=n("area$"),c=n("beacon$"),l=n("dock$"),u=n("feature$"),s=n("home$"),f=n("land$"),p=n("origin$"),d=n("planned$"),y=n("uav$"),h=n("mission$"),m=a("area$"),v=a("beacon$"),g=a("dock$"),b=a("feature$"),w=a("home$"),E=a("land$"),S=a("origin$"),O=(a("planned$"),a("uav$")),x=a("mission$"),A=o("area$"),j=(o("beacon$"),o("dock$")),k=o("feature$"),P=(o("home$"),o("land$"),o("origin$")),C=(o("planned$"),o("uav$")),T=(o("mission$"),"map"),I="mission",L="convexHull"},35543:(e,t,r)=>{"use strict";r.d(t,{Bl:()=>_,DT:()=>L,F5:()=>n,Ii:()=>T,OH:()=>S,S2:()=>k,_K:()=>Z,eL:()=>I,gc:()=>C,kP:()=>O,lB:()=>A,og:()=>w,om:()=>j,qc:()=>N,xA:()=>P,yd:()=>E});var n,o=r(67294),a=r(71200),i=r(70329),c=r(2215),l=r(29509),u=r(99476),s=r(15999),f=r(82369),p=r(24849),d=r(18362),y=r(38943),h=r(12595),m=r(70179),v=r(52303),g=r(34714),b=r(80245);!function(e){e.BASE="base",e.BEACONS="beacons",e.DOCKS="docks",e.FEATURES="features",e.GEOJSON="geojson",e.GRATICULE="graticule",e.HEATMAP="heatmap",e.HEXGRID="hexgrid",e.IMAGE="image",e.MISSION_INFO="home",e.OWN_LOCATION="ownLocation",e.TILE_SERVER="tileServer",e.UAVS="uavs",e.UAV_TRACE="uavTrace",e.UNAVAILABLE="unavailable",e.UNTYPED="untyped"}(n||(n={}));const w=[n.BASE,n.TILE_SERVER,n.GRATICULE,n.FEATURES,n.IMAGE,n.UAVS,n.BEACONS,n.DOCKS,n.UAV_TRACE,n.MISSION_INFO,n.OWN_LOCATION,n.GEOJSON,n.HEATMAP],E=[n.IMAGE];var S;!function(e){e.WMS="wms",e.XYZ="xyz",e.TILE_CACHE="tileCache"}(S||(S={}));const O=[S.WMS,S.XYZ,S.TILE_CACHE],x={[n.BASE]:{label:"Base layer",icon:h.Z,parameters:{source:"osm"}},[n.BEACONS]:{label:"Beacons",icon:b.Z,parameters:{}},[n.DOCKS]:{label:"Docking stations",icon:u.Z,parameters:{}},[n.FEATURES]:{label:"Features",icon:y.Z,parameters:{}},[n.GEOJSON]:{label:"GeoJSON layer",icon:i.Z,parameters:{data:{},strokeColor:{r:85,g:85,b:225,alpha:1},strokeWidth:2,fillColor:{r:170,g:170,b:225,alpha:.5}},multiple:!0},[n.GRATICULE]:{label:"Graticule",icon:s.Z,parameters:{strokeColor:{r:0,g:0,b:0,alpha:.2},strokeWidth:1}},[n.HEATMAP]:{label:"Heatmap",icon:g.Z,parameters:{subscriptions:[],minHue:100,maxHue:0,threshold:0,coloringFunction:"linear",minValue:0,maxValue:0,autoScale:!0,maxPoints:1e3,unit:"",minDistance:5,snapToGrid:!1}},[n.IMAGE]:{label:"Image",icon:p.Z,parameters:{image:{data:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIGZpbGw9IiNmZmYiLz4KPHBhdGggZD0ibTAgMCAxMDAgMTAwIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMXB4Ii8+CjxwYXRoIGQ9Ik0gMCwxMDAgMTAwLDAiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIxcHgiLz4KPC9zdmc+Cg==",name:"",dimensions:{}},transform:{position:void 0,angle:0,scale:1}},multiple:!0},[n.HEXGRID]:{label:"Hex grid layer",icon:s.Z,parameters:{center:[19.061951,47.47334],size:8,radius:5e-4}},[n.MISSION_INFO]:{label:"Mission info",icon:d.Z,parameters:{showConvexHull:!0,showOrigin:!0,showHomePositions:!0,showLandingPositions:!1,showTrajectoriesOfSelection:!0}},[n.OWN_LOCATION]:{label:"Own location",icon:m.Z,parameters:{showAccuracy:!0,showOrientation:!0}},[n.TILE_SERVER]:{label:"Tile server",icon:c.Z,parameters:{type:S.WMS,url:"http://ows.mundialis.de/services/service",layers:"TOPO-OSM-WMS"},multiple:!0},[n.UAVS]:{label:"UAVs",icon:l.Z,parameters:{}},[n.UAV_TRACE]:{label:"UAV trace",icon:v.Z,parameters:{trailLength:10,trailWidth:2,trailColor:{r:0,g:0,b:0,a:1}}},[n.UNAVAILABLE]:{label:"Unavailable layer",icon:a.Z},[n.UNTYPED]:{label:"Untyped layer",icon:f.Z}};function A(e,t,r,o){const a=null!=t?t:n.UNTYPED;return{id:e,type:a,label:r,visible:a!==n.UNTYPED,parameters:null!=o?o:k(a)}}function j(e){var t;return null!==(t=x[e].multiple)&&void 0!==t&&t}function k(e){var t;const r=x[e],n=null!==(t=null==r?void 0:r.parameters)&&void 0!==t?t:{};return structuredClone(n)}function P(e){return e.getLayers().getArray().filter(I)}function C(e){return o.createElement(x[e].icon)}function T(e){var t;return Boolean((null===(t=null==e?void 0:e.getVisible)||void 0===t?void 0:t.call(e))&&e.get("triggersTooltip"))}function I(e){var t;return Boolean((null===(t=null==e?void 0:e.getVisible)||void 0===t?void 0:t.call(e))&&e.get("selectable"))}function L(e){return x[e].label}function _(e,t=!0){e.set("editable",t)}function Z(e,t=!0){e.set("selectable",t)}function N(e,t=!0){e.set("triggersTooltip",t)}},35122:(e,t,r)=>{"use strict";var n;r.d(t,{KZ:()=>p,ON:()=>u,bU:()=>i,hn:()=>h,iU:()=>d,mY:()=>c,nN:()=>n,ol:()=>s}),function(e){e.AMSL="amsl",e.AHL="ahl",e.AGL="agl",e.XYZ="xyz"}(n||(n={}));const o={[n.AMSL]:"Altitude above mean sea level",[n.AHL]:"Altitude above home level",[n.AGL]:"Altitude above ground level",[n.XYZ]:"Altitude in local coordinate system"},a={[n.AMSL]:"AMSL",[n.AHL]:"AHL",[n.AGL]:"AGL",[n.XYZ]:"Z coordinate"},i=(e,{short:t=!1}={})=>(t?a:o)[e]||"Unknown altitude type";var c;!function(e){e.DEGREES="d",e.DEGREES_MINUTES="dm",e.DEGREES_MINUTES_SECONDS="dms",e.SIGNED_DEGREES="-d",e.SIGNED_DEGREES_MINUTES="-dm",e.SIGNED_DEGREES_MINUTES_SECONDS="-dms"}(c||(c={}));const l={[c.DEGREES]:"Decimal degrees",[c.DEGREES_MINUTES]:"Degrees and minutes",[c.DEGREES_MINUTES_SECONDS]:"Degrees, minutes and seconds",[c.SIGNED_DEGREES]:"Decimal degrees (signed)",[c.SIGNED_DEGREES_MINUTES]:"Degrees and minutes (signed)",[c.SIGNED_DEGREES_MINUTES_SECONDS]:"Degrees, minutes and seconds (signed)"},u=e=>l[e]||"Unknown format";var s;!function(e){e.VOLTAGE="voltage",e.PERCENTAGE="percentage",e.FORCED_PERCENTAGE="forcedPercentage"}(s||(s={}));const f={[s.VOLTAGE]:"Prefer voltage",[s.PERCENTAGE]:"Prefer percentage and show voltage if unknown",[s.FORCED_PERCENTAGE]:"Prefer percentage and estimate it from voltage if needed"},p=e=>f[e]||"Unknown style";var d;!function(e){e.NEVER="never",e.ONLY_MULTIPLE="onlyMultiple",e.ALWAYS="always"}(d||(d={}));const y={[d.NEVER]:"Never ask for confirmation",[d.ONLY_MULTIPLE]:"Confirm when the operation may affect multiple UAVs",[d.ALWAYS]:"Always ask for confirmation"},h=e=>y[e]||"Unknown style"},23736:(e,t,r)=>{"use strict";r.d(t,{$O:()=>n,Jl:()=>c,Vl:()=>s,rn:()=>u,wu:()=>l});var n,o=r(27601),a=r(34156),i=r(49998);!function(e){e.DEFAULT="default",e.STATUS="status",e.FLIGHT_MODE="flightMode",e.BATTERY="battery",e.GPS_FIX="gpsFix",e.ALTITUDE_MSL="amsl",e.ALTITUDE_HOME="ahl",e.ALTITUDE_GROUND="agl",e.HEADING="heading"}(n||(n={}));const c=[n.DEFAULT,n.STATUS,n.FLIGHT_MODE,n.BATTERY,n.GPS_FIX,n.ALTITUDE_MSL,n.ALTITUDE_HOME,n.ALTITUDE_GROUND,n.HEADING],l={[n.DEFAULT]:"Default",[n.STATUS]:"Status",[n.FLIGHT_MODE]:"Flight mode",[n.BATTERY]:"Battery",[n.GPS_FIX]:"GPS fix",[n.ALTITUDE_MSL]:"Altitude (MSL)",[n.ALTITUDE_HOME]:"Altitude above home",[n.ALTITUDE_GROUND]:"Altitude above ground",[n.HEADING]:"Heading"},u={[n.DEFAULT]:"Default",[n.STATUS]:"Status",[n.FLIGHT_MODE]:"Mode",[n.BATTERY]:"Battery",[n.GPS_FIX]:"GPS fix",[n.ALTITUDE_MSL]:"AMSL",[n.ALTITUDE_HOME]:"AHL",[n.ALTITUDE_GROUND]:"AGL",[n.HEADING]:"Heading"},s=a((e=>{switch(e){case n.STATUS:return e=>e&&Array.isArray(e.errors)&&e.errors.length>0?Math.max(...e.errors):0;case n.FLIGHT_MODE:return e=>{var t;return null!==(t=null==e?void 0:e.mode)&&void 0!==t?t:""};case n.BATTERY:return e=>{if((0,o.default)(e))return-1e4;const{battery:t}=e;return(0,o.default)(t.percentage)?(0,o.default)(t.voltage)?-1e4:t.voltage:t.percentage>=0?t.percentage+1e4:-1e4};case n.GPS_FIX:return e=>{if((0,o.default)(e))return-1e4;const{type:t=i.lP.NO_FIX,numSatellites:r=0}=(null==e?void 0:e.gpsFix)||{};return 100*Math.max(t,0)+Math.max(r,0)};case n.ALTITUDE_MSL:return e=>{var t;const r=null===(t=null==e?void 0:e.position)||void 0===t?void 0:t.amsl;return(0,o.default)(r)?-1e4:r};case n.ALTITUDE_HOME:return e=>{var t;const r=null===(t=null==e?void 0:e.position)||void 0===t?void 0:t.ahl;return(0,o.default)(r)?-1e4:r};case n.ALTITUDE_GROUND:return e=>{var t;const r=null===(t=null==e?void 0:e.position)||void 0===t?void 0:t.agl;return(0,o.default)(r)?-1e4:r};case n.HEADING:return e=>{const t=null==e?void 0:e.heading;return(0,o.default)(t)?720:t};case n.DEFAULT:return}}))},35353:(e,t,r)=>{"use strict";function n(e){return(255&e)>=128}function o(e){return(255&e)>=64}r.d(t,{L:()=>n,Y:()=>o})},82071:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l,y:()=>n});var n,o=r(52300),a=r(50576),i=r(27601),c=r(49998);!function(e){e.ACTIVE="active",e.INACTIVE="inactive",e.GONE="gone",e.FORGOTTEN="forgotten"}(n||(n={}));class l{constructor(e){this.handleUAVStatusInfo=e=>{const{timestamp:t,position:r,positionXYZ:n,heading:o,mode:l,gps:u,errors:s,battery:f,light:p,debug:d}=e;let y,h=!1;if(t&&(this.lastUpdated=t,h=!0),r&&(this._position={lat:r[0]/1e7,lon:r[1]/1e7,amsl:(0,i.default)(r[2])?void 0:r[2]/1e3,ahl:(0,i.default)(r[3])?void 0:r[3]/1e3,agl:(0,i.default)(r[4])?void 0:r[4]/1e3},h=!0),n&&Array.isArray(n)&&n.length>=3&&(this.localPosition=[n[0]/1e3,n[1]/1e3,n[2]/1e3],h=!0),void 0!==o&&this.heading!==o/10&&(this.heading=o/10,h=!0),void 0!==p&&this.light!==p&&(this.light=p,h=!0),void 0!==l&&this.mode!==l&&(this.mode=l,h=!0),void 0!==u&&Array.isArray(u)&&(this.gpsFix.type=u.length>0?u[0]:c.lP.NO_GPS,this.gpsFix.numSatellites=u.length>1&&"number"==typeof u[1]?u[1]:void 0,this.gpsFix.horizontalAccuracy="number"==typeof u[2]?u[2]/1e3:void 0,this.gpsFix.verticalAccuracy="number"==typeof u[3]?u[3]/1e3:void 0,h=!0),void 0!==d&&this._debug!==d&&(this._debug=d,this._debugAsByteArray=void 0,this._debugString=void 0,h=!0),y=Array.isArray(s)?s:s?[s]:[],(0,a.default)(this._errors,y)||(this._errors.splice(0,this._errors.length,...y),this._mostSevereError=Math.max(0,...this._errors),h=!0),Array.isArray(f)){const[e,t,r]=f;this.battery.voltage!==e/10&&(this.battery.voltage=e/10,h=!0),this.battery.percentage!==t&&(this.battery.percentage=t,h=!0),this.battery.charging!==r&&(this.battery.charging=r,h=!0)}return h},this._debug=void 0,this._debugAsByteArray=void 0,this._debugString=void 0,this._id=e,this._errors=[],this._mostSevereError=0,this._position=void 0,this.battery={voltage:void 0,percentage:void 0,charging:void 0},this.gpsFix={type:c.lP.NO_GPS,numSatellites:void 0,horizontalAccuracy:void 0,verticalAccuracy:void 0},this.heading=void 0,this.lastUpdated=void 0,this.light=65535,this.localPosition=void 0,this.mode=void 0}get agl(){var e;return null===(e=this._position)||void 0===e?void 0:e.agl}get ahl(){var e;return null===(e=this._position)||void 0===e?void 0:e.ahl}get amsl(){var e;return null===(e=this._position)||void 0===e?void 0:e.amsl}get debug(){if(void 0===this._debugAsByteArray&&void 0!==this._debug)try{const e=o.DS.atob(this._debug);this._debugAsByteArray=new Uint8Array(new ArrayBuffer(e.length));for(let t=0;t<e.length;t++)this._debugAsByteArray[t]=e.codePointAt(t)}catch(e){this._debugAsByteArray=new Uint8Array}return this._debugAsByteArray}get debugString(){return void 0===this._debugString&&void 0!==this.debug&&(this._debugString=Array.from(this.debug).map((e=>e>=32&&e<128?String.fromCodePoint(e):".")).join("")),this._debugString}get error(){return this._errors&&this._errors.length>0?this._errors[0]:void 0}get errors(){return this._errors}get id(){return this._id}get lat(){var e;return null===(e=this._position)||void 0===e?void 0:e.lat}get lon(){var e;return null===(e=this._position)||void 0===e?void 0:e.lon}get mostSevereError(){return this._mostSevereError}get hasLocalPosition(){return!(0,i.default)(this.localPosition)}toJSON(){var e,t;const r=(null===(e=this._position)||void 0===e?void 0:e.lat)&&(null===(t=this._position)||void 0===t?void 0:t.lon)?Object.assign({},this._position):void 0,n=this.hasLocalPosition?structuredClone(this.localPosition):void 0;return{id:this._id,age:this.age,battery:Object.assign({},this.battery),debugString:this.debugString,errors:[...this._errors],gpsFix:Object.assign({},this.gpsFix),heading:this.heading,lastUpdated:this.lastUpdated,light:this.light,mode:this.mode,localPosition:n,position:r}}}},92760:(e,t,r)=>{"use strict";function n(){var e,t,r;const n=new URL(window.location.href);return null!==(r=null===(t=null===(e=null==n?void 0:n.searchParams)||void 0===e?void 0:e.get)||void 0===t?void 0:t.call(e,"token"))&&void 0!==r?r:void 0}r.d(t,{Q:()=>n})},95656:(e,t,r)=>{"use strict";r.d(t,{$U:()=>y,DD:()=>k,DY:()=>S,HP:()=>T,OA:()=>P,TT:()=>E,U9:()=>x,W7:()=>_,Wf:()=>I,iW:()=>O,lQ:()=>L,m9:()=>w,rz:()=>d,v7:()=>A,vA:()=>C,wg:()=>b,zD:()=>j});var n=r(43402),o=r(27601),a=r(77226),i=r(80770),c=r(89214),l=r(6128),u=r(60673),s=r(23664),f=r(95684),p=r(41137);const d=Object.freeze({byId:p.Nu,order:p.LZ}),y="@@newItem",h=e=>void 0!==(null==e?void 0:e.id)&&null!==e.id&&""!==e.id&&e.id!==y;class m extends Error{constructor(e,t="An item with the same ID already exists"){super(t),this.name="ItemExistsError",this.id=e}}const v=(e,t,r)=>{const o=t&&t.id===y;((e,t)=>{if(h(t)){if((0,n.Z)(e.byId,t.id))throw new m(t.id)}else{if(!("name"in t)||"string"!=typeof t.name)throw new Error("New item needs either an ID or a name");t.id=(0,f.j_)(t.name,Object.keys(e.byId))}})(e,t=Object.assign({},t)),e.byId[t.id]=t,r<0?e.order.splice(0,0,t.id):r>=e.order.length?e.order.push(t.id):e.order.splice(r,0,t.id),o&&delete e.byId[y]};function g(e,t,r="id"){if("id"===r)return(0,l.Z)(e.order,t.id);const n="function"==typeof r?r:(0,i.Z)(r);return(0,u.Z)(e.order,t.id,(r=>{const o=e.byId[r];return n(void 0===o?t:o)}))}const b=(e,t,r="id")=>{const n=g(e,t,r);v(e,t,n)},w=(e,t,r="id")=>{((e,t,r)=>{try{v(e,t,r)}catch(e){}})(e,t,g(e,t,r))},E=(e,t)=>{v(e,t,e.order.length)},S=(e,t)=>{v(e,t,0)},O=e=>{e.byId={},e.order=[]},x=(e,t="id")=>{let r=0;const n={byId:{},order:[]},a="function"==typeof t?t:(0,i.Z)(t);for(const t of e){const e=a(t);if((0,o.default)(e))throw new Error(`Item at index ${r} has no key`);if(void 0!==n.byId[e])throw new Error(`Duplicate key: ${e}`);n.byId[e]=t,n.order.push(e),r++}return n},A=(e,t)=>{const r=y;"function"==typeof t?t(r):(0,a.Z)(t)&&(t.id=r),e.byId[r]={id:r}},j=(e,t)=>{delete e.byId[t],(0,c.Z)(e.order,t)},k=(e,t)=>{for(const r of t)delete e.byId[r];(0,c.Z)(e.order,...t)},P=(e,t)=>{for(const r of t)void 0!==e.byId[r]&&k(e,t)},C=({byId:e,order:t})=>void 0===t?Object.values(e):0===t.length?p.LZ:t.map((t=>e[t])).filter((e=>!(0,o.default)(e))),T=(e,t)=>Object.assign(Object.assign({},e),{order:t}),I=(e,t,r="id")=>{h(t)&&e.byId[t.id]?e.byId[t.id]=Object.assign({},t):b(e,t,r)},L=(e,t)=>{h(t)&&e.byId[t.id]?e.byId[t.id]=Object.assign({},t):S(e,t)},_=e=>{e.order=(0,s.X)(e.order)}},19578:(e,t,r)=>{"use strict";r.d(t,{U6:()=>i,Vs:()=>c,jl:()=>l});var n,o=r(44683),a=r(27601);const i=e=>{var t,r;return null===(r=null===(t=null===o.Z||void 0===o.Z?void 0:o.Z.features)||void 0===t?void 0:t[e])||void 0===r||r},c=!(0,a.default)(null===(n=null===o.Z||void 0===o.Z?void 0:o.Z.session)||void 0===n?void 0:n.maxLengthInSeconds),l=()=>{const e=null===o.Z||void 0===o.Z?void 0:o.Z.perspectives;return Array.isArray(e)&&e[0]?e[0]:"default"}},42871:(e,t,r)=>{"use strict";r.d(t,{$G:()=>w,$s:()=>g,Bb:()=>y,Bq:()=>u,C_:()=>h,HP:()=>m,LU:()=>c,RS:()=>d,bc:()=>s,g:()=>l,hy:()=>i,st:()=>f,w5:()=>v,zu:()=>b});var n=r(79033),o=r(42227),a=r(27601);function i(e){return`(${e.map((e=>e.toFixed(2))).join(", ")})`}function c(e){e=Math.round(e);return`${String(Math.floor(e/60))}:${String(Math.floor(e)%60).padStart(2,"0")}`}function l(e,t={}){if(e<0)return"-"+l(-e,t);const{padHours:r}=t;let{precision:n=0}=t;if(n=Math.max(Math.floor(n),0),n>0){const t=Math.pow(10,n);e=Math.round(e*t)/t}let o=String(Math.floor(e/3600));r&&o.length<2&&(o="0"+o),e%=3600;let a=String(Math.floor(e/60));a.length<2&&(a="0"+a);let i=(e%=60).toFixed(n);return e<10&&(i="0"+i),`${o}:${a}:${i}`}function u(e){return`s${e+1}`}function s(e,t){return t<=e?"":t===e+1?u(e):`${u(e)}\u2013${t}`}const f=[[1e3,"km"],[1,"m"],[.01,"cm"]],p=(e,t)=>e+(/^[a-zA-Z]/.test(t)?" ":"")+t,d=(e,t="",r=0)=>{var n;if(Array.isArray(t)){for(const[n,o]of t)if(Math.abs(e)>=n)return p((e/n).toFixed(r),o);const[o,a]=null!==(n=t.at(-1))&&void 0!==n?n:[1,""];return p(0===e?"0":(e/o).toFixed(r),a)}return p(0===e?"0":e.toFixed(r),t)},y=(e,t=2)=>d(e,f,t);function h(e,{maxCount:t=8,separator:r=" \xb7 "}={}){const n=Array.isArray(e)?e.length:0;return 0===n?"":n>t?`${e.slice(0,t-1).join(r)} and ${n-t+1} more`:e.join(r)}const m=(e,t=0,r="",n="\u2014")=>(0,a.default)(e)||Number.isNaN(e)?n:"number"==typeof e?r?`${e.toFixed(t)}${r}`:e.toFixed(t):e,v=(e,t="\u2014")=>(0,a.default)(e)||Number.isNaN(e)?t:(0,n.Z)((0,o.Z)(e)),g=(e,t)=>"month"===t?`${e}mo`:"second"===t&&e<1?"now":`${e}${t.charAt(0)}`,b=(e,t,r)=>{const n=g(e,t);return"now"===n?n:"ago"===r?`${n} ago`:`in ${n}`};function w(e,t,{ellipsis:r="\u2026"}={}){return(0,a.default)(e)?"":("string"!=typeof e&&(e=String(e)),e.length>t&&(e=e.slice(0,t)+r),e)}},48829:(e,t,r)=>{"use strict";r.d(t,{D1:()=>N,Gv:()=>G,Jc:()=>z,KL:()=>B,LF:()=>I,LW:()=>R,O_:()=>F,T$:()=>V,Tk:()=>k,U2:()=>T,Y3:()=>j,YX:()=>_,Zy:()=>L,fT:()=>D,ie:()=>M,j:()=>H,kb:()=>W,nI:()=>P,vr:()=>Z});var n=r(63198),o=r(16374),a=r(27601),i=r(17948),c=r(95883),l=r(63790),u=r(91900),s=r(28641),f=r(2033),p=r(25063),d=r(7403),y=r(92083),h=r(13958),m=r(86333),v=r(35798),g=r(30933),b=r(97580),w=r(95637),E=r(1449),S=r(86686),O=r(42871),x=r(43774);const A=r(41741).Ag?"@":"\u2220";function j(e,t){const r=(0,x.Yr)(t[0]-e[0]),n=(0,x.Yr)(e[1]),o=(0,x.Yr)(t[1]),a=Math.sin(r)*Math.cos(o),i=Math.cos(n)*Math.sin(o)-Math.sin(n)*Math.cos(o)*Math.cos(r);return(180*Math.atan2(a,i)/Math.PI+360)%360}function k(e,t){return(j(t,e)+180)%360}const P=e=>(t,r)=>{if(2!==t.length||!(0,x.Qu)(t[0])||!(0,x.Qu)(t[1]))throw new TypeError("Must be called with two points only");const n="number"==typeof e?e:e(),[o,a]=t,i=[(o[0]+a[0])/2,(o[1]+a[1])/2],c=u.U1([o[0]-i[0],o[1]-i[1]],n),l=u.U1([a[0]-i[0],a[1]-i[1]],n),p=s.hI([c,l]),d=[s.hC(p),s.w$(p),s.Xv(p),s.rL(p),s.hC(p)].map((e=>u.IH(u.U1(e,-n),i)));return r?(r.setCoordinates([d]),r):new f.default([d])},C=((0,o.Z)(((e,t)=>T(e,[t])[0])),e=>e instanceof m.default&&e.getSource()instanceof g.default),T=(0,o.Z)(((e,t)=>{const r=Array.from({length:t.length});for(const n of e.getLayers().getArray()){if(!C(n)||!n.getVisible())continue;const e=n.getSource();if(e)for(const[n,o]of t.entries())if(!r[n]){const t=e.getFeatureById(o);t&&(r[n]=t)}}return r})),I=(e,t)=>{if(e.intersectsCoordinate(t))return t;let r;if(e instanceof h.Z?r=e.getGeometries():e instanceof p.Z?r=e.getPolygons():e instanceof d.Z&&(r=e.getLineStrings()),void 0!==r){const e=r.map((e=>I(e,t))),n=(0,i.Z)(e,(e=>x.p.bind(t,e)));return null!=n?n:[Number.NaN,Number.NaN]}return e.getClosestPoint(t)},L=({digits:e,reverse:t=!1,separator:r=", ",unit:n})=>{const o=t?[1,0]:[0,1];return t=>t?(0,O.RS)(t[o[0]],n,e)+r+(0,O.RS)(t[o[1]],n,e):""},_=({digits:e,unit:t})=>r=>r?(0,O.RS)(r[0],t,e)+` ${A} `+(0,O.RS)(r[1],"\xb0",e):"",Z=e=>{const t=1e3;switch(e.type){case S.Te.LINE_STRING:{const r=(0,b.xA)(new y.default(e.points.map((0,l.Z)(G))));return r>1e4?`${(0,c.Z)(r/t,2)} km`:`${(0,c.Z)(r,2)} m`}case S.Te.POLYGON:{const t=(0,b.bg)(new f.default([e.points,...e.holes].map((e=>e.map((0,l.Z)(G))))));return t>1e6?`${(0,c.Z)(t/1e6,2)} km\xb2`:t>1e3?`${(0,c.Z)(t/1e4,2)} ha`:`${(0,c.Z)(t,2)} m\xb2`}default:throw new Error("Unsupported feature type to measure: "+e.type)}};function N(e){const t=s.lJ();for(const r of e)s.l7(t,r);return t}const R=e=>((e%360+360)%360).toFixed(1),D=((0,o.Z)(((e,t)=>{const r=e[0],n=e[1];return 0===r&&0===n?t:t.map((e=>[e[0]+r,e[1]+n]))})),L({digits:7,reverse:!0,unit:"\xb0"})),F=e=>{if((0,a.default)(e))return"";try{return D(e)}catch(e){return""}},M=e=>{try{const t=new n(e);return[t.getLongitude(),t.getLatitude()]}catch(e){return}},U=((e,t)=>{const r=1/t,n=r*(2-r),o=Math.sqrt(n),a=e*(1-r),i=(a+2*e)/3;return Object.freeze({eccentricity:o,eccentricitySquared:n,flattening:r,inverseFlattening:t,meanRadius:i,semiMajorAxis:e,semiMinorAxis:a})})(6378137,298.257223563),G=v.mi,V=v.bU,B=(e,t)=>{const r=G(e);return V([r[0]+t[0],r[1]+t[1]])};class W{constructor({origin:e,orientation:t=0,type:r="neu",ellipsoid:n=U}){if(this._vec=[0,0,0],"neu"!==r&&"nwu"!==r)throw new Error("unknown coordinate system type: "+r);if("number"!=typeof t&&(t=Number.parseFloat(t)),Number.isNaN(t))throw new TypeError("invalid orientation");this._vec=[0,0,0],this._origin=e,this._orientation=(0,x.Yr)(t),this._ellipsoid=n,this._type=r,this._precalculate()}fromLonLat(e){const t=[0,0];return this._updateArrayFromLonLat(t,e[0],e[1]),t}fromLonLatAhl(e){const t=[0,0,e[2]];return this._updateArrayFromLonLat(t,e[0],e[1]),t}get type(){return this._type}toLonLat(e){const t=[e[0],e[1]*this._yMul];return u.U1(t,this._orientation),[t[1]/this._r2OverCosOriginLatInRadians/this._piOver180+this._origin[0],t[0]/this._r1/this._piOver180+this._origin[1]]}toLonLatAhl(e){return[...this.toLonLat([e[0],e[1]]),e[2]]}updateVector3FromLonLatAhl(e,t,r,n){this._updateArrayFromLonLat(this._vec,t,r),e.x=this._vec[0],e.y="nwu"===this._type?this._vec[1]:-this._vec[1],e.z=n}_precalculate(){const e=(0,x.Yr)(this._origin[1]),t=this._ellipsoid.semiMajorAxis,r=this._ellipsoid.eccentricitySquared,n=1-r*Math.pow(Math.sin(e),2);this._piOver180=Math.PI/180,this._r1=t*(1-r)/Math.pow(n,1.5),this._r2OverCosOriginLatInRadians=t/Math.sqrt(n)*Math.cos(e),this._yMul="neu"===this._type?1:-1}_updateArrayFromLonLat(e,t,r){e[0]=(r-this._origin[1])*this._piOver180*this._r1,e[1]=(t-this._origin[0])*this._piOver180*this._r2OverCosOriginLatInRadians,u.U1(e,-this._orientation),e[1]*=this._yMul}}function z(e){const t=Math.hypot(e[0],e[1]);if(t>0){const r=(0,x.Ux)(Math.atan2(e[1],e[0]));return[t,r<0?r+360:r]}return[0,0]}const H=(e,t)=>{if(0===e.length)return[];let r;const n=(0,x.Az)(e),o=e.map((e=>[e[0]-n[0],e[1]-n[1]])),a=new W({origin:[0,0]}),i=o.map((e=>a.toLonLat(e)));1===e.length?r=E.xm(i[0]):2===e.length?r=E.Tu([i[0],i[1]]):((0,x.y6)(i),r=E.yu([i]));const c=(0,w.Z)(r,t/1e3);if(!Array.isArray(c.geometry.coordinates[0]))throw new TypeError("a coordinate array is expected as the first linear ring of the polygon");const l=c.geometry.coordinates[0].map((e=>{const t=a.fromLonLat(e);return[t[0]+n[0],t[1]+n[1]]}));return(0,x.JI)(l)}},43774:(e,t,r)=>{"use strict";r.d(t,{Az:()=>d,B5:()=>O,JI:()=>b,MC:()=>w,Pn:()=>y,Qu:()=>s,Ux:()=>p,Yr:()=>f,p:()=>v,x:()=>h,y6:()=>g});var n=r(69203),o=r(17948),a=r(80770),i=r(96446),c=r(74529),l=r.n(c),u=r(1449);const s=e=>Array.isArray(e)&&2===e.length&&e.every((e=>"number"==typeof e));function f(e){return e*Math.PI/180}function p(e){return 180*e/Math.PI}function d(e,t=2){const r=Array.from({length:t},(()=>0)),n=e&&Array.isArray(e)?e.length:0;if(0===n)return r;for(const n of e)for(let e=0;e<t;e++)r[e]+=n[e]||0;for(let e=0;e<t;e++)r[e]/=n;return r}function y(e){const t=[0,0];for(const r of e.map(f))t[0]+=Math.cos(r),t[1]+=Math.sin(r);const r=p(Math.atan2(t[1],t[0]));return r<0?r+360:r}function h(e,t,{distanceFunction:r=v,getter:o=n.default}={}){const i="function"==typeof o?o:(0,a.Z)(o),c=e.map(i),l=t.map(i);return c.map((e=>l.map((t=>r(e,t)))))}const m=(e,t)=>e[0]*t[0]+e[1]*t[1],v=(e,t)=>Math.hypot(e[0]-t[0],e[1]-t[1]);function g(e){if(!Array.isArray(e)||e.length<2)return;const t=e.at(0),r=e.at(-1);if(!s(t)||!s(r))return;const n=t.length;let o=!0;if(n===r.length){o=!1;for(let e=0;e<n;e++)if(t[e]!==r[e]){o=!0;break}}o&&e.push(t)}const b=e=>l()(e).map((t=>{const r=e[t];return r.length>2?r.slice(0,2):r}));function w(e){if(0===e.length)return;if(1===e.length&&s(e[0]))return u.xm(e[0]).geometry;if(2===e.length)return u.Tu(e).geometry;const t=[...e];return g(t),u.yu([t]).geometry}const E=([e,t])=>Math.hypot(e,t),S=(e,t)=>{if(t<3)return e;if(e.length<=t)return e;const r=t=>e.at(t%e.length),n=(t,r)=>{e[(t+e.length)%e.length]=r},a=(0,o.Z)((0,i.Z)(e.length),(e=>((e,t,r)=>{const n=[t[0]-e[0],t[1]-e[1]],o=[r[0]-t[0],r[1]-t[1]];return Math.acos(m(n,o)/(E(n)*E(o)))})(r(e-1),r(e),r(e+1)))),c=(([e,t,r,n,o])=>{const a=(e,t)=>[e[1]-t[1],t[0]-e[0]],i=a(e,t),c=a(t,n),l=a(n,o),u=m(i,e),s=m(c,r),f=m(l,o),p=i[0]*c[1]-i[1]*c[0],d=l[0]*c[1]-l[1]*c[0];return[e,[(c[1]*u-i[1]*s)/p,(-c[0]*u+i[0]*s)/p],[(c[1]*f-l[1]*s)/d,(-c[0]*f+l[0]*s)/d],o]})([-2,-1,0,1,2].map((e=>r(a+e))));return n(a-2,c[0]),n(a-1,c[1]),n(a+1,c[2]),n(a+2,c[3]),e.splice(a,1),S(e,t)},O=([e,...t],r)=>{const n=S(t,r);if(!s(n[0]))throw new Error("polygons need to have at least three 2D vertices");return[...n,n[0]]}},95684:(e,t,r)=>{"use strict";r.d(t,{HY:()=>o,j_:()=>i,o8:()=>a});var n=r(45542);function o(e,t){const r=Array.isArray(t);if(r){if(!t.includes(e))return e}else if(!(e in t))return e;let n,o=0;for(;;)if(o++,n=`${e}_${o}`,r){if(!t.includes(n))return n}else if(!(n in t))return n}function a(e,t){if(!t.includes(e))return e;const r=e.match(/^(.*)\s+(\d+)$/),n=r?r[1]:e.trimEnd();let o,a=r?Number.parseInt(r[2],10):0;for(;;)if(a++,o=`${n} ${a}`,!t.includes(o))return o}function i(e,t){return o((0,n.Z)(e),t)}},33769:(e,t,r)=>{"use strict";r.d(t,{eJ:()=>l,mV:()=>c});var n=r(23855),o=r(43402),a=r(36378);const i={unix:0};function c(e){if(""===e)return 0;const t=e.split(":");if(t.length<=3){const e=t.map((e=>e.length>0?Number.parseFloat(e):0));if(e.every((e=>Number.isFinite(e))))return e.reduce(((e,t)=>60*e+t),0)}return Number.NaN}const l=e=>(0,a.Z)(e)&&(0,o.Z)(i,e)?i[e]:u(e),u=e=>(0,n.Z)(e).getTime()},41741:(e,t,r)=>{"use strict";r.d(t,{Ag:()=>n,Dy:()=>o,a5:()=>a,qC:()=>i});const n=navigator.platform.includes("Mac"),o=(navigator.platform.includes("Win32")||navigator.platform.includes("Windows"),n?e=>Boolean(e.metaKey):e=>Boolean(e.ctrlKey)),a=n?"Cmd":"Ctrl",i=navigator.maxTouchPoints>0},41137:(e,t,r)=>{"use strict";r.d(t,{FZ:()=>a,LZ:()=>c,Nu:()=>l,WZ:()=>i});var n=r(56974),o=r(24268);function a(e,t,{minDelay:r}={}){let a=t;return r&&r>0&&(a=(...e)=>(0,n.Z)(t(...e),r)),(0,o.PH)(e,((...e)=>({payload:a(...e)})))}const i=e=>({prepare:()=>({payload:void 0}),reducer:e}),c=Object.freeze([]),l=Object.freeze({})},31175:(e,t,r)=>{"use strict";r.d(t,{f:()=>l,y:()=>c});var n=r(50576),o=r(22222),a=r(44815),i=r(96774);const c=(0,o.createSelectorCreator)(a.PW,i),l=(0,o.createSelectorCreator)(a.PW,{resultEqualityCheck:n.default})},43800:(e,t,r)=>{"use strict";r.d(t,{Go:()=>c,Gz:()=>h,Nj:()=>v,RU:()=>y,Se:()=>m,TS:()=>p,bP:()=>u,dv:()=>f,hl:()=>i,lr:()=>a,o1:()=>d});var n=r(51345),o=r(58958);const a="#2196f3",i=e=>new n.default({color:e}),c=(e,t=1,r=[])=>new o.default({color:e,width:t,lineDash:r}),l=e=>c(e,5),u=e=>c(e,2),s=e=>c(e,1),f=s("black"),p=(u("black"),l("black"),s("rgba(0, 0, 0, 0.6)")),d=u("rgba(0, 0, 0, 0.6)"),y=(l("rgba(0, 0, 0, 0.6)"),s("white"),u("white")),h=l("white"),m=e=>c(e,5,[5,10]),v=e=>c(e,2,[1,5])},99234:(e,t,r)=>{"use strict";r.d(t,{C1:()=>n,Tn:()=>c,_L:()=>a,i1:()=>i,jd:()=>s,vX:()=>l,v_:()=>u,yx:()=>o});const n=e=>{if((e=>void 0===e||""===e)(e))return"Value is required"},o=e=>{if(!Number.isFinite(Number(e)))return"Value must be a number"},a=e=>{if(!Number.isInteger(Number(e)))return"Value must be an integer"},i=e=>{if(1!==Math.sign(Number(e)))return"Value must be positive"};function c(e){return t=>{if(Number(t)<e)return`Minimum allowed value is ${e}`}}function l(e,t){return e>t&&([e,t]=[t,e]),r=>{if(Number(r)<e||Number(r)>t)return`Value must be between ${e} and ${t}`}}function u(e){return t=>e.map((e=>e(t))).find(Boolean)}function s(e){return t=>{const r={};for(const n of Object.keys(e)){const o=u([e[n]].flat())(t[n]);o&&(r[n]=o)}return r}}},70582:(e,t,r)=>{"use strict";r.d(t,{BX:()=>i,UA:()=>n,gV:()=>a});var n,o=r(48829);function a(e){return null==e?void 0:e.startsWith("draw")}function i(e,t){switch(e){case n.DRAW_POINT:return{type:"Point"};case n.DRAW_CIRCLE:return{type:"Circle"};case n.DRAW_RECTANGLE:return{geometryFunction:(0,o.nI)((()=>t?-t.getView().getRotation():0)),type:"Circle"};case n.DRAW_PATH:return{type:"LineString"};case n.DRAW_POLYGON:return{type:"Polygon"};default:return{type:"Point"}}}!function(e){e.SELECT="select",e.ZOOM="zoom",e.PAN="pan",e.DRAW_POINT="drawPoint",e.DRAW_CIRCLE="drawCircle",e.DRAW_RECTANGLE="drawRectangle",e.DRAW_PATH="drawPath",e.DRAW_POLYGON="drawPolygon",e.CUT_HOLE="cutHole",e.EDIT_FEATURE="editFeature"}(n||(n={}))},48340:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAJCAYAAADpeqZqAAAAWklEQVR4nJWOyw3AIAxDHcQC7L8jbwT3AlJBfNp3SiI7dtRaLSlKKeoA1oEsKSQZCEluexw8Tm3ohk+E7bnOUHUGcNh+HwbBygw4AZ7FN/Lt84p0l+yTflV8AKQyLdcCRJi/AAAAAElFTkSuQmCC"},44456:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAYAAADEUlfTAAAAIklEQVR4nGNgYGD4z4Ad/Mdg4ODDBXCZRFgCp5EEHQMXBwAQAgz0SVCcggAAAABJRU5ErkJggg=="},22367:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAFUlEQVQY02NgGJzgPxTjZDMNQkcDAOi4Bf2rdMdGAAAAAElFTkSuQmCC"},52988:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAIklEQVR4nGNkYGD4z0AAMBFSAAOETPpPlEmDUREjAxHhBABPvAQLFv3qngAAAABJRU5ErkJggg=="},43737:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAJklEQVR4nGP8//8/AyHARFDFUFbEwsDAwMDIyIgzHP7//89IlEkApSkHEScJTKoAAAAASUVORK5CYII="},64636:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAKUlEQVR4nGNgYGD4z4Af/Mdg4FKASwCnDf8JKSBoAtEmEXQTQd8RDCcA6+4Q8OvIgasAAAAASUVORK5CYII="},57869:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAANUlEQVR4nI2QMQoAMAwCz5L/f9mOzZIaN0E9UDyZhaaQz6atgBHgambEJ5wBKoS0WaIvfT+6K2MIECN19MAAAAAASUVORK5CYII="},86393:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAGFBMVEX29vb19fXw8PDy8vL09PTz8/Pv7+/x8fGKuegbAAAAyUlEQVR42pXRQQ7CMBRDwST9pfe/MahEmgURbt7WmpVb6+vG0dd9REnn66xRy/qXiCgmEIIJhGACIZhACCYQgvlDCDFIEAwSBIMEwSBBMEgQDBIEgwTBIEEwCJEMQiSDENFMQmQzCZEbNyGemd6KeGZ6u4hnXe2qbdLHFjhf1XqNLXHev4wdMd9nspiEiWISJgqECQJhgkCYIBAmCIQJAmGCQJggECYJhAkCEUMEwhCBMEQgDJEIQ2RSg0iEIRJhiB/S+rrjqvXQ3paIJUgPBXxiAAAAAElFTkSuQmCC"},27513:e=>{"use strict";e.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z%27 fill=%27%23fff%27/%3E%3C/svg%3E"},33646:e=>{"use strict";e.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z%27 fill=%27%23fff%27/%3E%3C/svg%3E"},85581:e=>{"use strict";e.exports="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E"},90576:e=>{"use strict";e.exports="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E"},85902:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMCA2czEuNzk2LS4wMTMgNC42Ny0zLjYxNUM1Ljg1MS45IDYuOTMuMDA2IDggMGMxLjA3LS4wMDYgMi4xNDguODg3IDMuMzQzIDIuMzg1QzE0LjIzMyA2LjAwNSAxNiA2IDE2IDZIMHoiIGZpbGw9InJnYmEoMCwgOCwgMTYsIDAuMikiLz48L3N2Zz4="},22182:(e,t,r)=>{"use strict";e.exports=r.p+"756a5d1d3cefa357cddd.png"},47221:(e,t,r)=>{"use strict";e.exports=r.p+"accfa46338ac100df097.png"},13493:(e,t,r)=>{"use strict";e.exports=r.p+"746c5b26af66e0ec66a2.png"},49414:(e,t,r)=>{"use strict";e.exports=r.p+"95ccd0f851a9715276ce.png"},39204:(e,t,r)=>{"use strict";e.exports=r.p+"0f2bf7a72d52c52151d0.png"},940:(e,t,r)=>{"use strict";e.exports=r.p+"c1c64df77b3cc7dc595a.png"},33994:(e,t,r)=>{"use strict";e.exports=r.p+"17aa0f96c6a6c12802d0.png"},82250:(e,t,r)=>{"use strict";e.exports=r.p+"a0ffa3fec5fb5d4576e3.ttf"},35327:(e,t,r)=>{"use strict";e.exports=r.p+"4fee81dc0969cba3673c.woff"},47821:(e,t,r)=>{"use strict";e.exports=r.p+"04ec25f00ae3dd879b4f.woff2"},16881:(e,t,r)=>{"use strict";e.exports=r.p+"3e448884afe00630c246.ttf"},9838:(e,t,r)=>{"use strict";e.exports=r.p+"fd1931c83fb432d22683.woff"},16739:(e,t,r)=>{"use strict";e.exports=r.p+"c21727b877af05fcd8e8.woff2"},9465:(e,t,r)=>{"use strict";e.exports=r.p+"d1d8bc4c326ab51962ca.ttf"},50206:(e,t,r)=>{"use strict";e.exports=r.p+"188265e96597209b2b7c.woff"},97376:(e,t,r)=>{"use strict";e.exports=r.p+"b4e7a0530d8f59d6bf37.woff2"},74319:()=>{},52523:()=>{},80950:()=>{},46601:()=>{},69948:()=>{},8623:()=>{},7748:()=>{},85568:()=>{},56619:()=>{},24654:()=>{},77108:()=>{},52361:()=>{},94616:()=>{}}]);