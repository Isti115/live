/*! For license information please see workbench.bundle.js.LICENSE.txt */
(self.webpackChunk_skybrush_live=self.webpackChunk_skybrush_live||[]).push([[642],{46759:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=r(72288)},88166:(e,t,r)=>{"use strict";r.d(t,{e:()=>d});r(52675),r(89463),r(2259),r(34782),r(62010),r(79432),r(27495),r(90906),r(38781),r(33771),r(23418),r(23792),r(62062),r(2892),r(40150),r(26099),r(47764),r(62953);var n=r(21220),o=r.n(n),a=r(30679),i=["algorithm"];function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function u(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.algorithm,n=void 0===r?"greedy":r,s=p(t,i);switch(n){case"hungarian":return o()(e);case"greedy":return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.length,n=r>0?Math.min.apply(Math,u(e.map((function(e){return e.length})))):0,o=[],i=[],s=t.threshold;if(0===r||0===n)return[];("number"!=typeof s||s<=0||Number.isNaN(s))&&(s=Number.POSITIVE_INFINITY);var f,p=l(e.entries());try{for(p.s();!(f=p.n()).done;){var d,y=c(f.value,2),m=y[0],h=l(y[1].entries());try{for(h.s();!(d=h.n()).done;){var v=c(d.value,2),g=v[0],b=v[1];b<=s&&o.push([m,g,b])}}catch(e){h.e(e)}finally{h.f()}}}catch(e){p.e(e)}finally{p.f()}var w,E=(0,a.A)(o,(function(e){return e[2]})),A=Array.from({length:r}).fill(!1),S=Array.from({length:n}).fill(!1),O=r,x=n,j=l(E);try{for(j.s();!(w=j.n()).done;){var k=c(w.value,3),T=k[0],I=k[1];k[2];if(!(A[T]||S[I]||(i.push([T,I]),A[T]=!0,S[I]=!0,x--,--O&&x)))break}}catch(e){j.e(e)}finally{j.f()}return i}(e,s);default:throw new Error("unknown assignment algorithm: "+n)}}},82776:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>$B});r(52675),r(89463),r(66412),r(2259),r(45700),r(78125),r(23792),r(34782),r(89572),r(62010),r(4731),r(60479),r(2892),r(40875),r(10287),r(26099),r(3362),r(60825),r(47764),r(23500),r(62953);var n=r(34164),o=r(59984),a=r(5556),i=r.n(a),c=r(96540),l=r(47665),u=r(14224),s=r(69733),f=r(31720),p=r(68131),d=r(96007),y=r(36232),m=r(32389),h=r(32118),v=r(68016),g=r(67264),b=r(36381),w=r(32087),E=(r(62062),r(95372)),A=r(90952),S=r(36896),O=r(54392),x=r(96746),j=r(78690),k=function(e){var t=e.dirty,r=e.form,n=e.label,o=e.onSubmit;return c.createElement(S.A,{display:"flex",flexDirection:"row"},c.createElement(j.A,{status:t?"warning":"success"},"".concat(n||"Form",t?" changed; do not forget to save.":" saved.")),r&&c.createElement(c.Fragment,null,c.createElement(x.A,{disabled:!t,onClick:function(){return r.reset()}},"Reset"),c.createElement(x.A,{color:"primary",disabled:!t,onClick:o},"Save")))};k.propTypes={dirty:i().bool.isRequired,form:i().shape({reset:i().func}),label:i().string,onSubmit:i().func};const T=k;var I=r(84864),C=[{label:"Mapbox",key:"MAPBOX"},{label:"Maptiler",key:"MAPTILER"}],P=function(e){var t=e.apiKeys,r=e.onSubmit,n=e.t;return c.createElement(A.lV,{initialValues:t,onSubmit:r},(function(e){var t=e.dirty,r=e.form,o=e.handleSubmit;return c.createElement(S.A,{pt:1,pb:2},C.map((function(e){return c.createElement(S.A,{key:e.key,py:1},c.createElement(E.A_,{fullWidth:!0,name:e.key,label:"".concat(e.label," API key"),variant:"filled"}))})),c.createElement(O.A,{variant:"body2",color:"textSecondary"},n("APIKeysTab.description")),c.createElement(S.A,{pb:2}),c.createElement(T,{dirty:t,form:r,label:"API keys",onSubmit:o}))}))};P.propTypes={apiKeys:i().object,onSubmit:i().func,t:i().func};const L=(0,s.Ng)((function(e){return{apiKeys:e.settings.apiKeys}}),{onSubmit:function(e){for(var t={},r=0,n=C;r<n.length;r++){var o=n[r];t[o.key]=e[o.key]?String(e[o.key]):""}return(0,I.uV)("apiKeys",t)}})((0,m.CI)()(P));r(2008),r(83851),r(81278),r(79432);var _=r(19371),N=r(69312),R=r(15776),D=r(85784),M=r(38306),F=r(84630),U=r(40827),G=r(48166),V=r(29889),B=(r(23418),r(69085),r(27495),r(90906),r(38781),r(28706),r(46996)),H=r(64054),W=r(42460),z=r(72572),Y=r(60083),K=r(32),q=["onChange","value"];function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function Z(){return Z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z.apply(this,arguments)}function X(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ie(n.key),n)}}function te(e,t,r){return t=ne(t),function(e,t){if(t&&("object"===$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,re()?Reflect.construct(t,r||[],ne(e).constructor):t.apply(e,r))}function re(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(re=function(){return!!e})()}function ne(e){return ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ne(e)}function oe(e,t){return oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},oe(e,t)}function ae(e,t,r){return(t=ie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ie(e){var t=function(e,t){if("object"!=$(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$(t)?t:t+""}var ce=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return ae(e=te(this,t,[].concat(n)),"state",{dirty:!1,error:void 0,originalText:void 0,text:void 0}),ae(e,"_onBlur",(function(t){e._onMaybeCommitValue({text:t.target.value})})),ae(e,"_onChange",(function(t){e._updateValueFromText(t.target.value)})),ae(e,"_onClearField",(function(){e._updateValueFromText("",{commit:!0})})),ae(e,"_onKeyDown",(function(t){"Enter"===t.key&&(t.preventDefault(),e._updateValueFromText(t.target.value,{commit:!0}))})),ae(e,"_onMaybeCommitValue",(function(t){var r=t.mounted,n=void 0===r||r,o=t.text,a=J(e._validate(o),2),i=a[0],c=a[1];if(i){var l=e.props,u=l.onChange,s=l.value;u&&!(0,B.default)(s,c)&&u(c),n&&e._reset()}})),ae(e,"_onMouseDownOnButton",(function(e){e.preventDefault()})),ae(e,"_reset",(function(){e.setState({dirty:!1,text:void 0})})),ae(e,"_updateValueFromText",(function(t){var r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).commit;e.setState((function(e){return t===e.originalText?{dirty:!1,text:void 0}:{dirty:!0,text:t}})),r?e._onMaybeCommitValue({text:t,mounted:!0}):e._validate(t)})),ae(e,"_validate",(function(t){var r=e.props.required,n=(0,K.EK)(t),o=(""!==t||r)&&void 0===n;return e.setState({error:o?"Not a valid coordinate":void 0}),[!o,n]})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oe(e,t)}(t,e),r=t,o=[{key:"getDerivedStateFromProps",value:function(e){return{originalText:(0,K.cC)(e.value)}}}],(n=[{key:"componentWillUnmount",value:function(){this.state.dirty&&this._onMaybeCommitValue({text:this.state.text,mounted:!1})}},{key:"render",value:function(){var e=this.props,t=(e.onChange,e.value,X(e,q)),r=this.state,n=r.dirty,o=r.error,a=r.originalText,i=r.text,l=n?i:a,u=l?c.createElement(H.A,{position:"end"},c.createElement(W.A,{"aria-label":"Clear field",edge:"end",tabIndex:-1,onClick:this._onClearField,onMouseDown:this._onMouseDownOnButton},c.createElement(Y.default,null))):null;return c.createElement(z.A,Z({value:l,error:Boolean(o),InputProps:{endAdornment:u},onBlur:this._onBlur,onChange:this._onChange,onKeyDown:this._onKeyDown},t))}}])&&ee(r.prototype,n),o&&ee(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(c.Component);ae(ce,"propTypes",{onChange:i().func,required:i().bool,value:i().arrayOf(i().number)}),ae(ce,"defaultProps",{required:!1,value:void 0});r(40150),r(87220),r(25440);function le(e){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},le(e)}var ue=["onChange","value"];function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},se.apply(this,arguments)}function fe(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return de(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return de(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,we(n.key),n)}}function me(e,t,r){return t=ve(t),function(e,t){if(t&&("object"===le(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,he()?Reflect.construct(t,r||[],ve(e).constructor):t.apply(e,r))}function he(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(he=function(){return!!e})()}function ve(e){return ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ve(e)}function ge(e,t){return ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ge(e,t)}function be(e,t,r){return(t=we(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function we(e){var t=function(e,t){if("object"!=le(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=le(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==le(t)?t:t+""}var Ee=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return be(e=me(this,t,[].concat(n)),"state",{dirty:!1,error:void 0,originalText:void 0,text:void 0}),be(e,"_onBlur",(function(t){e._onMaybeCommitValue({text:t.target.value})})),be(e,"_onChange",(function(t){e._updateValueFromText(t.target.value)})),be(e,"_onClearField",(function(){e._updateValueFromText("0",{commit:!0})})),be(e,"_onKeyDown",(function(t){"Enter"===t.key&&(t.preventDefault(),e._updateValueFromText(t.target.value,{commit:!0}))})),be(e,"_onMaybeCommitValue",(function(t){var r=t.mounted,n=void 0===r||r,o=t.text,a=pe(e._validate(o),2),i=a[0],c=a[1];if(i){var l=e.props,u=l.onChange,s=l.value;u&&s!==c&&u(c),n&&e._reset()}})),be(e,"_onMouseDownOnButton",(function(e){e.preventDefault()})),be(e,"_reset",(function(){e.setState({dirty:!1,text:void 0})})),be(e,"_updateValueFromText",(function(t){var r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).commit;e.setState((function(e){return t===e.originalText?{dirty:!1,text:void 0}:{dirty:!0,text:t}})),r?e._onMaybeCommitValue({text:t,mounted:!0}):e._validate(t)})),be(e,"_validate",(function(t){var r=Number.parseFloat(t),n=Number.isNaN(r);return e.setState({error:n?"Not a valid angle":void 0}),[!n,(0,K.n0)(r)]})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ge(e,t)}(t,e),r=t,o=[{key:"getDerivedStateFromProps",value:function(e){return{originalText:(t=e.value,(0,K.n0)(t).replace(",",".")+"\xb0")};var t}}],(n=[{key:"componentWillUnmount",value:function(){var e=this.state,t=e.dirty,r=e.originalText,n=e.text,o=t?n:r;this._onMaybeCommitValue({mounted:!1,text:o})}},{key:"render",value:function(){var e=this.props,t=(e.onChange,e.value,fe(e,ue)),r=this.state,n=r.dirty,o=r.error,a=r.originalText,i=r.text,l=n?i:a,u=l?c.createElement(H.A,{position:"end"},c.createElement(W.A,{"aria-label":"Clear field",edge:"end",tabIndex:-1,onClick:this._onClearField,onMouseDown:this._onMouseDownOnButton},c.createElement(Y.default,null))):null;return c.createElement(z.A,se({error:Boolean(o),value:l,InputProps:{endAdornment:u},onBlur:this._onBlur,onChange:this._onChange,onKeyDown:this._onKeyDown},t))}}])&&ye(r.prototype,n),o&&ye(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(c.Component);be(Ee,"propTypes",{onChange:i().func,value:i().oneOfType([i().string,i().number])}),be(Ee,"defaultProps",{value:void 0});var Ae=function(e){var t=e.orientation,r=e.orientationLabel,n=e.origin,o=e.originLabel,a=e.type,i=e.onOrientationChanged,l=e.onOriginChanged,u=e.onTypeChanged;return c.createElement(S.A,{display:"flex",flexDirection:"row"},c.createElement(N.A,{style:{minWidth:90},variant:"filled"},c.createElement(M.A,{htmlFor:"coordinate-system-type"},"Type"),c.createElement(U.A,{disabled:!u,value:a,inputProps:{id:"coordinate-system-type"},onChange:u},c.createElement(F.A,{value:"neu"},"NEU"),c.createElement(F.A,{value:"nwu"},"NWU"))),c.createElement(S.A,{p:1}),c.createElement(ce,{fullWidth:!0,label:o,value:n,variant:"filled",onChange:l}),c.createElement(S.A,{p:1}),c.createElement(Ee,{style:{minWidth:160},label:r,value:t,variant:"filled",onChange:i}))};Ae.propTypes={onOrientationChanged:i().func,onOriginChanged:i().func,onTypeChanged:i().func,orientation:i().oneOfType([i().number,i().string]),orientationLabel:i().string,origin:i().arrayOf(i().number),originLabel:i().string,type:i().string.isRequired},Ae.defaultProps={originLabel:"Origin",orientationLabel:"Orientation (X+ axis)"};const Se=Ae;var Oe=r(11338),xe=r(920),je=r(78421),ke=r(36549);function Te(e){return Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Te(e)}var Ie=["t"];function Ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pe(e,t,r){var n;return n=function(e,t){if("object"!=Te(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Te(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Te(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Le(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var _e=[je.Sq.DEGREES,je.Sq.DEGREES_MINUTES,je.Sq.DEGREES_MINUTES_SECONDS,je.Sq.SIGNED_DEGREES,je.Sq.SIGNED_DEGREES_MINUTES,je.Sq.SIGNED_DEGREES_MINUTES_SECONDS],Ne=function(e){var t=e.t,r=Le(e,Ie);return c.createElement(c.Fragment,null,c.createElement(S.A,{my:2},c.createElement(N.A,{fullWidth:!0,variant:"filled"},c.createElement(M.A,{id:"language-selector-label"},t("settings.display.language")),c.createElement(U.A,{labelId:"language-selector-label",name:"language",value:r.language,onChange:r.onFieldChanged},xe.h.map((function(e){var t=e.code,r=e.label;return c.createElement(F.A,{key:t,value:t},r)}))))),c.createElement(S.A,{my:2},c.createElement(V.A,{value:r.theme,onChange:r.onFieldChanged})),c.createElement(S.A,{my:2},c.createElement(N.A,{fullWidth:!0,variant:"filled"},c.createElement(M.A,{id:"coordinate-format-label"},t("settings.display.coordinateFormat")),c.createElement(U.A,{labelId:"coordinate-format-label",name:"coordinateFormat",value:r.coordinateFormat,onChange:r.onFieldChanged},_e.map((function(e){return c.createElement(F.A,{key:e,value:e},(0,je.pe)(e))})))),c.createElement(D.A,null,c.createElement(G.A,null,t("settings.display.mapWidgets")),c.createElement(R.A,{label:t("settings.display.showMouseCoordinates"),control:c.createElement(_.A,{checked:r.showMouseCoordinates,name:"showMouseCoordinates",onChange:r.onCheckboxToggled})}),c.createElement(R.A,{label:t("settings.display.showScaleLine"),control:c.createElement(_.A,{checked:r.showScaleLine,name:"showScaleLine",onChange:r.onCheckboxToggled})})),c.createElement(D.A,null,c.createElement(G.A,null,t("settings.display.flatEarthCoordinateSystem")),c.createElement(Se,{origin:r.origin,originLabel:t("settings.display.mapOrigin"),orientation:r.orientation,type:r.coordinateSystemType,onOrientationChanged:r.onOrientationChanged,onOriginChanged:r.onOriginChanged,onTypeChanged:r.onCoordinateSystemTypeChanged})),c.createElement(D.A,null,c.createElement(G.A,null,t("settings.display.operationModes")),c.createElement(R.A,{label:t("settings.display.optimizeForSingleUAV"),control:c.createElement(_.A,{checked:r.optimizeForSingleUAV,disabled:o.A.optimizeForSingleUAV.force,name:"optimizeForSingleUAV",onChange:r.onCheckboxToggled})}),c.createElement(R.A,{label:t("settings.display.optimizeUIForTouch"),control:c.createElement(_.A,{checked:r.optimizeUIForTouch,disabled:o.A.optimizeUIForTouch.force,name:"optimizeUIForTouch",onChange:r.onCheckboxToggled})})),c.createElement(D.A,null,c.createElement(G.A,null,t("settings.display.miscellaneous")),c.createElement(R.A,{label:t("settings.display.hideInactiveSegmentsOnDarkLCD"),control:c.createElement(_.A,{checked:r.hideInactiveSegmentsOnDarkLCD,name:"hideInactiveSegmentsOnDarkLCD",onChange:r.onCheckboxToggled})}),c.createElement(R.A,{label:t("settings.display.enableExperimentalFeatures"),control:c.createElement(_.A,{checked:r.experimentalFeaturesEnabled,name:"experimentalFeaturesEnabled",onChange:r.onCheckboxToggled})}))))};Ne.propTypes={coordinateFormat:i().oneOf(_e),coordinateSystemType:i().oneOf(["neu","nwu"]),experimentalFeaturesEnabled:i().bool,language:i().string,origin:i().arrayOf(i().number),onCheckboxToggled:i().func,onCoordinateSystemTypeChanged:i().func,onFieldChanged:i().func,onOriginChanged:i().func,onOrientationChanged:i().func,optimizeForSingleUAV:i().bool,optimizeUIForTouch:i().bool,orientation:i().number,hideInactiveSegmentsOnDarkLCD:i().bool,showMouseCoordinates:i().bool,showScaleLine:i().bool,t:i().func,theme:i().oneOf(["auto","dark","light"])},Ne.defaultProps={language:"en"};const Re=(0,s.Ng)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(r),!0).forEach((function(t){Pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({coordinateSystemType:e.map.origin.type,origin:e.map.origin.position,orientation:(0,ke.mB)(e)},e.settings.display)}),(function(e){return{onCheckboxToggled:function(t){e((0,I.uV)("display",Pe({},t.target.name,t.target.checked)))},onCoordinateSystemTypeChanged:function(t){e((0,Oe.Pg)(t.target.value))},onFieldChanged:function(t){e((0,I.uV)("display",Pe({},t.target.name,t.target.value)))},onOriginChanged:function(t){e((0,Oe.dK)(t))},onOrientationChanged:function(t){e((0,Oe.Zv)(t||0))}}}))((0,m.CI)()(Ne));r(42762);var De=r(43247),Me=r(35476);function Fe(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Ue(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ue(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r(48598);var Ge=r(97859),Ve=r(1081);function Be(e){return Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Be(e)}function He(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?He(Object(r),!0).forEach((function(t){ze(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):He(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ze(e,t,r){var n;return n=function(e,t){if("object"!=Be(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Be(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Be(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ye(e){return function(e){if(Array.isArray(e))return qe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ke(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ke(e,t){if(e){if("string"==typeof e)return qe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qe(e,t):void 0}}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var $e=(0,Ve.createSelector)((function(e){return e.preflight.groups}),De.Im),Ze=(0,Ve.createSelector)((function(e){return e.preflight.items}),De.Im),Xe=(0,Ve.createSelector)($e,Ze,(function(e,t){var r,n=t.filter((function(e){return(0,Ge.default)(e.groupId)})),o=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Ke(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}(e);try{var a=function(){var e=r.value,o=t.filter((function(t){return t.groupId===e.id}));o.length>0&&n.push.apply(n,[We({type:"header"},e)].concat(Ye(o)))};for(o.s();!(r=o.n()).done;)a()}catch(e){o.e(e)}finally{o.f()}return n})),Je=function(e){return e.preflight.checked},Qe=(0,Ve.createSelector)(Ze,(function(e){return e.preflight.checked}),(function(e,t){return e.length===t.length})),et=(0,Ve.createSelector)(Xe,(function(e){return e.map((function(e){var t=(e.label||"").trim();return"header"===e.type?"\n".concat(t,":"):t?"- ".concat(t):t})).join("\n").trim()})),tt=function(e){return e.preflight.items.order.length>0},rt=function(e){var t=e.items,r=e.onSubmit;return c.createElement(A.lV,{initialValues:{items:t},onSubmit:r},(function(e){var t=e.dirty,r=e.form,n=e.handleSubmit;return c.createElement(S.A,{pt:1,pb:2},c.createElement(O.A,null,"Enter your preferred manual preflight check items, one per line."),c.createElement(S.A,{py:1},c.createElement(E.A_,{fullWidth:!0,multiline:!0,name:"items",label:"Manual preflight check items",minRows:10,variant:"filled",helperText:"Lines ending with a colon (:) become headings."})),c.createElement(T,{label:"Preflight check items",dirty:t,form:r,onSubmit:n}))}))};rt.propTypes={items:i().string,onSubmit:i().func};const nt=(0,s.Ng)((function(e){return{items:et(e)}}),{onSubmit:function(e){var t,r=e.items;return t=r,function(e){var r=[],n=[],o="General",a="group0",i=!0;function c(){i||(r.push({label:o,id:a}),i=!0,a="group".concat(r.length))}var l,u=Fe((t||"").split("\n"));try{for(u.s();!(l=u.n()).done;){var s=l.value;if(0!==(s=s.trim()).length)if(":"===s.charAt(s.length-1))c(),o=s.slice(0,-1).trim();else{for(;"-"===s.charAt(0)||" "===s.charAt(0);)s=s.slice(1);s.length>0&&(n.push({label:s,id:"item".concat(n.length),groupId:a}),i=!1)}}}catch(e){u.e(e)}finally{u.f()}c(),r=(0,De.q9)(r),n=(0,De.q9)(n),e((0,Me.Uq)({groups:r,items:n}))}}})(rt);var ot=r(82911),at=r(18381),it=r(92136),ct=r(73486),lt=r(50384),ut=r(61466),st=r(77430),ft=r(64794),pt=r(73806),dt=r(23139);var yt=[],mt=function(e){var t=e.settings.localServer.searchPath;return Array.isArray(t)?t:yt},ht=function(e){return e.localServer.pathScan.result},vt=(0,Ve.createSelector)(ht,(function(e){return"string"==typeof e&&e.length>0})),gt=(0,Ve.createSelector)((function(e){return e.dialogs.serverSettings}),(function(e){return e.settings.localServer}),vt,(function(e,t,r){return window.bridge&&window.bridge.localServer&&t.enabled&&("localhost"===(n=e.hostName)||(0,dt.isLoopback)(n))&&e.active&&r;var n})),bt=(r(52811),r(83182)),wt=r(64843),Et=r(586),At=r(59275),St=r(82096),Ot=r(98100),xt=r(31334),jt=r(4181);function kt(){return kt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kt.apply(this,arguments)}var Tt=(0,St.A)((function(e){return{root:{backgroundColor:(0,jt.isThemeDark)(e)?e.palette.grey.A400:e.palette.grey[200],paddingTop:6}}}),{name:"DialogHeaderListItem"}),It=Object.freeze({success:c.createElement(ut.A,{style:{color:wt.A[500],margin:"0 0 0 19px"}},c.createElement(Ot.default,null)),warning:c.createElement(ut.A,{style:{color:Et.A[700],margin:"0 0 0 19px"}},c.createElement(xt.A,null)),inProgress:c.createElement(ut.A,{style:{margin:"0 0 0 19px"}},c.createElement(bt.A,{variant:"indeterminate",color:"secondary",size:32})),error:c.createElement(ut.A,{style:{color:At.A[500],margin:"0 0 0 19px"}},c.createElement(Y.default,null))});const Ct=function(e){var t=Tt();return c.createElement(lt.A,kt({divider:!0,className:t.root},e))};var Pt=r(37748);function Lt(e){return Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lt(e)}function _t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Nt(e,t,r){var n;return n=function(e,t){if("object"!=Lt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Lt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Lt(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Rt=function(e){var t=e.error,r=e.notFoundMessage,n=e.onRequestReload,o=e.result,a=e.scanning,i=e.scanningMessage,l=e.successMessage;return c.createElement(Ct,{button:!0,onClick:n},a?It.inProgress:t?It.error:o?It.success:It.warning,c.createElement(st.A,{primary:t||(o?l:a?i:r),secondary:a?"Looking for server":o||"Click to scan again"}))};Rt.propTypes={error:i().string,notFoundMessage:i().string,onRequestReload:i().func,result:i().string,scanning:i().bool,scanningMessage:i().string,successMessage:i().string},Rt.defaultProps={notFoundMessage:"Server executable not found.",scanningMessage:"Please wait\u2026",successMessage:"Server executable found successfully."};const Dt=(0,s.Ng)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(r),!0).forEach((function(t){Nt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.localServer.pathScan)}),{onRequestReload:Pt.Rk})(Rt);var Mt,Ft;function Ut(e){return Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ut(e)}function Gt(){Gt=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==Ut(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(Ut(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function Vt(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Bt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ht(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(r),!0).forEach((function(t){Wt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Wt(e,t,r){var n;return n=function(e,t){if("object"!=Ut(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ut(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ut(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var zt=function(e){var t=e.cliArguments,r=e.enabled,n=e.onDisable,o=e.onEnable,a=e.onSearchPathChanged,i=e.onSelectSearchPath,l=e.onTextFieldChanged,u=e.searchPath;return c.createElement("div",{style:{position:"relative",top:-8}},c.createElement(ct.A,{dense:!0,disablePadding:!0,style:{margin:"0 -24px"}},c.createElement(Dt,null),c.createElement(lt.A,{button:!0,disableRipple:!0,onClick:r?n:o},c.createElement(ut.A,{style:{margin:"0 17px 0 2px"}},c.createElement(ft.A,{checked:r})),c.createElement(st.A,{primary:"Launch local server automatically",secondary:"Only if the application is connecting to localhost"}))),c.createElement(D.A,null,c.createElement(S.A,{mt:1},c.createElement(z.A,{fullWidth:!0,id:"cliArguments",label:"Command line arguments",value:t,variant:"filled",helperText:"These arguments will be supplied to the local server upon startup.",onChange:l})),c.createElement(S.A,{mt:1,display:"flex",flexDirection:"row",alignItems:"baseline"},c.createElement(z.A,{fullWidth:!0,multiline:!0,id:"searchPath",label:"Search path",value:u,variant:"filled",helperText:"Enter directories to search for the Skybrush server executable, one per line.",onChange:a}),i&&c.createElement(pt.default,{content:"Select folder containing server executable"},c.createElement(W.A,{onClick:i},c.createElement(it.A,null))))))};zt.propTypes={cliArguments:i().string,enabled:i().bool,onDisable:i().func,onEnable:i().func,onSearchPathChanged:i().func,onSelectSearchPath:i().func,onTextFieldChanged:i().func,searchPath:i().string};const Yt=(0,s.Ng)((function(e){return Ht(Ht({},e.settings.localServer),{},{searchPath:mt(e).join("\n")})}),{onCheckboxToggled:function(e){return(0,I.uV)("localServer",Wt({},e.target.name,e.target.checked))},onDisable:function(){return(0,I.uV)("localServer",{enabled:!1})},onEnable:function(){return(0,I.uV)("localServer",{enabled:!0})},onSearchPathChanged:function(e){var t=e.target.value.split("\n").map((function(e){return(0,at.A)(e)})),r=t.indexOf("");return(0,ot.A)(t,(function(e,t){return!e&&t>r})),(0,I.uV)("localServer",{searchPath:t})},onSelectSearchPath:null!==(Mt=window.bridge)&&void 0!==Mt&&Mt.isElectron&&null!==(Ft=window.bridge)&&void 0!==Ft&&null!==(Ft=Ft.localServer)&&void 0!==Ft&&Ft.selectPath?function(){return function(){var e,t=(e=Gt().mark((function e(t,r){var n,o,a;return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=mt(r()),o=Array.isArray(n)&&n.length>0?n[0]:null,e.next=4,window.bridge.localServer.selectPath(o);case 4:"string"==typeof(a=e.sent)&&a.length>0&&t((0,I.uV)("localServer",{searchPath:[a]}));case 6:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Vt(a,n,o,i,c,"next",e)}function c(e){Vt(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e,r){return t.apply(this,arguments)}}()}:null,onTextFieldChanged:function(e){return(0,I.uV)("localServer",Wt({},e.target.id,e.target.value))}})(zt);var Kt=r(47530);function qt(e){return qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qt(e)}function $t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(r),!0).forEach((function(t){Xt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xt(e,t,r){var n;return n=function(e,t){if("object"!=qt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=qt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==qt(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Jt=[{id:"auto",label:(0,xe.tt)("settings.threeDView.auto")},{id:"outdoor",label:(0,xe.tt)("settings.threeDView.outdoor")},{id:"indoor",label:(0,xe.tt)("settings.threeDView.indoor")}],Qt=[{id:"light",label:(0,xe.tt)("settings.threeDView.light")},{id:"dark",label:(0,xe.tt)("settings.threeDView.dark")}],er=[{id:"none",label:(0,xe.tt)("settings.threeDView.none")},{id:"1x1",label:(0,xe.tt)("settings.threeDView.1x1")},{id:"2x2",label:(0,xe.tt)("settings.threeDView.2x2")}],tr=function(e){return c.createElement(m.wD,null,(function(t){return c.createElement(S.A,{mb:2},c.createElement(D.A,null,c.createElement(G.A,null,t("settings.threeDView.environment")),c.createElement(S.A,{display:"flex"},c.createElement(N.A,{fullWidth:!0,variant:"filled"},c.createElement(M.A,{id:"threed-scenery-label"},t("settings.threeDView.scenery")),c.createElement(U.A,{labelId:"threed-scenery-label",name:"scenery",value:e.scenery,onChange:e.onFieldChanged},Jt.map((function(e){return c.createElement(F.A,{key:e.id,value:e.id},e.label(t))})))),c.createElement(S.A,{px:1}),c.createElement(N.A,{fullWidth:!0,variant:"filled"},c.createElement(M.A,{id:"threed-lighting-label"},t("settings.threeDView.lighting")),c.createElement(U.A,{labelId:"threed-lighting-label",name:"lighting",value:e.lighting,onChange:e.onFieldChanged},Qt.map((function(e){return c.createElement(F.A,{key:e.id,value:e.id},e.label(t))})))),c.createElement(S.A,{px:1}),c.createElement(N.A,{fullWidth:!0,variant:"filled"},c.createElement(M.A,{id:"threed-grid-label"},t("settings.threeDView.grid")),c.createElement(U.A,{labelId:"threed-grid-label",name:"grid",value:e.grid,onChange:e.onFieldChanged},er.map((function(e){return c.createElement(F.A,{key:e.id,value:e.id},e.label(t))}))))),c.createElement(R.A,{label:t("settings.threeDView.showAxes"),control:c.createElement(_.A,{checked:e.showAxes,name:"showAxes",onChange:e.onCheckboxToggled})}),c.createElement(R.A,{label:t("settings.threeDView.showHomePositions"),control:c.createElement(_.A,{checked:e.showHomePositions,name:"showHomePositions",onChange:e.onCheckboxToggled})}),c.createElement(R.A,{label:t("settings.threeDView.showLandingPositions"),control:c.createElement(_.A,{checked:e.showLandingPositions,name:"showLandingPositions",onChange:e.onCheckboxToggled})}),c.createElement(R.A,{label:t("settings.threeDView.showTrajectoriesOfSelection"),control:c.createElement(_.A,{checked:e.showTrajectoriesOfSelection,name:"showTrajectoriesOfSelection",onChange:e.onCheckboxToggled})})),c.createElement(D.A,null,c.createElement(G.A,null,t("settings.threeDView.rendering")),c.createElement(R.A,{label:t("settings.threeDView.showStatistics"),control:c.createElement(_.A,{checked:e.showStatistics,name:"showStatistics",onChange:e.onCheckboxToggled})})))}))};tr.propTypes={grid:i().string,lighting:i().string,onCheckboxToggled:i().func,onFieldChanged:i().func,scenery:i().string,showAxes:i().bool,showHomePositions:i().bool,showLandingPositions:i().bool,showTrajectoriesOfSelection:i().bool,showStatistics:i().bool};const rr=(0,s.Ng)((function(e){return Zt(Zt({},e.settings.threeD),{},{scenery:(0,Kt.Wb)(e),lighting:(0,Kt.bV)(e)})}),(function(e){return{onCheckboxToggled:function(t){e((0,I.uV)("threeD",Xt({},t.target.name,t.target.checked)))},onFieldChanged:function(t){e((0,I.uV)("threeD",Xt({},t.target.name,t.target.value)))}}}))(tr);r(25428),r(25843);var nr=r(26232),or=r(24840);function ar(e){return ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ar(e)}function ir(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(r),!0).forEach((function(t){lr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ir(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lr(e,t,r){var n;return n=function(e,t){if("object"!=ar(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ar(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ar(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ur=[je.Ji.VOLTAGE,je.Ji.PERCENTAGE,je.Ji.FORCED_PERCENTAGE],sr=[je.eB.NEVER,je.eB.ONLY_MULTIPLE,je.eB.ALWAYS],fr=function(e){var t=e.autoRemove,r=e.criticalVoltageThreshold,n=e.defaultBatteryCellCount,o=e.forgetThreshold,a=e.fullChargeVoltage,i=e.goneThreshold,l=e.lowVoltageThreshold,u=e.onCheckboxToggled,s=e.onDistanceFieldUpdated,f=e.onEnumFieldUpdated,p=e.onIntegerFieldUpdated,d=e.onVoltageFieldUpdated,y=e.placementAccuracy,m=e.preferredBatteryDisplayStyle,h=e.t,v=e.takeoffHeadingAccuracy,g=e.uavOperationConfirmationStyle,b=e.warnThreshold,w=(0,nr.A)();return c.createElement(c.Fragment,null,c.createElement(D.A,{style:{marginBottom:w.spacing(2)}},c.createElement(N.A,{style:{alignItems:"center",flexDirection:"row"}},c.createElement(R.A,{label:h("settings.uavs.warn"),control:c.createElement(_.A,{checked:!0,style:{visibility:"hidden"}})}),c.createElement(or.lg,{name:"warnThreshold",min:1,max:3600,value:b,variant:"standard",onChange:p})),c.createElement(N.A,{style:{alignItems:"center",flexDirection:"row"}},c.createElement(R.A,{label:h("settings.uavs.gone"),control:c.createElement(_.A,{checked:!0,style:{visibility:"hidden"}})}),c.createElement(or.lg,{name:"goneThreshold",min:1,max:3600,value:i,variant:"standard",onChange:p})),c.createElement(N.A,{style:{alignItems:"center",flexDirection:"row"}},c.createElement(R.A,{label:h("settings.uavs.forget"),control:c.createElement(_.A,{checked:Boolean(t),name:"autoRemove",onChange:u})}),c.createElement(or.lg,{name:"forgetThreshold",min:1,max:3600,value:o,disabled:!t,variant:"standard",onChange:p}))),c.createElement(S.A,{display:"flex",flexDirection:"row",mb:1},c.createElement(N.A,{fullWidth:!0,variant:"filled"},c.createElement(M.A,{id:"uav-operation-confirmation-style"},"UAV operation confirmations"),c.createElement(U.A,{labelId:"uav-operation-confirmation-style",name:"uavOperationConfirmationStyle",value:g||je.eB.NEVER,onChange:f},sr.map((function(e){return c.createElement(F.A,{key:e,value:e},(0,je.Ri)(e))}))))),c.createElement(S.A,{my:2},c.createElement(G.A,null,h("settings.uavs.defaultBatterySettings")),c.createElement(S.A,{display:"flex",flexDirection:"row",mb:1},c.createElement(or.mP,{fullWidth:!0,label:h("settings.uavs.cellCount"),name:"defaultBatteryCellCount",min:1,max:24,step:1,value:n,onChange:p}),c.createElement(S.A,{width:w.spacing(2)}),c.createElement(or.rl,{fullWidth:!0,name:"fullChargeVoltage",label:h("settings.uavs.fullCharge"),min:.1,max:20,step:.1,value:a,onChange:d}),c.createElement(S.A,{width:w.spacing(2)}),c.createElement(or.rl,{fullWidth:!0,name:"lowVoltageThreshold",label:h("settings.uavs.lowTreshold"),min:.1,max:20,step:.1,value:l,onChange:d}),c.createElement(S.A,{width:w.spacing(2)}),c.createElement(or.rl,{fullWidth:!0,name:"criticalVoltageThreshold",label:h("settings.uavs.criticalTreshold"),min:.1,max:20,step:.1,value:r,onChange:d})),c.createElement(S.A,{display:"flex",flexDirection:"row",mb:1},c.createElement(N.A,{fullWidth:!0,variant:"filled"},c.createElement(M.A,{id:"uav-battery-display-style"},h("settings.uavs.batteryDisplayStyle")),c.createElement(U.A,{labelId:"uav-battery-display-style",name:"preferredBatteryDisplayStyle",value:m,onChange:f},ur.map((function(e){return c.createElement(F.A,{key:e,value:e},(0,je.Gl)(e))})))))),c.createElement(S.A,{my:2},c.createElement(G.A,null,h("settings.uavs.missionSetup")),c.createElement(S.A,{display:"flex",flexDirection:"row",mb:1},c.createElement(or.C4,{fullWidth:!0,name:"placementAccuracy",label:h("settings.uavs.desiredPlacementAccuracy"),min:.5,max:20,step:.5,value:y,onChange:s}),c.createElement(S.A,{width:w.spacing(2)}),c.createElement(or.Q6,{fullWidth:!0,name:"takeoffHeadingAccuracy",label:h("settings.uavs.desiredHeadingAccuracy"),min:1,max:45,step:1,value:v,onChange:p})),c.createElement(O.A,{variant:"body2",color:"textSecondary"},h("settings.uavs.missionSetupDescription"))))};fr.propTypes={autoRemove:i().bool,criticalVoltageThreshold:i().number,defaultBatteryCellCount:i().number,forgetThreshold:i().number,fullChargeVoltage:i().number,goneThreshold:i().number,lowVoltageThreshold:i().number,onCheckboxToggled:i().func,onDistanceFieldUpdated:i().func,onEnumFieldUpdated:i().func,onIntegerFieldUpdated:i().func,onVoltageFieldUpdated:i().func,placementAccuracy:i().number,preferredBatteryDisplayStyle:i().oneOf(ur),t:i().func,takeoffHeadingAccuracy:i().number,uavOperationConfirmationStyle:i().oneOf(sr),warnThreshold:i().number},fr.defaultProps={preferredBatteryDisplayStyle:je.Ji.VOLTAGE};const pr=(0,s.Ng)((function(e){return cr(cr({},e.settings.uavs),{},{placementAccuracy:(0,Kt.QA)(e),takeoffHeadingAccuracy:(0,Kt.gb)(e)})}),(function(e){return{onCheckboxToggled:function(t){e((0,I.uV)("uavs",lr({},t.target.name,t.target.checked)))},onDistanceFieldUpdated:function(t){var r=Math.round(1e3*Number.parseFloat(t.target.value));r>0&&e((0,I.uV)("uavs",lr({},t.target.name,r)))},onEnumFieldUpdated:function(t){e((0,I.uV)("uavs",lr({},t.target.name,t.target.value)))},onIntegerFieldUpdated:function(t){var r=Number.parseInt(t.target.value,10);r>0&&e((0,I.uV)("uavs",lr({},t.target.name,r)))},onVoltageFieldUpdated:function(t){var r=Number.parseFloat(t.target.value);r>0&&Number.isFinite(r)&&e((0,w.rZ)(t.target.name,r))}}}))((0,m.CI)()(fr));var dr={apiKeys:c.createElement(L,null),display:c.createElement(Re,null),preflight:c.createElement(nt,null),server:c.createElement(Yt,null),threeD:c.createElement(rr,null),uavs:c.createElement(pr,null)},yr=function(e){var t=e.onClose,r=e.onTabSelected,n=e.open,o=e.selectedTab,a=e.t;return c.createElement(h.A,{fullWidth:!0,open:n,maxWidth:"sm",onClose:t},c.createElement(b.A,{alignment:"center",value:o,onChange:r},c.createElement(g.A,{value:"display",label:a("settings.tabs.display")}),c.createElement(g.A,{value:"threeD",label:a("settings.tabs.threeDView")}),c.createElement(g.A,{value:"uavs",label:a("settings.tabs.uavs")}),c.createElement(g.A,{value:"preflight",label:a("settings.tabs.preflight")}),window.bridge&&window.bridge.isElectron?c.createElement(g.A,{value:"server",label:a("settings.tabs.server")}):null,c.createElement(g.A,{value:"apiKeys",label:a("settings.tabs.apiKeys")})),c.createElement(v.A,{style:{minHeight:200}},dr[o]))};yr.propTypes={onClose:i().func,onTabSelected:i().func,open:i().bool,selectedTab:i().string,t:i().func},yr.defaultProps={open:!1,selectedTab:"auto"};var mr=(0,s.Ng)((function(e){return e.dialogs.appSettings}),(function(e){return{onClose:function(){e((0,w.Lm)())},onTabSelected:function(t,r){e((0,w.sO)(r))}}}))((0,m.CI)()(yr));const hr=mr;r(16034);var vr=r(65816),gr=r(85448),br=r(85949),wr=r(53855),Er=r(49116),Ar=r(95652),Sr=r(23832),Or=r(16160),xr=r(72819),jr=r(23809),kr=r(2431),Tr=r(54371),Ir=function(e){var t=e.clearGeofencePolygonId,r=e.feature,n=e.isGeofence,o=e.onSetFeatureAttributes;return r.type===kr.lo.POLYGON?n?c.createElement(Sr.A,{icon:c.createElement(Or.A,null),header:"This feature is the current geofence",text:"It cannot be used as an exclusion zone at the same time",button:c.createElement(x.A,{onClick:t},"Clear")}):c.createElement(A.lV,{initialValues:r.attributes,validate:(0,Tr.fH)({minAltitude:(0,Tr.lq)(Tr.yj),maxAltitude:(0,Tr.lq)(Tr.yj)}),onSubmit:function(e){var t=e.isExclusionZone,r=e.minAltitude,n=e.maxAltitude;o({isExclusionZone:t,minAltitude:Number(r)||void 0,maxAltitude:Number(n)||void 0})}},(function(e){var t=e.form,r=e.values;return c.createElement("div",null,c.createElement(E.q_,{name:"isExclusionZone",data:{label:"Exclusion zone"}}),c.createElement(Ar.A,{style:{marginTop:-8,marginBottom:8}},"Treat this polygon as an obstacle marker that should be excluded from the mission zone during planning and avoided while flying."),c.createElement(E.A_,{name:"minAltitude",label:"Min AGL altitude",disabled:!r.isExclusionZone,InputProps:{endAdornment:c.createElement(H.A,{position:"end"},"m"),inputProps:{inputMode:"numeric"}}}),c.createElement(Ar.A,{style:{marginBottom:8}},"Distance of the top of the obstacle measured from the ground. UAVs should fly above this altitude limit to avoid collision."),c.createElement(E.A_,{name:"maxAltitude",label:"Max AGL altitude",disabled:!r.isExclusionZone,InputProps:{endAdornment:c.createElement(H.A,{position:"end"},"m"),inputProps:{inputMode:"numeric"}}}),c.createElement(Ar.A,{style:{marginBottom:8}},"Distance of the bottom of the obstacle measured from the ground. UAVs should fly below this altitude limit to avoid collision."),c.createElement(A.Pc,{subscription:{values:!0},onChange:function(){return t.submit()}}))})):c.createElement(Sr.A,{text:"This feature type doesn't support attributes."})};Ir.propTypes={clearGeofencePolygonId:i().func,feature:i().object.isRequired,isGeofence:i().bool,onSetFeatureAttributes:i().func};const Cr=(0,s.Ng)((function(e,t){var r=t.featureId;return{isGeofence:(0,xr.Md)(e)===r}}),(function(e,t){var r=t.featureId;return{clearGeofencePolygonId:function(){return e((0,jr.Xg)())},onSetFeatureAttributes:function(t){e((0,wr.Te)({id:r,attributes:t}))}}}))(Ir);var Pr=function(e){return function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),c.createElement("div",null,"Not implemented yet")};Pr.propTypes={feature:i().object.isRequired,featureId:i().string.isRequired};const Lr=(0,s.Ng)(null,{})(Pr);var _r=r(95126);const Nr=(0,_r.A)(c.createElement("path",{d:"M 5 3 C 3.8900044 3 3 3.9000044 3 5 L 3 19 C 3 20.099996 3.8900044 21 5 21 L 19 21 C 20.109996 21 21 20.099996 21 19 L 21 5 C 21 3.9000044 20.109996 3 19 3 L 5 3 z M 10.734375 6.2988281 L 13.265625 6.2988281 L 17.320312 17.701172 L 14.916016 17.701172 L 14.025391 15.167969 L 9.9746094 15.167969 L 9.0839844 17.701172 L 6.6796875 17.701172 L 10.734375 6.2988281 z M 12 8.8320312 L 10.542969 13.457031 L 13.457031 13.457031 L 12 8.8320312 z"}),"AutoCheckBox");var Rr=r(25565),Dr=r(37173),Mr=r(40122),Fr=r(13297),Ur=function(e){var t,r,n,o,a,i=e.feature,l=e.onSetFeatureColor,u=e.onSetFeatureLabel,s=e.onToggleFeatureFillVisible,f=e.onToggleFeatureMeasurementVisible,p=e.onToggleFeaturePointsVisible,d=e.onToggleFeatureVisibility,y=e.optimizeUIForTouch,m=e.shouldFill,h=e.shouldShowPoints,v=e.suggestedColor;return c.createElement("div",null,c.createElement(S.A,{display:"flex",alignItems:"center",py:"1em"},c.createElement(S.A,{flex:"auto"},c.createElement(z.A,{fullWidth:!0,autoFocus:!y,label:"Label",variant:"filled",value:i.label||"",onChange:u})),c.createElement(ft.A,{checked:i.visible,color:"primary",onChange:d})),c.createElement(S.A,{display:"flex"},c.createElement(Mr.A,{styles:{default:{picker:{flexShrink:0}}},color:null!==(t=i.color)&&void 0!==t?t:v,onChangeComplete:l}),c.createElement(x.A,{disabled:void 0===i.color,onClick:function(){return l()}},c.createElement("div",null,c.createElement(Nr,{fontSize:"large"}),"Automatic color"))),c.createElement("div",null,(0,kr.h$)(i.type)&&c.createElement(R.A,{control:c.createElement(_.A,{checked:null!==(r=i.filled)&&void 0!==r?r:m,indeterminate:void 0===i.filled,indeterminateIcon:c.createElement(Nr,null),color:"primary",onChange:s}),label:"Fill interior"}),(0,kr.uw)(i.type)&&c.createElement(R.A,{control:c.createElement(_.A,{checked:null!==(n=i.showPoints)&&void 0!==n?n:h,indeterminate:void 0===i.showPoints,indeterminateIcon:c.createElement(Nr,null),color:"primary",onChange:p}),label:"Show individual points"}),(0,kr.WM)(i.type)&&c.createElement(R.A,{control:c.createElement(_.A,{checked:null!==(o=i.measure)&&void 0!==o&&o,indeterminate:void 0===i.measure,indeterminateIcon:c.createElement(Nr,null),color:"primary",onChange:f}),label:"Show measurements"})),(a={fontSize:"inherit",style:{verticalAlign:"text-top"}},c.createElement(Ar.A,{style:{marginTop:-8}},"Click to cycle between automatic (",c.createElement(Nr,a),"), enabled (",c.createElement(Rr.A,a),") and disabled (",c.createElement(Dr.A,a),") states.")))};Ur.propTypes={feature:i().object.isRequired,onSetFeatureColor:i().func,onSetFeatureLabel:i().func,onToggleFeatureFillVisible:i().func,onToggleFeatureMeasurementVisible:i().func,onToggleFeaturePointsVisible:i().func,onToggleFeatureVisibility:i().func,optimizeUIForTouch:i().bool,shouldFill:i().bool,shouldShowPoints:i().bool,suggestedColor:i().string};const Gr=(0,s.Ng)((function(e,t){var r=t.featureId;return{optimizeUIForTouch:(0,Kt.jz)(e),shouldFill:(0,Fr.Vl)(e,r),shouldShowPoints:(0,Fr.zj)(e,r),suggestedColor:(0,Fr.MJ)(e,r)}}),(function(e,t){var r=t.featureId;return{onSetFeatureColor:function(t){e((0,wr.ci)({id:r,color:null==t?void 0:t.hex}))},onSetFeatureLabel:function(t){e((0,wr.tl)({id:r,name:t.target.value}))},onToggleFeatureFillVisible:function(){e((0,wr.Ig)({id:r}))},onToggleFeatureMeasurementVisible:function(){e((0,wr.Jh)({id:r}))},onToggleFeaturePointsVisible:function(){e((0,wr.ai)({id:r}))},onToggleFeatureVisibility:function(t,n){e((0,wr.Ui)({id:r,visible:n}))}}}))(Ur);function Vr(e){return Vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vr(e)}function Br(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Hr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Br(Object(r),!0).forEach((function(t){Wr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Br(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Wr(e,t,r){var n;return n=function(e,t){if("object"!=Vr(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Vr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Vr(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var zr=function(e){var t=e.feature,r=e.featureId,n=e.onClose,o=e.onRemoveFeature,a=e.onTabSelected,i=e.open,l=e.selectedTab,u=Wr(Wr(Wr({},Er.bA.GENERAL,Gr),Er.bA.ATTRIBUTES,Cr),Er.bA.POINTS,Lr)[l],s=t?u&&c.createElement(u,{feature:t,featureId:r}):c.createElement("p",null,"Feature does not exist"),f=[c.createElement(x.A,{key:"remove",color:"secondary",disabled:!t,onClick:o},"Remove"),c.createElement(x.A,{key:"close",onClick:n},"Close")];return c.createElement(h.A,{fullWidth:!0,open:i,maxWidth:"sm",onClose:n},c.createElement(b.A,{value:l,onChange:a},Er.sV.map((function(e){return c.createElement(g.A,{key:e,value:e,label:Er.Ui[e]})}))),c.createElement(v.A,{style:{height:325}},s),c.createElement(vr.A,null,f))};zr.propTypes={feature:i().object,featureId:i().string,onClose:i().func,onRemoveFeature:i().func,onTabSelected:i().func,open:i().bool.isRequired,selectedTab:i().oneOf(Object.values(Er.bA))},zr.defaultProps={selectedTab:Er.bA.GENERAL};var Yr=(0,s.Ng)((function(e){var t=(0,br.bR)(e);return{featureId:t,selectedTab:(0,br.lg)(e),feature:(0,br.je)(e,t),open:(0,br.I_)(e)}}),(function(e){return{onClose:function(){e((0,gr.u3)())},onRemoveFeature:function(t){e((0,wr.Hk)([t])),e((0,gr.u3)())},onTabSelected:function(t,r){e((0,gr.zB)(r))}}}),(function(e,t){return Hr(Hr(Hr({},e),t),{},{onRemoveFeature:function(){return t.onRemoveFeature(e.featureId)}})}))(zr);const Kr=Yr;var qr=r(44962),$r=r(13293),Zr=r(72030),Xr=r(88276),Jr=(r(54554),r(58619)),Qr=r(30679),en=r(15526),tn=r(14440);function rn(e){return rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rn(e)}function nn(){nn=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==rn(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(rn(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function on(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function an(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){on(a,n,o,i,c,"next",e)}function c(e){on(a,n,o,i,c,"throw",e)}i(void 0)}))}}function cn(e){return ln.apply(this,arguments)}function ln(){return ln=an(nn().mark((function e(t){var r,n,o,a,i,c,l,u,s,f,p,d,y,m,h,v,g,b,w,E,A,S,O,x,j=arguments;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(j.length>1&&void 0!==j[1]?j[1]:{}).method,"threshold"!==(n=void 0===r?"single":r)){e.next=17;break}return i=5,c=function(){return cn(t,{method:"single"})},e.next=7,c();case 7:o=e.sent;case 8:if(!(i>0&&o.roundTripTime>tn.f)){e.next=16;break}return i--,e.next=12,c();case 12:(a=e.sent).roundTripTime<o.roundTripTime&&(o=a),e.next=8;break;case 16:return e.abrupt("return",o);case 17:if("accurate"!==n){e.next=47;break}l=10,u=[],s=function(){return cn(t,{method:"single"})};case 21:if(!(l>0)){e.next=40;break}return f=performance.now(),l--,e.prev=24,e.next=27,s();case 27:!(p=e.sent)||(0,Ge.default)(p.clockSkew)||(0,Ge.default)(p.roundTripTime)||u.push(p),e.next=33;break;case 31:e.prev=31,e.t0=e.catch(24);case 33:if(d=performance.now()-f,y=Math.max(500-d,0),!(l>0&&y>0)){e.next=38;break}return e.next=38,(0,Jr.Ay)(y);case 38:e.next=21;break;case 40:if(0!==(m=(0,Qr.A)(u,"roundTripTime")).length){e.next=43;break}throw new Error("Failed to calculate clock skew and round-trip time");case 43:return m.length>5?m.splice(-2,2):m.length>3&&m.splice(-1,1),h=(0,en.A)(m,"roundTripTime")/m.length,v=(0,en.A)(m.slice(0,3),"clockSkew")/Math.min(m.length,3),e.abrupt("return",{roundTripTime:h,clockSkew:v});case 47:return g=performance.now(),e.next=50,t.sendMessage("SYS-TIME");case 50:return b=e.sent,w=performance.now(),E=Date.now(),A=w-g,S=b.body.timestamp&&"number"==typeof b.body.timestamp?b.body.timestamp:null,O=(0,Ge.default)(S)?null:S+A/2,x=(0,Ge.default)(O)?null:O-E,e.abrupt("return",{clockSkew:x,roundTripTime:A});case 58:case"end":return e.stop()}}),e,null,[[24,31]])}))),ln.apply(this,arguments)}function un(){return(un=an(nn().mark((function e(t,r){var n,o;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.sendMessage({type:"SYS-TIME",adjustment:-r});case 3:n=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n=void 0;case 9:if((o=(n||{}).body)&&"SYS-TIME"===o.type){e.next=12;break}throw new Error(o&&"ACK-NAK"===o.type&&n.reason?"Failed to adjust server time: ".concat(n.reason):"Failed to adjust server time");case 12:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}var sn=r(68528),fn=r(7882),pn=r(67163),dn=r(23715),yn=r(93213);function mn(e){return mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mn(e)}function hn(){hn=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==mn(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(mn(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function vn(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}var gn=dn.o1.closeServerSettingsDialog,bn=dn.o1.disconnectFromServer,wn=dn.o1.setServerSettingsDialogTab,En=dn.o1.showServerSettingsDialog,An=dn.o1.updateServerSettings,Sn=fn.o.closeAuthenticationDialog,On=fn.o.showAuthenticationDialog,xn=pn.o.closeDeauthenticationDialog,jn=pn.o.showDeauthenticationDialog,kn=(0,sn.vR)("servers/authenticateToServer",function(){var e,t=(e=hn().mark((function e(t){var r,n,o,a,i,c;return hn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.method,n=t.data,o=t.messageHub,e.prev=1,e.next=4,o.sendMessage({type:"AUTH-REQ",method:r,data:n});case 4:if(a=e.sent,"AUTH-RESP"!==(i=a.body).type){e.next=18;break}if(!i.data){e.next=11;break}throw new Error("Multi-step authentication not supported");case 11:if(!i.result){e.next=15;break}return e.abrupt("return",{result:!0,user:i.user});case 15:throw new Error(String(i.reason)||"Authentication failed");case 16:e.next=20;break;case 18:throw new Error(String(i.reason)||"Unexpected message received from server");case 20:e.next=26;break;case 22:return e.prev=22,e.t0=e.catch(1),c=e.t0 instanceof Zr.Ay.TimeoutError?"Authentication timeout; try again later":(0,Xr.Nw)(e.t0),e.abrupt("return",{result:!1,reason:c});case 26:case"end":return e.stop()}}),e,null,[[1,22]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){vn(a,n,o,i,c,"next",e)}function c(e){vn(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}());var Tn=(0,sn.vR)("servers/calculateClockSkew",cn),In=(0,sn.vR)("servers/calculateClockSkew",cn,{minDelay:1e3}),Cn=(0,sn.vR)("servers/adjustServerTime",(function(e,t){return un.apply(this,arguments)}),{minDelay:1e3}),Pn=r(20961);function Ln(e){return Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ln(e)}var _n=["open","title"];function Nn(){Nn=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==Ln(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(Ln(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function Rn(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Dn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dn(Object(r),!0).forEach((function(t){Fn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Fn(e,t,r){var n;return n=function(e,t){if("object"!=Ln(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ln(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ln(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Un(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Gn=(0,St.A)((function(e){return{root:{marginBottom:0,"& .MuiDialogContent-root":{paddingTop:0},"& .MuiTextField-root":{marginBottom:e.spacing(1)}}}}),{name:"AuthenticationForm"}),Vn=function(e){var t=e.initialValues,r=e.isAuthenticating,n=e.onCancel,o=e.onSubmit,a=e.optimizeUIForTouch,i=Gn();return c.createElement(S.A,{pt:4},c.createElement(A.lV,{initialValues:t,onSubmit:o},(function(e){var t=e.handleSubmit;return c.createElement("form",{className:i.root,onSubmit:t},c.createElement(v.A,null,c.createElement(E.A_,{fullWidth:!0,autoFocus:!a,name:"username",label:"Username",autoComplete:"username",variant:"filled"}),c.createElement(or.s3,{fullWidth:!0,name:"password",label:"Password",autoComplete:"current-password"})),c.createElement(vr.A,null,c.createElement(x.A,{disabled:r,color:"primary",type:"submit"},r?"Logging in\u2026":"Log in"),c.createElement(x.A,{onClick:n},"Cancel")))})))};Vn.propTypes={initialValues:i().object,isAuthenticating:i().bool,onCancel:i().func,onSubmit:i().func,optimizeUIForTouch:i().bool};var Bn=function(e){var t=e.open,r=e.title,n=Un(e,_n);return c.createElement(qr.A,{maxWidth:"xs",open:t,title:r},c.createElement(Vn,n))};Bn.propTypes={isAuthenticating:i().bool.isRequired,lastError:i().string,onCancel:i().func,onSubmit:i().func,open:i().bool,optimizeUIForTouch:i().bool,title:i().string.isRequired},Bn.defaultProps={open:!1};var Hn=(0,s.Ng)((function(e){return Mn(Mn({},e.dialogs.authentication),{},{isAuthenticating:(0,yn.nG)(e),optimizeUIForTouch:(0,Kt.jz)(e),title:(0,yn.f1)(e)?"Authentication required":"Authenticate to server"})}),(function(e){return{onCancel:function(){e(Sn())},onSubmit:function(t){return(r=Nn().mark((function r(){var n;return Nn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e((o=Mn(Mn({},t),{},{messageHub:Pn.A}),a=void 0,i=void 0,c=void 0,a=o.username,i=o.password,c=o.messageHub,kn({method:"basic",data:$r.o4.encode("".concat(a,":").concat(i)),messageHub:c})));case 2:(n=r.sent)&&n.value&&n.value.result&&e(Sn());case 5:case"end":return r.stop()}var o,a,i,c}),r)})),function(){var e=this,t=arguments;return new Promise((function(n,o){var a=r.apply(e,t);function i(e){Rn(a,n,o,i,c,"next",e)}function c(e){Rn(a,n,o,i,c,"throw",e)}i(void 0)}))})();var r}}}))(Bn);const Wn=Hn;var zn=r(21279);function Yn(e){return Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yn(e)}function Kn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kn(Object(r),!0).forEach((function(t){$n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $n(e,t,r){var n;return n=function(e,t){if("object"!=Yn(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Yn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Yn(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Zn=function(e){var t=e.onCancel,r=e.onDisconnect,n=e.open,o=e.title,a=e.user;return c.createElement(qr.A,{maxWidth:"xs",open:n,title:o},c.createElement(v.A,null,c.createElement(S.A,{pt:2},c.createElement(O.A,{paragraph:!0},a?c.createElement(c.Fragment,null,"You are currently authenticated as ",c.createElement("code",null,a),". Are you sure you would like to disconnect?"):c.createElement(c.Fragment,null,"You are not authenticated at the moment. Are you sure you would like to disconnect?")))),c.createElement(vr.A,null,c.createElement(x.A,{color:"secondary",onClick:r},"Disconnect"),c.createElement(x.A,{onClick:t},"Cancel")))};Zn.propTypes={onCancel:i().func,onDisconnect:i().func,open:i().bool,title:i().string.isRequired,user:i().string},Zn.defaultProps={open:!1};const Xn=(0,s.Ng)((function(e){return qn(qn({},e.dialogs.deauthentication),{},{title:"Log out from server",user:(0,yn.vD)(e)})}),(function(e){return{onCancel:function(){e(xn())},onDisconnect:function(){(0,s.vA)((function(){e(xn()),e((0,zn.HC)()),e(bn())}))}}}))(Zn);var Jn=r(975),Qn=r(2520),eo=r.n(Qn),to=r(91004),ro=r(5953),no=(0,St.A)((function(e){return{root:{position:"relative",marginBottom:e.spacing(.5)},avatar:{backgroundColor:ro.Ay.off,color:e.palette.getContrastText(ro.Ay.off),borderRadius:"25%"},"avatar-off":{opacity:.5},"avatar-editing":{backgroundColor:ro.Ay.info,color:e.palette.getContrastText(ro.Ay.info),animation:"$pulse 0.5s infinite",animationDirection:"alternate"},"avatar-error":{backgroundColor:ro.Ay.error,boxShadow:"0 0 8px 2px ".concat(ro.Ay.error),color:e.palette.getContrastText(ro.Ay.error)},"avatar-success":{backgroundColor:ro.Ay.success,color:e.palette.getContrastText(ro.Ay.success)},"@keyframes pulse":{"0%":{boxShadow:"0 0 8px 2px ".concat(Qn(ro.Ay.info).alpha(0))},"100%":{boxShadow:"0 0 8px 2px ".concat(ro.Ay.info)}}}}),{name:"DronePlaceholder"}),oo=function(e){var t=e.editing,r=e.label,o=e.status,a=no();return c.createElement("div",{className:a.root},c.createElement(to.A,{className:(0,n.A)(a.avatar,a["avatar-".concat(t?"editing":o)])},r))};oo.propTypes={editing:i().bool,label:i().node,status:i().oneOf(["off","editing","error","success"])},oo.defaultProps={status:"off"};const ao=oo;var io=r(63175),co=["actions","emptyMessage","items","maxCount","preferEmptyMessage","successMessage","title"];function lo(){return lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lo.apply(this,arguments)}function uo(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var so=function(e){var t=e.actions,r=e.emptyMessage,n=e.items,o=void 0===n?[]:n,a=e.maxCount,i=e.preferEmptyMessage,l=e.successMessage,u=e.title,s=uo(e,co),f=(0,Jn.M)(o.slice(0,a).map((function(e){return"number"==typeof e?(0,io.J8)(e):String(e)})));return c.createElement(S.A,lo({mt:1},s),c.createElement(S.A,{display:"flex",flexDirection:"row",alignItems:"center",minHeight:44},u&&c.createElement(S.A,{key:"lead",minWidth:85},u),f.map((function(e,t){return c.createElement(S.A,{key:e,ml:t>0||u?1:0},c.createElement(ao,{label:e}))})),o.length>a?c.createElement(S.A,{key:"more",ml:1,color:"text.secondary"},c.createElement(O.A,{variant:"body2"},"+ ",o.length-a," more")):null,0===o.length?l&&!i?c.createElement(c.Fragment,null,c.createElement(S.A,{key:"ok",ml:u?1:0},c.createElement(ao,{label:"OK",status:"success"})),c.createElement(S.A,{key:"successMessage",color:"success.main",ml:1},c.createElement(O.A,{variant:"body2"},l))):c.createElement(S.A,{key:"emptyMessage",color:u?"text.secondary":null,ml:u?1:0},c.createElement(O.A,{variant:"body2"},r)):null,t&&c.createElement(c.Fragment,null,c.createElement(S.A,{key:"padding",flex:1}),c.createElement(S.A,{key:"actions",ml:1},t))))};so.propTypes={actions:i().oneOfType([i().node,i().arrayOf(i().node)]),emptyMessage:i().node,items:i().arrayOf(i().oneOfType([i().number,i().string])),maxCount:i().number,preferEmptyMessage:i().bool,successMessage:i().node,title:i().string},so.defaultProps={maxCount:8};const fo=so;var po=r(11104),yo=r(6615),mo=r(48190),ho=r(37796);function vo(e){return vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vo(e)}var go=["onClose","open"];function bo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bo(Object(r),!0).forEach((function(t){Eo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Eo(e,t,r){var n;return n=function(e,t){if("object"!=vo(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=vo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==vo(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ao(){return Ao=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ao.apply(this,arguments)}function So(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Oo=i().shape({coords:i().string,mode:i().oneOf(["relative","amsl","ahl"]),altitude:i().number}),xo=function(e){var t=e.coordinateFormatter,r=e.initialValues,n=e.onCancel,o=e.onSubmit,a=e.optimizeUIForTouch,i=e.uavIds;return c.createElement(A.lV,{initialValues:r,onSubmit:o},(function(e){var r=e.handleSubmit;return c.createElement(S.A,null,c.createElement(v.A,null,c.createElement(fo,{title:"Selection:",items:i,mt:0,mb:1}),c.createElement(or.tc,{autoFocus:!a,name:"coords",label:"Target coordinate",formatter:t}),c.createElement(S.A,{display:"flex",flexDirection:"row"},c.createElement(S.A,{flex:1},c.createElement(or.Kn,{name:"altitude",label:"Altitude",margin:"normal"})),c.createElement(S.A,{flex:2},c.createElement(or.l6,{name:"mode",label:"Alt mode",margin:"normal"},c.createElement(F.A,{value:"relative"},"above current altitude"),c.createElement(F.A,{value:"amsl"},"above mean sea level"),c.createElement(F.A,{value:"ahl"},"above home level"))))),c.createElement(vr.A,null,c.createElement(x.A,{color:"primary",onClick:r},"Confirm"),c.createElement(x.A,{onClick:n},"Cancel")))}))};xo.propTypes={coordinateFormatter:i().func,initialValues:Oo,onCancel:i().func,onSubmit:i().func,optimizeUIForTouch:i().bool,uavIds:i().arrayOf(i().string)};var jo=function(e){var t=e.onClose,r=e.open,n=So(e,go);return c.createElement(qr.A,{open:r,maxWidth:"xs",title:"Fly to target",onClose:t},c.createElement(xo,Ao({onCancel:t},n)))};jo.propTypes={coordinateFormatter:i().func,initialValues:Oo,onClose:i().func,onSubmit:i().func,open:i().bool,optimizeUIForTouch:i().bool,uavIds:i().arrayOf(i().string)};const ko=(0,s.Ng)((function(e){return wo(wo({},e.uavControl.flyToTargetDialog),{},{coordinateFormatter:(0,ho.MH)(e),optimizeUIForTouch:(0,Kt.jz)(e),uavIds:(0,mo.YZ)(e)})}),{onClose:yo.ic,onSubmit:po.I})(jo);var To=r(30240),Io=r(5696),Co=r(34890),Po=function(e){var t=e.open,r=e.message,n=e.onClose;return c.createElement(h.A,{open:t},c.createElement(Io.A,null,"An error happened"),c.createElement(v.A,null,c.createElement(To.A,{style:{whiteSpace:"pre-line"}},r)),c.createElement(vr.A,null,c.createElement(x.A,{onClick:n},"Close")))};Po.propTypes={message:i().string,open:i().bool.isRequired,onClose:i().func};const Lo=(0,s.Ng)((function(e){return e.dialogs.error}),{onClose:Co.L})(Po);var _o=r(87270),No=r(98695),Ro=r(98275),Do=r(99861),Mo=r(23354),Fo=r(5876),Uo=r(72233);function Go(e){return Go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Go(e)}function Vo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zo(n.key),n)}}function Ho(e,t,r){return t&&Bo(e.prototype,t),r&&Bo(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wo(e,t,r){return t=Yo(t),function(e,t){if(t&&("object"===Go(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,zo()?Reflect.construct(t,r||[],Yo(e).constructor):t.apply(e,r))}function zo(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(zo=function(){return!!e})()}function Yo(e){return Yo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yo(e)}function Ko(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qo(e,t)}function qo(e,t){return qo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qo(e,t)}function $o(e,t,r){return(t=Zo(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zo(e){var t=function(e,t){if("object"!=Go(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Go(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Go(t)?t:t+""}var Xo=(0,Tr.fH)({label:Tr.mw}),Jo=function(e){var t=e.initialValues,r=e.layer,n=e.onSubmit,o=e.onToggleLayerVisibility,a=e.validate;return c.createElement(A.lV,{validateOnBlur:!0,initialValues:t,validate:a,onSubmit:n},(function(e){var t=e.handleSubmit;return c.createElement("form",{id:"basicLayerSettings",onSubmit:t},c.createElement(S.A,{display:"flex",alignItems:"center",pb:2},c.createElement(E.A_,{name:"label",variant:"filled",label:"Layer name",placeholder:"New layer",style:{flex:"auto"}}),c.createElement("div",null,"\xa0"),c.createElement(ft.A,{checked:r.visible,color:"primary",disabled:r.type===Mo.mb.UNAVAILABLE||r.type===Mo.mb.UNTYPED,style:{flex:"none"},onChange:o})))}))};Jo.propTypes={layer:i().shape({visible:i().bool,type:i().string}),initialValues:i().object,validate:i().func,onSubmit:i().func,onToggleLayerVisibility:i().func};var Qo=(0,s.Ng)((function(e,t){return{initialValues:{label:t.layer.label}}}),(function(e,t){return{onSubmit:function(r){e((0,Do.IJ)(t.layerId,r.label))},validate:function(e){var t=Xo(e);return void 0!==t&&0!==Object.keys(t).length||(0,or.Wp)("basicLayerSettings"),t},onToggleLayerVisibility:function(){e((0,Do.Sr)(t.layerId))}}}))(Jo),ea=function(e){function t(){return Vo(this,t),Wo(this,t,arguments)}return Ko(t,e),Ho(t,[{key:"createChildrenForLayer",value:function(e,t){return e.type in Fo.HS?(0,Fo.Uz)(e,t):[c.createElement("div",{key:"_hint",style:{position:"relative",height:48}},c.createElement(Sr.A,{text:"This layer has no additional settings."}))]}},{key:"render",value:function(){var e=this.props,t=e.layer,r=e.layerId;return r?void 0!==t&&c.createElement(S.A,{key:"settings_"+r,pt:2},t.type===Mo.mb.UNTYPED?null:c.createElement(Qo,{layer:t,layerId:r}),this.createChildrenForLayer(t,r)):c.createElement("div",{key:"_hint",style:{position:"relative",height:48,marginTop:"2em"}},c.createElement(Sr.A,{text:"Please select a layer from the layer list.",style:{marginTop:"2em"}}))}}])}(c.Component);$o(ea,"propTypes",{layer:i().object,layerId:i().string});var ta=(0,s.Ng)((function(e,t){return{layer:(0,Uo.nk)(t.layerId)(e)}}),{})(ea),ra=function(e){function t(){var e;Vo(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return $o(e=Wo(this,t,[].concat(n)),"_moveSelectedLayer",(function(t){var r=e.props,n=r.selectedLayerId;(0,r.onMoveLayer)(n,t)})),$o(e,"_moveSelectedLayerDown",(function(){e._moveSelectedLayer(-1)})),$o(e,"_moveSelectedLayerUp",(function(){e._moveSelectedLayer(1)})),$o(e,"_removeSelectedLayer",(function(){var t=e.props,r=t.selectedLayerId;(0,t.onRemoveLayer)(r)})),e}return Ko(t,e),Ho(t,[{key:"render",value:function(){var e=this.props,t=e.canMoveUp,r=e.canMoveDown,n=e.dialogVisible,o=e.selectedLayerId,a=this.props.onClose,i=[];return o&&i.push(c.createElement(W.A,{key:"moveUp",disabled:!t,onClick:this._moveSelectedLayerUp},c.createElement(No.A,null)),c.createElement(W.A,{key:"moveDown",disabled:!r,onClick:this._moveSelectedLayerDown},c.createElement(_o.A,null)),c.createElement(x.A,{key:"remove",color:"secondary",onClick:this._removeSelectedLayer},"Remove")),i.push(c.createElement(x.A,{key:"close",color:"primary",onClick:a},"Close")),c.createElement(qr.A,{fullWidth:!0,maxWidth:"sm",open:n,onClose:a,title:"Layer settings"},c.createElement(v.A,{style:{overflow:"auto"}},c.createElement(ta,{layerId:o})),c.createElement(vr.A,null,i))}}])}(c.Component);$o(ra,"propTypes",{canMoveDown:i().bool.isRequired,canMoveUp:i().bool.isRequired,dialogVisible:i().bool.isRequired,selectedLayerId:i().string,onClose:i().func,onMoveLayer:i().func,onRemoveLayer:i().func});const na=(0,s.Ng)((function(e){var t=e.dialogs.layerSettings,r=(0,Uo.bB)(e).order,n=t.dialogVisible,o=t.selectedLayer,a=o&&r?r.indexOf(o):-1;return{canMoveDown:a>0,canMoveUp:a>=0&&a<r.length-1,dialogVisible:n,selectedLayerId:o}}),{onClose:function(){return function(e,t){var r=t(),n=(r.dialogs.layerSettings||{}).selectedLayer,o=n?(0,Uo.nk)(n)(r):void 0;o&&o.type===Mo.mb.UNTYPED&&e((0,Do.e5)(n)),e((0,Ro.JQ)())}},onMoveLayer:Do.Jq,onRemoveLayer:Do.e5})(ra);r(99449);var oa=r(83869),aa=r(90749),ia=r(7756),ca=r(18024),la=r(46905),ua=r(19160),sa=(r(74423),r(5746),r(3296),r(27208),r(48408),r(36062)),fa=r.n(sa),pa=r(77500);function da(e){return da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},da(e)}function ya(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wa(n.key),n)}}function ma(e,t,r){return t=va(t),function(e,t){if(t&&("object"===da(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ha()?Reflect.construct(t,r||[],va(e).constructor):t.apply(e,r))}function ha(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ha=function(){return!!e})()}function va(e){return va=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},va(e)}function ga(e,t){return ga=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ga(e,t)}function ba(e,t,r){return(t=wa(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wa(e){var t=function(e,t){if("object"!=da(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=da(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==da(t)?t:t+""}var Ea=window.bridge&&window.bridge.createSSDPClient&&!(0,pa.A)(o.A,"server.preventAutodetection"),Aa=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ba(r=ma(this,t,[e]),"_onTimerFired",(function(){r._ssdpClient.search("urn:collmot-com:service:flockwave-tcp:1")})),r._ssdpClient=void 0,r._timer=void 0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ga(e,t)}(t,e),r=t,(n=[{key:"componentDidMount",value:function(){var e=this,t=this.props,r=t.onScanningStarted,n=t.onServerInferred;Ea?(r&&r(),this._ssdpClient=window.bridge.createSSDPClient((function(t){if(void 0!==e._ssdpClient){var r=fa()(t);if(200===r.statusCode){var n=r.headers.location;if(void 0!==n){var o=new URL(n).protocol;if(["tcp:","tcp+tls:"].includes(o)){var a="http:".concat(n.slice(o.length)),i=new URL(a),c=i.hostname,l=i.port,u=Number(l);if(!(!c||Number.isNaN(u)||u<=0||u>65535)&&e.props.onServerDetected){var s=e.props.onServerDetected({hostName:c,port:u,label:r.headers["label.collmot.com"],protocol:o}),f=s.key,p=s.wasAdded;if(f&&p&&((0,dt.isV4Format)(c)||(0,dt.isV6Format)(c))){var d=(0,oa.A)(e.props.onServerHostnameResolved,f);(0,dt.isLoopback)(c)?d("localhost"):window.bridge&&window.bridge.reverseDNSLookup(c).then((function(e){e&&e.length>0&&d(e[0])})).catch((function(e){}))}}}}}}})),this._timer=setInterval(this._onTimerFired,5e3),this._onTimerFired()):n&&((0,pa.A)(o.A,"server.hostName")?n({hostName:o.A.server.hostName,port:o.A.server.port||(o.A.server.isSecure?443:80),protocol:o.A.server.isSecure?"sio+tls:":"sio:"}):"localhost"===window.location.hostname?n({hostName:window.location.hostname,port:5e3,protocol:"sio:"}):n({hostName:window.location.hostname,port:window.location.port||("http:"===window.location.protocol?80:443),protocol:"sio:"}))}},{key:"componentWillUnmount",value:function(){if(Ea){var e=this.props.onScanningStopped;e&&e(),void 0!==this._timer&&(clearInterval(this._timer),this._timer=void 0),void 0!==this._ssdpClient&&(this._ssdpClient=void 0)}}},{key:"render",value:function(){return null}}])&&ya(r.prototype,n),a&&ya(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(c.Component);ba(Aa,"propTypes",{onScanningStarted:i().func,onScanningStopped:i().func,onServerDetected:i().func,onServerHostnameResolved:i().func,onServerInferred:i().func});var Sa=(0,s.Ng)(null,(function(e){return{onScanningStarted:function(){e((0,zn.gW)()),e((0,zn._Y)())},onScanningStopped:function(){e((0,zn.ww)())},onServerDetected:function(t){var r=t.hostName,n=t.port,o=t.protocol,a=t.label,i=(0,zn.XP)({hostName:r,port:n,protocol:o,label:a});return e(i),{key:i.key,wasAdded:Boolean(i.wasAdded)}},onServerHostnameResolved:function(t,r){e((0,zn.MX)({key:t,hostName:r}))},onServerInferred:function(t){var r=t.hostName,n=t.port,o=t.protocol,a=(0,zn.sX)({hostName:r,port:n,protocol:o});return e(a),a.key}}}))(Aa),Oa=r(69260);function xa(e){return xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xa(e)}var ja,ka=["hostName"];function Ta(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Da(n.key),n)}}function Ia(e,t,r){return t=Pa(t),function(e,t){if(t&&("object"===xa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ca()?Reflect.construct(t,r||[],Pa(e).constructor):t.apply(e,r))}function Ca(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ca=function(){return!!e})()}function Pa(e){return Pa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Pa(e)}function La(e,t){return La=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},La(e,t)}function _a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Na(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_a(Object(r),!0).forEach((function(t){Ra(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ra(e,t,r){return(t=Da(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Da(e){var t=function(e,t){if("object"!=xa(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=xa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xa(t)?t:t+""}function Ma(){return Ma=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ma.apply(this,arguments)}function Fa(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Ua=function(e){return"sio+tls:"===e.protocol},Ga=function(e){return"localhost"===e.hostName},Va=function(e){var t=e.hostName,r=e.port;return"".concat(t,":").concat(r)},Ba=function(e){return e.label||Va(e)},Ha=function(e){return e.label?"".concat(Va(e)).concat(function(e){return Ua(e)||Ga(e)?"":" (unsecured)"}(e)):function(e){return Ua(e)?"Secure connection":Ga(e)?"Local connection":"Unsecured connection"}(e)},Wa=!(null!==o.A&&void 0!==o.A&&null!==(ja=o.A.server)&&void 0!==ja&&ja.preventManualSetup),za=function(e){var t=e.hostName,r=Fa(e,ka);return c.createElement(ua.A,Ma({label:t?"Connecting to ".concat(t,"..."):"Connecting..."},r))};za.propTypes={hostName:i().string};var Ya=function(e){var t=e.isScanning,r=e.items,n=e.onItemSelected;return c.createElement(ct.A,{disablePadding:!0,style:{height:160,overflow:"auto"}},!t||r&&0!==r.length?null:c.createElement(lt.A,{key:"__scanning"},c.createElement(ut.A,null,c.createElement(bt.A,{color:"secondary",size:24})),c.createElement(st.A,{primary:"Please wait\u2026",secondary:"Scanning network for servers\u2026"})),r.map((function(e){return c.createElement(lt.A,{key:e.id,button:!0,onClick:(0,oa.A)(n,e)},c.createElement(ut.A,null,(r=(t=e).hostName,"inferred"===t.type?c.createElement(ca.A,null):"localhost"===r?c.createElement(aa.A,null):c.createElement(la.A,null))),c.createElement(st.A,{primary:Ba(e),secondary:Ha(e)}));var t,r})),Wa&&c.createElement(lt.A,{key:"__manual",button:!0,onClick:(0,oa.A)(n,null)},c.createElement(ut.A,null,c.createElement(ia.A,null)),c.createElement(st.A,{primary:"Enter manually"})))};Ya.propTypes={isScanning:i().bool,items:i().array,onItemSelected:i().func};var Ka=(0,s.Ng)((function(e){return{isScanning:e.servers.isScanning,items:(0,yn.aw)(e)}}))(Ya),qa=(0,Tr.fH)({hostName:Tr.mw,port:[Tr.mw,Tr.nd,(0,Tr.Tq)(1,65535)]}),$a=function(e){var t=e.initialValues,r=e.onKeyPress,n=e.onSubmit;return c.createElement(A.lV,{initialValues:t,validate:qa,onSubmit:n},(function(e){var t=e.handleSubmit;return c.createElement("form",{id:"serverSettings",onSubmit:t,onKeyPress:r},c.createElement(E.A_,{fullWidth:!0,name:"hostName",label:"Hostname",variant:"filled",margin:"normal"}),c.createElement(E.A_,{fullWidth:!0,name:"port",label:"Port",variant:"filled",margin:"normal"}),c.createElement(E.bH,{name:"isSecure",data:{label:"Use secure connection"}}),dn.SD?c.createElement(E.bH,{name:"isWebSocket",data:{label:"Use WebSocket protocol instead of TCP"},helperText:"For backwards compatibility only."}):null)}))};$a.propTypes={initialValues:i().object,onKeyPress:i().func,onSubmit:i().func};var Za=(0,s.Ng)((function(e){return{initialValues:Na(Na({},e.dialogs.serverSettings),{},{isWebSocket:(0,yn.nm)(e)===Oa.Z.WS})}}))($a),Xa=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return Ra(e=Ia(this,t,[].concat(n)),"_handleKeyPress",(function(t){"Enter"===t.nativeEvent.code&&e.props.forceFormSubmission()})),Ra(e,"_handleServerSelection",(function(t){null==t?Wa&&e.props.onTabSelected(null,"manual"):e.props.onSubmit(Na(Na({},t),{},{isSecure:t.protocol.endsWith("+tls:")}))})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&La(e,t)}(t,e),r=t,n=[{key:"render",value:function(){var e=this.props,t=e.active,r=e.forceFormSubmission,n=e.hostName,o=e.isConnecting,a=e.onClose,i=e.onDisconnect,l=e.onSubmit,u=e.onTabSelected,s=e.open,f=e.selectedTab,p=[],d=[];switch(p.push(c.createElement(za,{key:"__connectionIndicator",hostName:n,visible:o})),f){case"auto":d.push(c.createElement(Ka,{key:"serverList",onItemSelected:this._handleServerSelection})),Wa?Ea||d.push(c.createElement(v.A,{key:"contents"},c.createElement(O.A,{variant:"body2",color:"textSecondary"},"Auto-discovery is not available in this version."))):d.push(c.createElement(v.A,{key:"contents"},c.createElement(O.A,{variant:"body2",color:"textSecondary"},"Connecting to other servers is not supported in this version.")));break;case"manual":Wa&&(d.push(c.createElement(v.A,{key:"contents"},c.createElement(Za,{onSubmit:l,onKeyPress:this._handleKeyPress}))),p.push(c.createElement(x.A,{key:"connect",color:"primary",onClick:r},"Connect")))}return Wa&&p.push(c.createElement(x.A,{key:"disconnect",disabled:!t,onClick:t?i:void 0},"Disconnect")),p.push(c.createElement(x.A,{key:"close",onClick:a},"Close")),c.createElement(h.A,{fullWidth:!0,open:s,maxWidth:"xs",onClose:a},c.createElement(b.A,{value:f,onChange:u},c.createElement(g.A,{value:"auto",label:Wa?"Autodetected":"Preconfigured server"}),Wa&&c.createElement(g.A,{value:"manual",label:"Manual"})),c.createElement(Sa,null),d,c.createElement(vr.A,null,p))}}],n&&Ta(r.prototype,n),o&&Ta(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(c.Component);Ra(Xa,"propTypes",{active:i().bool,forceFormSubmission:i().func,hostName:i().string,isConnecting:i().bool,onClose:i().func,onDisconnect:i().func,onSubmit:i().func,onTabSelected:i().func,open:i().bool.isRequired,selectedTab:i().string}),Ra(Xa,"defaultProps",{selectedTab:"auto"});var Ja=(0,s.Ng)((function(e){return{active:e.dialogs.serverSettings.active,hostName:(0,yn.XP)(e),isConnecting:(0,yn.XE)(e),open:e.dialogs.serverSettings.dialogVisible,selectedTab:e.dialogs.serverSettings.selectedTab}}),(function(e){return{forceFormSubmission:function(){(0,or.Wp)("serverSettings")},onClose:function(){e(gn())},onDisconnect:function(){e(bn())},onSubmit:function(t){e(gn({active:!0,hostName:t.hostName,isSecure:t.isSecure,port:Number(t.port),protocol:!dn.SD||t.isWebSocket?Oa.Z.WS:Oa.Z.TCP}))},onTabSelected:function(t,r){e(wn(r))}}}))(Xa);const Qa=Ja;var ei=function(e){var t=e.onClose,r=e.open;return c.createElement(h.A,{open:r},c.createElement(Io.A,null,"Session expired"),c.createElement(v.A,null,c.createElement(To.A,null,"Your demo session has expired. Thank you for evaluating Skybrush Live!"),c.createElement(x.A,{fullWidth:!0,onClick:t},"Click here to return to your Skybrush account")))};ei.propTypes={onClose:i().func,open:i().bool};const ti=(0,s.Ng)((function(e){return{open:e.session.isExpired}}),(function(){return{onClose:function(e,t){"backdropClick"!==t&&"escapeKeyDown"!==t&&window.location.replace(o.A.urls.exit||"https://skybrush.io")}}}))(ei);var ri=r(50256),ni=r(29748),oi=r(3376),ai=r(20674),ii=["clockSkew","component","format","updateInterval"];function ci(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var li=function(e){var t=e.clockSkew,r=e.component,n=e.format,o=e.updateInterval,a=ci(e,ii),i=Date.now()+(t||0),l="function"==typeof n?n(i):(0,ni.A)(i,n),u=(0,oi.A)();return(0,ai.A)(u,o||1e3),c.createElement(r,a,l)};li.propTypes={component:i().string,clockSkew:i().number,format:i().string,updateInterval:i().number},li.defaultProps={component:"span",format:"yyyy-MM-dd HH:mm:ss"};const ui=li;var si=(0,St.A)((function(e){return{content:{"& strong":{color:e.palette.text.primary}},card:{flex:1,fontSize:"16px",margin:e.spacing(0,2)},cardLeft:{textAlign:"right"},localTime:{color:ro.Ay.info,fontWeight:"bold"},serverTime:{color:ro.Ay.warning,fontWeight:"bold"}}})),fi=function(e){var t=e.clockSkew,r=si();return c.createElement(S.A,{display:"flex",flexDirection:"row",mx:-2,mb:2},c.createElement(S.A,{className:(0,n.A)(r.card,r.cardLeft)},c.createElement(O.A,{gutterBottom:!0,color:"textPrimary"},"Time on this device"),c.createElement(ui,{className:r.localTime,component:"div"})),c.createElement(S.A,{variant:"outlined",className:r.card},c.createElement(O.A,{gutterBottom:!0,color:"textPrimary"},"Server time"),(0,Ge.default)(t)?c.createElement("div",{className:r.serverTime},"unknown"):c.createElement(ui,{className:r.serverTime,clockSkew:t,component:"div"})))};fi.propTypes={clockSkew:i().number};var pi=function(e){var t=e.clockSkew,r=si();return c.createElement(v.A,{className:r.content},c.createElement(S.A,{my:2},c.createElement(To.A,null,"The internal clock of your device and the clock of the Skybrush server are now in sync:")),c.createElement(fi,{clockSkew:t}))};pi.propTypes={clockSkew:i().number};var di=function(e){var t=e.clockSkew,r=si();return c.createElement(v.A,{className:r.content},c.createElement(S.A,{my:2},c.createElement(O.A,{variant:"h6"},"Why am I seeing this warning?")),c.createElement(To.A,null,"The internal clock of your device and the clock of the Skybrush server you have connected to are not in sync:"),c.createElement(fi,{clockSkew:t}),c.createElement(To.A,null,"Scheduled actions (such as the coordinated start of a drone swarm at a given time) are performed according to the server clock. If the server clock is behind or ahead of wall clock time, these actions may happen too early or too late."," ",c.createElement("strong",null,"It is your responsibility to ensure that the clock of the server is synchronized to UTC.")),c.createElement(S.A,{my:2},c.createElement(O.A,{variant:"h6"},"What should I do now?")),c.createElement(To.A,null,"Please check the timestamps reported above and decide which one is correct."),c.createElement(To.A,null,c.createElement("span",{className:r.localTime},"If the local time is correct"),", please click on the ",c.createElement("strong",null,"Adjust server time")," button below to adjust the server clock to match the time on this device."),c.createElement(To.A,null,c.createElement("span",{className:r.serverTime},"If the server time is correct"),", please update the time on this device and then click on the"," ",c.createElement("strong",null,"Check clock skew")," button to perform another measurement after the update."))};di.propTypes={clockSkew:i().number};var yi=function(e){var t=e.clockSkew,r=e.isAdjustingServerTime,n=e.isCalculatingClockSkew,o=e.isClockSkewSignificant,a=e.onAdjustServerTime,i=e.onCalculateAndStoreClockSkew,l=e.onClose,u=e.open;return c.createElement(qr.A,{open:u,title:o?"Clock skew detected between server and client":"Server and client clocks are in sync"},n&&(0,Ge.default)(t)?c.createElement(v.A,null,c.createElement(S.A,{align:"center",my:4},c.createElement(S.A,null,c.createElement(bt.A,null)),"Please wait, estimating clock skew...")):o?c.createElement(di,{clockSkew:t}):c.createElement(pi,{clockSkew:t}),c.createElement(vr.A,{className:"bottom-bar"},c.createElement(ua.A,{label:r?"Adjusting server time...":"Calculating clock skew...",visible:r||n,flex:1}),c.createElement(x.A,{disabled:(0,Ge.default)(t)||n||!o,onClick:a},"Adjust server time"),c.createElement(x.A,{disabled:n,onClick:i},"Check clock skew"),c.createElement(x.A,{onClick:l},"Close")))};yi.propTypes={clockSkew:i().number,isAdjustingServerTime:i().bool,isCalculatingClockSkew:i().bool,isClockSkewSignificant:i().bool,onAdjustServerTime:i().func,onCalculateAndStoreClockSkew:i().func,onClose:i().func,open:i().bool};const mi=(0,s.Ng)((function(e){return{clockSkew:(0,yn.my)(e),isAdjustingServerTime:(0,yn.O2)(e),isCalculatingClockSkew:(0,yn._O)(e),isClockSkewSignificant:(0,yn._r)(e),open:(0,yn.$9)(e)}}),{onAdjustServerTime:function(){return e=Pn.A,(0,Xr.uC)((function(t,r){var n=(0,yn.my)(r());if((0,Ge.default)(n))throw new Error("Clock skew between server and client is not known");t(Cn(e,n)),t(Tn(e,{method:"accurate"}))}));var e},onCalculateAndStoreClockSkew:function(){return In(Pn.A,{method:"accurate"})},onClose:zn.Jp})(yi);const hi={AppSettingsDialog:hr,AuthenticationDialog:Wn,DeauthenticationDialog:Xn,FeatureEditorDialog:Kr,FlyToTargetDialog:ko,GlobalErrorDialog:Lo,LayerSettingsDialog:na,ServerSettingsDialog:Qa,SessionExpiryDialog:ti,SubscriptionDialog:ri.A,TimeSyncDialog:mi};r(78350),r(30237);var vi=r(82067),gi=r(53050),bi=r(4392),wi=r(88559),Ei=r(6473),Ai=r(17069),Si=r(61217),Oi=r(74466),xi=r(69009);const ji=r.p+"b9fe6803b785d337ce8e.mp3";var ki=["count","muted"];function Ti(){return Ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ti.apply(this,arguments)}function Ii(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Ci(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Pi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Li=(0,St.A)({bell:{animation:"$ring ".concat(5,"s ease-in-out infinite"),transformOrigin:"50% 4px"},"@keyframes ring":{"0%":{transform:"rotate(0)"},"2%":{transform:"rotate(30deg)"},"5%":{transform:"rotate(-28deg)"},"8%":{transform:"rotate(34deg)"},"11%":{transform:"rotate(-32deg)"},"14%":{transform:"rotate(30deg)"},"17%":{transform:"rotate(-28deg)"},"20%":{transform:"rotate(26deg)"},"23%":{transform:"rotate(-24deg)"},"26%":{transform:"rotate(22deg)"},"29%":{transform:"rotate(-20deg)"},"32%":{transform:"rotate(18deg)"},"35%":{transform:"rotate(-16deg)"},"38%":{transform:"rotate(14deg)"},"41%":{transform:"rotate(-12deg)"},"44%":{transform:"rotate(10deg)"},"47%":{transform:"rotate(-8deg)"},"50%":{transform:"rotate(6deg)"},"53%":{transform:"rotate(-4deg)"},"56%":{transform:"rotate(2deg)"},"59%":{transform:"rotate(-1deg)"},"62%":{transform:"rotate(1deg)"},"65%":{transform:"rotate(0)"},"100%":{transform:"rotate(0)"}}}),_i=function(){var e=Ci((0,gi.A)(c.createElement("audio",{src:ji})),3),t=e[0],r=e[1],n=e[2];return(0,bi.A)((function(){return n.play()})),(0,wi.A)((function(){r.playing||n.play()}),5e3),t},Ni=function(e){var t=e.count,r=e.muted,n=Ii(e,ki),o=Li(),a=t>0,i=(0,m.Bd)().t;return c.createElement(Si.Ay,Ti({},n,{tooltip:i(r?"alerts.muted":a?"alerts.acknowledgeAlerts":"alerts.clickToMute")}),r?c.createElement(Ai.A,{className:a?o.bell:""}):c.createElement(Ei.A,{className:a?o.bell:""}),c.createElement(Oi.A,{visible:a,color:ro.Ay.error},t>1&&(t>=10?"9+":String(t))),!r&&a&&c.createElement(_i,null))};Ni.propTypes={count:i().number,muted:i().bool};const Ri=(0,s.Ng)((function(e){return e.alert}),{onClick:function(){return function(e,t){var r=t().alert;r.count>0?e((0,xi.cB)()):e((0,xi.y5)(!r.muted))}}})(Ni);var Di=r(90345);function Mi(e){return Mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mi(e)}function Fi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ui(e,t,r){var n;return n=function(e,t){if("object"!=Mi(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Mi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Mi(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gi(){return Gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gi.apply(this,arguments)}var Vi=function(e){return c.createElement(m.wD,null,(function(t){return c.createElement(Si.Ay,Gi({},e,{tooltip:t("preferences")}),c.createElement(Di.A,null))}))};Vi.propTypes=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fi(Object(r),!0).forEach((function(t){Ui(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Si.Ay.propTypes);const Bi=(0,s.Ng)(null,{onClick:w.xC})(Vi);var Hi=r(63353),Wi={authenticated:ro.Ay.success,authenticating:ro.Ay.warning,notAuthenticated:ro.Ay.error,authenticationNotRequired:void 0};const zi=(0,s.Ng)((function(e){var t=(0,yn.wR)(e)?"authenticated":(0,yn.nG)(e)?"authenticating":(0,yn.f1)(e)?"notAuthenticated":"authenticationNotRequired",r=Wi[t];return{color:r,visible:void 0!==r}}),{})(Oi.A);var Yi=function(e){var t=e.isAuthenticated,r=e.isDisabled,n=e.onAuthenticate,o=e.onDeauthenticate,a=e.t;return c.createElement(Si.Ay,{tooltip:a("authentication"),disabled:r,onClick:r?null:t?o:n},c.createElement(zi,null),c.createElement(Hi.A,null))};Yi.propTypes={isAuthenticated:i().bool,isDisabled:i().bool,onAuthenticate:i().func,onDeauthenticate:i().func,t:i().func};const Ki=(0,s.Ng)((function(e){return{isAuthenticated:(0,yn.wR)(e),isAuthRequired:(0,yn.f1)(e),isDisabled:!(0,yn.JU)(e)}}),(function(e){return{onAuthenticate:function(){return e(On())},onDeauthenticate:function(){return e(jn())}}}))((0,m.CI)()(Yi));var qi=r(92523),$i=r(5529);const Zi=(0,_r.A)(c.createElement("path",{d:"M18 11v2h4v-2h-4zm-2 6.61c.96.71 2.21 1.65 3.2 2.39.4-.53.8-1.07 1.2-1.6-.99-.74-2.24-1.68-3.2-2.4-.4.54-.8 1.08-1.2 1.61zM20.4 5.6c-.4-.53-.8-1.07-1.2-1.6-.99.74-2.24 1.68-3.2 2.4.4.53.8 1.07 1.2 1.6.96-.72 2.21-1.65 3.2-2.4zM4 9c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h1v4h2v-4h1l5 3V6L8 9H4zm11.5 3c0-1.33-.58-2.53-1.5-3.35v6.69c.92-.81 1.5-2.01 1.5-3.34z"}),"Campaign");var Xi=function(e){return"number"==typeof e&&e>0},Ji=(0,St.A)({underlay:{position:"absolute",right:"0px",bottom:"0px",left:"0px",height:"0%",backgroundColor:ro.Ay.warning,opacity:.5},underlayActive:{animationName:"$cooldown",animationDuration:function(e){var t=e.timeoutLength;return Xi(t)&&Number.isFinite(t)?"".concat(t,"s"):"100000s"},animationTimingFunction:"linear",animationIterationCount:"1"},"@keyframes cooldown":{"0%":{height:"100%"},"100%":{height:"0%"}}}),Qi=function(e){var t=e.isBroadcast,r=e.setBroadcast,o=e.t,a=e.timeoutLength,i=Ji({timeoutLength:a}),l=(0,c.useRef)(void 0);return(0,c.useEffect)((function(){t&&Xi(a)?l.current=setTimeout((function(){r(!1)}),1e3*a):!t&&l.current&&(clearTimeout(l.current),l.current=void 0)}),[t,r,a]),c.createElement(pt.default,{content:t?o("broadcastButton.disable"):o("broadcastButton.enable",{time:a})},c.createElement(Si.Ay,{onClick:function(){return r(!t)}},c.createElement("div",{className:(0,n.A)(i.underlay,t&&i.underlayActive)}),c.createElement(Oi.A,{color:ro.Ay.warning,visible:t}),c.createElement("div",{style:{position:"relative"}},c.createElement(Zi,null))))};Qi.propTypes={isBroadcast:i().bool,setBroadcast:i().func,t:i().func,timeoutLength:i().number};const ec=(0,s.Ng)((function(e){return{isBroadcast:(0,$i.S)(e)}}),{setBroadcast:qi.gW})((0,m.CI)()(Qi));var tc=r(41874),rc=r(29892),nc=r(91683),oc=r(71390),ac=r(55809),ic=r(16801),cc=r(17558);function lc(){return lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lc.apply(this,arguments)}var uc=function(e){var t=e.id,r=e.name,n=e.state,o=e.stateChangedAt;return c.createElement(ic.A,{key:t,iconPreset:n,primaryText:r,secondaryText:c.createElement(nc.A,{formatter:io.ts,date:o})})};uc.propTypes={id:i().string,name:i().string,state:i().string,stateChangedAt:i().number};var sc=function(e){var t=e.connections,r=e.onSwitchSecondaryChannel,n=e.t,o=e.useSecondaryChannel;return c.createElement(oc.A,null,t.map((function(e){return c.createElement(uc,lc({key:e.id},e))})),0===t.length&&c.createElement(ic.A,{primaryText:n("ConnectionStatusMiniList.noConnections")}),c.createElement(ac.A,null),c.createElement(R.A,{control:c.createElement(S.A,{pl:1},c.createElement(ft.A,{size:"small",checked:o,onChange:r})),label:c.createElement(O.A,{variant:"body2"},n("ConnectionStatusMiniList.useSecondaryChannel"))}))};sc.propTypes={connections:i().arrayOf(i().any),onSwitchSecondaryChannel:i().func,t:i().func,useSecondaryChannel:i().bool};const fc=(0,s.Ng)((function(e){return{connections:(0,cc.Rk)(e),useSecondaryChannel:0!==(0,xr.$D)(e)}}),{onSwitchSecondaryChannel:function(){return(0,jr.FQ)()}})((0,m.CI)()(sc));var pc=r(90),dc=r(51644),yc=["error","warning","ok"],mc={ok:ro.Ay.success,warning:ro.Ay.warning,error:ro.Ay.error};function hc(e){switch(e.state){case dc.KN.CONNECTED:return"ok";case dc.KN.CONNECTING:case dc.KN.DISCONNECTING:return"warning";default:return"error"}}var vc=(0,Ve.createSelector)(cc.Rk,(function(e){for(var t=(0,pc.A)(e,hc),r=0,n=yc;r<n.length;r++){var o=n[r];if(t[o])return{level:o,count:t[o]}}return{level:"ok",count:e.length}}));const gc=(0,s.Ng)((function(e,t){var r=vc(e),n=r.count,o=r.level;return{color:mc[o],visible:t.isAlwaysVisible?n>0:"ok"!==o}}),{})(Oi.A);function bc(e){return bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc(e)}function wc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ec(e,t,r){var n;return n=function(e,t){if("object"!=bc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=bc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==bc(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ac=function(e){return c.createElement(rc.A,{interactive:!0,content:c.createElement(fc,null),disabled:e.disabled},c.createElement(Si.Ay,e,c.createElement(gc,null),c.createElement(tc.default,null)))};Ac.propTypes=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wc(Object(r),!0).forEach((function(t){Ec(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Si.Ay.propTypes);const Sc=(0,s.Ng)((function(e){return{disabled:!(0,yn.UJ)(e)}}),(function(){return{onClick:function(){}}}))(Ac);var Oc=r(82758),xc=r(45041),jc=r(87285),kc=r(69053),Tc=["isFullscreen"];function Ic(){return Ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ic.apply(this,arguments)}function Cc(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Pc=function(e){var t=e.isFullscreen,r=Cc(e,Tc);return c.createElement(m.wD,null,(function(e){return c.createElement(Si.Ay,Ic({},r,{tooltip:e(t?"fullScreen.exit":"fullScreen.on")}),t?c.createElement(kc.A,null):c.createElement(jc.A,null))}))};Pc.propTypes={disabled:i().bool.isRequired,isFullscreen:i().bool.isRequired,label:i().string,onClick:i().func};const Lc=function(){var e=(0,c.useCallback)((function(){return xc.A.toggle()}),[]),t=(0,oi.A)();return(0,Oc.A)("change",t,xc.A),(0,Oc.A)("error",t,xc.A),c.createElement(Pc,{isFullscreen:xc.A.isFullscreen,disabled:!xc.A.isEnabled,onClick:e})};var _c=r(8721),Nc=function(){o.A.urls.help&&window.open(o.A.urls.help,"_blank")};const Rc=function(){return c.createElement(m.wD,null,(function(e){return c.createElement(Si.Ay,{id:"tour-help-button",tooltip:e("help"),onClick:Nc},c.createElement(_c.A,null))}))};var Dc=r(49974),Mc=r(94800),Fc=r(37813),Uc=r(12209);function Gc(e){return Gc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(e)}function Vc(e,t,r){var n;return n=function(e,t){if("object"!=Gc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Gc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Gc(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Bc=(0,Ve.createSelector)(Fc.ut,xr.C3,xr.Xk,(function(e,t,r){return Vc(Vc({},Uc.Pp.SHOW,e),Uc.Pp.WAYPOINT,t)[r]})),Hc=(0,Ve.createSelector)(xr.NF,xr.TF,Bc,xr.Xk,(function(e,t,r,n){return e?r?t.owner===n?Mc.n.SUCCESS:Mc.n.WARNING:Mc.n.ERROR:Mc.n.OFF}));const Wc=(0,s.Ng)((function(e){var t=Hc(e);return{color:(0,ro.VM)(t),visible:t!==Mc.n.OFF}}),{})(Oi.A);var zc=r(79259);function Yc(){return Yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yc.apply(this,arguments)}var Kc=function(e){return c.createElement(m.wD,null,(function(t){return c.createElement(Si.Ay,Yc({},e,{tooltip:t("safetyDialog.title")}),c.createElement(Wc,null),c.createElement(Dc.A,null))}))};Kc.propTypes={onClick:i().func};const qc=(0,s.Ng)(null,{onClick:zc.$0})(Kc);var $c=r(16403);r(9868);function Zc(e){return Zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(e)}function Xc(e,t,r){var n;return n=function(e,t){if("object"!=Zc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Zc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Zc(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Jc=Xc(Xc(Xc(Xc({},dc.KN.CONNECTED,(0,xe.tt)("serverConnectionStatus.connected")),dc.KN.CONNECTING,(0,xe.tt)("serverConnectionStatus.connecting")),dc.KN.DISCONNECTED,(0,xe.tt)("serverConnectionStatus.disconnected")),dc.KN.DISCONNECTING,(0,xe.tt)("serverConnectionStatus.disconnecting")),Qc=(0,xe.tt)("serverConnectionStatus.unknownState"),el=function(e){return(0,Ge.default)(e)?"unknown":Number.isFinite(e)?Math.abs(e)<1e3?"".concat(e.toFixed(0),"ms"):Math.abs(e)<=3e4?"".concat((e/1e3).toFixed(1),"s"):">30s":e<0?"-\u221e":"\u221e"},tl=function(e){var t=e.clockSkew,r=e.connectionState,n=e.roundTripTime,o=e.serverHostname,a=e.serverVersion,i=e.t;return c.createElement(oc.A,null,c.createElement(ic.A,{iconPreset:r,primaryText:(Jc[r]||Qc)(i),secondaryText:r===dc.KN.CONNECTED?o:null}),r===dc.KN.CONNECTED?c.createElement(c.Fragment,null,c.createElement(ic.A,{iconPreset:"empty",primaryText:i("serverConnectionStatus.version"),secondaryText:a}),c.createElement(ac.A,null),0===t?c.createElement(ic.A,{iconPreset:"success",primaryText:i("serverConnectionStatus.clocksSync")}):c.createElement(ic.A,{iconPreset:Math.abs(t)>n/2?"warning":"empty",primaryText:i("serverConnectionStatus.clockSkew"),secondaryText:el(t)}),c.createElement(ic.A,{iconPreset:n>tn.f?"warning":"empty",primaryText:i("serverConnectionStatus.roundTripTime"),secondaryText:el(n)})):null)};tl.propTypes={clockSkew:i().number,connectionState:i().string,roundTripTime:i().number,serverHostname:i().string,serverVersion:i().string,t:i().func};const rl=(0,s.Ng)((function(e){return{connectionState:(0,yn.IN)(e).state,clockSkew:(0,yn.li)(e),roundTripTime:(0,yn.Ye)(e),serverHostname:(0,yn.XP)(e),serverVersion:(0,yn.Nq)(e)}}),{})((0,m.CI)()(tl));function nl(e){return nl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(e)}function ol(e,t,r){var n;return n=function(e,t){if("object"!=nl(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=nl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==nl(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var al=ol(ol(ol(ol({},dc.KN.CONNECTED,ro.Ay.success),dc.KN.CONNECTING,ro.Ay.warning),dc.KN.DISCONNECTING,ro.Ay.warning),dc.KN.DISCONNECTED,ro.Ay.error);const il=(0,s.Ng)((function(e){return{color:al[(0,yn.IN)(e).state],visible:e.dialogs.serverSettings.active}}),{})(Oi.A);var cl=["hideTooltip"];function ll(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var ul=function(e){var t=e.hideTooltip,r=ll(e,cl),n=c.createElement(Si.Ay,r,c.createElement(il,null),c.createElement($c.A,null));return t?n:c.createElement(rc.A,{content:c.createElement(rl,null)},n)};ul.propTypes={hideTooltip:i().bool,onClick:i().func};const sl=(0,s.Ng)(null,{onClick:En})(ul);var fl=function(e,t,r){return"ago"===r?"Session expired":"Session expires"},pl=function(e){var t=e.expiresAt;return t?c.createElement(S.A,{alignSelf:"center",px:1,style:{color:"white",fontSize:"0.875rem",textAlign:"right"}},c.createElement("div",{style:{color:"rgba(255, 255, 255, 0.54)"}},c.createElement(nc.A,{date:t,formatter:fl})),c.createElement("div",null,c.createElement("b",null,c.createElement(nc.A,{date:t})))):null};pl.propTypes={expiresAt:i().number};const dl=(0,s.Ng)((function(e){return{expiresAt:e.session.expiresAt}}))(pl);var yl=r(48672),ml=r(70032),hl=r(45115),vl=r(41891),gl=r(14833),bl=r(50791);function wl(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return El(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return El(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function El(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Al=(0,Ve.createSelector)((function(e){return e.measurement.averagingResults}),(function(e){var t,r=e.byId,n=[],o=wl(e.order);try{for(o.s();!(t=o.n()).done;){var a=t.value;r[a]&&r[a].sampling&&n.push(a)}}catch(e){o.e(e)}finally{o.f()}return n})),Sl=function(e){return e.measurement.averagingResults.order},Ol=(0,Ve.createSelector)((function(e){return e.measurement.averagingResults}),De.Im),xl=function(e){return e.measurement.averagingResults.byId},jl=function(e,t){var r,n=xl(e),o=[],a=[],i=wl(t);try{for(i.s();!(r=i.n()).done;){var c=n[r.value];!c||(0,Ge.default)(c.mean.lat)||(0,Ge.default)(c.mean.lon)||(o.push(c.mean.lat),a.push(c.mean.lon))}}catch(e){i.e(e)}finally{i.f()}if(o.length>0)return[(0,bl.A)(a)/a.length,(0,bl.A)(o)/o.length]},kl=function(e){return e.measurement.averagingDialog.selectedUAVIds},Tl=(0,Ve.createSelector)(Sl,(function(e){return e&&e.length>0})),Il=(0,Ve.createSelector)(Sl,xl,(function(e,t){var r,n=wl(e);try{for(n.s();!(r=n.n()).done;){var o=r.value;if(t&&t[o]&&t[o].sampling)return!0}}catch(e){n.e(e)}finally{n.f()}return!1})),Cl=(0,Ve.createSelector)(kl,(function(e){return e&&e.length>0})),Pl=r(73807),Ll=(r(21699),r(11086));function _l(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Rl(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Nl(e){return function(e){if(Array.isArray(e))return Dl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Rl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rl(e,t){if(e){if("string"==typeof e)return Dl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Dl(e,t):void 0}}function Dl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ml=(0,Ve.createSelector)((function(e){return e.upload.currentJob}),(function(e){return{type:e.type||null,payload:e.payload}})),Fl=(0,Ve.createSelector)((function(e){return e.upload.currentJob}),(function(e){var t=e.type,r=e.running;return!(0,Ge.default)(t)&&r?t:null})),Ul=function(e,t){var r;return t?null===(r=e.upload.history.byId[t])||void 0===r?void 0:r.result:null},Gl=(0,Ve.createSelector)((function(e){return e.upload.queues.itemsQueued}),(function(e){return e.upload.queues.itemsInProgress}),(function(e,t){return[].concat(Nl(e),Nl(t))})),Vl=(0,Ve.createSelector)((function(e){return e.upload.queues.itemsQueued}),(function(e){return e.upload.queues.itemsWaitingToStart}),(function(e,t){return[].concat(Nl(e),Nl(t))}));function Bl(e,t){var r=e.upload.queues,n=r.itemsQueued;return r.itemsWaitingToStart.includes(t)||n.includes(t)}var Hl=function(e){var t=e.upload.queues.itemsWaitingToStart;if(t&&t.length>0)return t[0]},Wl=function(e){return e.upload.dialog},zl=function(e){var t,r;return null!==(t=null===(r=Wl(e))||void 0===r?void 0:r.selectedJob)&&void 0!==t?t:{}},Yl=(0,Ve.createSelector)(zl,(function(e){var t=e.type;return(0,Ll.lb)(t)===Ll.uw.MISSION})),Kl=function(e){return e.upload.errors},ql=(0,Ve.createSelector)((function(e){return e.upload.queues}),(function(e){var t=e.failedItems,r=e.itemsFinished,n=e.itemsInProgress,o=e.itemsQueued,a=e.itemsWaitingToStart;return{failed:Array.isArray(t)?t.length:0,finished:Array.isArray(r)?r.length:0,inProgress:Array.isArray(n)?n.length:0,waiting:(Array.isArray(o)?o.length:0)+(Array.isArray(a)?a.length:0)}})),$l=(0,Ve.createSelector)((function(e){return e.upload.queues}),(function(e){var t,r=e.failedItems,n=e.itemsFinished,o=e.itemsInProgress,a=e.itemsQueued,i={},c=_l(e.itemsWaitingToStart);try{for(c.s();!(t=c.n()).done;){i[t.value]=Mc.n.WAITING}}catch(e){c.e(e)}finally{c.f()}var l,u=_l(a);try{for(u.s();!(l=u.n()).done;){i[l.value]=Mc.n.NEXT}}catch(e){u.e(e)}finally{u.f()}var s,f=_l(o);try{for(f.s();!(s=f.n()).done;){i[s.value]=Mc.n.WARNING}}catch(e){f.e(e)}finally{f.f()}var p,d=_l(n);try{for(d.s();!(p=d.n()).done;){i[p.value]=Mc.n.SUCCESS}}catch(e){d.e(e)}finally{d.f()}var y,m=_l(r);try{for(m.s();!(y=m.n()).done;){i[y.value]=Mc.n.ERROR}}catch(e){m.e(e)}finally{m.f()}return i})),Zl=(0,Ve.createSelector)(ql,(function(e){var t=e.failed,r=e.finished,n=e.inProgress,o=t+r+n+e.waiting;return o>0?[Math.round(100*r/o),Math.round(100*(r+n)/o)]:[0,0]})),Xl=function(e){return Vl(e).length>0},Jl=function(e){return e.upload.currentJob.running},Ql=function(e){var t;return Boolean(null===(t=e.upload.settings)||void 0===t?void 0:t.autoRetry)},eu=function(e){var t;return Boolean(null===(t=e.upload.settings)||void 0===t?void 0:t.flashFailed)},tu=r(25558);const ru="parameterUpload";r(11392);function nu(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return ou(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ou(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function ou(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function au(e){var t,r=[],n=0,o=nu((e||"").split("\n"));try{for(o.s();!(t=o.n()).done;){var a=t.value;if(n++,0!==(a=a.trim()).length&&!a.startsWith("#")&&!a.startsWith("//")){var i=a.replace(",","=").indexOf("=");if(i<0)throw new Error("Line ".concat(n," does not contain an equals sign (=) or a comma."));var c=a.slice(0,i).trim(),l=a.slice(i+1).trim();if(0===c.length)throw new Error("Line ".concat(n," contains no parameter name, only a value"));r.push({name:c,value:l})}}}catch(e){o.e(e)}finally{o.f()}return r}var iu=function(e){return Boolean(e.parameters.rebootAfterUpload)};function cu(e){return 0===e.parameters.manifest.order.length}function lu(e){return e.parameters.dialog.open}var uu=(0,Ve.createSelector)((function(e){return e.parameters.manifest}),De.Im),su=(0,Ve.createSelector)(uu,iu,(function(e,t){return{items:e.map((function(e){return{name:e.name,value:e.value}})).filter((function(e){var t=e.name;return"string"==typeof t&&t.length>0})),meta:{shouldReboot:t}}})),fu=r(39777);function pu(e){return pu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(e)}function du(){du=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==pu(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(pu(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function yu(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function mu(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){yu(a,n,o,i,c,"next",e)}function c(e){yu(a,n,o,i,c,"throw",e)}i(void 0)}))}}var hu=r(89626);function vu(e){return vu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vu(e)}function gu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gu(Object(r),!0).forEach((function(t){wu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wu(e,t,r){var n;return n=function(e,t){if("object"!=vu(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=vu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==vu(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Au(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Au(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Au(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Su=function(e){var t=e.isConnected,r=e.isUploadInProgress,n=e.numberOfAveragingInProgress,o=e.showAveragingDialog,a=e.showLicenseInfoDialog,i=e.showMapCachingDialog,l=e.showParameterUploadDialog,u=e.t,s=Eu((0,c.useState)(null),2),f=s[0],p=s[1],d=function(){p(null)},y=function(e){return function(){d(),e()}},m=n>0;return c.createElement(c.Fragment,null,c.createElement(Si.Ay,{"aria-controls":"toolbox-menu","aria-haspopup":"true",tooltip:u("toolbox.tooltip"),onClick:function(e){p(e.currentTarget)}},c.createElement(Oi.A,{color:ro.Ay.warning,visible:m}),c.createElement(hl.A,null)),c.createElement(ml.A,{id:"toolbox-menu",anchorEl:f,open:Boolean(f),onClose:d},c.createElement(F.A,{onClick:y(o)},c.createElement(st.A,{primary:u("toolbox.coordinateAveraging"),secondary:n>0?u("toolbox.averagingInProgress",{number:n}):void 0})),c.createElement(F.A,{onClick:y(i)},c.createElement(st.A,{primary:u("toolbox.offlineMaps")})),c.createElement(F.A,{onClick:y(l)},c.createElement(st.A,{primary:u("toolbox.paramUpload"),secondary:r?u("toolbox.uploadInProgress"):void 0})),c.createElement(yl.A,null),c.createElement(F.A,{disabled:!t,onClick:y(a)},c.createElement(st.A,{primary:u("toolbox.licenseInfo")}))))};Su.propTypes=bu(bu({},Si.Ay.propTypes),{},{isConnected:i().bool,isUploadInProgress:i().bool,numberOfAveragingInProgress:i().number,showAveragingDialog:i().func,showMapCachingDialog:i().func,showParameterUploadDialog:i().func,showLicenseInfoDialog:i().func,t:i().func});const Ou=(0,s.Ng)((function(e){return{isConnected:(0,yn.UJ)(e),isUploadInProgress:Jl(e),numberOfAveragingInProgress:Al(e).length}}),{showAveragingDialog:Pl.Q3,showLicenseInfoDialog:vl.$u,showMapCachingDialog:gl.ne,showParameterUploadDialog:function(){return function(e,t){e(Fl(t())===ru?(0,tu.dH)({backAction:(0,fu.h5)()}):(0,fu.h5)())}},showVersionCheckDialog:hu._U})((0,m.CI)()(Su));var xu=r(29008),ju=r(58235),ku=r(12857),Tu=r(15133),Iu=r(56084),Cu=(r(5506),r(64741)),Pu=r(40961);const Lu=(0,_r.A)(c.createElement("path",{d:"M 19,19 H 5 V 5 h 7 V 3 H 5 C 3.89,3 3,3.9 3,5 v 14 c 0,1.1 0.89,2 2,2 h 14 c 1.1,0 2,-0.9 2,-2 v -7 h -2 z m -4.24,-2.76 v -2 H 11.17 L 21,4.41 19.59,3 9.76,12.83 V 9.24 h -2 v 7 z"}),"RestoreWindow");var _u=function(e){return e.detachablePanels.detachedPanels},Nu=function(e,t){return e.detachablePanels.detachedPanels.includes(t)},Ru=r(82050);function Du(e){return Du="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(e)}var Mu=["glContainer"];function Fu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Uu(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Gu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Yu(n.key),n)}}function Vu(e,t,r){return t=Hu(t),function(e,t){if(t&&("object"===Du(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Bu()?Reflect.construct(t,r||[],Hu(e).constructor):t.apply(e,r))}function Bu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Bu=function(){return!!e})()}function Hu(e){return Hu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hu(e)}function Wu(e,t){return Wu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Wu(e,t)}function zu(e,t,r){return(t=Yu(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yu(e){var t=function(e,t){if("object"!=Du(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Du(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Du(t)?t:t+""}function Ku(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var $u=function(e){var t=e.element[0].querySelector(".portal-container");if(null!==t)return t;var r=document.createElement("div");return r.classList.add("portal-container"),r.style.display="inline-block",e.titleElement[0].after(r),r},Zu=function(e){var t=e.glContainer,r=e.label,n=e.onClick,o=Ku((0,c.useState)($u(t.tab)),2),a=o[0],i=o[1];(0,c.useEffect)((function(){var e=function(e){return i($u(e))};return t.on("tab",e),function(){t.off("tab",e)}}),[t]);var l=c.createElement("div",{style:{width:"18px",height:"18px",position:"relative",marginLeft:"5px",marginRight:"-10px"}},c.createElement("ul",{className:"lm_controls"},c.createElement("li",{className:"lm_popout",title:"Detach ".concat(r," panel"),onClick:n})));return Pu.createPortal(l,a)};Zu.propTypes={glContainer:i().object.isRequired,label:i().string.isRequired,onClick:i().func};var Xu=function(e){var t=e.children,r=e.detached,n=e.glContainer,o=e.label,a=e.onAttach,i=e.onDetach;return r?c.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-around",height:"100%",textAlign:"center"}},c.createElement("div",null,o," panel has been detached.",c.createElement("div",{style:{minHeight:"1em"}}),c.createElement(x.A,{variant:"outlined",startIcon:c.createElement(Lu,null),onClick:a},"Attach"))):c.createElement(c.Fragment,null,c.createElement(Zu,{glContainer:n,label:o,onClick:i}),t)};Xu.propTypes={children:i().node.isRequired,detached:i().bool.isRequired,glContainer:i().object.isRequired,label:i().string.isRequired,onAttach:i().func.isRequired,onDetach:i().func.isRequired};var Ju=(0,s.Ng)((function(e,t){return{detached:Nu(e,t.name)}}),(function(e,t){var r=t.name;return{onAttach:function(){e((0,Ru.yv)(r))},onDetach:function(){e((0,Ru.kX)(r))}}}))(Xu);var Qu=function(e,t,r){var n;return n=function(n){function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Vu(this,o,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wu(e,t)}(o,n),a=o,i=[{key:"render",value:function(){var n=this.props,o=n.glContainer,a=Uu(n,Mu);return c.createElement(Ju,{glContainer:o,name:e,label:t},c.createElement(r,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fu(Object(r),!0).forEach((function(t){zu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({glContainer:o},a)))}}],i&&Gu(a.prototype,i),l&&Gu(a,l),Object.defineProperty(a,"prototype",{writable:!1}),a;var a,i,l}(c.Component),zu(n,"propTypes",{glContainer:i().object.isRequired}),n};const es={default:{label:"Default",layout:{type:"columns",contents:[{type:"stack",contents:[{type:"panel",component:"map",id:"map"},{type:"panel",component:"uav-list",id:"uavs"},{type:"panel",component:"three-d-view",id:"threeDView"}]},{type:"rows",contents:[{type:"stack",contents:[{type:"panel",component:"lcd-clock-panel",id:"clocks"},{type:"panel",component:"saved-location-list",id:"locations"},{type:"panel",component:"layer-list",id:"layers"}],height:25},{type:"stack",contents:[{type:"panel",component:"show-control",id:"show"},{type:"panel",component:"light-control",id:"lights"}]}],width:25}]}}};function ts(e){return ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ts(e)}function rs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ns(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rs(Object(r),!0).forEach((function(t){os(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function os(e,t,r){var n;return n=function(e,t){if("object"!=ts(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ts(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ts(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function as(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return is(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return is(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function is(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var cs=function e(t,r){var n=r.perspectiveBuilder,o=r.componentRegistry;switch(t.type){case"columns":case"rows":case"stack":n[{rows:"makeRows",columns:"makeColumns",stack:"makeStack"}[t.type]]();var a,i=as(t.contents);try{for(i.s();!(a=i.n()).done;){e(a.value,r)}}catch(e){i.e(e)}finally{i.f()}n.finish();break;case"panel":n.add(t.component).setTitle(o[t.component].label),t.id&&n.setId(t.id);break;default:throw new Error("Unknown layout type: ".concat(t.type))}t.width&&n.setRelativeWidth(t.width),t.height&&n.setRelativeHeight(t.height)},ls=function(e,t){return function(r){for(var n=("string"==typeof r?{inherits:r}:r)||{};n.inherits;){var o=es[n.inherits]||{};delete n.inherits,n=ns(ns({},o),n)}var a=n,i=a.hideHeaders,c=a.isFixed,l=a.label,s=a.layout,f=new u.OK(t);return cs(s,{perspectiveBuilder:f,componentRegistry:e}),{label:l,isFixed:c,state:{content:f.build(),settings:{hasHeaders:!i}}}}},us=r(16122),ss=r(9383),fs=r(23287),ps=r(45056),ds=r(25196),ys=r(3280),ms=r(61124),hs=r(34902),vs=r(61506),gs=r(45940),bs=r(98999),ws=["onItemActivated","onSelectionChanged","selectedIds"];function Es(){return Es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Es.apply(this,arguments)}function As(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Ss=(0,ms.T_)((function(e,t,r){var n=e.position?c.createElement(pt.default,{content:"Show on map"},c.createElement(W.A,{edge:"end",onClick:function(){return(0,bs.K$)(e.position)}},c.createElement(ys.A,null))):null;return c.createElement(lt.A,{key:e.id,button:!0,className:r?"selected-list-item":void 0,onClick:t.onItemSelected},c.createElement(ju.default,{status:e.active?"success":"error"}),c.createElement(st.A,{primary:(0,gs.op)(e)}),c.createElement(ds.A,null,n))}),{backgroundHint:"No beacons",dataProvider:"beacons"}),Os=function(e){var t=e.onItemActivated,r=e.onSelectionChanged,n=e.selectedIds,o=As(e,ws);return c.createElement(S.A,{display:"flex",flexDirection:"column",height:"100%"},c.createElement(S.A,{height:"100%",overflow:"auto"},c.createElement(Ss,Es({dense:!0,value:n||[],onActivate:t,onChange:r},o))))};Os.propTypes={selectedIds:i().arrayOf(i().string).isRequired,onItemActivated:i().func,onSelectionChanged:i().func};const xs=(0,s.Ng)((function(e){return{beacons:(0,gs.le)(e),selectedIds:(0,gs.iE)(e)}}),{onSelectionChanged:function(e){return(0,hs.td)(e.map(vs.LM))}})(Os);var js=r(78861),ks=r(71355),Ts=r(91841);function Is(e){return Is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Is(e)}function Cs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ps(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cs(Object(r),!0).forEach((function(t){Ls(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ls(e,t,r){var n;return n=function(e,t){if("object"!=Is(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Is(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Is(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _s=function(e,t){return e.clocks.byId[t]},Ns=(0,Ve.createSelector)((function(e){return e.clocks}),De.Im),Rs=(0,Ve.createSelector)(Ns,(function(e){return e.map((function(e){return Ps(Ps({},e),{},{updateInterval:(0,Ts.Px)(e)})}))})),Ds=[c.createElement(to.A,{key:"stop",style:{backgroundColor:At.A.A700}},c.createElement(ks.A,null)),c.createElement(to.A,{key:"play",style:{backgroundColor:wt.A[500]}},c.createElement(js.A,null))],Ms=function(e){var t=e.affectedByClockSkew,r=e.clock,n=e.clockSkew,o=e.format,a=r.running,i=r.updateInterval,l=Ds[a?1:0],u=(0,Ts.Ag)(r),s=Date.now()+(t&&!(0,Ge.default)(n)?n:0),f=(0,Ts.b0)(r,s),p=(0,Ts.bj)(f,r,{format:o}),d=(0,oi.A)();return(0,ai.A)(d,a?i:null),c.createElement(lt.A,null,c.createElement(ut.A,null,l),c.createElement(st.A,{primary:p,secondary:u}))};Ms.propTypes={affectedByClockSkew:i().bool,clock:i().shape({epoch:i().number,id:i().string.isRequired,referenceTime:i().number.isRequired,ticks:i().number.isRequired,ticksPerSecond:i().number.isRequired,running:i().bool.isRequired,updateInterval:i().number.isRequired}),clockSkew:i().number,format:i().oneOfType([i().string,i().func])},Ms.defaultProps={affectedByClockSkew:!1,clockSkew:0,format:"yyyy-MM-dd HH:mm:ss xx"};var Fs=(0,ms.c3)((function(e){return c.createElement(Ms,{key:e.id,clock:e})}),{dataProvider:"clocks",displayName:"ClockDisplayListPresentation",backgroundHint:"No clocks"});const Us=(0,s.Ng)((function(e){return{clocks:Rs(e),dense:!0}}),void 0)(Fs);var Gs=r(9169);function Vs(e){return Vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vs(e)}function Bs(){return Bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bs.apply(this,arguments)}function Hs(e,t,r){var n;return n=function(e,t){if("object"!=Vs(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Vs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Vs(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ws=Hs(Hs(Hs(Hs({},dc.KN.CONNECTED,c.createElement(ut.A,{style:{color:wt.A[500]}},c.createElement(Ot.default,null))),dc.KN.CONNECTING,c.createElement(ut.A,{style:{color:Et.A[700]}},c.createElement(tc.default,null))),dc.KN.DISCONNECTED,c.createElement(ut.A,{style:{color:At.A.A700}},c.createElement(Y.default,null))),dc.KN.DISCONNECTING,c.createElement(ut.A,{style:{color:Et.A[700]}},c.createElement(tc.default,null))),zs=c.createElement(ut.A,{style:{color:Gs.A[500]}},c.createElement(_c.A,null)),Ys=Hs(Hs(Hs(Hs({},dc.KN.CONNECTED,"Connected"),dc.KN.CONNECTING,"Connecting"),dc.KN.DISCONNECTED,"Disconnected"),dc.KN.DISCONNECTING,"Disconnecting"),Ks=function(e){var t=e.action,r=e.name,n=e.state,o=e.stateChangedAt,a=Ws[n]||zs,i=o?c.createElement(nc.A,{date:o}):null,l=t?c.createElement(W.A,{edge:"end",onClick:t},c.createElement(Di.A,null)):null,u=Ys[n]||"Unknown state";return i&&(u=c.createElement("span",null,u," ",i)),c.createElement(lt.A,null,a,c.createElement(st.A,{primary:r,secondary:u}),c.createElement(ds.A,null,l))};Ks.propTypes={name:i().string.isRequired,state:i().string.isRequired,stateChangedAt:i().number,action:i().func};var qs=(0,ms.c3)((function(e){return c.createElement(Ks,Bs({key:e.id},e))}),{backgroundHint:"No connections",dataProvider:"connections",displayName:"ConnectionListPresentation"});const $s=(0,s.Ng)((function(e){return{connections:(0,cc.Rk)(e)}}),(function(e){return{onShowSettings:function(){e(En())}}}))(qs);var Zs=(0,Ve.createSelector)((function(e){return e.datasets}),De.Im),Xs=function(){return c.createElement(lt.A,null,c.createElement(st.A,{primary:"Dataset"}))};Xs.propTypes={id:i().string.isRequired},Xs.defaultProps={};var Js=(0,ms.c3)(Xs,{backgroundHint:"No datasets",dataProvider:"datasets",displayName:"DatasetListPresentation"});const Qs=(0,s.Ng)((function(e){return{datasets:Zs(e),dense:!0}}),void 0)(Js);var ef=r(42605),tf=r(42821),rf=["onItemActivated","onSelectionChanged","selectedIds"];function nf(){return nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nf.apply(this,arguments)}function of(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var af=(0,ms.T_)((function(e,t,r){var n=e.position?c.createElement(pt.default,{content:"Show on map"},c.createElement(W.A,{edge:"end",onClick:function(){return(0,bs.K$)(e.position)}},c.createElement(ys.A,null))):null;return c.createElement(lt.A,{key:e.id,button:!0,className:r?"selected-list-item":void 0,onClick:t.onItemSelected},c.createElement(st.A,{primary:e.id}),c.createElement(ds.A,null,n))}),{backgroundHint:"No docking stations",dataProvider:"docks"}),cf=function(e){var t=e.onItemActivated,r=e.onSelectionChanged,n=e.selectedIds,o=of(e,rf);return c.createElement(S.A,{display:"flex",flexDirection:"column",height:"100%"},c.createElement(S.A,{height:"100%",overflow:"auto"},c.createElement(af,nf({dense:!0,value:n||[],onActivate:t,onChange:r},o))))};cf.propTypes={selectedIds:i().arrayOf(i().string).isRequired,onItemActivated:i().func,onSelectionChanged:i().func};const lf=(0,s.Ng)((function(e){return{docks:(0,tf.Q)(e),selectedIds:(0,tf.z)(e)}}),{onItemActivated:ef.E9,onSelectionChanged:function(e){return(0,hs.td)(e.map(vs.Kg))}})(cf);var uf=r(24711),sf=r(76771),ff=r(67114),pf=r(82788),df=r(16923),yf=r(47546);function mf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return hf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const vf=function(){var e=mf((0,c.useState)(null),2),t=e[0],r=e[1];return[t,function(e){return r(e.currentTarget)},function e(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];if(n.length>0){if("function"==typeof n[0])return function(t){n[0](t),e()};if(void 0===n[0])return}r(null)}]};function gf(e){return gf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(e)}var bf=["featuresByIds"],wf=["onSetFeatureVisibility"];function Ef(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Af(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ef(Object(r),!0).forEach((function(t){Sf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ef(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Sf(e,t,r){var n;return n=function(e,t){if("object"!=gf(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=gf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==gf(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Of(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function xf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var kf=(0,St.A)({container:{containerType:"inline-size"},item:{"@container (min-width: 351px)":{paddingRight:function(e){return 24*e.actions.length+12*(e.actions.length+1)}}},button:{"@container (max-width: 350px)":{display:"none"}},menu:{"@container (min-width: 351px)":{display:"none"}}},{name:"FeatureList"}),Tf=function(e){var t=e.feature,r=e.onEditFeature,n=e.onFocusFeature,o=e.onRemoveFeature,a=e.onSelectFeature,i=e.onToggleFeatureVisibility,l=e.selected,u=t.id,s=t.color,f=t.label,p=t.type,d=t.visible,y=(0,kr.tX)(p),m=[{action:n,icon:c.createElement(sf.A,null),key:"focus",label:"Focus feature"},{action:i,icon:d?c.createElement(pf.A,null):c.createElement(df.A,{color:"disabled"}),key:"visibility",label:"Toggle visibility"},{action:r,icon:c.createElement(ia.A,null),key:"edit",label:"Feature properties"},{action:o,icon:c.createElement(uf.A,null),key:"delete",label:"Remove"}],h=kf({actions:m}),v=c.createElement(c.Fragment,null,m.map((function(e){var t=e.action,r=e.icon,n=e.key,o=e.label;return c.createElement(yf.W1,{key:n,content:o},c.createElement(W.A,{className:h.button,edge:"end","data-id":u,onClick:t},r))}))),g=xf(vf(),3),b=g[0],w=g[1],E=g[2],A=c.createElement(c.Fragment,null,c.createElement(W.A,{className:h.menu,edge:"end",onClick:w},c.createElement(ff.A,null)),c.createElement(ml.A,{anchorEl:b,open:null!==b,variant:"menu",onClose:E},m.map((function(e){var t=e.action,r=e.icon,n=e.key,o=e.label;return c.createElement(F.A,{key:n,"data-id":u,onClick:E(t)},c.createElement(ut.A,null,r),c.createElement(st.A,{primary:o}))}))));return c.createElement(lt.A,{button:!0,ContainerProps:{className:h.container},className:h.item,selected:l,"data-id":u,onClick:a},c.createElement(ut.A,{style:{color:s,minWidth:0,marginRight:"16px"}},c.createElement(y,null)),f?c.createElement(st.A,{style:{overflowWrap:"break-word"},primary:f}):c.createElement(st.A,{secondary:(0,kr.rv)(p)}),c.createElement(ds.A,null,v,A))};Tf.propTypes={onEditFeature:i().func,onFocusFeature:i().func,onRemoveFeature:i().func,onSelectFeature:i().func,onToggleFeatureVisibility:i().func,feature:i().object.isRequired,selected:i().bool};var If=(0,ms.c3)((function(e,t){var r=t.onEditFeature,n=t.onFocusFeature,o=t.onRemoveFeature,a=t.onSelectFeature,i=t.onToggleFeatureVisibility,l=t.selectedFeatureIds;return c.createElement(Tf,{key:e.id,feature:e,selected:l.includes(e.id),onEditFeature:r,onFocusFeature:n,onRemoveFeature:o,onSelectFeature:a,onToggleFeatureVisibility:i})}),{backgroundHint:"No features",dataProvider:"features",displayName:"FeatureListPresentation"});const Cf=(0,s.Ng)((function(e){return{dense:!0,features:(0,br.VQ)(e),featuresByIds:(0,br.vz)(e),selectedFeatureIds:(0,br.sU)(e)}}),(function(e){return{onEditFeature:function(t){var r=t.currentTarget.dataset.id;r&&e((0,gr.jQ)(r))},onRemoveFeature:function(t){var r=t.currentTarget.dataset.id;r&&e((0,wr.Hk)([r]))},onSelectFeature:function(t){var r=t.currentTarget.dataset.id,n=t.shiftKey?hs.Dh:t.altKey?hs.D$:t.ctrlKey||t.metaKey?hs.CY:hs.td;r&&e(n([(0,vs.Du)(r)]))},onSetFeatureVisibility:function(t,r){var n=t.currentTarget.dataset.id;n&&e((0,wr.Ui)({id:n,visible:r}))}}}),(function(e,t,r){var n=e.featuresByIds,o=Of(e,bf),a=t.onSetFeatureVisibility,i=Of(t,wf);return Af(Af(Af(Af({},r),o),i),{},{onFocusFeature:function(e){var t=e.currentTarget.dataset.id;t&&(0,bs.eg)(n[t].points)},onToggleFeatureVisibility:function(e){var t=e.currentTarget.dataset.id;t&&a(e,!n[t].visible)}})}))(If);r(46449),r(93514);var Pf=r(11365),Lf=r(48185),_f=r.n(Lf),Nf=r(3148),Rf=r(35376),Df=r(93107),Mf=r(49648),Ff=r(78707);function Uf(e){return Uf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(e)}function Gf(){Gf=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==Uf(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(Uf(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function Vf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vf(Object(r),!0).forEach((function(t){Hf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Hf(e,t,r){var n;return n=function(e,t){if("object"!=Uf(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Uf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Uf(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||Yf(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zf(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Yf(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Yf(e,t){if(e){if("string"==typeof e)return Kf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Kf(e,t):void 0}}function Kf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qf(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}var $f=(0,St.A)((function(e){return{root:{background:e.palette.action.hover,padding:e.spacing(0,1)}}}),{name:"FeaturePanelToolbar"}),Zf=function(e){var t=e.importShapeFile,r=$f();return c.createElement(Nf.A,{square:!0,className:r.root,elevation:4},c.createElement(Rf.A,{disableGutters:!0,variant:"dense",style:{height:36,minHeight:36}},c.createElement(Df.A,{size:"small",filter:["application/zip"],startIcon:c.createElement(it.A,null),onSelected:t},"Import shapefile")))};Zf.propTypes={importShapeFile:i().func};const Xf=(0,s.Ng)(null,(function(e){return{importShapeFile:function(t){return(r=Gf().mark((function r(){var n,o,a,i;return Gf().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,Ff.g6)(t);case 3:return n=r.sent,r.next=6,_f()(n);case 6:r.t0=r.sent,o=[r.t0].flat(),a=new Pf.A({featureProjection:"EPSG:3857"}),i=0,(0,s.vA)((function(){var t,r=zf(o);try{for(r.s();!(t=r.n()).done;){var n,c=t.value,l=a.readFeatures(c).flatMap((function(e){return(0,Mf.o3)(e)})),u=zf(l.entries());try{for(u.s();!(n=u.n()).done;){var s=Wf(n.value,2),f=s[0],p=s[1],d=0===f?"":" (".concat(f,")");e((0,gr.zT)(Bf(Bf({},p),{},{label:c.fileName+d,owner:"user"}),c.fileName)),i++}}catch(e){u.e(e)}finally{u.f()}}}catch(e){r.e(e)}finally{r.f()}})),e((0,ku.Te)("Successfully imported ".concat(i," feature").concat(i>1?"s":""))),r.next=17;break;case 14:r.prev=14,r.t1=r.catch(0),e((0,ku.Qg)("Error while importing shapefile: ".concat(r.t1)));case 17:case"end":return r.stop()}}),r,null,[[0,14]])})),function(){var e=this,t=arguments;return new Promise((function(n,o){var a=r.apply(e,t);function i(e){qf(a,n,o,i,c,"next",e)}function c(e){qf(a,n,o,i,c,"throw",e)}i(void 0)}))})();var r}}}))(Zf);const Jf=function(){return c.createElement(S.A,{display:"flex",flexDirection:"column",height:"100%"},c.createElement(S.A,{height:"100%",style:{overflowY:"auto"}},c.createElement(Cf,null)),c.createElement(Xf,null))};var Qf=r(79239);function ep(e){return function(e){if(Array.isArray(e))return tp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return tp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tp(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var rp=function(e){return c.createElement(lt.A,{key:"__newItem__",button:!0,onClick:e.onNewItem},c.createElement(ut.A,null,c.createElement(Qf.A,null)),c.createElement(st.A,{primary:"Add new layer"}))},np=(0,ms.k3)((function(e,t){var r=(0,Mo.AT)(e.type);return c.createElement(lt.A,{key:e.id,button:!0,style:e.visible?void 0:{opacity:.3},onClick:t.onItemSelected},r&&c.createElement(ut.A,null,r),c.createElement(st.A,{primary:e.label,secondary:(0,Mo.Pr)(e.type)}))}),{dataProvider:"layers",postprocess:function(e,t){return[rp(t)].concat(ep(e))}});np.propTypes={onChange:i().func,onNewItem:i().func,layers:i().arrayOf(i().oneOfType([i().object,i().string])).isRequired};const op=(0,s.Ng)((function(e){return{dense:!0,layers:(0,cc.mg)(e)}}),(function(e){return{onChange:function(t,r){e((0,Ro.Mj)(r.id))},onNewItem:function(){var t=(0,Do.VE)();e(t),t.id&&e((0,Ro.Mj)(t.id))}}}))(np);var ap=r(44522),ip=r(59304);function cp(e){return cp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cp(e)}var lp=["children","color","decoration","height","off","offSegments","variant"];function up(){return up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},up.apply(this,arguments)}function sp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sp(Object(r),!0).forEach((function(t){pp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pp(e,t,r){var n;return n=function(e,t){if("object"!=cp(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=cp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==cp(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dp(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}r(94746);var yp={default:{},"7segment":{fontFamily:"DSEG7-Classic",allSegmentsChar:"8"},"14segment":{fontFamily:"DSEG14-Classic",allSegmentsChar:"~"}},mp={position:"absolute",left:0,top:0,opacity:.2},hp=function(e){var t=e.children,r=e.color,n=e.decoration,o=e.height,a=e.off,i=e.offSegments,l=e.variant,u=dp(e,lp),s=(0,c.useMemo)((function(){var e=void 0===o?void 0:Math.floor(.7*o),t={fontSize:e,height:o};if(void 0!==r&&(t.color=r),a&&(t.opacity=.3),!a)switch(n){case"glow":var i=void 0===e?4:Math.round(e);t.textShadow="0 0 ".concat(i,"px ").concat(r||"currentColor");break;case"shadow":var c=void 0===e||e<=16?1:2,l=new(eo())(r||"black").alpha(.3).string();t.textShadow="".concat(c,"px ").concat(c,"px 0 ").concat(l)}return t.transition="color 150ms",t}),[r,n,o,a]),f=(0,c.useMemo)((function(){var e=Math.floor(.7*o);return fp(fp({},mp),{},{color:r||"black",fontSize:e,height:o})}),[r,o]);return l=l||"default",c.createElement(S.A,up({position:"relative",display:"inline-block",fontFamily:yp[l].fontFamily},u),i&&"default"!==l&&c.createElement("div",{style:f},t.replace(/[^:. ]/g,yp[l].allSegmentsChar||"")),c.createElement("div",{style:s},t))};hp.propTypes={children:i().node,color:i().string,decoration:i().oneOf(["plain","glow","shadow"]),height:i().number,off:i().bool,offSegments:i().bool,variant:i().oneOf(["default","7segment","14segment"])},hp.defaultProps={decoration:"plain",variant:"default"};const vp=hp;function gp(){return gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gp.apply(this,arguments)}var bp=function(e){var t=e.clocks,r=e.lcdStyle,n=e.onClick,o=e.selectedClockId;return t.map((function(e){return c.createElement(vp,gp({key:e.id},r,{p:.5,off:e.id!==o,onClick:e.id!==o&&n?function(){return n(e.id)}:void 0}),e.label)}))};bp.propTypes={clocks:i().arrayOf(i().shape({id:i().string,label:i().string})),lcdStyle:i().object,onClock:i().func,selectedClockId:i().string};const wp=bp;var Ep=["affectedByClockSkew","clock","clockId","clockSkew","format","signed","updateInterval"];function Ap(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Sp=function(e){var t=e.affectedByClockSkew,r=e.clock,n=(e.clockId,e.clockSkew),o=e.format,a=e.signed,i=e.updateInterval,l=Ap(e,Ep),u=(r||{}).running,s=Date.now()+(t&&!(0,Ge.default)(n)?n:0),f=r?(0,Ts.b0)(r,s):void 0,p=void 0===f?"--:--:--":(0,Ts.bj)(f,r,{format:o}),d=(0,oi.A)();return a&&"-"!==p.charAt(0)&&(p="!"+p),(0,ai.A)(d,u?i:null),c.createElement(vp,l,p)};Sp.propTypes={affectedByClockSkew:i().bool,clock:i().object,clockId:i().string,clockSkew:i().number,format:i().string,signed:i().bool,updateInterval:i().number},Sp.defaultProps={format:"HH:mm:ss"};const Op=(0,s.Ng)((function(e,t){var r=_s(e,t.clockId),n=(0,Ts.$t)(r),o=(0,Ts.KK)(r),a=(0,Ts.Px)(r);return{affectedByClockSkew:o,clock:r,clockSkew:(0,yn.li)(e),signed:n,updateInterval:a}}),{})(Sp),xp=5;r(33771),r(26910);var jp=r(41470);function kp(e){return function(e){if(Array.isArray(e))return Cp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ip(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tp(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Ip(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Ip(e,t){if(e){if("string"==typeof e)return Cp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Cp(e,t):void 0}}function Cp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Pp=function(e,t){var r=e.lcdClock.byId[t];return r?r.clockId:void 0},Lp=function(e,t){var r=e.lcdClock.byId[t];return r?r.preset:0},_p=(0,Ve.createSelector)(Ns,(function(e){for(var t=e.map((function(e){return{id:e.id,label:(0,Ts.SQ)(e)}})),r=(0,pc.A)(t,"label"),n=0,o=Object.keys(r);n<o.length;n++){var a=o[n];if(r[a]>1){var i,c=1,l=Tp(t);try{for(l.s();!(i=l.n()).done;){var u=i.value;u.label===a&&(u.label="".concat(a).concat(c),c++)}}catch(e){l.e(e)}finally{l.f()}}}return t})),Np=((0,Ve.createSelector)((function(e){return e.lcdClock}),De.Im),function(e){var t,r=e.lcdClock,n=r.byId,o=r.order.map((function(e){return n[e]?n[e].clockId:void 0})).filter(Boolean),a=Tp(Ns(e));try{for(a.s();!(t=a.n()).done;){var i=t.value;if(!o.includes(i.id))return i.id}}catch(e){a.e(e)}finally{a.f()}var c=(0,pc.A)(o),l=Math.min.apply(Math,kp(Object.values(c))),u=Object.keys((0,jp.A)(c,(function(e){return e===l})));return u.sort(),u[0]}),Rp=function(e){var t,r=e.lcdClock,n=r.byId,o=r.order,a=new Array(xp).fill(0),i=Tp(o);try{for(i.s();!(t=i.n()).done;){var c=n[t.value];c&&"number"==typeof c.preset&&c.preset>=0&&c.preset<xp&&a[c.preset]++}}catch(e){i.e(e)}finally{i.f()}return a.indexOf(Math.min.apply(Math,kp(a)))},Dp=r(38595);function Mp(e){return Mp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mp(e)}var Fp=["clocks","id","onAdd","onClockSelected","onNextPreset","onRemove","preset","selectedClockId","hideInactiveSegmentsOnDarkLCD","style"];function Up(){return Up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Up.apply(this,arguments)}function Gp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vp(e,t,r){var n;return n=function(e,t){if("object"!=Mp(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Mp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Mp(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Hp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wp(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var zp=(0,St.A)((function(e){return{root:{alignItems:"stretch",borderBottom:"light"===e.palette.type?"4px solid #f4f4f4":"4px solid black",display:"flex",flexDirection:"column",height:"100%",overflow:"hidden",position:"relative",userSelect:"none",boxShadow:"light"===e.palette.type?"0 0 6px 2px rgba(0, 0, 0, 0.4) inset":void 0,transition:"background-color 150ms","&:last-child":{borderBottom:"none"}},button:{width:24,textAlign:"center",lineHeight:"24px"}}}),{name:"LCDClockDisplay"}),Yp={dark:[{backgroundColor:"black",color:function(e){return e.palette.secondary.main}},{backgroundColor:"black",color:"#f00"},{backgroundColor:"black",color:"#0f0"},{backgroundColor:"black",color:"#fc0"},{backgroundColor:"black",color:"#c0f"}],light:[{backgroundColor:"rgb(149, 177, 89)",color:"black",noise:!0},{backgroundColor:"#f80",color:"black",noise:!0},{backgroundColor:"#0cf",color:"black",noise:!0},{backgroundColor:"#fc0",color:"black",noise:!0},{backgroundColor:"#4fc",color:"black",noise:!0}]},Kp=function(e,t,r){return("function"==typeof t?t(e):t)||r},qp=function(e){var t=e.clocks,r=(e.id,e.onAdd),o=e.onClockSelected,a=e.onNextPreset,i=e.onRemove,l=e.preset,u=e.selectedClockId,s=e.hideInactiveSegmentsOnDarkLCD,f=e.style,p=Wp(e,Fp),d=zp(),y=(0,nr.A)(),m=Bp((0,ap.A)(),2),h=m[0],v=m[1],g=v.height,b=v.width,w=(0,jt.isThemeDark)(y)?"dark":"light",E=Yp[w][l]||Yp[w][0],A="dark"===w?{color:Kp(y,E.color,y.palette.secondary.main),decoration:"glow",offSegments:!s}:{color:Kp(y,E.color,"black"),decoration:"shadow"},O=b>0&&g>0?Math.floor(b<5*g?b/5:g):0,x=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gp(Object(r),!0).forEach((function(t){Vp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({backgroundColor:Kp(y,E.backgroundColor,"black"),backgroundImage:Kp(y,E.noise,!1)?"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAUVBMVEWFhYWDg4N3d3dtbW17e3t1dXWBgYGHh4d5eXlzc3OLi4ubm5uVlZWPj4+NjY19fX2JiYl/f39ra2uRkZGZmZlpaWmXl5dvb29xcXGTk5NnZ2c8TV1mAAAAG3RSTlNAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAvEOwtAAAFVklEQVR4XpWWB67c2BUFb3g557T/hRo9/WUMZHlgr4Bg8Z4qQgQJlHI4A8SzFVrapvmTF9O7dmYRFZ60YiBhJRCgh1FYhiLAmdvX0CzTOpNE77ME0Zty/nWWzchDtiqrmQDeuv3powQ5ta2eN0FY0InkqDD73lT9c9lEzwUNqgFHs9VQce3TVClFCQrSTfOiYkVJQBmpbq2L6iZavPnAPcoU0dSw0SUTqz/GtrGuXfbyyBniKykOWQWGqwwMA7QiYAxi+IlPdqo+hYHnUt5ZPfnsHJyNiDtnpJyayNBkF6cWoYGAMY92U2hXHF/C1M8uP/ZtYdiuj26UdAdQQSXQErwSOMzt/XWRWAz5GuSBIkwG1H3FabJ2OsUOUhGC6tK4EMtJO0ttC6IBD3kM0ve0tJwMdSfjZo+EEISaeTr9P3wYrGjXqyC1krcKdhMpxEnt5JetoulscpyzhXN5FRpuPHvbeQaKxFAEB6EN+cYN6xD7RYGpXpNndMmZgM5Dcs3YSNFDHUo2LGfZuukSWyUYirJAdYbF3MfqEKmjM+I2EfhA94iG3L7uKrR+GdWD73ydlIB+6hgref1QTlmgmbM3/LeX5GI1Ux1RWpgxpLuZ2+I+IjzZ8wqE4nilvQdkUdfhzI5QDWy+kw5Wgg2pGpeEVeCCA7b85BO3F9DzxB3cdqvBzWcmzbyMiqhzuYqtHRVG2y4x+KOlnyqla8AoWWpuBoYRxzXrfKuILl6SfiWCbjxoZJUaCBj1CjH7GIaDbc9kqBY3W/Rgjda1iqQcOJu2WW+76pZC9QG7M00dffe9hNnseupFL53r8F7YHSwJWUKP2q+k7RdsxyOB11n0xtOvnW4irMMFNV4H0uqwS5ExsmP9AxbDTc9JwgneAT5vTiUSm1E7BSflSt3bfa1tv8Di3R8n3Af7MNWzs49hmauE2wP+ttrq+AsWpFG2awvsuOqbipWHgtuvuaAE+A1Z/7gC9hesnr+7wqCwG8c5yAg3AL1fm8T9AZtp/bbJGwl1pNrE7RuOX7PeMRUERVaPpEs+yqeoSmuOlokqw49pgomjLeh7icHNlG19yjs6XXOMedYm5xH2YxpV2tc0Ro2jJfxC50ApuxGob7lMsxfTbeUv07TyYxpeLucEH1gNd4IKH2LAg5TdVhlCafZvpskfncCfx8pOhJzd76bJWeYFnFciwcYfubRc12Ip/ppIhA1/mSZ/RxjFDrJC5xifFjJpY2Xl5zXdguFqYyTR1zSp1Y9p+tktDYYSNflcxI0iyO4TPBdlRcpeqjK/piF5bklq77VSEaA+z8qmJTFzIWiitbnzR794USKBUaT0NTEsVjZqLaFVqJoPN9ODG70IPbfBHKK+/q/AWR0tJzYHRULOa4MP+W/HfGadZUbfw177G7j/OGbIs8TahLyynl4X4RinF793Oz+BU0saXtUHrVBFT/DnA3ctNPoGbs4hRIjTok8i+algT1lTHi4SxFvONKNrgQFAq2/gFnWMXgwffgYMJpiKYkmW3tTg3ZQ9Jq+f8XN+A5eeUKHWvJWJ2sgJ1Sop+wwhqFVijqWaJhwtD8MNlSBeWNNWTa5Z5kPZw5+LbVT99wqTdx29lMUH4OIG/D86ruKEauBjvH5xy6um/Sfj7ei6UUVk4AIl3MyD4MSSTOFgSwsH/QJWaQ5as7ZcmgBZkzjjU1UrQ74ci1gWBCSGHtuV1H2mhSnO3Wp/3fEV5a+4wz//6qy8JxjZsmxxy5+4w9CDNJY09T072iKG0EnOS0arEYgXqYnXcYHwjTtUNAcMelOd4xpkoqiTYICWFq0JSiPfPDQdnt+4/wuqcXY47QILbgAAAABJRU5ErkJggg==)":void 0},f);return c.createElement(S.A,Up({className:(0,n.A)(d.root),style:x},p),c.createElement(S.A,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},r&&c.createElement(S.A,{className:(0,n.A)(d.button),onClick:r},c.createElement(vp,A,"+")),i&&c.createElement(S.A,{className:(0,n.A)(d.button),onClick:i},c.createElement(vp,A,"X")),c.createElement(S.A,{flex:1}),c.createElement(wp,{clocks:t,lcdStyle:A,selectedClockId:u,onClick:o}),c.createElement(S.A,{flex:1}),c.createElement(S.A,{className:(0,n.A)(d.button),onClick:a},c.createElement(vp,A,c.createElement(ip.A,{style:{fontSize:12}})))),c.createElement(S.A,{ref:h,flex:1,overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center"},c.createElement(Op,Up({clockId:u,height:O,variant:"14segment"},A))))};qp.propTypes={clocks:i().arrayOf(i().shape({id:i().string,label:i().string})),id:i().string,preset:i().number,onAdd:i().func,onClockSelected:i().func,onNextPreset:i().func,onRemove:i().func,selectedClockId:i().string,hideInactiveSegmentsOnDarkLCD:i().bool,style:i().object},qp.defaultProps={preset:0};const $p=(0,s.Ng)((function(e,t){return{clocks:_p(e),preset:Lp(e,t.id),selectedClockId:Pp(e,t.id),hideInactiveSegmentsOnDarkLCD:(0,Kt.Cu)(e)}}),(function(e,t){return{onClockSelected:function(r){e((0,Dp.vf)({clockId:r,id:t.id}))},onNextPreset:function(){var r;e((r=t.id,function(e,t){var n,o=t().lcdClock.byId[r],a=o?o.preset:-1;e((0,Dp.Br)({id:r,preset:(n=a,(n+1)%xp)}))}))}}}))(qp);var Zp=(0,St.A)((function(){return{root:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"}}}),{name:"LCDClockPanel"}),Xp=function(e){var t=e.addClockDisplay,r=e.ids,o=e.removeClockDisplay,a=Zp();return c.createElement(S.A,{className:(0,n.A)(a.root)},(r||[]).map((function(e,r){return c.createElement($p,{key:e,id:e,flex:1,onAdd:0===r?t:null,onRemove:0===r?null:function(){return o(e)}})})))};Xp.propTypes={ids:i().arrayOf(i().string),addClockDisplay:i().func,removeClockDisplay:i().func},Xp.defaultProps={};const Jp=(0,s.Ng)((function(e){return{ids:e.lcdClock.order}}),{addClockDisplay:function(){return function(e,t){var r=t();e((0,Dp.e_)({clockId:Np(r),preset:Rp(r)}))}},removeClockDisplay:Dp.VG})(Xp);var Qp=r(7612),ed=r(47851),td=["children","className","color","dense","icon"];function rd(e){return rd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(e)}function nd(){return nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nd.apply(this,arguments)}function od(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function ad(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function id(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ad(Object(r),!0).forEach((function(t){cd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ad(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function cd(e,t,r){var n;return n=function(e,t){if("object"!=rd(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=rd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==rd(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ld=(0,St.A)((function(e){return{icon:{fontSize:"48px"},root:function(t){var r=t.color,n=t.dense,o=eo()(r);return id(id({},e.typography.button),{},{backgroundColor:r,borderRadius:e.spacing(.5),boxShadow:e.shadows[2],boxSizing:"border-box",color:o.isLight()?"rgba(0, 0, 0, 0.87)":"rgba(255, 255, 255, 0.87)",flexDirection:"column",padding:e.spacing(1,n?1:3),textDecoration:"none",transition:e.transitions.create(["background-color","box-shadow"],{duration:e.transitions.duration.short}),"&:hover":{backgroundColor:o.darken(.16).string(),boxShadow:e.shadows[4]}})}}}),{name:"ColoredButton"}),ud=function(e){var t=e.children,r=e.className,o=e.color,a=e.dense,i=e.icon,l=od(e,td),u=ld({color:o,dense:a});return c.createElement(ed.A,nd({focusRipple:!0,className:(0,n.A)(r,u.root)},l),i&&c.createElement("div",{className:u.icon},i),c.createElement("div",{className:u.label},t))};ud.propTypes={children:i().oneOfType([i().node,i().arrayOf(i().node)]),className:i().string,color:i().string,dense:i().bool,icon:i().node};const sd=ud;function fd(e){return e.lightControl.active}function pd(e){return e.lightControl.color}var dd=r(18791);function yd(e){return yd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(e)}function md(){md=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==yd(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(yd(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function hd(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function vd(e,t){return gd.apply(this,arguments)}function gd(){var e;return e=md().mark((function e(t,r){var n,o,a;return md().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r(),o=fd(n),a=pd(n),e.prev=3,e.next=6,Pn.A.execute.setShowLightConfiguration({effect:o?"solid":"off",color:eo()(a).rgb().array()});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),t((0,ku.Ds)({message:"Failed to update light configuration on the server.",semantics:Tu.N.ERROR}));case 11:case"end":return e.stop()}}),e,null,[[3,8]])})),gd=function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){hd(a,n,o,i,c,"next",e)}function c(e){hd(a,n,o,i,c,"throw",e)}i(void 0)}))},gd.apply(this,arguments)}var bd=["color","label","onClick"];function wd(){return wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wd.apply(this,arguments)}function Ed(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Ad=function(e){var t=e.color,r=e.label,n=e.onClick,o=Ed(e,bd);return c.createElement(sd,wd({dense:!0,color:t},o,{onClick:n?function(){return n(t)}:void 0}),r)};Ad.propTypes={color:i().string,label:i().string,onClick:i().func},Ad.defaultProps={label:"\xa0"};var Sd=(0,St.A)((function(e){return{root:{display:"flex",flex:1,flexDirection:"column",height:"100%",padding:e.spacing(1),"& .react-colorful":{borderRadius:e.shape.borderRadius,width:"100%"},"& .react-colorful__saturation":{borderRadius:"".concat(e.shape.borderRadius,"px ").concat(e.shape.borderRadius,"px 0 0")},"& .react-colorful__last_control":{borderRadius:"0 0 ".concat(e.shape.borderRadius,"px ").concat(e.shape.borderRadius,"px")}},grid:{display:"grid",gridTemplateColumns:"repeat(6, 1fr)",gridGap:e.spacing(.5)},picker:{flex:1,padding:e.spacing(1,0)},textField:{background:e.palette.action.hover,border:"none",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,padding:e.spacing(1),textAlign:"center",textTransform:"uppercase","&:focus":{outline:"none"}}}}),{name:"LightControlGrid"}),Od=function(e){var t=e.color,r=e.onSetColor,n=e.onSetColorAndActivate,o=Sd();return c.createElement(S.A,{className:o.root},c.createElement(S.A,{className:o.grid},c.createElement(Ad,{color:"#000000",label:"All off",style:{gridColumn:"1 / span 2"},onClick:n}),c.createElement(Ad,{color:"#404040",label:"25%",onClick:n}),c.createElement(Ad,{color:"#808080",label:"50%",onClick:n}),c.createElement(Ad,{color:"#ffffff",label:"All on",style:{gridColumn:"5 / span 3"},onClick:n}),c.createElement(Ad,{color:"#ff0000",onClick:n}),c.createElement(Ad,{color:"#ffff00",onClick:n}),c.createElement(Ad,{color:"#00ff00",onClick:n}),c.createElement(Ad,{color:"#00ffff",onClick:n}),c.createElement(Ad,{color:"#0000ff",onClick:n}),c.createElement(Ad,{color:"#ff00ff",onClick:n})),c.createElement(Qp.jI,{className:o.picker,color:t,onChange:r}),c.createElement(Qp.HC,{prefixed:!0,className:o.textField,color:t,onChange:r}))};Od.propTypes={color:i().string,onSetColor:i().func,onSetColorAndActivate:i().func};const xd=(0,s.Ng)((function(e){return{color:pd(e)}}),{onSetColor:function(e){return function(t,r){var n=fd(r());t((0,dd.wW)(e)),n&&vd(t,r)}},onSetColorAndActivate:function(e){return function(t,r){t((0,dd.wW)(e)),t((0,dd.eY)(!0)),vd(t,r)}}})(Od);var jd=function(e){var t=e.active,r=e.connected,n=e.onToggle,o=e.t;return c.createElement(lt.A,{button:!0,disabled:!r,onClick:r?n:void 0},c.createElement(ft.A,{checked:t&&r}),c.createElement(st.A,{primary:o(r?t?"lightControl.fromGCS":"lightControl.notFromGCS":"lightControl.notConnected"),secondary:r?t?"Click to restore default light program":"Click to take control":"Connect to a server to control lights"}))};jd.propTypes={active:i().bool,connected:i().bool,onToggle:i().func,t:i().func};const kd=(0,s.Ng)((function(e){return{active:fd(e),connected:(0,yn.UJ)(e)}}),{onToggle:function(){return function(e,t){var r=fd(t());e((0,dd.eY)(!r)),vd(e,t)}}})((0,m.CI)()(jd));const Td=function(){return c.createElement(S.A,{display:"flex",flexDirection:"column",height:"100%",id:"tour-light-control",overflow:"hidden"},c.createElement(ct.A,{dense:!0},c.createElement(kd,null)),c.createElement(yl.A,null),c.createElement(xd,null))};var Id=(0,Ve.createSelector)((function(e){return e.savedLocations}),De.Im),Cd=(0,Ve.createSelector)((function(e){return e.map.view}),(function(e){return(0,ke.Ts)(e)}),(function(e,t){return{center:{lon:e.position[0].toFixed(6),lat:e.position[1].toFixed(6)},rotation:t,zoom:Math.round(e.zoom)}})),Pd=function(e){return e.dialogs.savedLocationEditor.editedLocationId},Ld=function(e){return e.dialogs.savedLocationEditor.dialogVisible},_d=r(40349),Nd=r(35654);function Rd(e){return Rd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(e)}function Dd(){Dd=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==Rd(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(Rd(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function Md(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}_d.o.addSavedLocation;var Fd=_d.o.createNewSavedLocation,Ud=_d.o.deleteSavedLocation,Gd=_d.o.updateSavedLocation,Vd=Nd.o.editSavedLocation,Bd=Nd.o._cancelLocationEditing,Hd=Nd.o._closeSavedLocationEditorDialog,Wd=function(){return function(){var e,t=(e=Dd().mark((function e(t,r){return Dd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Hd()),e.next=3,(0,Jr.Ay)(1e3);case 3:Ld(r())||t(Bd());case 4:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Md(a,n,o,i,c,"next",e)}function c(e){Md(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e,r){return t.apply(this,arguments)}}()};function zd(e){return function(e){if(Array.isArray(e))return Yd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Yd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yd(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Kd=function(e){var t=e.location,r=e.onEditItem,n=t.id,o=t.name,a=function(){return r(n)},i=c.createElement(m.wD,null,(function(e){return c.createElement(yf.W1,{content:e("savedLocation.edit")},c.createElement(W.A,{edge:"end",onClick:a},c.createElement(ia.A,null)))}));return c.createElement(lt.A,{button:!0,onClick:function(){return(0,bs.K$)(t.center,{rotation:t.rotation,zoom:t.zoom})}},c.createElement(st.A,{primary:o}),c.createElement(ds.A,null,i))};Kd.propTypes={onEditItem:i().func.isRequired,location:i().object.isRequired};var qd=function(e){return c.createElement(m.wD,null,(function(t){return c.createElement(lt.A,{key:"__addNew__",button:!0,onClick:e.onNewItem},c.createElement(st.A,{primary:t("savedLocation.addNew")}))}))},$d=(0,ms.c3)((function(e,t){return c.createElement(Kd,{key:e.id,location:e,onEditItem:t.onEditItem})}),{backgroundHint:"No saved locations",dataProvider:"savedLocations",displayName:"LocationListPresentation",postprocess:function(e,t){return[qd(t)].concat(zd(e))}});const Zd=(0,s.Ng)((function(e){return{dense:!0,savedLocations:Id(e)}}),(function(e){return{onEditItem:function(t){e(Vd(t))},onNewItem:function(){var t=Fd();e(t),t.id&&e(Vd(t.id))}}}))($d);var Xd=r(94701),Jd=r(60377),Qd=r(71163),ey=r(24488),ty=r(54185),ry=r(75067),ny=r(47306),oy=r(12244),ay=r(83337),iy=r(29685);function cy(e){return cy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cy(e)}var ly=["children","direction","in","onEnter","onExit","style","timeout"];function uy(){return uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uy.apply(this,arguments)}function sy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fy(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sy(Object(r),!0).forEach((function(t){py(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sy(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function py(e,t,r){var n;return n=function(e,t){if("object"!=cy(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=cy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==cy(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dy(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var yy={up:{entering:{opacity:1,transform:"translateY(0)"},entered:{opacity:1,transform:"translateY(0)"},exiting:{opacity:0,transform:"translateY(-16px)"},exited:{opacity:0,transform:"translateY(16px)"}},left:{entering:{opacity:1,transform:"translateX(0)"},entered:{opacity:1,transform:"translateX(0)"},exiting:{opacity:0,transform:"translateX(-16px)"},exited:{opacity:0,transform:"translateX(16px)"}}},my={enter:ny.duration.enteringScreen,exit:ny.duration.leavingScreen},hy=c.forwardRef((function(e,t){var r=e.children,n=e.direction,o=e.in,a=e.onEnter,i=e.onExit,l=e.style,u=e.timeout,s=void 0===u?my:u,f=dy(e,ly),p=(0,oy.A)(),d=(0,iy.A)(r.ref,t),y=yy[n];return c.createElement(ry.default,uy({in:o,timeout:s,onEnter:function(e,t){(0,ay.qm)(e);var r=(0,ay.ce)({style:l,timeout:s},{mode:"enter"});e.style.webkitTransition=p.transitions.create(["opacity","transform"],r),e.style.transition=p.transitions.create(["opacity","transform"],r),a&&a(e,t)},onExit:function(e){var t=(0,ay.ce)({style:l,timeout:s},{mode:"exit"});e.style.webkitTransition=p.transitions.create(["opacity","transform"],t),e.style.transition=p.transitions.create(["opacity","transform"],t),i&&i(e)}},f),(function(e,t){return c.cloneElement(r,fy({style:fy(fy(fy({visibility:"exited"!==e||o?void 0:"hidden"},y[e]),l),r.props.style),ref:d},t))}))}));hy.propTypes={children:i().element,direction:i().oneOf(Object.keys(yy)),in:i().bool,onEnter:i().func,onExit:i().func,style:i().object,timeout:i().oneOfType([i().number,i().shape({enter:i().number,exit:i().number})])},hy.defaultProps={direction:"up"};const vy=hy;var gy=r(63101);function by(e){return by="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},by(e)}function wy(e,t,r){var n;return n=function(e,t){if("object"!=by(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=by(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==by(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ey=wy(wy(wy(wy(wy({},gy.$b.DEBUG,jt.Status.DEBUG),gy.$b.INFO,null),gy.$b.WARNING,jt.Status.WARNING),gy.$b.ERROR,jt.Status.ERROR),gy.$b.FATAL,jt.Status.FATAL);function Ay(e){return"success"===e.semantics?jt.Status.SUCCESS:(t=e.level)<=gy.$b.DEBUG?Ey[gy.$b.DEBUG]:t<=gy.$b.INFO?Ey[gy.$b.INFO]:t<=gy.$b.WARNING?Ey[gy.$b.WARNING]:t<=gy.$b.ERROR?Ey[gy.$b.ERROR]:t<=gy.$b.FATAL?Ey[gy.$b.FATAL]:jt.Status.OFF;var t}var Sy=(0,St.A)((function(e){return{root:{display:"flex",padding:e.spacing(0,1),alignItems:"stretch",borderBottom:"1px solid ".concat(e.palette.divider),cursor:"default","&:hover":{backgroundColor:e.palette.action.hover}},statusLight:{paddingTop:2,width:20},timestamp:{color:e.palette.text.secondary,paddingRight:e.spacing(1),width:56,textAlign:"right"},module:{color:e.palette.primary[500],overflow:"hidden",paddingRight:e.spacing(1),textOverflow:"ellipsis",width:96},auxiliaryId:{color:e.palette.text.secondary,overflow:"hidden",paddingRight:e.spacing(1),textOverflow:"ellipsis",width:80},moduleExtended:{color:e.palette.primary[500],overflow:"hidden",paddingRight:e.spacing(1),textOverflow:"ellipsis",width:176},message:{flex:1,overflow:"hidden",whiteSpace:"noWrap"}}})),Oy=c.memo((function(e){var t,r=e.item,n=Ay(r),o=Sy();try{t=(0,ni.A)(r.timestamp,"H:mm:ss")}catch(e){t="??:??:??"}return c.createElement("div",{className:o.root},c.createElement("div",{className:o.statusLight},n&&c.createElement(ju.default,{inline:!0,status:Ay(r)})),c.createElement("div",{className:o.timestamp},t),r.auxiliaryId?c.createElement(c.Fragment,null,c.createElement("div",{className:o.module},r.module),c.createElement("div",{className:o.auxiliaryId},r.auxiliaryId)):c.createElement("div",{className:o.moduleExtended},r.module),c.createElement("div",{className:o.message},r.message))}));Oy.propTypes={item:i().shape({level:i().number,message:i().string,module:i().string,timestamp:i().number,auxiliaryId:i().string})};const xy=Oy;function jy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ky(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ky(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ky(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ty=function(e,t){return c.createElement(xy,{item:t})},Iy=(0,St.A)((function(e){return{scrollToBottomButton:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)}}})),Cy=function(e){var t=e.items,r=(0,c.useRef)(null),n=(0,c.useRef)(null),o=jy((0,c.useState)(!0),2),a=o[0],i=o[1],l=jy((0,c.useState)(!1),2),u=l[0],s=l[1],f=Iy(),p=(0,c.useCallback)((function(){r.current&&r.current.scrollToIndex({index:t.length,behaviour:"smooth"})}),[r,t]);return(0,c.useEffect)((function(){if(t&&t.length>0){var e=t[t.length-1].id;e!==n.current&&(a&&(s(!0),setTimeout(p,100),setTimeout((function(){return s(!1)}),500)),n.current=e)}else n.current=null}),[a,t,p]),c.createElement(c.Fragment,null,c.createElement(Qd.aY,{ref:r,followOutput:!0,data:t,itemContent:Ty,atBottomStateChange:i}),c.createElement(vy,{in:!a&&!u},c.createElement(ey.A,{color:"secondary",size:"small",className:f.scrollToBottomButton,onClick:p},c.createElement(ty.A,null))))};Cy.propTypes={items:i().array};const Py=Cy;var Ly=function(e){var t=e.items,r=e.updateLogPanelVisibility;return(0,Xd.A)((function(){return r(!0),function(){return r(!1)}})),c.createElement(Py,{items:t})};Ly.propTypes={items:i().array,updateLogPanelVisibility:i().func.isRequired};const _y=(0,s.Ng)((function(e){return{items:e.log.items}}),{updateLogPanelVisibility:Jd.Af})(Ly);var Ny=r(32150),Ry=r(58095),Dy=["children"];function My(e){return My="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},My(e)}function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fy.apply(this,arguments)}function Uy(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Gy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zy(n.key),n)}}function Vy(e,t,r){return t=Hy(t),function(e,t){if(t&&("object"===My(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,By()?Reflect.construct(t,r||[],Hy(e).constructor):t.apply(e,r))}function By(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(By=function(){return!!e})()}function Hy(e){return Hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hy(e)}function Wy(e,t){return Wy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Wy(e,t)}function zy(e){var t=function(e,t){if("object"!=My(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=My(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==My(t)?t:t+""}var Yy,Ky,qy,$y=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=Vy(this,t,[e]))._domNode=c.createRef(),r._endNode=c.createRef(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wy(e,t)}(t,e),r=t,(n=[{key:"componentDidMount",value:function(){this.scrollToBottom()}},{key:"componentDidUpdate",value:function(e,t,r){r&&r.shouldScrollToBottom&&this.scrollToBottom()}},{key:"getSnapshotBeforeUpdate",value:function(){var e=this._domNode.current;return{shouldScrollToBottom:e&&e.scrollTop+e.clientHeight>=e.scrollHeight-20}}},{key:"render",value:function(){var e=this.props,t=e.children,r=Uy(e,Dy);return c.createElement(S.A,Fy({ref:this._domNode,position:"relative",overflow:"auto",flex:"1 1 100%"},r),t,c.createElement("div",{ref:this._endNode}))}},{key:"scrollToBottom",value:function(){var e=this._endNode.current;e&&e.scrollIntoView({behaviour:"smooth"})}}])&&Gy(r.prototype,n),o&&Gy(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(c.Component);Yy=$y,Ky="propTypes",qy={children:i().oneOfType([i().arrayOf(i().node),i().node]),style:i().object},(Ky=zy(Ky))in Yy?Object.defineProperty(Yy,Ky,{value:qy,enumerable:!0,configurable:!0,writable:!0}):Yy[Ky]=qy;var Zy=r(54087),Xy=r(1670),Jy=r(34023),Qy=(0,St.A)((function(e){return{root:{margin:e.spacing(.25,0,0,0),display:"flex",alignItems:"flex-start",width:"100%"},bubble:{position:"relative",borderRadius:5,padding:e.spacing(.5,1),margin:e.spacing(.25,0,0,0),minHeight:e.spacing(1),overflowX:"auto","& pre":{margin:e.spacing(.5)}},ownBubble:{background:(0,jt.isThemeDark)(e)?Xy.A[400]:Xy.A[600],color:e.palette.getContrastText((0,jt.isThemeDark)(e)?Xy.A[400]:Xy.A[600])},otherBubble:{background:(0,jt.isThemeDark)(e)?Gs.A[900]:Gs.A[100],color:e.palette.getContrastText((0,jt.isThemeDark)(e)?Gs.A[900]:Gs.A[100]),"& .chat-meta":{textAlign:"right"},"&.severity-critical":{borderLeft:"3px solid ".concat((0,ro.M7)(dc.AI.CRITICAL))},"&.severity-debug":{borderLeft:"3px solid ".concat((0,ro.M7)(dc.AI.DEBUG))},"&.severity-error":{borderLeft:"3px solid ".concat((0,ro.M7)(dc.AI.ERROR))},"&.severity-info":{borderLeft:"3px solid ".concat((0,ro.M7)(dc.AI.INFO))},"&.severity-warning":{borderLeft:"3px solid ".concat((0,ro.M7)(dc.AI.WARNING))}},meta:{fontSize:"smaller",margin:e.spacing(.5,0,0,0),textAlign:"left","& .author":{fontWeight:"bold",color:e.palette.text.secondary},"& .date":{color:e.palette.text.hint,float:"right"}}}}),{name:"ChatBubble"}),em=function(e){var t=e.author,r=e.body,o=e.date,a=e.leftComponent,i=e.own,l=e.raw,u=e.rightComponent,s=e.severity,f=e.showMeta,p=Qy(),d=o&&f&&c.createElement("span",{className:"date"},o),y=a&&c.createElement("div",{style:{flex:0}},a),m=u&&c.createElement("div",{style:{flex:0}},u),h=(0,n.A)(p.bubble,i?p.ownBubble:p.otherBubble,s&&"severity-".concat(s)),v=c.createElement("div",{className:h},l?c.createElement(Zy.VK,{content:r}):r);return c.createElement("div",{className:(0,n.A)(p.root,i?p.own:p.other)},y,c.createElement("div",{style:{flex:1,maxWidth:"100%"}},f&&c.createElement("div",{className:p.meta},c.createElement("span",{className:"author"},t)," ",d),v),m)};em.propTypes={author:i().string,body:i().string,date:i().string,own:i().bool,raw:i().bool,leftComponent:i().oneOfType([i().node,i().arrayOf(i().node)]),rightComponent:i().oneOfType([i().node,i().arrayOf(i().node)]),severity:Jy.A.severity,showMeta:i().bool},em.defaultProps={author:"Anonymous",body:"",own:!0};const tm=em;var rm=(0,St.A)((function(e){return{root:{margin:e.spacing(.5,0),"& .date":{color:e.palette.text.secondary}},"level-error":{"& .message":{fontWeight:"bold",color:e.palette.error.main}},"level-warning":{"& .message":{fontWeight:"bold",color:e.palette.warning.main}}}})),nm=function(e){var t=e.date,r=e.level,o=e.message,a=rm(),i=(0,n.A)(a.root,a["level-".concat(r)]||a["level-info"]),l=t&&c.createElement("span",{className:"date"},c.createElement(nc.A,{date:t}));return c.createElement("div",{className:i},c.createElement("span",{className:"message"},o)," ",l)};nm.propTypes={level:i().string,message:i().string,date:i().instanceOf(Date)},nm.defaultProps={level:"info",message:""};const om=nm;var am=["history","onEscape","onSubmit"];function im(){return im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},im.apply(this,arguments)}function cm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return lm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lm(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function um(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var sm=c.forwardRef((function(e,t){var r=e.history,n=e.onEscape,o=e.onSubmit,a=um(e,am),i=cm((0,c.useState)(""),2),l=i[0],u=i[1],s=(0,c.useCallback)((function(e){u(e.target.value)}),[u]),f=cm((0,c.useState)(0),2),p=f[0],d=f[1];(0,c.useEffect)((function(){var e;u(null!==(e=r[r.length-p])&&void 0!==e?e:"")}),[r,p]);var y=(0,c.useCallback)((function(e){switch(e.key){case"Enter":l.length>0&&(o(l),u(""),d(0));break;case"Escape":n(e);break;case"ArrowUp":d((function(e){return Math.min(e+1,r.length)}));break;case"ArrowDown":d((function(e){return Math.max(e-1,0)}))}}),[r,l,n,o]),m=(0,c.useCallback)((function(e){e.relatedTarget&&(e.relatedTarget.focusRestorationTarget=e.target)}),[]);return c.createElement(z.A,im({ref:t,value:l,onBlur:m,onChange:s,onKeyDown:y},a))}));sm.propTypes={history:i().arrayOf(i().string),onEscape:i().func,onSubmit:i().func};const fm=sm;var pm=function(e){return e.messages.commandHistory},dm=r(19413),ym=(r(33110),r(94854)),mm=r(32084),hm=r(3153);function vm(e){(0,mm.A)(e)&&(e={type:"plain",data:e});var t=e,r=t.type,n=t.data;switch(r){case"plain":return(0,ym.A)((0,hm.A)(n));case"preformatted":return"<pre>"+(0,ym.A)((0,hm.A)(n))+"</pre>";default:return(0,ym.A)(JSON.stringify(e,null,2))}}var gm=r(21151);function bm(e){return bm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bm(e)}var wm=["hasSelectedUAV","textFieldPlacement"];function Em(){Em=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==bm(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(bm(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function Am(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Sm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Om(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Cm(n.key),n)}}function xm(e,t,r){return t=km(t),function(e,t){if(t&&("object"===bm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,jm()?Reflect.construct(t,r||[],km(e).constructor):t.apply(e,r))}function jm(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(jm=function(){return!!e})()}function km(e){return km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},km(e)}function Tm(e,t){return Tm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Tm(e,t)}function Im(e,t,r){return(t=Cm(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cm(e){var t=function(e,t){if("object"!=bm(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=bm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bm(t)?t:t+""}function Pm(){return Pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pm.apply(this,arguments)}function Lm(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function _m(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="message".concat(e.id),o=!e.responseId,a="number"==typeof(null==e?void 0:e.date),i=a?(t=e.date,(0,ni.A)(t,"H:mm")):"",l=null==e?void 0:e.author,u=a&&Math.abs(r.date-e.date)<500,s=r.author!==l||r.formattedDate!==i&&!u;switch(r.author=l,r.date=null==e?void 0:e.date,u||(r.formattedDate=i),e.type){case dc.Go.OUTBOUND:return[c.createElement(tm,{key:n,own:!0,showMeta:s,author:l,raw:e.raw,date:i,body:e.body,severity:e.severity,rightComponent:!!o&&c.createElement(bt.A,{size:30,thickness:3.5,style:{margin:"14px 8px"},value:e.percentage,variant:void 0!==e.percentage?"determinate":"indeterminate"})})];case dc.Go.INBOUND:return[c.createElement(tm,{key:n,showMeta:s,author:l,own:!1,raw:e.raw,date:i,body:e.body,severity:e.severity})];case dc.Go.ERROR:return[c.createElement(om,{key:n+"Marker",level:"error",message:e.body})];default:return[c.createElement(om,{key:n+"Marker",level:"error",message:"Invalid message type: ".concat(e.type)})]}}var Nm=function(e){var t=e.hasSelectedUAV,r=e.textFieldPlacement,n=Lm(e,wm);return t?c.createElement(Sr.A,Pm({key:"backgroundHint",header:"No messages",text:"Send a message to the selected UAV using the text box ".concat("bottom"===r?"below":"above")},n)):c.createElement(Sr.A,Pm({key:"backgroundHint",header:"No UAV selected",text:"Select the UAV to send messages to"},n))};Nm.propTypes={hasSelectedUAV:i().bool,textFieldPlacement:i().oneOf(["bottom","top"])};var Rm=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Im(e=xm(this,t),"_onSubmit",(function(t){e.props.onSend(t),e.scrollToBottom()})),e._chatAreaRef=c.createRef(),e._messageFieldRef=c.createRef(),e._messageFieldContainerRef=c.createRef(),e._uavSelectorFieldRef=c.createRef(),e.focusOnTextField=e.focusOnTextField.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tm(e,t)}(t,e),r=t,o=[{key:"focusOnUAVSelectorField",value:function(){this._uavSelectorFieldRef.current&&this._uavSelectorFieldRef.current.focus()}},{key:"focusOnTextField",value:function(){this._messageFieldRef.current&&this._messageFieldRef.current.focus()}},{key:"render",value:function(){var e=this,t=this.props,r=t.chatEntries,o=t.classes,a=t.commandHistory,i=t.hideClearButton,l=t.onClearMessages,u=t.optimizeUIForTouch,s=t.style,f=t.textFieldPlacement,p=t.uavId,d={},y=r.map((function(e){return _m(e,d)})),m=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sm(Object(r),!0).forEach((function(t){Im(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({display:"flex",flexDirection:"column",height:"100%"},s),h=y.length>0?c.createElement($y,{key:"chatArea",ref:this._chatAreaRef,px:2,pt:2},y):c.createElement(Nm,{key:"chatAreaBackgroundHint",hasSelectedUAV:!(0,Ge.default)(p),textFieldPlacement:f,p:1}),v=l&&!i,g=c.createElement(S.A,{ref:this._messageFieldContainerRef,key:"textFieldContainer",display:"flex",alignItems:"baseline",className:(0,n.A)("bottom-bar",o.noFocusOutline),pb:2,pl:2,pr:v?0:2,tabIndex:"-1",onKeyDown:function(t){"Enter"===t.code&&e._messageFieldRef.current.focus()}},c.createElement(fm,{fullWidth:!0,autoFocus:!u,history:a,inputRef:this._messageFieldRef,variant:"standard",onSubmit:this._onSubmit,onEscape:function(t){e._messageFieldContainerRef.current.focus(),t.stopPropagation()}}),v&&c.createElement(W.A,{disabled:0===y.length,style:{transform:"translateY(8px)"},onClick:l},c.createElement(Ry.A,null))),b="bottom"===f?[h,g]:[g,h];return c.createElement("div",{style:m},b)}},{key:"scrollToBottom",value:function(){this._chatAreaRef.current&&this._chatAreaRef.current.scrollToBottom()}}],o&&Om(r.prototype,o),a&&Om(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,a}(c.Component);Im(Rm,"propTypes",{chatEntries:i().arrayOf(i().object),classes:i().object,commandHistory:i().arrayOf(i().string),hideClearButton:i().bool,onClearMessages:i().func,onSend:i().func,optimizeUIForTouch:i().bool,style:i().object,textFieldPlacement:i().oneOf(["bottom","top"]),uavId:i().string}),Im(Rm,"defaultProps",{textFieldPlacement:"bottom"});const Dm=(0,s.Ng)((function(){var e=(0,Ve.createSelector)((function(e){return e.messages}),(function(e,t){return e.messages.uavIdsToMessageIds?e.messages.uavIdsToMessageIds[t]:void 0}),(function(e,t){return t&&0!==t.length?(0,De.Im)((0,De.Yb)(e,t)):sn.Ml}));return function(t,r){return{chatEntries:e(t,r.uavId),commandHistory:pm(t),optimizeUIForTouch:(0,Kt.jz)(t)}}}),(function(e,t){return{onClearMessages:function(){e((0,dm.PT)(t.uavId))},onSend:function(r){return(n=Em().mark((function n(){var o,a,i,c,l,u,s,f,p,d;return Em().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=t.uavId){n.next=3;break}return n.abrupt("return");case 3:return a=(0,dm.hv)({message:r,uavId:o}),e(a),i=(0,gm.AL)(r),c=i.command,l=i.args,u=i.kwds,s=a.messageId,n.prev=7,n.next=10,Pn.A.sendCommandRequest({uavId:o,command:c,args:l,kwds:u},{onProgress:function(t){var r=t.progress,n=t.suspended;e((0,dm.kt)({messageId:s,progress:r,suspended:n}))}});case 10:f=n.sent,p=vm(f),e((0,dm.k9)({message:p,uavId:o,refs:s})),n.next=19;break;case 15:n.prev=15,n.t0=n.catch(7),d=n.t0.userMessage||n.t0.message,e((0,dm.tS)({message:d,uavId:o,refs:s}));case 19:case"end":return n.stop()}}),n,null,[[7,15]])})),function(){var e=this,t=arguments;return new Promise((function(r,o){var a=n.apply(e,t);function i(e){Am(a,r,o,i,c,"next",e)}function c(e){Am(a,r,o,i,c,"throw",e)}i(void 0)}))})();var n}}}),null,{forwardRef:!0})((0,Ny.A)({noFocusOutline:{"&:focus":{outline:"none"}}})(Rm)),Mm=(0,s.Ng)((function(e){return{uavId:(0,mo.BB)(e)}}),{})(Dm);var Fm=r(53054),Um=r(66401),Gm=r(21879),Vm=r(29514),Bm=r(81772);function Hm(e){return Hm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hm(e)}var Wm=["editMissionItemParameters"];function zm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ym(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zm(Object(r),!0).forEach((function(t){Km(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Km(e,t,r){var n;return n=function(e,t){if("object"!=Hm(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Hm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Hm(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qm(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var $m=(0,St.A)((function(e){return{error:{backgroundColor:ro.Ay.error,color:e.palette.getContrastText(ro.Ay.error)},success:{backgroundColor:ro.Ay.success,color:e.palette.getContrastText(ro.Ay.success)},warning:{backgroundColor:ro.Ay.warning,color:e.palette.getContrastText(ro.Ay.warning)}}}),{name:"MissionOverviewListItem"}),Zm=function(e){var t,r,n,o,a,i,l,u,s,f,p,d=e.editMissionItemParameters,y=e.id,m=e.index,h=e.item,v=e.missionGeofenceStatus,g=e.ratio,b=e.selected,w=e.onSelectItem,E=e.openGeofenceSettingsTab,A=e.openSafetySettingsTab,O=$m(),x=Uc.y8[h.type],j=function(e){return w(e,y)},k=Uc.XV[h.type],T=(0,Uc.SO)(h);switch(h.type){case Uc.IU.GO_TO:x=m,p=T?(0,K.iw)([null===(t=h.parameters)||void 0===t?void 0:t.lon,null===(r=h.parameters)||void 0===r?void 0:r.lat]):"Invalid mission item";break;case Uc.IU.LAND:h.parameters.velocityZ&&(p="".concat(h.parameters.velocityZ," m/s vertical"));break;case Uc.IU.RETURN_TO_HOME:break;case Uc.IU.TAKEOFF:p=T?(0,K.ve)(null===(n=h.parameters)||void 0===n?void 0:n.alt,"No altitude specified"):"Invalid mission item";break;case Uc.IU.CHANGE_ALTITUDE:p=T?(0,K.ve)(null===(o=h.parameters)||void 0===o?void 0:o.alt,"No altitude specified"):"Invalid mission item";break;case Uc.IU.CHANGE_FLIGHT_MODE:p="".concat(null===(a=h.parameters)||void 0===a?void 0:a.mode);break;case Uc.IU.CHANGE_HEADING:p=T?(0,K.dK)(null===(i=h.parameters)||void 0===i?void 0:i.heading,"No heading specified"):"Invalid mission item";break;case Uc.IU.CHANGE_SPEED:var I=h.parameters,C=I.velocityXY,P=I.velocityZ,L=[];"number"==typeof C&&L.push("".concat(C," m/s horizontal")),"number"==typeof P&&L.push("".concat(P," m/s vertical")),p=L.join(", ");break;case Uc.IU.MARKER:p=function(e,t){var r={start:"Mission has started",end:"Mission has ended"};return(e in r?r[e]:"Unknown marker: ".concat(e))+((0,Gm.A)(t)?" (ratio=".concat(t.toFixed(4),")"):"")}(null===(l=h.parameters)||void 0===l?void 0:l.marker,null===(u=h.parameters)||void 0===u?void 0:u.ratio);break;case Uc.IU.SET_PAYLOAD:var _=h.parameters,N=_.name,R=_.action,D=_.value;p="".concat(N,": ").concat(R)+(void 0!==D?" ".concat(D):"");break;case Uc.IU.SET_PARAMETER:p="".concat(null===(s=h.parameters)||void 0===s?void 0:s.name,"=").concat(null===(f=h.parameters)||void 0===f?void 0:f.value);break;case Uc.IU.UPDATE_FLIGHT_AREA:break;case Uc.IU.UPDATE_GEOFENCE:j=E,p=function(e){switch(e){case jt.Status.OFF:return"No geofence defined yet";case jt.Status.SUCCESS:return"Automatic geofence in use";case jt.Status.WARNING:return"Manual geofence in use";case jt.Status.ERROR:return"Mission area lies outside the geofence";default:return""}}(v);break;case Uc.IU.UPDATE_SAFETY:j=A;break;default:x=Uc.y8[Uc.IU.UNKNOWN],k=Uc.XV[Uc.IU.UNKNOWN],p="Type = ".concat(h.type)}return c.createElement(S.A,{position:"relative"},c.createElement("div",{style:{position:"absolute",height:"100%",backgroundColor:1===g?ro.Ay.success:ro.Ay.info,opacity:.25,transition:"0.25s",width:"".concat(100*(null!=g?g:0),"%")}}),c.createElement(lt.A,{button:!0,dense:!0,selected:b,onClick:j,ContainerComponent:"div"},x&&c.createElement(Vm.A,null,c.createElement(to.A,{className:T?null:O.error},x)),c.createElement(st.A,{primary:k,secondary:p}),d&&c.createElement(ds.A,null,c.createElement(W.A,{edge:"end",onClick:d},c.createElement(Di.A,null)))))};Zm.propTypes={editMissionItemParameters:i().func,id:i().string,index:i().number,item:i().shape({type:i().string,parameters:i().object}),missionGeofenceStatus:i().oneOf(Object.values(jt.Status)),ratio:i().number,selected:i().bool,onSelectItem:i().func,openGeofenceSettingsTab:i().func,openSafetySettingsTab:i().func};const Xm=(0,s.Ng)((function(e,t){var r;return{item:null!==(r=(0,xr.SA)(e,t.id))&&void 0!==r?r:{type:Uc.IU.UNKNOWN},missionGeofenceStatus:(0,xr.NF)(e)?(0,xr.C3)(e)?(0,xr.TF)(e).owner===Uc.Pp.WAYPOINT?jt.Status.SUCCESS:jt.Status.WARNING:jt.Status.ERROR:jt.Status.OFF}}),{editMissionItemParameters:Fm.o2,openGeofenceSettingsTab:function(){return function(e){e((0,zc.cT)(Bm.I.GEOFENCE)),e((0,zc.$0)())}},openSafetySettingsTab:function(){return function(e){e((0,zc.cT)(Bm.I.SETTINGS)),e((0,zc.$0)())}}},(function(e,t,r){var n=t.editMissionItemParameters,o=qm(t,Wm);return Ym(Ym(Ym(Ym({},r),e),o),!(0,Um.A)(Uc.kE[e.item.type].properties)&&{editMissionItemParameters:function(){return n(r.id)}})}))(Zm);var Jm=function(e,t,r){return c.createElement(Xm,{done:e<r.currentItemIndex,ratio:e<r.currentItemIndex?1:e===r.currentItemIndex?r.currentItemRatio:0,id:t,index:e+1,selected:r.selection.includes(t),onSelectItem:r.onSelectItem})},Qm=function(e){var t=e.currentItemIndex,r=e.currentItemRatio,n=e.followScroll,o=e.itemIds,a=e.onSelectItem,i=e.selectedIds,l={currentItemIndex:t,currentItemRatio:r,selection:Array.isArray(i)?i:[],onSelectItem:a},u=(0,c.useRef)(null),s=(0,c.useCallback)((function(){return setTimeout((function(){u.current.scrollToIndex({index:t,align:"center",behavior:"smooth"})}),0)}),[t,u]);return(0,c.useEffect)((function(){n&&s()}),[n,s]),c.createElement(Qd.aY,{ref:u,data:o,context:l,itemContent:Jm})};Qm.propTypes={currentItemIndex:i().number,currentItemRatio:i().number,followScroll:i().bool,itemIds:i().arrayOf(i().string),onSelectItem:i().func,selectedIds:i().arrayOf(i().string)};const eh=(0,s.Ng)((function(e){return{currentItemIndex:(0,xr.XW)(e),currentItemRatio:(0,xr.WQ)(e),followScroll:(0,xr.V_)(e),itemIds:(0,xr.OH)(e),selectedIds:(0,xr.$I)(e)}}),{onFollowScrollChanged:jr.CE,onSelectItem:(0,ms.p_)({getSelection:xr.$I,setSelection:Fm.fC})})(Qm);function th(){return th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},th.apply(this,arguments)}var rh=(0,St.A)((function(e){return{divider:{alignSelf:"stretch",height:"auto",margin:e.spacing(1,.5)}}}),{name:"StyledDivider"});const nh=function(e){var t=rh();return c.createElement(yl.A,th({className:t.divider},e))};var oh=(0,St.A)((function(e){return{root:{background:e.palette.action.hover,padding:e.spacing(0,1)}}}),{name:"MissionOverviewPanelFooter"}),ah=[Uc.IU.TAKEOFF,Uc.IU.RETURN_TO_HOME,Uc.IU.LAND,Uc.IU.CHANGE_ALTITUDE],ih=function(e){var t=e.addNewMissionItem,r=e.canMoveDown,n=e.canMoveUp,o=e.onMoveDown,a=e.onMoveUp,i=e.onRemoveSelectedMissionItems,l=e.selectedIds,u=oh(),s=Array.isArray(l)&&l.length>0;return c.createElement(Nf.A,{square:!0,className:u.root,elevation:4},c.createElement(Rf.A,{disableGutters:!0,variant:"dense",style:{height:36,minHeight:36}},ah.map((function(e){return c.createElement(yf.W1,{key:"add-".concat(e),content:"Add '".concat(Uc.XV[e],"' command"),placement:"top"},c.createElement(W.A,{size:"small",onClick:function(){return t(e)}},c.cloneElement(Uc.y8[e],{fontSize:"small"})))})),c.createElement(S.A,{flex:1}),c.createElement(nh,{orientation:"vertical"}),c.createElement(yf.W1,{content:"Move selected mission items up",placement:"top"},c.createElement(W.A,{size:"small",disabled:!n,onClick:a},c.createElement(No.A,{fontSize:"small"}))),c.createElement(yf.W1,{content:"Move selected mission items down",placement:"top"},c.createElement(W.A,{size:"small",disabled:!r,onClick:o},c.createElement(_o.A,{fontSize:"small"}))),c.createElement(nh,{orientation:"vertical"}),c.createElement(yf.W1,{content:"Remove selected mission items",placement:"top"},c.createElement(W.A,{disabled:!s,size:"small",onClick:i},c.createElement(uf.A,{fontSize:"small"})))))};ih.propTypes={addNewMissionItem:i().func,canMoveDown:i().bool,canMoveUp:i().bool,onMoveDown:i().func,onMoveUp:i().func,onRemoveSelectedMissionItems:i().func,selectedIds:i().arrayOf(i().string)};const ch=(0,s.Ng)((function(e){return{canMoveDown:(0,xr.zY)(e),canMoveUp:(0,xr.Ol)(e),selectedIds:(0,xr.$I)(e)}}),{addNewMissionItem:function(e){return function(t){var r=t((0,Fm.tv)(e));(0,Um.A)(Uc.kE[e].properties)||t((0,Fm.o2)(r.id))}},onMoveDown:function(){return(0,Fm.c1)(1)},onMoveUp:function(){return(0,Fm.c1)(-1)},onRemoveSelectedMissionItems:Fm._L})(ih);var lh=r(43268);const uh=(0,_r.A)(c.createElement("path",{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"}),"Download"),sh=(0,_r.A)(c.createElement("path",{d:"M5 20h14v-2H5v2zm0-10h4v6h6v-6h4l-7-7-7 7z"}),"Upload");function fh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ph(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ph(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ph(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const dh=function(){var e=fh((0,c.useState)(null),2),t=e[0],r=e[1];return[t,function(e){r(e.currentTarget)},function(){r(null)}]};function yh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var hh=(0,St.A)((function(e){return{root:{background:e.palette.action.hover,padding:e.spacing(0,1)}}}),{name:"MissionOverviewPanelHeader"}),vh=function(e){var t=e.canPlan,r=e.canResume,n=e.canUpload,o=e.onClearMission,a=e.onExportMission,i=e.onImportMission,l=e.onInvokePlanner,u=e.onShowMissionPlannerDialog,s=e.onUploadMissionItems,f=hh(),p=yh(dh(),3),d=p[0],y=p[1],m=p[2],h=(0,c.useCallback)((function(){m(),u()}),[m,u]),v=(0,c.useCallback)((function(){m(),l({resume:!0})}),[m,l]);return c.createElement(Nf.A,{square:!0,className:f.root,elevation:4},c.createElement(Rf.A,{disableGutters:!0,variant:"dense",style:{height:36,minHeight:36}},c.createElement(yf.W1,{content:"Clear mission",placement:"top"},c.createElement(W.A,{size:"small",onClick:o},c.createElement(Y.default,{fontSize:"small"}))),c.createElement(yf.W1,{content:"Import mission",placement:"top"},c.createElement(Df.A,{style:{minWidth:"26px"},filter:[".json"],onSelected:i},c.createElement(sh,{fontSize:"small"}))),c.createElement(yf.W1,{content:"Export mission",placement:"top"},c.createElement(W.A,{size:"small",onClick:a},c.createElement(uh,{fontSize:"small"}))),c.createElement(S.A,{component:"div",flex:1}),c.createElement(x.A,{disabled:!t,size:"small",onClick:r?y:h},"Plan"),c.createElement(yf.kF,{open:Boolean(d),anchorEl:d,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},onClose:m},c.createElement(x.A,{disabled:!t,size:"small",startIcon:c.createElement(lh.A,null),onClick:h},"New"),c.createElement(x.A,{disabled:!t,size:"small",startIcon:c.createElement(js.A,null),onClick:v},"Resume")),c.createElement(x.A,{color:"primary",disabled:!n,size:"small",onClick:s},"Upload")))};vh.propTypes={canPlan:i().bool,canResume:i().bool,canUpload:i().bool,onClearMission:i().func,onExportMission:i().func,onImportMission:i().func,onInvokePlanner:i().func,onShowMissionPlannerDialog:i().func,onUploadMissionItems:i().func};const gh=(0,s.Ng)((function(e){return{canPlan:(0,yn.UJ)(e),canResume:(0,xr.Ee)(e),canUpload:(0,yn.UJ)(e)&&void 0!==(0,mo.BB)(e)}}),{onClearMission:Fm.O_,onExportMission:Fm.LM,onImportMission:Fm.Ig,onInvokePlanner:Fm.dd,onShowMissionPlannerDialog:jr.c8,onUploadMissionItems:Fm.uf})(vh);var bh=r(33615),wh=r(16064),Eh=r(90820),Ah=r(95183),Sh=r(98879),Oh=r(41375),xh=r(23078);const jh=(0,Oh.A)(xh.A)({border:0}),kh=(0,_r.A)(c.createElement("path",{d:"M 17.24,7.77 18.52,6.23 12,0.82 5.48,6.23 6.76,7.77 12,3.42 Z M 11,7 v 2 h 2 V 7 Z m 2,10 v -2 h -2 v 2 z m -2,-6 v 2 h 2 V 11 Z M 18.52,17.77 17.24,16.23 12,20.58 6.76,16.23 5.48,17.77 12,23.18 Z"}),"FollowScroll");function Th(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ih(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ih(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ih(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ch=(0,St.A)((function(e){return{root:{background:e.palette.action.hover,padding:e.spacing(.5,1)}}}),{name:"MissionOverviewPanelStatusBar"}),Ph=function(e){return c.createElement("ul",{style:{paddingLeft:28}},e.map((function(e){var t=e.key,r=e.text;return c.createElement("li",{key:t},r)})))},Lh=function(e){var t=e.followScroll,r=Th(e.homePositions,1)[0],n=e.missionEstimates,o=n.distance,a=n.duration,i=n.error,l=e.onFollowScrollChanged,u=Ch(),s=[];r||s.push({key:"home",text:"Estimates are imprecise due to missing home position"}),Number.isFinite(a)||s.push({key:"speed",text:"Cannot estimate time due to missing speed information"});var f=(0,c.useCallback)((function(){l(!t)}),[t,l]);return c.createElement(Nf.A,{square:!0,className:u.root},c.createElement(Rf.A,{disableGutters:!0,variant:"dense",style:{minHeight:28}},o>0?c.createElement(c.Fragment,null,s.length>0&&c.createElement(yf.W1,{content:Ph(s),placement:"top"},c.createElement(xt.A,{style:{color:ro.Ay.warning,marginRight:8},fontSize:"small"})),c.createElement(S.A,{py:.25},c.createElement(yf.W1,{content:"Estimated route"},c.createElement(bh.A,{icon:c.createElement(Ah.A,{style:{marginLeft:6}}),label:(0,io.BO)(o),size:"small",style:{margin:2},variant:"outlined"})),c.createElement(yf.W1,{content:"Estimated time"},c.createElement(bh.A,{icon:c.createElement(Sh.A,{style:{marginLeft:6}}),label:(0,io.a3)(a),size:"small",style:{margin:2},variant:"outlined"})))):i?c.createElement(bh.A,{icon:c.createElement(wh.A,{style:{color:ro.Ay.error}}),label:c.createElement("span",{style:{whiteSpace:"normal"}},i),size:"small",style:{height:"auto",marginRight:8},variant:"outlined"}):c.createElement(bh.A,{icon:c.createElement(Eh.A,{style:{color:ro.Ay.info}}),label:c.createElement("span",{style:{whiteSpace:"normal"}},"Add waypoints to the mission to get distance and duration estimates!"),size:"small",style:{height:"auto",marginRight:8},variant:"outlined"}),c.createElement(S.A,{component:"div",flex:1}),c.createElement(yf.W1,{content:"Follow the active mission item"},c.createElement(jh,{size:"small",style:{margin:-3},value:"followScroll",selected:t,onChange:f},c.createElement(kh,null)))))};Lh.propTypes={followScroll:i().bool,homePositions:i().arrayOf(Jy.A.coordinate),missionEstimates:i().shape({distance:i().number,duration:i().number,error:i().string}),onFollowScrollChanged:i().func};const _h=(0,s.Ng)((function(e){return{followScroll:(0,xr.V_)(e),homePositions:(0,xr.vT)(e),missionEstimates:(0,xr.u3)(e)}}),{onFollowScrollChanged:jr.CE})(Lh);const Nh=function(){return c.createElement(S.A,{display:"flex",flexDirection:"column",height:"100%"},c.createElement(gh,null),c.createElement(eh,null),c.createElement(_h,null),c.createElement(ch,null))};var Rh=r(10876),Dh=r(60279),Mh={selectShowFile:{evaluate:function(e){return(0,Fc.fb)(e)?Mc.n.SKIPPED:(0,Fc.$8)(e)?Mc.n.ERROR:(0,Fc.tS)(e)?Mc.n.SUCCESS:(0,Fc.oH)(e)?Mc.n.WAITING:Mc.n.OFF}},setupEnvironment:{evaluate:function(e){return(0,Fc.tS)(e)&&((0,Fc.El)(e)||(0,Fc.nk)(e))},requires:["selectShowFile"]},setupTakeoffArea:{evaluate:function(e){return(0,Fc.du)(e)?(0,Um.A)((0,xr.fA)(e))&&(0,Um.A)((0,mo.WF)(e))?Mc.n.SUCCESS:Mc.n.SKIPPED:Mc.n.OFF},requires:["setupEnvironment"]},setupGeofence:{evaluate:function(e){return(0,Fc.kP)(e)&&(0,xr.NF)(e)?(0,Fc.ut)(e)?Hc(e):Mc.n.ERROR:Mc.n.OFF},requires:["selectShowFile","setupEnvironment"]},uploadShow:{evaluate:function(e){var t=Ul(e,Dh.jp);return"error"===t?Mc.n.ERROR:"cancelled"===t?Mc.n.SKIPPED:"success"===t?Mc.n.SUCCESS:Mc.n.OFF},requires:["selectShowFile","setupEnvironment",xr.f4]},waitForOnboardPreflightChecks:{evaluate:function(e){return(0,Fc.P_)(e)?(0,mo.jE)(e)?Mc.n.SUCCESS:Mc.n.SKIPPED:Mc.n.OFF},requires:["uploadShow"]},performManualPreflightChecks:{evaluate:function(e){return(0,Fc.Mj)(e)||!tt(e)?Qe(e)?Mc.n.SUCCESS:Mc.n.SKIPPED:Mc.n.OFF},requires:["uploadShow"]},setupStartTime:{evaluate:function(e){return(0,Fc.qG)(e)?Mc.n.ERROR:(0,Fc._0)(e)?(0,Fc.Rf)(e)?Mc.n.SUCCESS:Mc.n.OFF:(0,yn.UJ)(e)?Mc.n.WAITING:Mc.n.OFF},requires:["selectShowFile"],suggests:["waitForOnboardPreflightChecks","performManualPreflightChecks"]},authorization:{evaluate:function(e){return(0,Fc.Mv)(e)?Mc.n.SUCCESS:(0,Fc.qG)(e)?Mc.n.ERROR:(0,Fc.yi)(e)?Mc.n.WAITING:Mc.n.OFF},requires:["waitForOnboardPreflightChecks","performManualPreflightChecks"]}},Fh=["selectShowFile","setupEnvironment","setupTakeoffArea","setupGeofence","uploadShow","waitForOnboardPreflightChecks","performManualPreflightChecks","setupStartTime","authorization"],Uh=function(e,t,r){return(t||[]).every((function(t){return"function"==typeof t?t(r):(n=e[t])===Mc.n.SUCCESS||n===Mc.n.SKIPPED;var n}))},Gh=function(e){for(var t={},r=0,n=Fh;r<n.length;r++){var o=n[r],a=Mh[o],i=void 0;Uh(t,a.requires,e)?("boolean"==typeof(i=a.evaluate(e))&&(i=i?Mc.n.SUCCESS:Mc.n.OFF),i===Mc.n.OFF&&(i=Uh(t,a.suggests,e)?Mc.n.NEXT:Mc.n.OFF)):i=Mc.n.OFF,t[o]=i}return t},Vh=["isAuthorized","numUAVsTakingOffAutomatically","status"];function Bh(){return Bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bh.apply(this,arguments)}function Hh(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Wh=function(e){var t=e.isAuthorized,r=e.numUAVsTakingOffAutomatically,n=e.status,o=Hh(e,Vh),a=(0,m.Bd)().t;return c.createElement(lt.A,Bh({button:!0,selected:t},o),c.createElement(ju.default,{status:t&&n===Mc.n.OFF?Mc.n.SKIPPED:n}),c.createElement(st.A,{disableTypography:!0,primary:c.createElement(O.A,{variant:"button"},a(t?"show.authorized":"show.authorizeTheStart")),secondary:c.createElement(O.A,{variant:"body2",color:"textSecondary"},t?r<=0?a("show.revokeAuthorization"):1===r?a("show.takeOffOne"):a("show.takeOffMore",{quantity:r}):a("show.authorizationReq"))}))};Wh.propTypes={isAuthorized:i().bool,numUAVsTakingOffAutomatically:i().number,status:i().oneOf(Object.values(Mc.n))};const zh=(0,s.Ng)((function(e){return{isAuthorized:(0,Fc.yi)(e),numUAVsTakingOffAutomatically:(0,Fc.VP)(e),status:Gh(e).authorization}}),{onClick:function(){return function(e,t){var r=t(),n=!(0,Fc.yi)(r);e((0,Rh.rU)(n)),e((0,Rh.L5)("toServer")),n&&e((0,jr.I9)(r))}}})(Wh);var Yh=r(24010);function Kh(e){return function(e){if(Array.isArray(e))return qh(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return qh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qh(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var $h=[0,1,2],Zh=function(e){var t=e.onChange,r=e.value,n=$h.map((function(e){return function(n){if(t){var o=Number.parseFloat(n.target.value);if(!Number.isNaN(o)){var a=Kh(r);a[e]=o,t(a)}}}}));return c.createElement(S.A,{display:"flex",flexDirection:"row"},c.createElement(Yh.C4,{label:"X",value:r[0],onChange:n[0]}),c.createElement(S.A,{p:1}),c.createElement(Yh.C4,{label:"Y",value:r[1],onChange:n[1]}),c.createElement(S.A,{p:1}),c.createElement(Yh.C4,{label:"Z",value:r[2],onChange:n[2]}))};Zh.propTypes={value:i().arrayOf(i().number),onChange:i().func};const Xh=Zh;var Jh=r(6659),Qh=function(e){var t=e.roomVisible,r=e.firstCorner,n=e.secondCorner,o=e.onRoomVisibilityChanged,a=e.onFirstCornerChanged,i=e.onSecondCornerChanged,l=e.t;return c.createElement(D.A,null,c.createElement(G.A,null,l("indoorEnvironmentEditor.coordinatesOfTheCorners")),c.createElement(Xh,{value:r,onChange:a}),c.createElement(S.A,{p:1}),c.createElement(Xh,{value:n,onChange:i}),c.createElement(S.A,{p:1}),c.createElement(R.A,{label:l("indoorEnvironmentEditor.roomVisibleIn3D"),control:c.createElement(_.A,{checked:Boolean(t),onChange:o})}))};Qh.propTypes={roomVisible:i().bool,firstCorner:i().arrayOf(i().number),secondCorner:i().arrayOf(i().number),onFirstCornerChanged:i().func,onSecondCornerChanged:i().func,onRoomVisibilityChanged:i().func,t:i().func};const ev=(0,s.Ng)((function(e){var t=(0,Fc.K3)(e);return{firstCorner:t[0],secondCorner:t[1],roomVisible:(0,Fc._q)(e)}}),{onRoomVisibilityChanged:function(e){return(0,Rh.aC)(e.target.checked)},onFirstCornerChanged:Jh.MZ,onSecondCornerChanged:Jh.Ej})((0,m.CI)()(Qh));var tv=r(23952),rv=r(26144),nv=r(39181),ov=r(88166),av=r(28550);function iv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return cv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lv(e){return function(e,t){for(var r,n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=t.takeoffCoordinates,i=t.uavGPSCoordinates,c=o.threshold,l=void 0===c?3:c,u=o.maxIterations,s=void 0===u?20:u,f=!1,p=function(){var t=new K.f9(e),o=pv(i,t),c=(0,av.HR)(o,a,{distanceFunction:av.CX});if((r=(0,ov.e)(c,{algorithm:"hungarian",threshold:l})).sort((function(e,t){return e[1]-t[1]})),(0,B.default)(r,n)&&(f=!0),0===r.length)throw new Error("Failed to find a sufficiently close matching between the drones and the takeoff positions");n&&(r.length<n.length||d===s-1)?r=n:n=r;var u=r.length,p=r.map((function(e){var t=iv(e,2),r=t[0];t[1];return o[r]})),y=r.map((function(e){var t=iv(e,2),r=(t[0],t[1]);return a[r]})),m=(0,av.l7)(p),h=(0,av.l7)(y);p=fv(p,m),y=fv(y,h);for(var v=[[0,0],[0,0]],g=0;g<u;g++){var b=p[g],w=y[g];v[0][0]+=b[0]*w[0],v[0][1]+=b[0]*w[1],v[1][0]+=b[1]*w[0],v[1][1]+=b[1]*w[1]}var E=(0,nv.SVD)(v),A=[[E.u[0][0]*E.v[0][0]+E.u[0][1]*E.v[0][1],E.u[0][0]*E.v[1][0]+E.u[0][1]*E.v[1][1]],[E.u[1][0]*E.v[0][0]+E.u[1][1]*E.v[0][1],E.u[1][0]*E.v[1][0]+E.u[1][1]*E.v[1][1]]],S=(0,av.xW)(Math.atan2(A[0][1],A[0][0])),O=uv(m,sv(h,S));e={origin:t.toLonLat([O[0],O[1]]),orientation:e.orientation+S,type:rv.COORDINATE_SYSTEM_TYPE}},d=0;d<s&&!f;d++)p();return e}(function(e){var t=e.uavGPSCoordinates,r=e.uavHeadings,n=e.takeoffCoordinates;if(0===t.length)throw new Error("There are no UAVs with GPS coordinates to work with");var o=(0,av.l7)(t),a=(0,av.hw)(r),i=new K.f9({origin:o,orientation:0,type:rv.COORDINATE_SYSTEM_TYPE}),c=pv(t,i),l=(0,av.l7)(c),u=(0,av.l7)(n),s=uv(l,sv(u,a));return{origin:i.toLonLat(s),orientation:a,type:rv.COORDINATE_SYSTEM_TYPE}}(e),e)}function uv(e,t){return[e[0]-t[0],e[1]-t[1]]}function sv(e,t){var r=(0,av.eh)(t),n=Math.cos(r),o=Math.sin(r);return[e[0]*n+e[1]*o,e[0]*-o+e[1]*n]}function fv(e,t){return void 0===t&&(t=(0,av.l7)(e)),e.map((function(e){return uv(e,t)}))}function pv(e,t){return e.map((function(e){return t.fromLonLat(e)}))}function dv(e){return(0,Fc.kP)(e)&&(0,mo.T4)(e).length>0&&(0,Fc.SZ)(e)>0}var yv=r(91829),mv=r(16817),hv=r(49957);function vv(e){return vv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vv(e)}function gv(e){return function(e){if(Array.isArray(e))return Ov(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Sv(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bv(){bv=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==vv(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(vv(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function wv(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Ev(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){wv(a,n,o,i,c,"next",e)}function c(e){wv(a,n,o,i,c,"throw",e)}i(void 0)}))}}function Av(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||Sv(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sv(e,t){if(e){if("string"==typeof e)return Ov(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ov(e,t):void 0}}function Ov(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var xv="__null__",jv={id:xv,title:"RTK disabled"},kv=function(e){var t=e.onSourceChanged,r=e.t,n=Av((0,c.useState)(),2),o=n[0],a=n[1],i=Av((0,yv.A)(Ev(bv().mark((function e(){return bv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pn.A.query.getSelectedRTKPresetId());case 1:case"end":return e.stop()}}),e)})))),2),l=i[0],u=i[1],s=(0,mv.A)(Ev(bv().mark((function e(){return bv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pn.A.query.getRTKPresets());case 1:case"end":return e.stop()}}),e)}))),[]),f=s.loading||l.loading,p=s.error||l.error,d=s.value?s.value:[],y=void 0!==l.value,m=void 0!==l.value?null===l.value?xv:l.value:void 0,h=d&&d.length>0,v=function(){var e=Ev(bv().mark((function e(r){return bv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(r.target.value),t&&t();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){f||p||!h||void 0!==m||u()})),(0,c.useEffect)((function(){var e=!0;if(void 0!==o&&o!==m){var t=function(){var t=Ev(bv().mark((function t(){var r;return bv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o===xv?null:o,t.prev=1,t.next=4,Pn.A.execute.setRTKCorrectionsSource(r);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1);case 9:t.prev=9,e&&(a(void 0),u()),t.next=17;break;case 13:throw t.prev=13,t.t1=t.catch(9),t.t1;case 17:case"end":return t.stop()}}),t,null,[[1,6],[9,13]])})));return function(){return t.apply(this,arguments)}}();t()}return function(){e=!1}}),[u,o,m,a]),c.createElement(D.A,null,c.createElement(N.A,{variant:"filled",error:p&&!f},c.createElement(M.A,{htmlFor:"rtk-corrections"},r("RTKCorrectionSourceSelector.RTKCorrections")),c.createElement(U.A,{displayEmpty:!0,disabled:Boolean(p||f||!h),value:o||(y?m:xv),inputProps:{id:"rtk-corrections"},onChange:v},s.loading?c.createElement(F.A,{disabled:!0,value:xv},r("RTKCorrectionSourceSelector.pleaseWait")):p?c.createElement(F.A,{disabled:!0,value:xv},r("RTKCorrectionSourceSelector.error")):h?[jv].concat(gv(d)).map((function(e){return c.createElement(F.A,{key:e.id,value:e.id},e.title)})):c.createElement(F.A,{disabled:!0,value:"__null__"},r("RTKCorrectionSourceSelector.noRTKData")))))};kv.propTypes={onSourceChanged:i().func,t:i().func};const Tv=(0,s.Ng)(null,{onSourceChanged:hv.i2})((0,m.CI)()(kv)),Iv=(0,_r.A)(c.createElement("path",{d:"M7.5,5.6L5,7L6.4,4.5L5,2L7.5,3.4L10,2L8.6,4.5L10,7L7.5,5.6M19.5,15.4L22,14L20.6,16.5L22,19L19.5,17.6L17,19L18.4,16.5L17,14L19.5,15.4M22,2L20.6,4.5L22,7L19.5,5.6L17,7L18.4,4.5L17,2L19.5,3.4L22,2M13.34,12.78L15.78,10.34L13.66,8.22L11.22,10.66L13.34,12.78M14.37,7.29L16.71,9.63C17.1,10 17.1,10.65 16.71,11.04L5.04,22.71C4.65,23.1 4,23.1 3.63,22.71L1.29,20.37C0.9,20 0.9,19.35 1.29,18.96L12.96,7.29C13.35,6.9 14,6.9 14.37,7.29Z"}),"AutoFix");var Cv=r(88313);function Pv(e){return Pv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pv(e)}function Lv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lv(Object(r),!0).forEach((function(t){Nv(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Nv(e,t,r){var n;return n=function(e,t){if("object"!=Pv(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Pv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Pv(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Rv=function(e){var t=e.takeoffHeading,r=e.onChange,n=e.onSetToAverageHeading,o=t||Dh.ay,a=o.type,i=void 0===a?Dh.us.NONE:a,l=o.value,u=void 0===l?"0":l,s=(0,c.useCallback)((function(e){var n=e.target.value;r&&r(_v(_v({},t),{},{type:n}))}),[r,t]),f=(0,c.useCallback)((function(e){r&&r(_v(_v({},t),{},{value:String(e)}))}),[r,t]);return c.createElement(m.wD,null,(function(e){return c.createElement(S.A,{display:"flex",flexDirection:"row"},c.createElement(N.A,{fullWidth:!0,variant:"filled"},c.createElement(M.A,{htmlFor:"takeoff-heading-type"},e("takeoffHeadingSpecEditor.UAVheadings")),c.createElement(U.A,{value:i,inputProps:{id:"takeoff-heading-type"},onChange:s},c.createElement(F.A,{value:Dh.us.NONE},e("takeoffHeadingSpecEditor.unspecified")),c.createElement(F.A,{value:Dh.us.ABSOLUTE},e("takeoffHeadingSpecEditor.specifiedByAbsoluteCompassDirection")),c.createElement(F.A,{value:Dh.us.RELATIVE},e("takeoffHeadingSpecEditor.specifiedRelativeToShowOrientation")))),c.createElement(S.A,{p:1}),c.createElement(Ee,{disabled:i===Dh.us.NONE,style:{minWidth:160},label:i===Dh.us.ABSOLUTE?e("takeoffHeadingSpecEditor.compassDirection"):e("takeoffHeadingSpecEditor.headingOffset"),value:u,variant:"filled",onChange:f}),n&&c.createElement(S.A,{alignSelf:"bottom",pt:1},c.createElement(pt.default,{content:e("takeoffHeadingSpecEditor.setToAvergaeHeading")},c.createElement(W.A,{edge:"end",onClick:n},c.createElement(Cv.A,null)))))}))};function Dv(e){return Dv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dv(e)}function Mv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mv(Object(r),!0).forEach((function(t){Uv(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Uv(e,t,r){var n;return n=function(e,t){if("object"!=Dv(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Dv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Dv(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gv(){return Gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gv.apply(this,arguments)}Rv.propTypes={takeoffHeading:i().shape({mode:i().oneOf(Object.values(Dh.us)),value:i().string.isRequired}),onChange:i().func,onSetToAverageHeading:i().func};var Vv=function(e){var t=e.altitudeReference,r=e.canEstimateShowCoordinateSystem,n=e.onAltitudeReferenceTypeChanged,o=e.onAltitudeReferenceValueChanged,a=e.onCopyCoordinateSystemToMap,i=e.onEstimateShowCoordinateSystem,l=e.onOriginChanged,u=e.onOrientationChanged,s=e.onSetAltitudeReferenceToAverageAMSL,f=e.onSetCoordinateSystemFromMap,p=e.onSetTakeoffHeading,d=e.onSetTakeoffHeadingToAverageActiveUAVHeading,y=e.showCoordinateSystem,h=e.t,v=e.takeoffHeading,g=t&&t.type===Dh.Mb.AMSL;return c.createElement(c.Fragment,null,c.createElement(G.A,null,h("outdoorEnvironmentEditor.coordinateSystem")),c.createElement(S.A,{display:"flex",flexDirection:"row"},c.createElement(S.A,null,c.createElement(Se,Gv({type:rv.COORDINATE_SYSTEM_TYPE},y,{orientationLabel:h("outdoorEnvironmentEditor.showOrientation"),originLabel:h("outdoorEnvironmentEditor.showOrigin"),onOriginChanged:l,onOrientationChanged:u})),c.createElement(S.A,{display:"flex",justifyContent:"space-evenly",py:1},c.createElement(x.A,{onClick:f},h("outdoorEnvironmentEditor.copyMapOriginToShow")),c.createElement(x.A,{onClick:a},h("outdoorEnvironmentEditor.copyShowOriginToMap")))),c.createElement(S.A,{alignSelf:"bottom",pt:1},c.createElement(pt.default,{content:h("outdoorEnvironmentEditor.fitCoordinateSysToCurrentDrone")},c.createElement(W.A,{disabled:!r,edge:"end",onClick:i},c.createElement(Iv,null))))),c.createElement(Rv,{takeoffHeading:v,onChange:p,onSetToAverageHeading:d}),c.createElement(S.A,{pt:1,display:"flex",flexDirection:"row"},c.createElement(S.A,{style:{color:ro.Jy.warning}},c.createElement(xt.A,null)),c.createElement(S.A,{flex:1,pl:1},c.createElement(O.A,{color:"textSecondary",variant:"body2"},c.createElement(m.x6,{i18nKey:"outdoorEnvironmentEditor.warningText",components:{underline:c.createElement("u",null)}})))),c.createElement(G.A,null,h("outdoorEnvironmentEditor.altitudeControl")),c.createElement(S.A,{display:"flex",flexDirection:"row",pb:2},c.createElement(N.A,{fullWidth:!0,variant:"filled"},c.createElement(M.A,{htmlFor:"altitude-reference-type"},h("outdoorEnvironmentEditor.showIsControlledBasedOn")),c.createElement(U.A,{value:(t?t.type:null)||Dh.Mb.AHL,inputProps:{id:"altitude-reference-type"},onChange:n},c.createElement(F.A,{value:Dh.Mb.AHL},h("outdoorEnvironmentEditor.AHL")),c.createElement(F.A,{value:Dh.Mb.AMSL},h("outdoorEnvironmentEditor.AMSL")))),c.createElement(S.A,{p:1}),c.createElement(Yh.C4,{disabled:!g,label:h("outdoorEnvironmentEditor.AMSLReference"),value:(t?t.value:null)||0,step:.1,min:-1e4,max:1e4,onChange:o}),c.createElement(S.A,{alignSelf:"bottom",pt:1},c.createElement(pt.default,{content:h("outdoorEnvironmentEditor.setToAverageAMSL")},c.createElement(W.A,{disabled:!g,edge:"end",onClick:s},c.createElement(tv.A,null))))),c.createElement(Tv,null))};Vv.propTypes={altitudeReference:i().shape({type:i().oneOf(Object.values(Dh.Mb)),value:i().number}),canEstimateShowCoordinateSystem:i().bool,onAltitudeReferenceTypeChanged:i().func,onAltitudeReferenceValueChanged:i().func,onCopyCoordinateSystemToMap:i().func,onEstimateShowCoordinateSystem:i().func,onOriginChanged:i().func,onOrientationChanged:i().func,onSetAltitudeReferenceToAverageAMSL:i().func,onSetCoordinateSystemFromMap:i().func,onSetTakeoffHeading:i().func,onSetTakeoffHeadingToAverageActiveUAVHeading:i().func,showCoordinateSystem:i().shape({orientation:i().string.isRequired,origin:i().arrayOf(i().number)}),t:i().func,takeoffHeading:i().shape({type:i().oneOf(Object.values(Dh.us)),value:i().string.isRequired})};const Bv=(0,s.Ng)((function(e){return{altitudeReference:e.show.environment.outdoor.altitudeReference,canEstimateShowCoordinateSystem:dv(e),showCoordinateSystem:e.show.environment.outdoor.coordinateSystem,mapCoordinateSystem:e.map.origin,takeoffHeading:(0,Fc.Z1)(e)}}),{onAltitudeReferenceTypeChanged:function(e){return(0,Jh.Np)(e.target.value)},onAltitudeReferenceValueChanged:function(e){return(0,Jh.gF)(e.target.value)},onCopyCoordinateSystemToMap:function(e){return function(t){t((0,Oe._F)({position:e.origin,angle:e.orientation})),t((0,ku.Te)(xe.A.t("outdoorEnvironmentEditor.showCoordinateSystemAppliedToMap")))}},onEstimateShowCoordinateSystem:function(){return function(e,t){var r=t();if(dv(r)){var n;try{var o=function(e){for(var t=(0,mo.T4)(e),r=t.map((function(t){var r=(0,mo.fk)(e,t);return r?[r.lon,r.lat]:void 0})),n=t.map((function(t){return(0,mo.uC)(e,t)})),o=[],a=r.length,i=0;i<a;i++)void 0!==r[i]&&void 0!==n[i]||o.push(i);for(var c=(a=o.length)-1;c>=0;c--)t.splice(c,1),r.splice(c,1),n.splice(c,1);var l=(0,Fc.MM)(e);if((null==l?void 0:l.type)===Dh.us.RELATIVE)for(var u=(0,Fc.MC)(e),s=0;s<n.length;s++)n[s]=(n[s]-u)%360;return{uavIds:t,uavGPSCoordinates:r,uavHeadings:n,takeoffCoordinates:(0,Fc.Oy)(e)}}(r);n=lv(o)}catch(t){return void e((0,Co.f)("Failed to calculate show coordinate system",t))}var a=n,i=a.origin,c=a.orientation,l=a.type;e((0,Jh.mm)({origin:i,orientation:c.toFixed(1),setupMission:!0})),e((0,Jh.Gk)()),e((0,Fm.CV)()),(0,ke.Qr)(t())||e((0,Oe._F)({position:i,angle:c.toFixed(1),type:l}))}}},onOrientationChanged:function(e){return(0,Jh.mm)({orientation:e,setupMission:!0})},onOriginChanged:function(e){return(0,Jh.mm)({origin:e,setupMission:!0})},onSetAltitudeReferenceToAverageAMSL:Jh.Gk,onSetCoordinateSystemFromMap:function(e){return function(t){t((0,Jh.mm)({origin:e.position,orientation:e.angle,setupMission:!0})),t((0,ku.Te)(xe.A.t("outdoorEnvironmentEditor.showCoordinateSystemUpdatedFromMap")))}},onSetTakeoffHeading:function(e){return(0,Jh.mm)({takeoffHeading:e,setupMission:!0})},onSetTakeoffHeadingToAverageActiveUAVHeading:function(){return function(e,t){var r=t(),n=(0,mo.mP)(r);if(Number.isFinite(n)){var o=Fv(Fv({},Dh.ay),(0,Fc.Z1)(r));if((null==o?void 0:o.type)===Dh.us.ABSOLUTE)o.value=(0,K.n0)(n);else{var a=(0,Fc.gQ)(r);o.type=Dh.us.RELATIVE,o.value=(0,K.n0)(n-a)}e((0,Jh.mm)({takeoffHeading:o,setupMission:!0}))}}}},(function(e,t,r){var n=Fv(Fv(Fv(Fv({},r),e),t),{},{onCopyCoordinateSystemToMap:function(){return t.onCopyCoordinateSystemToMap(e.showCoordinateSystem)},onSetCoordinateSystemFromMap:function(){return t.onSetCoordinateSystemFromMap(e.mapCoordinateSystem)}});return delete n.mapCoordinateSystem,n}))((0,m.CI)()(Vv));var Hv={indoor:"environmentEditorDialog.indoor",outdoor:"environmentEditorDialog.outdoor"},Wv=(0,m.CI)()((function(e){var t=e.type,r=e.t;return c.createElement(O.A,{variant:"body1"},r(Hv[t]))}));Wv.propTypes={type:i().oneOf(Object.keys(Hv))};var zv=function(e){var t=e.editing,r=e.onClose,n=e.type,o=e.t;return c.createElement(qr.A,{fullWidth:!0,open:t,maxWidth:"sm",title:o("environmentEditorDialog.environmentSettings"),onClose:r},c.createElement(v.A,null,c.createElement(S.A,{my:2},c.createElement(Wv,{type:n}),"outdoor"===n&&c.createElement(Bv,null),"indoor"===n&&c.createElement(ev,null))))};zv.propTypes={editing:i().bool,onClose:i().func,type:i().oneOf(["indoor","outdoor"]),t:i().func},zv.defaultProps={editing:!1};const Yv=(0,s.Ng)((function(e){return{editing:e.show.environment.editing,type:(0,Fc.Dy)(e)}}),{onClose:Rh.lO})((0,m.CI)()(zv));var Kv=r(45152);function qv(e){return qv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qv(e)}function $v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zv(e,t,r){var n;return n=function(e,t){if("object"!=qv(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=qv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==qv(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Xv=function(e){var t=e.open,r=e.onClose,n=e.onLoadShowFromUrl;return c.createElement(h.A,{fullWidth:!0,open:t,onClose:r},c.createElement(b.A,{value:"skybrushAccount"},c.createElement(g.A,{value:"skybrushAccount",label:"Skybrush Account"}),c.createElement(g.A,{disabled:!0,value:"web",label:"Web Link"}),c.createElement(g.A,{disabled:!0,value:"git",label:"Git Repository"})),c.createElement(ct.A,null,c.createElement(Kv.A,null,"Shared with me"),o.A.examples.shows.map((function(e){var t=e.id,r=e.title,o=e.url;return c.createElement(lt.A,{key:t,button:!0,onClick:function(){return n(o)}},c.createElement(st.A,{primary:r}))}))))};Xv.propTypes={onClose:i().func,onLoadShowFromUrl:i().func,open:i().bool},Xv.defaultProps={open:!1};const Jv=(0,s.Ng)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$v(Object(r),!0).forEach((function(t){Zv(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.show.loadShowFromCloudDialog)}),(function(e){return{onClose:function(){e((0,Rh.T6)())},onLoadShowFromUrl:function(t){e((0,Rh.T6)()),e((0,Jh.LL)(t))}}}))(Xv);function Qv(e){return Qv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qv(e)}var eg=["checkedItemIds","items","onToggle"];function tg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tg(Object(r),!0).forEach((function(t){ng(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ng(e,t,r){var n;return n=function(e,t){if("object"!=Qv(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Qv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Qv(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function og(){return og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},og.apply(this,arguments)}function ag(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var ig=function(e){var t=e.checkedItemIds,r=e.items,n=e.onToggle,o=ag(e,eg);return c.createElement(ct.A,og({dense:!0,disablePadding:r.length>0},o),r.map((function(e){if("header"===e.type)return c.createElement(Kv.A,{key:"preflight-header-".concat(e.id)},e.label);var r="preflight-item-".concat(e.id);return c.createElement(lt.A,{key:r,button:!0,disableRipple:!0,onClick:function(){return n(e.id)}},c.createElement(ut.A,null,c.createElement(_.A,{checked:t.includes(e.id),edge:"start",inputProps:{"aria-labelledby":r},value:e.id})),c.createElement(st.A,{id:r,primary:e.label}))})),0===r.length&&c.createElement(lt.A,null,c.createElement(st.A,{primary:"There are no manual preflight check items.",secondary:"You can add them in the Settings dialog."})))};ig.propTypes={checkedItemIds:i().arrayOf(i().string),items:i().arrayOf(i().shape({id:i().string,type:i().string})),onToggle:i().func};var cg=(0,s.Ng)((function(e){return{checkedItemIds:Je(e),items:Xe(e)}}),(function(e){return{onToggle:function(t){e((0,Me.Wl)(t))}}}))(ig),lg=function(e){var t=e.open,r=e.onClear,n=e.onClose,o=e.onSignOff,a=e.signedOff;return c.createElement(h.A,{fullWidth:!0,open:t,maxWidth:"xs",onClose:n},c.createElement(v.A,{style:{display:"flex",flexDirection:"column",paddingLeft:"1em",paddingRight:"1em"}},c.createElement(S.A,{flex:1,overflow:"auto",minHeight:0},c.createElement(cg,null)),c.createElement(S.A,{className:"bottom-bar",textAlign:"center",pt:2},c.createElement(R.A,{control:c.createElement(ft.A,{checked:a,value:"signedOff",onChange:a?r:o}),label:"Sign off on manual preflight checks"}))),c.createElement(vr.A,null))};lg.propTypes={onClear:i().func,onClose:i().func,onSignOff:i().func,open:i().bool,signedOff:i().bool},lg.defaultProps={open:!1,signedOff:!1};const ug=(0,s.Ng)((function(e){return rg(rg({},e.show.manualPreflightChecksDialog),{},{signedOff:(0,Fc.Mj)(e)})}),{onClear:Rh.mZ,onClose:Rh.VU,onSignOff:Jh.I9})(lg);var sg=r(77690),fg=r(65360),pg=r(7168),dg=r(12128),yg=function(e){var t=e.selected,r=e.onChange,n=e.t;return c.createElement(yf.W1,{content:n("mappingToggleButton.sortByMissionID")},c.createElement(jh,{value:"missionIds",selected:t,onChange:r},c.createElement(dg.A,null)))};yg.propTypes={selected:i().bool,onChange:i().func,t:i().func};const mg=(0,s.Ng)((function(e){return{selected:(0,Kt.W_)(e)}}),{onChange:I.vZ})((0,m.CI)()(yg));function hg(e){return hg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hg(e)}var vg=["items","showMissionIds"];function gg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gg(Object(r),!0).forEach((function(t){wg(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wg(e,t,r){var n;return n=function(e,t){if("object"!=hg(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=hg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==hg(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eg(){return Eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eg.apply(this,arguments)}function Ag(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Sg=[Mc.n.INFO,Mc.n.SKIPPED,Mc.n.ERROR,Mc.n.ERROR],Og=function(e){var t=e.items,r=e.showMissionIds,n=Ag(e,vg),o=(0,m.Bd)().t;return t.length>0?c.createElement(ct.A,Eg({dense:!0,disablePadding:!0},n),t.map((function(e){var t="preflight-item-".concat(e.code),n=Sg[(0,fg.kx)(e.code)];return c.createElement(lt.A,{key:t,button:!0,disableRipple:!0},c.createElement(ju.default,{status:n}),c.createElement(st.A,{id:t,primary:pg.A.describe(e.code),secondary:(0,io.zL)(e.uavIdsAndIndices.map(r?function(e){return(0,io.J8)(e[1])}:function(e){return String(e[0])}))}))}))):c.createElement(Sr.A,{header:o("OnboardPreflightChecksDialog.passed"),text:o("OnboardPreflightChecksDialog.noError"),icon:c.createElement(sg.A,null),iconColor:ro.Jy.success})};Og.propTypes={items:i().arrayOf(i().shape({id:i().string,type:i().string})),onToggle:i().func,showMissionIds:i().bool,t:i().func};var xg=(0,s.Ng)((function(e){return{items:(0,mo.Ty)(e),showMissionIds:(0,Kt.W_)(e)}}),{})(Og),jg=function(e){var t=e.open,r=e.onClear,n=e.onClose,o=e.onSignOff,a=e.signedOff,i=e.t;return c.createElement(qr.A,{fullWidth:!0,open:t,maxWidth:"xs",title:i("show.onboardPreflightChecks"),titleComponents:c.createElement(mg,null),onClose:n},c.createElement(v.A,{style:{display:"flex",flexDirection:"column",paddingLeft:"1em",paddingRight:"1em"}},c.createElement(S.A,{display:"flex",flexDirection:"column",justifyContent:"center",flex:1,overflow:"auto",minHeight:240},c.createElement(xg,null)),c.createElement(S.A,{className:"bottom-bar",textAlign:"center",pt:2},c.createElement(R.A,{control:c.createElement(ft.A,{checked:a,value:"signedOff",onChange:a?r:o}),label:i("OnboardPreflightChecksDialog.signOffOn")}))),c.createElement(vr.A,null))};jg.propTypes={onClear:i().func,onClose:i().func,onSignOff:i().func,open:i().bool,signedOff:i().bool,t:i().func},jg.defaultProps={open:!1,signedOff:!1};const kg=(0,s.Ng)((function(e){return bg(bg({},e.show.onboardPreflightChecksDialog),{},{signedOff:(0,Fc.P_)(e)})}),{onClear:Rh.Bm,onClose:Rh.Ej,onSignOff:Jh.Jj})((0,m.CI)()(jg));var Tg,Ig=["children","direction","onChange","selectedPage"],Cg=["className","id","keepMounted","scrollable"];function Pg(){return Pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pg.apply(this,arguments)}function Lg(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var _g=(0,St.A)((function(){return{page:{position:"absolute",left:0,top:0,right:0,bottom:0},scrollable:{overflow:"auto"}}}),{name:"MultiPagePanel"}),Ng=function(e){return e.id};Ng.propTypes={children:i().node,id:i().string,keepMounted:i().bool,scrollable:i().bool};var Rg=function(e){var t=e.children,r=e.direction,o=void 0===r?"left":r,a=(e.onChange,e.selectedPage),i=Lg(e,Ig),l=_g();return c.createElement(S.A,Pg({position:"relative"},i),c.Children.map(t,(function(e){var t=e.props,r=t.className,i=t.id,u=t.keepMounted,s=t.scrollable,f=Lg(t,Cg),p={in:i===a,direction:o,children:e.children};u||(p.mountOnEnter=!0,p.unmountOnExit=!0);var d=(0,n.A)(l.page,s&&l.scrollable,r);return c.createElement(vy,p,c.createElement(S.A,Pg({className:d},f)))})))};Rg.propTypes={children:i().arrayOf(Ng),direction:null===(Tg=vy.propTypes)||void 0===Tg?void 0:Tg.direction,onChange:i().func,selectedPage:i().string};const Dg=Rg;var Mg=["onEditEnvironment","secondaryText","status"];function Fg(){return Fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fg.apply(this,arguments)}function Ug(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Gg=(0,Ve.createSelector)(Fc.Dy,Fc.xL,(function(e,t){switch(e){case"indoor":return(0,xe.tt)("show.indoor");case"outdoor":var r=t.type,n=t.value;return r===Dh.Mb.AMSL?Number.isFinite(n)?(0,xe.tt)("show.outdoor.relativeToAMSL",{altitude:n.toFixed(1)}):(0,xe.tt)("show.outdoor.invalidAltitudeReference"):r===Dh.Mb.AHL?(0,xe.tt)("show.outdoor.relativeToHome"):(0,xe.tt)("show.outdoor.unknownAltitudeReference");default:return(0,xe.tt)("show.unknown")}})),Vg=function(e){var t=e.onEditEnvironment,r=e.secondaryText,n=e.status,o=Ug(e,Mg),a=(0,m.Bd)().t;return c.createElement(lt.A,Fg({button:!0,disabled:n===Mc.n.OFF,onClick:t},o),c.createElement(ju.default,{status:n}),c.createElement(st.A,{primary:a("show.setupEnvironment"),secondary:r(a)}))};Vg.propTypes={onEditEnvironment:i().func,secondaryText:i().func,status:i().oneOf(Object.values(Mc.n))};const Bg=(0,s.Ng)((function(e){return{status:Gh(e).setupEnvironment,secondaryText:Gg(e)}}),{onEditEnvironment:Rh.Dg})(Vg);var Hg=["onClick","status"];function Wg(){return Wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wg.apply(this,arguments)}function zg(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Yg=function(e){switch(e){case Mc.n.OFF:case Mc.n.NEXT:return(0,xe.tt)("geofence.statusText.no");case Mc.n.SUCCESS:return(0,xe.tt)("geofence.statusText.automatic");case Mc.n.WARNING:return(0,xe.tt)("geofence.statusText.manual");case Mc.n.ERROR:return(0,xe.tt)("geofence.statusText.error");default:return""}},Kg=function(e){var t=e.onClick,r=e.status,n=zg(e,Hg),o=(0,m.Bd)().t;return c.createElement(lt.A,Wg({button:!0,disabled:r===Mc.n.OFF,onClick:t},n),c.createElement(ju.default,{status:r}),c.createElement(st.A,{primary:o("show.setupGeofence","Setup geofence"),secondary:Yg(r)(o)}))};Kg.propTypes={onClick:i().func,status:i().oneOf(Object.values(Mc.n))},Kg.defaultProps={};const qg=(0,s.Ng)((function(e){return{status:Gh(e).setupGeofence}}),{onClick:function(){return function(e){e((0,zc.cT)(Bm.I.GEOFENCE)),e((0,zc.$0)())}}})(Kg);var $g=r(68238),Zg=r(84639),Xg=r(79495),Jg=r(49406),Qg=r(78614),eb=r(39064),tb=r(72031),rb=r(71115),nb=["affectedByClockSkew","clock","clockId","clockSkew","emptyText","format","signed","updateInterval"];function ob(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var ab=function(e){var t=e.affectedByClockSkew,r=e.clock,n=(e.clockId,e.clockSkew),o=e.emptyText,a=e.format,i=(e.signed,e.updateInterval),l=ob(e,nb),u=(r||{}).running,s=Date.now()+(t&&!(0,Ge.default)(n)?n:0),f=r?(0,Ts.b0)(r,s):void 0,p=void 0===f?o:(0,Ts.bj)(f,r,{format:a}),d=(0,oi.A)();return(0,ai.A)(d,u?i:null),c.createElement("span",l,p)};ab.propTypes={affectedByClockSkew:i().bool,clock:i().object,clockId:i().string,clockSkew:i().number,emptyText:i().string,format:i().string,signed:i().bool,updateInterval:i().number},ab.defaultProps={format:"HH:mm:ss"};const ib=(0,s.Ng)((function(e,t){var r=_s(e,t.clockId),n=(0,Ts.$t)(r),o=(0,Ts.KK)(r),a=(0,Ts.Px)(r);return{affectedByClockSkew:o,clock:r,clockSkew:(0,yn.li)(e),signed:n,updateInterval:a}}),{})(ab);var cb=r(4452);function lb(e){return lb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lb(e)}function ub(e,t,r){var n;return n=function(e,t){if("object"!=lb(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=lb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==lb(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var sb=ub(ub({},cb._9.RC,"Use the switch on your RC to start"),cb._9.AUTO,"Show will start automatically"),fb=ub(ub({},cb._9.RC,c.createElement(rb.A,null)),cb._9.AUTO,c.createElement(tb.A,null)),pb=function(e){var t=e.hasScheduledStartTime,r=e.startMethod,n=e.t;return c.createElement(ct.A,{dense:!0},c.createElement(lt.A,null,c.createElement(ut.A,null,fb[r]||c.createElement(_c.A,null)),c.createElement(st.A,{primary:sb[r]||n("show.unknownStartMode","This show uses an unknown start mode"),secondary:t?c.createElement(c.Fragment,null,n("show.clock","Show clock:")," ",c.createElement(ib,{clockId:"show"})):n("show.startTimeNotSet","Start time not set yet")})))};pb.propTypes={hasScheduledStartTime:i().bool,startMethod:i().oneOf(Object.values(cb._9)),t:i().func};const db=(0,s.Ng)((function(e){return{hasScheduledStartTime:(0,Fc.Rf)(e),startMethod:(0,Fc.bY)(e)}}),{})((0,m.CI)()(pb));var yb=(0,St.A)((function(e){return{root:{position:"absolute",left:0,top:0,right:0,bottom:0},scrollable:{overflow:"auto"},button:{flex:1,margin:e.spacing(.5),lineHeight:1}}}),{name:"LargeControlButtonGroup"}),mb=function(e){var t=e.broadcast,r=e.onChangeBroadcastMode,n=e.uavActions,o=yb();return c.createElement(c.Fragment,null,c.createElement(db,null),c.createElement(yl.A,null),c.createElement(S.A,{display:"flex",alignItems:"center",flexDirection:"row",mt:.5},c.createElement(S.A,{flex:"1",textAlign:"right"},c.createElement(O.A,{variant:"body2",color:t?"textSecondary":"textPrimary"},"Selection only")),c.createElement(ft.A,{checked:t,onChange:r}),c.createElement(S.A,{flex:"1"},c.createElement(O.A,{variant:"body2",color:t?"textPrimary":"textSecondary"},"Broadcast"))),c.createElement(S.A,{display:"flex",flexDirection:"row",flex:1},c.createElement(sd,{className:o.button,color:ro.Ay.success,icon:c.createElement(js.A,{fontSize:"inherit"}),onClick:n.turnMotorsOn},t?"Arm all":"Arm"),c.createElement(sd,{className:o.button,color:ro.Ay.info,icon:c.createElement(Y.default,{fontSize:"inherit"}),onClick:n.turnMotorsOff},t?"Disarm all":"Disarm")),c.createElement(S.A,{display:"flex",flexDirection:"row",flex:1},c.createElement(sd,{className:o.button,color:ro.Ay.positionHold,icon:c.createElement(Jg.A,{fontSize:"inherit"}),onClick:n.holdPosition},t?"Hold all":"Hold"),c.createElement(sd,{className:o.button,color:ro.Ay.warning,icon:c.createElement(Zg.A,{fontSize:"inherit"}),onClick:n.returnToHome},t?"RTH all":"RTH")),c.createElement(S.A,{display:"flex",flexDirection:"row",flex:1,mb:.5},c.createElement(sd,{className:o.button,color:ro.Ay.seriousWarning,icon:c.createElement(Xg.A,{fontSize:"inherit"}),onClick:n.land},t?"Land all":"Land"),c.createElement(sd,{className:o.button,color:ro.Ay.error,icon:c.createElement(Qg.A,{fontSize:"inherit"}),onClick:n.shutdown},t?"Shutdown all":"Shutdown")))};mb.propTypes={broadcast:i().bool,onChangeBroadcastMode:i().func,uavActions:i().objectOf(i().func)};const hb=(0,s.Ng)((function(e){return{allUAVIdsInMission:(0,xr.Rl)(e),broadcast:(0,xr.Cg)(e),channel:(0,xr.$D)(e),selectedUAVIds:(0,mo.YZ)(e)}}),(function(e){return{onChangeBroadcastMode:function(t){return e((0,jr.I9)(Boolean(t.target.checked)))},uavActions:(0,$g.zH)((0,eb.xM)({getTargetedUAVIds:function(e){return(0,xr.Cg)(e)?(0,xr.Rl)(e):(0,mo.YZ)(e)},getTransportOptions:function(e){return{channel:(0,xr.$D)(e),broadcast:(0,xr.Cg)(e)}}}),e)}}))(mb);var vb=r(52314),gb=r(15695),bb=r(66265),wb=r(96829),Eb=r(42200),Ab=r(50052),Sb=r(6494),Ob=["accepts","children","extensions","id","inputId","multiple","onSelected","onSelectionFailed"];function xb(){return xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xb.apply(this,arguments)}function jb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return kb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kb(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tb(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Ib=(0,St.A)((function(e){return{input:{display:"none"},hover:{background:e.palette.action.hover},hoverError:{background:new(eo())(e.palette.error.main).alpha(.5).string()}}})),Cb=function(e){var t=e.accepts,r=e.children,n=e.extensions,o=e.id,a=e.inputId,i=e.multiple,l=e.onSelected,u=e.onSelectionFailed,s=Tb(e,Ob),f=Ib(),p=jb((0,c.useState)(0),2),d=p[0],y=p[1],m=(0,c.useCallback)((function(e){(e=e&&e.files?i?e.files:e.files[0]:null)&&(!t||t(e)?l&&l(e):u&&u(e),y(d+1))}),[t,d,i,l,u]),h=jb((0,wb.H)({accept:[Ab.FILE],canDrop:t?function(e){return 0===e.files.length||!!(e=i?e.files:e.files[0])&&t(e)}:void 0,drop:m,collect:function(e){return{className:e.isOver()?e.canDrop()?f.hover:f.hoverError:void 0}}}),2),v=h[0],g=h[1];return c.createElement(c.Fragment,null,c.createElement("input",{key:d,accept:n?n.map((function(e){return".".concat(e.toLowerCase())})):void 0,className:f.input,type:"file",id:a,multiple:i,onChange:function(e){return m(e.target)}}),c.createElement("label",{id:o,htmlFor:a},c.createElement(lt.A,xb({ref:g,button:!0},v,s),r)))};Cb.propTypes={accepts:i().func,children:i().node,extensions:i().arrayOf(i().string),id:i().string,inputId:i().string.isRequired,multiple:i().bool,onSelected:i().func,onSelectionFailed:i().func};const Pb=function(e){return c.createElement(Eb.Q,{backend:Sb.t2},c.createElement(Cb,e))};var Lb=["secondary"];function _b(){return _b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_b.apply(this,arguments)}function Nb(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Rb=function(e){var t=e.secondary,r=Nb(e,Lb);return c.createElement(st.A,_b({disableTypography:!0},r,{secondary:c.createElement(S.A,{minHeight:20.1,display:"flex",flexDirection:"column",justifyContent:"center"},c.createElement(O.A,{component:"div",variant:"body2",color:"textSecondary"},t))}))};Rb.propTypes={secondary:i().node};const Db=Rb;var Mb=function(e){return e&&e.size>0},Fb=["skyc"],Ub=function(e){var t=e.changedSinceLoaded,r=e.description,n=e.hasLoadedShowFile,o=e.loading,a=e.onClearLoadedShow,i=e.onLoadShowFromCloud,l=e.onReloadShowFile,u=e.onShowFileSelected,s=e.progress,f=e.status,p=e.t,d=e.title;return c.createElement(Pb,{id:"show-file-upload",inputId:"show-file-upload-input",accepts:Mb,extensions:Fb,onSelected:u},c.createElement(ju.default,{status:f}),c.createElement(Db,{primary:o?p("show.loading","Please wait, loading show file\u2026"):n?(0,io.xv)(d,60):p("show.noFileLoaded"),secondary:o?c.createElement(vb.A,{value:s,variant:(0,Ge.default)(s)?"indeterminate":"determinate"}):t?c.createElement("span",{style:{color:ro.Ay.warning}},"Show changed since it was loaded"):n?r:p("show.selectFile","Select or drop a show file here")}),c.createElement(ds.A,null,t?c.createElement(yf.W1,{content:p("show.reload","Reload show")},c.createElement(W.A,{edge:"end",onClick:l},c.createElement(bb.A,null))):n?c.createElement(yf.W1,{content:p("show.clear","Clear loaded show")},c.createElement(W.A,{edge:"end",onClick:a},c.createElement(Y.default,null))):(0,ps.jI)("loadShowFromCloud")?c.createElement(yf.W1,{content:p("show.fromCloud","Load show from cloud")},c.createElement(W.A,{edge:"end",onClick:i},c.createElement(gb.A,null))):null))};Ub.propTypes={changedSinceLoaded:i().bool,description:i().string,hasLoadedShowFile:i().bool,loading:i().bool,onClearLoadedShow:i().func,onLoadShowFromCloud:i().func,onReloadShowFile:i().func,onShowFileSelected:i().func,progress:i().number,status:i().oneOf(Object.values(Mc.n)),t:i().func,title:i().string};const Gb=(0,s.Ng)((function(e){return{changedSinceLoaded:(0,Fc.fb)(e),description:(0,Fc.I7)(e),hasLoadedShowFile:(0,Fc.tS)(e),loading:(0,Fc.oH)(e),progress:(0,Fc.nX)(e),status:Gh(e).selectShowFile,title:(0,Fc.ob)(e)}}),{onClearLoadedShow:Jh.iZ,onLoadShowFromCloud:Rh.J4,onReloadShowFile:Jh.gk,onShowFileSelected:Jh.Eo})((0,m.CI)()(Ub));var Vb=["areChecksSignedOff","hasManualChecks","onApprove","onRevoke","status"];function Bb(){return Bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bb.apply(this,arguments)}function Hb(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Wb=function(e){e.areChecksSignedOff;var t=e.hasManualChecks,r=(e.onApprove,e.onRevoke,e.status),n=Hb(e,Vb),o=(0,m.Bd)().t;return t?c.createElement(lt.A,Bb({button:!0,disabled:r===Mc.n.OFF},n),c.createElement(ju.default,{status:r}),c.createElement(st.A,{primary:o("show.manualPreflightChecks","Manual preflight checks")})):null};Wb.propTypes={areChecksSignedOff:i().bool,hasManualChecks:i().bool,onApprove:i().func,onClick:i().func,onRevoke:i().func,status:i().oneOf(Object.values(Mc.n))},Wb.defaultProps={};const zb=(0,s.Ng)((function(e){return{areChecksSignedOff:(0,Fc.Mj)(e),hasManualChecks:tt(e),status:Gh(e).performManualPreflightChecks}}),{onApprove:Jh.I9,onClick:Rh.pl,onRevoke:Rh.mZ})(Wb);var Yb=["areChecksSignedOff","onApprove","onRevoke","status"];function Kb(){return Kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kb.apply(this,arguments)}function qb(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var $b=function(e){e.areChecksSignedOff,e.onApprove,e.onRevoke;var t=e.status,r=qb(e,Yb),n=(0,m.Bd)().t;return c.createElement(lt.A,Kb({button:!0,disabled:t===Mc.n.OFF},r),c.createElement(ju.default,{status:t}),c.createElement(st.A,{primary:n("show.onboardPreflightChecks","Onboard preflight checks")}))};$b.propTypes={areChecksSignedOff:i().bool,onApprove:i().func,onRevoke:i().func,status:i().oneOf(Object.values(Mc.n))},$b.defaultProps={};const Zb=(0,s.Ng)((function(e){return{areChecksSignedOff:(0,Fc.P_)(e),status:Gh(e).waitForOnboardPreflightChecks}}),{onApprove:Jh.Jj,onClick:Rh.kY,onRevoke:Rh.Bm})($b);var Xb=r(77038);function Jb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qb(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const ew=function(){var e=(0,s.d4)(Zl),t=(0,s.d4)(Jl),r=Jb((0,Xb.A)(e,500),2),n=r[0],o=r[1];return c.createElement(vb.A,{variant:t?"buffer":"determinate",value:n,valueBuffer:o})};var tw=["loading","status"];function rw(){return rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rw.apply(this,arguments)}function nw(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var ow=function(e){var t=e.loading,r=e.status,n=nw(e,tw),o=(0,m.Bd)().t;return c.createElement(lt.A,rw({button:!0,disabled:r===Mc.n.OFF},n),c.createElement(ju.default,{status:r}),c.createElement(Db,{primary:t?o("show.uploadShowDataLoading","Please wait, uploading\u2026"):o("show.uploadShowData","Upload show data"),secondary:t?c.createElement(ew,null):o("show.uploadShowDataStart")}))};ow.propTypes={loading:i().bool,onClick:i().func,status:i().oneOf(Object.values(Mc.n))};const aw=(0,s.Ng)((function(e){return{loading:Jl(e),progress:Zl(e),status:Gh(e).uploadShow}}),{onClick:function(){return(0,tu.mP)({job:Dh._e})}})(ow);var iw=function(e){var t=e.formattedStartTime,r=e.onClick,n=e.status,o=(0,m.Bd)().t;return c.createElement(lt.A,{button:!0,onClick:r},c.createElement(ju.default,{status:n}),c.createElement(st.A,{primary:o("show.chooseStartTime"),secondary:t?o("show.startsAt",{time:t}):o("show.chooseStartTimeNotSet","Not set yet")}))};iw.propTypes={formattedStartTime:i().string,onClick:i().func,status:i().oneOf(Object.values(Mc.n))},iw.defaultProps={};const cw=(0,s.Ng)((function(e){return{formattedStartTime:(0,Fc.k2)(e),status:Gh(e).setupStartTime}}),{onClick:Rh.O1})(iw);var lw=["maxDistance","onClick","status"];function uw(){return uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uw.apply(this,arguments)}function sw(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var fw=function(e,t){if("number"==typeof t)return Number.isFinite(t)?(0,xe.tt)("show.placementAccuracy",{distance:(0,io.BO)(t)}):(0,xe.tt)("show.takeOffNoPosition");switch(e){case Mc.n.OFF:case Mc.n.NEXT:return(0,xe.tt)("show.takeOffPlace");case Mc.n.SUCCESS:return(0,xe.tt)("show.dronePlacementApproved");case Mc.n.ERROR:return(0,xe.tt)("show.dronePlacementError");case Mc.n.SKIPPED:return(0,xe.tt)("show.dronePlacementPartial");case Mc.n.WAITING:return(0,xe.tt)("show.dronePlacementCheck");default:return""}},pw=function(e){var t=e.maxDistance,r=e.onClick,n=e.status,o=sw(e,lw),a=(0,m.Bd)().t;return c.createElement(lt.A,uw({button:!0,disabled:n===Mc.n.OFF,onClick:r},o),c.createElement(ju.default,{status:n}),c.createElement(st.A,{primary:a("show.setupTakeoffArea","Setup takeoff area"),secondary:fw(n,t)(a)}))};pw.propTypes={maxDistance:i().number,onClick:i().func,status:i().oneOf(Object.values(Mc.n))},pw.defaultProps={};const dw=(0,s.Ng)((function(e){return{maxDistance:Gh(e).setupTakeoffArea!==Mc.n.OFF?(0,mo.O6)(e):void 0,status:Gh(e).setupTakeoffArea}}),{onClick:Rh.l9})(pw);var yw=function(e){var t=e.environmentType,r=e.isAuthorized;return c.createElement(Dg,{flex:1,selectedPage:r?"execution":"setup"},c.createElement(Ng,{scrollable:!0,id:"setup"},c.createElement(ct.A,{dense:!0},c.createElement(Gb,null),c.createElement(yl.A,null),c.createElement(Bg,null),c.createElement(dw,null),"outdoor"===t&&c.createElement(qg,null),c.createElement(aw,null),c.createElement(yl.A,null),c.createElement(Zb,null),c.createElement(zb,null),c.createElement(yl.A,null),c.createElement(cw,null))),c.createElement(Ng,{scrollable:!0,id:"execution",display:"flex",flexDirection:"column"},c.createElement(hb,null)))};yw.propTypes={environmentType:i().oneOf(["indoor","outdoor"]),isAuthorized:i().bool};const mw=(0,s.Ng)((function(e){return{environmentType:(0,Fc.Dy)(e),filename:null,isAuthorized:(0,Fc.yi)(e)}}))(yw);var hw=r(31127),vw=r(99768),gw=r(65886),bw=r(66212),ww=r(40001),Ew=r(63972),Aw=r(92890),Sw=r(22278),Ow=r(53771),xw=r(9159),jw=r(83257),kw=r(63829),Tw=r(56278),Iw=r(58654),Cw=function(e){var t=e.formattedStartTime,r=e.onClearStartTime;return c.createElement(Iw.A,{severity:t?"info":"warning",variant:"filled",action:t?c.createElement(x.A,{color:"inherit",startIcon:c.createElement(Y.default,null),onClick:t?r:null},"Clear"):null},c.createElement(S.A,null,t?c.createElement(c.Fragment,null,"Start time is set to ",c.createElement("strong",null,t)):"No start time is set at the moment."))};Cw.propTypes={formattedStartTime:i().string,onClearStartTime:i().func};const Pw=(0,s.Ng)((function(e){return{formattedStartTime:(0,Fc.k2)(e)}}),{onClearStartTime:function(){return function(e,t){var r=(0,Fc.LP)(t());e((0,Rh.gJ)({clock:r,time:null})),e((0,Rh.L5)("toServer"))}}})(Cw);var Lw=r(93165),_w=r(12563),Nw=r(9251),Rw=r(619),Dw=r(73451),Mw=r(60784);const Fw=function(e){var t=(0,oi.A)();(0,wi.A)(t,e)};const Uw=function(){return Pn.A};const Gw=function(e,t){(0,c.useEffect)((function(){var r=e.add(t);return function(){e.detach(r)}}),[e,t])};var Vw=["onChange"];function Bw(){return Bw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bw.apply(this,arguments)}function Hw(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Ww=(0,Oh.A)(x.A)({border:[0,"!important"],textTransform:["none","!important"]}),zw=function(e){var t=e.onChange,r=Hw(e,Vw),n=function(){for(var e=[{time:15,relative:!0},{time:30,relative:!0},{time:60,relative:!0},{time:(0,Lw.A)((0,Rw.A)((0,Lw.A)(Date.now(),{seconds:30})),{minutes:2})}],t=0,r=[5,15,30,60];t<r.length;t++){var n=r[t],o=e[e.length-1].time,a=(0,_w.A)(o);e.push({time:(0,Lw.A)(o,{minutes:n-a%n})})}return e}();return Fw(1e4),c.createElement(Mw.A,Bw({variant:"text"},r),n.map((function(e,r){var n=e.time,o=e.relative;return c.createElement(Ww,{key:"button".concat(r),onClick:function(){return t(o?(0,Dw.A)((0,Lw.A)(Date.now(),{seconds:n})):n.valueOf())}},o?"".concat(n>0?"+":"").concat(n,"s"):0===(0,Nw.A)(n)?(0,ni.A)(n,"HH:mm"):(0,ni.A)(n,"HH:mm:ss"))})))};zw.propTypes={onChange:i().func};const Yw=zw;function Kw(e){return Kw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kw(e)}function qw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qw(Object(r),!0).forEach((function(t){Zw(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qw(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Zw(e,t,r){var n;return n=function(e,t){if("object"!=Kw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Kw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Kw(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xw(e,t){var r=(0,hw.A)(e);return r.setHours(t.getHours(),t.getMinutes(),t.getSeconds()),r}function Jw(e){var t={};if((0,vw.A)(e.utcDate))if((0,gw.A)((0,bw.A)(e.utcDate)))t.utcDate="Date cannot be in the past";else if((0,vw.A)(e.utcTime)){var r=Xw(e.utcDate,e.utcTime);(0,gw.A)(r)&&(t.utcTime="Time cannot be in the past")}else t.utcTime="Invalid time";else t.utcDate="Invalid date";return t}var Qw=function(e){var t=e.alwaysAllowSubmission,r=e.initialValues,n=e.onClose,o=e.onSubmit;return c.createElement(A.lV,{initialValues:r,validate:Jw,onSubmit:o},(function(e){var r=e.dirty,o=e.form,a=e.handleSubmit,i=e.invalid,l=e.values;return c.createElement("form",{id:"start-time-form",onSubmit:a},c.createElement(v.A,null,c.createElement(Pw,null),c.createElement(S.A,{mt:2},c.createElement(G.A,null,"Set the start time of the show below")),c.createElement(D.A,{row:!0},c.createElement(S.A,{mr:1,minWidth:180},c.createElement(E.l6,{labelId:"reference-clock-label",name:"clock",label:"Reference",formControlProps:{fullWidth:!0,margin:"dense",variant:"filled"}},c.createElement(F.A,{value:kw.v.LOCAL},"Local time"),c.createElement(F.A,{value:kw.v.MTC},"SMPTE timecode"))),l.clock===kw.v.LOCAL?c.createElement(c.Fragment,null,c.createElement(S.A,{flex:1,mr:1},c.createElement(E.sg,{disablePast:!0,format:"yyyy-MM-dd",fullWidth:!1,inputVariant:"filled",label:"Start date",margin:"dense",name:"utcDate",variant:"dialog"})),c.createElement(S.A,{flex:1},c.createElement(E.n4,{ampm:!1,format:"HH:mm:ss",fullWidth:!1,inputVariant:"filled",keyboardIcon:c.createElement(xw.A,null),label:"Start time",margin:"dense",name:"utcTime",variant:"dialog"}))):c.createElement(S.A,{flex:1},c.createElement(Yh.ft,{label:"Start time (hours:minutes:seconds)",margin:"dense",name:"timeOnClock",variant:"filled"}))),l.clock===kw.v.LOCAL&&c.createElement(S.A,{mt:1,flexDirection:"row",display:"flex",alignItems:"center"},c.createElement(S.A,{mr:2},c.createElement(O.A,{variant:"body2",color:"textSecondary"},"Suggestions:")),c.createElement(Yw,{onChange:function(e){o.batch((function(){var t=new Date(e);o.change("clock",kw.v.LOCAL),o.change("utcDate",t),o.change("utcTime",t)}))}})),c.createElement(E.l6,{labelId:"start-signal-label",name:"method",label:"Start signal",formControlProps:{fullWidth:!0,margin:"dense",variant:"filled"}},c.createElement(F.A,{value:cb._9.RC},"Start show with remote controller only (safer)"),c.createElement(F.A,{value:cb._9.AUTO},"Start show automatically"))),c.createElement(vr.A,null,c.createElement(x.A,{disabled:!r,onClick:function(){return o.reset()}},"Reset form"),n&&c.createElement(x.A,{onClick:n},"Close"),c.createElement(x.A,{color:"primary",type:"submit",disabled:i||!t&&!r},"Set new start time")))}))};Qw.propTypes={alwaysAllowSubmission:i().bool,initialValues:i().shape({clock:i().string,method:i().oneOf(Object.values(cb._9)),timeOnClock:i().string}),onClose:i().func,onSubmit:i().func};var eE=function(e){var t=e.clock,r=e.method,n=e.open,o=e.onClose,a=e.onUpdateSettings,i=e.timeOnClock,l=e.utcTime,u="number"==typeof l,s="number"==typeof i,f=u?(0,ww.A)(l):(0,Ew.A)((0,Aw.A)(new Date,30),0),p=s?i:0,d="string"==typeof t&&t.length>0?t:kw.v.LOCAL;return c.createElement(jw.M,{utils:Ow.A},c.createElement(h.A,{fullWidth:!0,open:n,maxWidth:"sm",onClose:o},c.createElement(Qw,{alwaysAllowSubmission:!u,initialValues:{method:r,clock:d,timeOnClock:(0,io.aD)(p,{padHours:!0}),utcDate:(0,hw.A)(f),utcTime:f},onClose:o,onSubmit:a})))};eE.propTypes={clock:i().string,method:i().oneOf(Object.values(cb._9)),onClose:i().func,onUpdateSettings:i().func,open:i().bool,timeOnClock:i().number,utcTime:i().number},eE.defaultProps={method:cb._9.RC,open:!1};const tE=(0,s.Ng)((function(e){return $w($w({},e.show.startTimeDialog),e.show.start)}),(function(e){return{onClose:function(){e((0,Rh.w7)())},onUpdateSettings:function(t){var r=t.clock,n=t.method,o=t.timeOnClock,a=t.utcDate,i=t.utcTime,c=r===kw.v.LOCAL||""===r||"string"!=typeof r;if(e((0,Rh.U9)(n)),c)e((0,Rh.gJ)({time:(0,Sw.A)(Xw(a,i)),clock:null}));else{var l=(0,Tw.Kw)(o);e((0,Rh.gJ)({time:Number.isNaN(l)?null:l,clock:r}))}e((0,Rh.L5)("toServer")),e((0,Rh.w7)())}}}))(eE);var rE=r(71286),nE=r(10819);function oE(){return oE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oE.apply(this,arguments)}const aE=(0,s.Ng)((function(e){return{disabled:!(0,xr.xg)(e)}}),{onClick:Fm.Dn})((function(e){return c.createElement(m.wD,null,(function(t){return c.createElement(x.A,oE({startIcon:c.createElement(nE.A,null)},e),t("augmentMappingButton.assignSparesToEmptySlots"))}))}));var iE=["hasNonemptyMappingSlot","t"];function cE(){return cE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cE.apply(this,arguments)}function lE(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var uE=function(e){var t=e.hasNonemptyMappingSlot,r=e.t,n=lE(e,iE);return c.createElement(x.A,cE({startIcon:c.createElement(Iv,null)},n),r(t?"recalculateMappingButton.recalculateMapping":"recalculateMappingButton.findOptimalMapping"))};uE.propTypes={hasNonemptyMappingSlot:i().bool,t:i().func};const sE=(0,s.Ng)((function(e){return{hasNonemptyMappingSlot:(0,xr.f4)(e)}}),{onClick:Fm.CV})((0,m.CI)()(uE));function fE(e){return fE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fE(e)}function pE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pE(Object(r),!0).forEach((function(t){yE(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pE(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function yE(e,t,r){var n;return n=function(e,t){if("object"!=fE(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=fE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==fE(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var mE=function(e){var t=e.indices;return c.createElement(m.wD,null,(function(e){return c.createElement(fo,{items:t,title:e("takeoffAreaSetupDialog.emptySlots"),successMessage:e("takeoffAreaSetupDialog.allSlotsFilled")})}))};mE.propTypes={indices:i().arrayOf(i().number)};var hE=function(e){var t=e.hasNonemptyMappingSlot,r=e.uavIds;return c.createElement(m.wD,null,(function(e){return c.createElement(fo,{items:r,title:e("takeoffAreaSetupDialog.missing"),successMessage:e("takeoffAreaSetupDialog.allDroneOnline"),emptyMessage:e("takeoffAreaSetupDialog.noDrones"),preferEmptyMessage:!t})}))};hE.propTypes={hasNonemptyMappingSlot:i().bool,uavIds:i().arrayOf(i().string)};var vE=function(e){var t=e.hasNonemptyMappingSlot,r=e.uavIds;return c.createElement(m.wD,null,(function(e){return c.createElement(fo,{items:r,title:e("takeoffAreaSetupDialog.misplaced"),successMessage:e("takeoffAreaSetupDialog.allDronesAtTakeoffPositions"),emptyMessage:e("takeoffAreaSetupDialog.noDrones"),preferEmptyMessage:!t})}))};vE.propTypes={hasNonemptyMappingSlot:i().bool,uavIds:i().arrayOf(i().string)};var gE=function(e){var t=e.hasNonemptyMappingSlot,r=e.uavIds;return c.createElement(m.wD,null,(function(e){return c.createElement(fo,{items:r,title:e("takeoffAreaSetupDialog.misaligned"),successMessage:e("takeoffAreaSetupDialog.allDronesFacingCorrectDirection"),emptyMessage:e("takeoffAreaSetupDialog.noDrones"),preferEmptyMessage:!t})}))};gE.propTypes={hasNonemptyMappingSlot:i().bool,uavIds:i().arrayOf(i().string)};var bE=function(e){var t=e.emptySlotIndices,r=e.hasNonemptyMappingSlot,n=e.misalignedUAVIds,o=e.misplacedUAVIds,a=e.missingUAVIds;return c.createElement(c.Fragment,null,c.createElement(mE,{indices:t}),c.createElement(hE,{uavIds:a,hasNonemptyMappingSlot:r}),c.createElement(vE,{uavIds:o,hasNonemptyMappingSlot:r}),c.createElement(gE,{uavIds:n,hasNonemptyMappingSlot:r}))};bE.propTypes={emptySlotIndices:i().arrayOf(i().number),hasNonemptyMappingSlot:i().bool,misalignedUAVIds:i().arrayOf(i().string),misplacedUAVIds:i().arrayOf(i().string),missingUAVIds:i().arrayOf(i().string)};var wE=(0,s.Ng)((function(e){return{emptySlotIndices:(0,xr.fA)(e),hasNonemptyMappingSlot:(0,xr.f4)(e),missingUAVIds:(0,mo.WF)(e),misplacedUAVIds:(0,mo.Lz)(e),misalignedUAVIds:(0,mo.WW)(e)}}),{})(bE),EE=function(e){var t=e.approved,r=e.hasVirtualDrones,n=e.open,o=e.onAddVirtualDrones,a=e.onApprove,i=e.onClose,l=e.onRevoke,u=e.t,s=r&&c.createElement(x.A,{color:"inherit",startIcon:c.createElement(rE.A,null),onClick:o},u("takeoffAreaSetupDialog.placeVirtualDrones"));return c.createElement(qr.A,{fullWidth:!0,open:n,maxWidth:"sm",title:u("takeoffAreaSetupDialog.takeoffAreaSetup"),titleComponents:s,onClose:i},c.createElement(v.A,null,c.createElement(wE,null),c.createElement(S.A,{py:2,display:"flex",flexDirection:"row",justifyContent:"center"},c.createElement(sE,null),c.createElement(aE,null)),c.createElement(S.A,{className:"bottom-bar",textAlign:"center",pt:2},c.createElement(R.A,{control:c.createElement(ft.A,{checked:t,value:"approved",onChange:t?l:a}),label:u("takeoffAreaSetupDialog.approveTakeoffAreaArrangement")}))),c.createElement(vr.A,null))};EE.propTypes={approved:i().bool,hasVirtualDrones:i().bool,onAddVirtualDrones:i().func,onApprove:i().func,onClose:i().func,onRevoke:i().func,open:i().bool,t:i().func},EE.defaultProps={approved:!1,open:!1};const AE=(0,s.Ng)((function(e){return dE(dE({},e.show.takeoffAreaSetupDialog),{},{approved:(0,Fc.du)(e),hasVirtualDrones:(0,yn.jG)(e)})}),(function(e){return{onAddVirtualDrones:function(){e((0,Fm.dZ)())},onApprove:function(){e((0,Jh.fU)()),setTimeout((function(){return e((0,Rh.JI)())}),300)},onClose:function(){e((0,Rh.JI)())},onRevoke:function(){e((0,Rh.Po)())}}}))((0,m.CI)()(EE));const SE=function(){return c.createElement(S.A,{display:"flex",flexDirection:"column",height:"100%",id:"tour-show-control"},c.createElement(mw,null),c.createElement(S.A,{className:"bottom-bar"},c.createElement(ct.A,{dense:!0,disablePadding:!0},c.createElement(zh,null))),(0,ps.jI)("loadShowFromCloud")&&c.createElement(Jv,null),c.createElement(Yv,null),c.createElement(tE,null),c.createElement(AE,null),c.createElement(kg,null),c.createElement(ug,null))};var OE=r(2662),xE=r(27083),jE=r(37419),kE=r(82401),TE=r(52876),IE=r(16457);function CE(e){return CE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CE(e)}function PE(e,t,r){var n;return n=function(e,t){if("object"!=CE(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=CE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==CE(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var LE=PE(PE(PE(PE(PE({},dc.Zm.TEXT,".txt"),dc.Zm.ARDUPILOT,".bin"),dc.Zm.ULOG,".ulg"),dc.Zm.UNKNOWN,".log"),dc.Zm.FLOCKCTRL,".log");function _E(e){var t=e.id,r=e.kind,n=e.timestamp,o=LE[r]||LE[dc.Zm.UNKNOWN],a=(0,Ge.default)(n)?void 0:(0,ni.A)((0,ww.A)(n),"yyyyMMdd_HHmmss");return(0,Ge.default)(t)&&(0,Ge.default)(a)?"flight_log".concat(o):(0,Ge.default)(t)?"".concat(a).concat(o):(0,Ge.default)(a)?"".concat(t).concat(o):"".concat(t,"_").concat(a).concat(o)}var NE=r(76209),RE=function(e){var t=(e.progress||{}).percentage;return(0,Ge.default)(t)?c.createElement(vb.A,{value:null,variant:"indeterminate"}):"number"==typeof t&&t>=0&&t<100?c.createElement(vb.A,{value:t,variant:"determinate"}):null};RE.propTypes={progress:i().shape({percentage:i().number,message:i().string})};const DE=RE;function ME(e){return ME="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ME(e)}function FE(){return FE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FE.apply(this,arguments)}function UE(e,t,r){var n;return n=function(e,t){if("object"!=ME(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ME(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ME(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var GE=(0,St.A)((function(e){return{progress:{padding:e.spacing(1,0)}}}),{name:"UAVLogListItem"}),VE=function(e){var t=function(e){var t,r=e.kind,n=e.body;t=r===dc.Zm.TEXT?new Blob([n],{type:"text/plain;charset=utf-8"}):new Blob([$r.o4.toUint8Array(n)],{type:"application/octet-stream"});return{filename:_E(e),blob:t}}(e),r=t.filename,n=t.blob;(0,NE.sd)(n,r)},BE=function(e){var t,r=e.id,n=e.kind,o=e.size,a=e.timestamp,i=e.uavId,l=(0,s.wA)(),u=Uw(),f=GE(),p=(0,s.d4)((0,IE.yE)(i,r)),d=(0,s.d4)((0,IE.Im)(i,r)),y=(0,c.useCallback)((function(){l((0,IE.qy)(i,r)),u.query.getFlightLog(i,r,{onProgress:function(e){var t=e.progress;l((0,IE.Av)(i,r,t))}}).then((function(e){l((0,IE.rE)(i,r,e)),l((0,ku.Ds)({message:"Log ".concat(r," of UAV ").concat(i," downloaded successfully."),semantics:Tu.N.SUCCESS,buttons:[{label:"Save",action:function(){return VE(e)}}],timeout:2e4}))})).catch((function(e){var t=e.message;l((0,ku.Ds)({message:"Couldn't donwload log ".concat(r," of UAV ").concat(i,": ").concat(t),semantics:Tu.N.ERROR,buttons:[{label:"Retry",action:y}],timeout:2e4})),l((0,IE.Bx)(i,r,t))}))}),[l,r,u,i]),m=(0,c.useCallback)((function(){VE(d)}),[d]),h=[],v=[];(0,Ge.default)(r)||h.push(r),h.push((0,Ge.default)(a)?"Date unknown":(0,io.iS)(a)),(null==p?void 0:p.status)===IE.bo.ERROR?v.push(null==p?void 0:p.error):(v.push((0,dc.GR)(n)),(0,Ge.default)(o)||v.push((0,OE.A)(o)));var g=(null==p?void 0:p.status)===IE.bo.LOADING?c.createElement("div",{className:f.progress},c.createElement(DE,{progress:p.progress})):c.createElement(O.A,{variant:"body2",color:"textSecondary"},v.join(" \xb7 ")),b=(null==p?void 0:p.status)===IE.bo.LOADING,w=d?m:y;return c.createElement(lt.A,{button:!0,disabled:b,onClick:w},c.createElement(ju.default,{status:null!==(t=UE(UE(UE({},IE.bo.LOADING,"next"),IE.bo.ERROR,"error"),IE.bo.SUCCESS,"success")[null==p?void 0:p.status])&&void 0!==t?t:"off"}),c.createElement(st.A,{disableTypography:!0,primary:c.createElement(O.A,{variant:"body2"},h.join(" \xb7 ")),secondary:g}),c.createElement(ds.A,null,c.createElement(W.A,{edge:"end",disabled:b,onClick:w},(null==p?void 0:p.status)===IE.bo.SUCCESS?c.createElement(kE.A,null):c.createElement(jE.A,null))))};BE.propTypes={id:i().string,kind:i().string,size:i().number,timestamp:i().number,uavId:i().string};var HE=(0,ms.c3)((function(e,t){return c.createElement(BE,FE({key:e.id,uavId:t.uavId},e))}),{dataProvider:"items",backgroundHint:c.createElement(Sr.A,{text:"No logs found"})}),WE=(0,c.memo)((function(e){var t=e.uavId,r=Uw(),n=(0,xE.A)((function(){return t?r.query.getFlightLogList(t):{}}),[r,t]);return n.error&&!n.loading?c.createElement(Sr.A,{icon:c.createElement(wh.A,null),text:"Error while loading log list",button:c.createElement(x.A,{onClick:n.retry},"Try again")}):n.loading?c.createElement(TE.A,{fullHeight:!0,label:"Retrieving log list..."}):Array.isArray(n.value)?c.createElement(HE,{dense:!0,uavId:t,items:n.value}):c.createElement(Sr.A,{text:"Log list not loaded yet",button:c.createElement(x.A,{onClick:n.retry},"Try again")})}));WE.propTypes={uavId:i().string};const zE=WE;var YE=r(64305),KE=function(e){var t=(e.errorCodes||[]).filter((function(e){return e!==pg.A.PREARM_CHECK_IN_PROGRESS&&e!==pg.A.PREARM_CHECK_FAILURE}));return 0===t.length?null:c.createElement(c.Fragment,null,c.createElement(ct.A,{dense:!0},t.map((function(e){return c.createElement(lt.A,{key:e},c.createElement(ju.default,{status:(0,fg.W9)(e)}),c.createElement(st.A,{primary:pg.A.describe(e)}))}))),c.createElement(yl.A,null))};KE.propTypes={errorCodes:i().arrayOf(i().number)};var qE=function(e){var t=e.message,r=e.result,n=e.items;return c.createElement(c.Fragment,null,c.createElement(ct.A,{dense:!0},c.createElement(lt.A,null,c.createElement(ju.default,{status:(0,dc.ri)(r)}),c.createElement(st.A,{primary:(0,dc.RG)(r),secondary:t}))),n&&n.length>0?c.createElement(c.Fragment,null,c.createElement(yl.A,null),c.createElement(G.A,{ml:2},"Details"),c.createElement(ct.A,{dense:!0},n.map((function(e){return c.createElement(lt.A,{key:e.id},c.createElement(ju.default,{status:(0,dc.ri)(e.result)}),c.createElement(st.A,{primary:t||(e.result===dc.DR.PASS?e.label:"".concat(e.label," \u2014 ").concat((0,dc.Y9)(e.result)))}))})))):null)};qE.propTypes={items:i().arrayOf(i().shape({id:i().string,label:i().string,message:i().string,result:Jy.A.preflightCheckResult})),message:i().string,result:Jy.A.preflightCheckResult};var $E=(0,c.memo)((function(e){var t=e.uavId,r=Uw(),n=(0,xE.A)((function(){return t?r.query.getPreflightStatus(t):{}}),[r,t]),o=(0,c.useRef)();return(0,c.useEffect)((function(){t&&!n.loading&&!n.error&&Boolean(n.value)&&!o.current&&(o.current=setTimeout((function(){o.current=void 0,n.retry()}),1e3))}),[n,t]),(0,YE.A)((function(){o.current&&clearTimeout(o.current)})),n.error&&!n.loading?c.createElement(Sr.A,{icon:c.createElement(wh.A,null),text:"Error while loading preflight status report",button:c.createElement(x.A,{onClick:n.retry},"Try again")}):n.value?c.createElement(qE,{message:n.value.message,result:n.value.result,items:n.value.items}):n.loading?c.createElement(TE.A,{fullHeight:!0,label:"Retrieving status report..."}):c.createElement(Sr.A,{text:"Preflight status report not loaded yet",button:c.createElement(x.A,{onClick:n.retry},"Try again")})}));$E.propTypes={uavId:i().string};var ZE=function(e){var t=e.errorCodes,r=e.uavId;return c.createElement(c.Fragment,null,c.createElement(KE,{errorCodes:t}),c.createElement($E,{uavId:r}))};ZE.propTypes={errorCodes:i().arrayOf(i().number),uavId:i().string};const XE=(0,s.Ng)((function(e,t){var r;return{errorCodes:t.uavId?null===(r=(0,mo.Pz)(e,t.uavId))||void 0===r?void 0:r.errors:null}}),{})(ZE);function JE(e){return JE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JE(e)}function QE(){QE=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==JE(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(JE(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function eA(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function tA(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){eA(a,n,o,i,c,"next",e)}function c(e){eA(a,n,o,i,c,"throw",e)}i(void 0)}))}}function rA(e,t){var r=Uw();(0,c.useEffect)((function(){var n=r.subscribe(e,t);return tA(QE().mark((function e(){return QE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:e.t0=e.sent,(0,e.t0)();case 4:case"end":return e.stop()}}),e)})))}),[r,e,t])}function nA(e){return nA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nA(e)}function oA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function aA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oA(Object(r),!0).forEach((function(t){iA(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oA(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function iA(e,t,r){var n;return n=function(e,t){if("object"!=nA(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=nA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==nA(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var cA={NEAR:"near",MID:"mid",FAR:"far",OFF:"off"},lA=function(e,t,r){return iA({},e,iA({top:"-".concat(t,"em"),left:"-".concat(t,"em")},".".concat(e," &:before"),{borderColor:r}))},uA=(0,St.A)((function(e){return aA(aA(aA(aA({root:{width:"100%",height:"100%",position:"absolute"},arc:{position:"absolute",right:"50%",bottom:"50%",transformOrigin:"100% 100%",transform:function(e){var t=e.angle;return"rotate(".concat(t/2,"deg) skewY(").concat(90-t,"deg)")},overflow:"hidden","&:before":{content:'""',display:"block",width:"200%",height:"200%",border:"solid 1.5em ".concat(e.palette.action.selected),borderRadius:"50%",transform:function(e){var t=e.angle;return"skewY(-".concat(90-t,"deg)")}}}},lA(cA.NEAR,2,e.palette.error.main)),lA(cA.MID,4,e.palette.warning.main)),lA(cA.FAR,6,e.palette.success.main)),{},{text:{height:"100%",textAlign:"center",transform:"translateY(-8em)"}})})),sA=function(e){var t=e.angle,r=e.distance,o=e.rotation,a=e.status,i=uA({angle:t});return c.createElement("div",{className:(0,n.A)(i.root,a),style:{transform:"rotate(".concat(o,"deg)")}},c.createElement("div",{className:(0,n.A)(i.arc,i.near)}),c.createElement("div",{className:(0,n.A)(i.arc,i.mid)}),c.createElement("div",{className:(0,n.A)(i.arc,i.far)}),c.createElement("div",{className:i.text},r))};sA.propTypes={angle:i().number,distance:i().string,rotation:i().number,status:i().oneOf(Object.values(cA))};const fA=sA;function pA(e){return pA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pA(e)}function dA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dA(Object(r),!0).forEach((function(t){mA(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dA(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mA(e,t,r){var n;return n=function(e,t){if("object"!=pA(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=pA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==pA(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var hA=function(e,t,r){return mA({},e,mA({width:"".concat(t,"%"),height:"".concat(t,"%")},".".concat(e," &"),{borderColor:r}))},vA=(0,St.A)((function(e){return yA(yA(yA({root:{width:"100%",height:"100%",position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},ring:{position:"absolute",top:"50%",left:"50%",transform:"translateX(-50%) translateY(-50%)",border:"solid 0.75em ".concat(e.palette.action.selected),borderRadius:"50%"}},hA(cA.NEAR,45,e.palette.error.main)),hA(cA.MID,65,e.palette.warning.main)),hA(cA.FAR,85,e.palette.success.main))})),gA=function(e){var t=e.distance,r=e.status,o=vA();return c.createElement("div",{className:(0,n.A)(o.root,r)},c.createElement("div",{className:(0,n.A)(o.ring,o.near)}),c.createElement("div",{className:(0,n.A)(o.ring,o.mid)}),c.createElement("div",{className:(0,n.A)(o.ring,o.far)}),c.createElement("div",null,t))};gA.propTypes={distance:i().string,status:i().oneOf(Object.values(cA))};const bA=gA;function wA(e){return wA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wA(e)}function EA(){return EA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},EA.apply(this,arguments)}function AA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function SA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?AA(Object(r),!0).forEach((function(t){OA(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AA(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function OA(e,t,r){var n;return n=function(e,t){if("object"!=wA(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=wA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==wA(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xA=(0,St.A)((function(e){return{container:{maxWidth:"35%",maxHeight:"35%",aspectRatio:"1 / 1",position:"relative",inset:"50%",transform:"translateX(-50%) translateY(-50%)"},circle:{position:"absolute",width:"100%",height:"100%",border:"0.5em solid ".concat(e.palette.info.main),borderRadius:"50%"}}})),jA="horizontal",kA="vertical",TA=[{name:"down",dimension:kA,heading:180},{name:"front",dimension:jA,heading:0},{name:"front-right",dimension:jA,heading:45},{name:"front-left",dimension:jA,heading:-45},{name:"right",dimension:jA,heading:90},{name:"left",dimension:jA,heading:-90},{name:"back-right",dimension:jA,heading:135},{name:"back-left",dimension:jA,heading:-135},{name:"back",dimension:jA,heading:180},{name:"up",dimension:kA,heading:0}],IA=[{multiplier:1,unit:"m",digits:2},{multiplier:.01,unit:"cm",digits:0}],CA=function(e){var t=e.limits,r=void 0===t?{near:2.5,mid:5,far:7.5}:t,n=e.values,o=void 0===n?[]:n,a=xA(),i=TA.map((function(e,t){return SA(SA({},e),{},{value:o[t]})})),l=function(e){return{distance:Number.isFinite(e)?(0,io.Sz)(e,IA):"\u221e",status:e<r.near?cA.NEAR:e<r.mid?cA.MID:e<r.far?cA.FAR:cA.OFF}};return c.createElement(S.A,{height:"100%",widht:"100%",overflow:"hidden"},c.createElement("div",{className:a.container},c.createElement(bA,l(o[0])),c.createElement("div",{className:a.circle}),i.filter((function(e){return e.dimension===jA&&null!==e.value})).map((function(e){var t=e.name,r=e.heading,n=e.value;return c.createElement(fA,EA({key:t,angle:40,rotation:r},l(n)))}))))};CA.propTypes={limits:i().objectOf(i().number),values:i().arrayOf(i().number)};const PA=CA;function LA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var NA=function(e){return 65534===e?Number.POSITIVE_INFINITY:"number"==typeof e?e/100:e},RA=function(e){var t=e.uavId,r=LA((0,c.useState)([]),2),n=r[0],o=r[1];return rA("/".concat(t,"/rangefinder/measurements"),o),c.createElement(PA,{values:n.map(NA)})};RA.propTypes={uavId:i().string};const DA=RA;var MA=r(66112);function FA(e){return FA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FA(e)}var UA=["component"];function GA(){return GA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GA.apply(this,arguments)}function VA(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function BA(){BA=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==FA(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(FA(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function HA(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function WA(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){HA(a,n,o,i,c,"next",e)}function c(e){HA(a,n,o,i,c,"throw",e)}i(void 0)}))}}function zA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return YA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YA(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function YA(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var KA=[{component:"compass",label:"Calibrate compass",type:"calib",timeout:90},{component:"accel",label:"Calibrate accelerometer",type:"calib",timeout:90},{component:"baro",label:"Calibrate ground pressure",type:"calib",timeout:10},{component:"gyro",label:"Calibrate gyroscope",type:"calib",timeout:10},{component:"level",label:"Calibrate level position",type:"calib",timeout:10},{component:"led",label:"Execute LED test",type:"test"},{component:"motor",label:"Execute motor test",needsConfirmation:!0,type:"test"}],qA=function(e){var t=e.component,r=e.label,n=e.needsConfirmation,o=e.timeout,a=e.type,i=e.uavId,l=Uw(),u=zA((0,c.useState)(null),2),s=u[0],f=u[1],p=zA((0,c.useState)(null),2),d=p[0],y=p[1],m=zA((0,c.useState)(!1),2),h=m[0],v=m[1],g=(0,c.useRef)(null),b=(0,c.useCallback)((function(){clearTimeout(s),f(null)}),[s,f]),w=(0,c.useCallback)((function(){b(),f(setTimeout(b,3e3))}),[b,f]),E=(0,c.useCallback)((function(){b(),h?k():j()}),[b,j,k,h]),A=(0,c.useCallback)((function(e){var t=e.progress,r=e.resume,n=e.suspended;y(t),v(Boolean(n)),g.current=r}),[]),S=zA((0,yv.A)(WA(BA().mark((function e(){return BA().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.sendCommandRequest({uavId:i,command:"test"===a?"test":"calib",args:[String(t)]},{onProgress:A,timeout:o});case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)}))),[l,A]),2),O=S[0],j=S[1],k=zA((0,yv.A)(WA(BA().mark((function e(){return BA().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g.current){e.next=4;break}return e.abrupt("return",g.current());case 4:throw new Error("No resume callback has been provided");case 5:case"end":return e.stop()}}),e)}))),[]),2)[1];return c.createElement(lt.A,{button:!0,onClick:n?w:E},c.createElement(ju.default,{status:h?"warning":O.loading?"next":O.error?"error":(0,Ge.default)(O.value)?"off":O.value?"success":"error"}),c.createElement(st.A,{primary:h?"".concat(d.message||"Operation suspended",". Click to resume."):!d||O.error&&!O.loading?r:"".concat(d.message||r),secondary:!O.loading&&O.error?(0,Xr.Nw)(O.error):d?c.createElement(DE,{progress:d}):h?c.createElement(DE,null):null}),c.createElement(ds.A,null,c.createElement(MA.A,{in:Boolean(s)},c.createElement(x.A,{style:{color:ro.Ay.seriousWarning},onClick:E},"Confirm"))))};qA.propTypes={component:i().string,label:i().string,needsConfirmation:i().bool,uavId:i().string,timeout:i().number,type:i().oneOf(["calib","test"])},qA.defaultProps={needsConfirmation:!1};var $A=function(e){var t=e.uavId;return c.createElement(ct.A,{dense:!0},KA.map((function(e){var r=e.component,n=VA(e,UA);return c.createElement(qA,GA({key:r,component:r,uavId:t},n))})))};$A.propTypes={uavId:i().string};const ZA=$A;var XA={preflight:XE,tests:ZA,messages:Dm,logs:zE,rangefinder:DA},JA=function(e){var t,r=e.selectedTab,n=e.uavId;return n?r in XA?(t=XA[r],c.createElement(t,{uavId:n})):c.createElement(Sr.A,{text:"Please select a view!"}):c.createElement(Sr.A,{text:"Please select a UAV id!"})};JA.propTypes={selectedTab:i().oneOf(Object.keys(XA)),uavId:i().string};const QA=(0,s.Ng)((function(e){return{selectedTab:(0,mo.yl)(e),uavId:(0,mo.ys)(e)}}))(JA);var eS=r(61434),tS=r(87480),rS=r(21460);function nS(){return nS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nS.apply(this,arguments)}var oS=function(e){var t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));return c.createElement(U.A,nS({style:{width:128,textAlign:"center"}},t),Object.keys(XA).map((function(e){return c.createElement(F.A,{key:e,value:e},(0,tS.A)(e))})))};oS.propTypes={onChange:i().func,value:i().string};const aS=(0,s.Ng)((function(e){return{value:(0,mo.yl)(e)}}),{onChange:function(e){return(0,rS.Of)(e.target.value)}})(oS);var iS=r(16594);var cS=function(e){var t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));return c.createElement(iS.A,t,Object.keys(XA).map((function(e){return c.createElement(g.A,{key:e,label:e,value:e})})))};cS.propTypes={onChange:i().func,value:i().string};const lS=(0,s.Ng)((function(e){return{value:(0,mo.yl)(e)}}),{onChange:function(e,t){return(0,rS.Of)(t)}})(cS);var uS=r(46737),sS=r(94596),fS=r(55258),pS=r(44539),dS=r(26562),yS=(0,St.A)((function(e){return{root:{position:"absolute",height:e.spacing(1.5),width:e.spacing(1.5),right:-2,top:-2,backgroundColor:e.palette.background.paper,border:"2px solid ".concat(e.palette.background.paper),borderRadius:"50%",boxSizing:"content-box"},light:{position:"absolute",width:"100%",height:"100%",backgroundColor:e.palette.background.paper,borderRadius:"50%",boxSizing:"content-box"},"status-off":{backgroundColor:ro.Ay.off},"status-success":{backgroundColor:ro.Ay.success},"status-warning":{backgroundColor:ro.Ay.warning},"status-rth":{animation:"$flash 0.5s infinite",animationDirection:"alternate",backgroundColor:ro.Ay.warning},"status-error":{backgroundColor:ro.Ay.error,color:"white"},"status-critical":{animation:"$flash 0.5s infinite",animationDirection:"alternate",backgroundColor:ro.Ay.error,color:"white"},"@keyframes flash":{"0%, 49%":{opacity:.5},"50%, 100%":{opacity:1}}}}),{name:"SecondaryStatusLight"}),mS=function(e){var t=e.status,r=yS();return c.createElement("div",{className:(0,n.A)(r.root)},c.createElement("div",{className:(0,n.A)(r.light,r["status-".concat(t)])}))};mS.propTypes={status:i().oneOf(["off","success","warning","rth","error","critical"])},mS.defaultProps={status:"off"};const hS=mS;function vS(){return vS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vS.apply(this,arguments)}var gS=(0,St.A)((function(e){return{avatarWrapper:{position:"relative","&:not(:last-child)":{marginBottom:e.spacing(.5)},"&::after":{background:jt.Colors.error,boxShadow:"1px 1px 4px rgba(0, 0, 0, 0.6), 1px 1px 2px rgba(255, 255, 255, 0.3) inset",content:'""',height:4,left:"50%",position:"absolute",top:"calc(50% - 2px)",transform:"rotate(-45deg)",transition:"left 300ms, width 300ms",width:"0%"},"&.crossed::after":{left:"-20%",width:"140%"}},avatarContent:{width:"100%",textAlign:"center"},gone:{opacity:.7},hint:{fontSize:"0.75rem"},hintSeparator:{width:"75%",marginTop:0,marginBottom:2,border:"1px solid",borderBottomWidth:0,opacity:.6,color:"inherit"},progress:{position:"absolute",top:-2,left:-2}}}),{name:"ComplexAvatar"}),bS=function(e){var t=e.AvatarProps,r=e.batteryFormatter,o=e.batteryStatus,a=e.hint,i=e.crossed,l=e.details,u=e.editing,s=e.gone,f=e.id,p=e.label,d=e.progress,y=e.secondaryStatus,m=e.status,h=e.text,v=e.textSemantics,g=gS();m===jt.Status.INFO&&(m=jt.Status.SUCCESS);var b=a||(void 0===p||p===f?"":f);return c.createElement(c.Fragment,null,c.createElement("div",{className:(0,n.A)(g.avatarWrapper,i&&"crossed",s&&g.gone)},c.createElement(sS.A,vS({status:u?jt.Status.NEXT:m},t),c.createElement("div",{className:g.avatarContent},void 0===p?f:p,c.createElement("hr",{className:g.hintSeparator}),c.createElement("div",{className:g.hint},b||"\u2014"))),d>0&&c.createElement(bt.A,{className:g.progress,size:44,value:d,variant:"static"}),y&&c.createElement(hS,{status:y})),(l||h)&&c.createElement(dS.A,{status:v},l||h),o&&c.createElement(pS.A,vS({formatter:r},o)))};bS.propTypes={AvatarProps:i().object,batteryFormatter:i().instanceOf(fS.K),batteryStatus:i().shape({cellCount:i().number,voltage:i().number,percentage:i().number}),hint:i().string,crossed:i().bool,details:i().string,editing:i().bool,gone:i().bool,id:i().string,label:i().string,progress:i().number,secondaryStatus:i().oneOf(["off","info","success","warning","rth","error","critical"]),selected:i().bool,status:i().oneOf(["off","info","success","warning","rth","error","critical"]),text:i().string,textSemantics:i().oneOf(["off","info","success","warning","rth","error","critical"])},bS.defaultProps={status:"off",textSemantics:"info"};const wS=bS;function ES(e){return ES="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ES(e)}function AS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function SS(e,t,r){var n;return n=function(e,t){if("object"!=ES(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ES(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ES(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var OS=(0,s.Ng)((function(){var e=(0,mo.q5)();return(0,Ve.createSelector)(Kt.sk,xr.Ps,(function(t,r){var n=r.id;return e(t,n)}),(function(e,t){return t}),(function(e,t,r,n){var o=n.hint,a=n.id,i=n.label,c=n.variant,l=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?AS(Object(r),!0).forEach((function(t){SS(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AS(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({batteryFormatter:e},r);return o||i&&i!==a||!(a in t)||(l.hint=(0,io.J8)(t[a])),"full"!==c&&(delete l.batteryStatus,delete l.text,delete l.details),l}))}))(wS);OS.propTypes={id:i().string,variant:i().oneOf(["full","minimal"])},OS.defaultProps={variant:"full"};const xS=OS;var jS=["children"];function kS(){return kS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kS.apply(this,arguments)}function TS(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function IS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return CS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CS(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CS(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var PS=(0,St.A)((function(e){return{content:{marginRight:-10,width:200+6*e.spacing(1)+10,maxHeight:200+6*e.spacing(1),padding:e.spacing(1),display:"flex",flexWrap:"wrap",gap:e.spacing(1),overflow:"hidden auto"},paper:{overflow:"visible","&::before":{content:'""',display:"block",width:e.spacing(2),height:e.spacing(2),position:"absolute",top:-e.spacing(1),left:function(t){var r,n,o=t.anchorCenter;return"calc(50% - ".concat(e.spacing(1),"px + ").concat((r=e.spacing(2)+(200+6*e.spacing(1))/2,n=window.innerWidth-r,o<r?o-r:o>n?o-n:0),"px)")},transform:"rotate(45deg)",backgroundColor:e.palette.background.paper}}}}),{name:"UAVSelector"}),LS=function(e){var t=e.anchorEl,r=e.filterable,n=e.onClose,o=e.onFocus,a=e.onSelect,i=e.open,l=e.sortedByError,u=(0,s.d4)(l?mo.aq:mo.Ev,{equalityFn:s.bN}),f=(0,s.d4)(xr.Ps),p=(0,c.useMemo)((function(){if(!t)return 0;var e=t.getBoundingClientRect();return(e.left+e.right)/2}),[t]),d=PS({anchorCenter:p}),y=IS((0,c.useState)(""),2),m=y[0],h=y[1];(0,c.useEffect)((function(){i&&h("")}),[i]);var v=u.filter((function(e){return e.startsWith(m)||e in f&&(0,io.J8)(f[e]).startsWith(m)}));return c.createElement(yf.kF,{open:i,anchorEl:t,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},PaperProps:{className:d.paper,onKeyDown:r?function(e){switch(e.key){case"Enter":v.length>0&&(a(v[0]),n(),e.stopPropagation(),e.preventDefault());break;case"Backspace":h(m.slice(0,-1));break;case"s":m.startsWith("s")?h(m.slice(1)):h("s"+m),e.stopPropagation();break;default:/^\d$/.test(e.key)&&(h(m+e.key),e.stopPropagation())}}:void 0},onClose:n,onFocus:o},c.createElement("div",{className:d.content,tabIndex:0},v.length>0?v.map((function(e){return c.createElement("div",{key:e},c.createElement(xS,{variant:"minimal",id:e,AvatarProps:{style:{cursor:"pointer"},onClick:function(){a(e),n()}}}))})):c.createElement(Sr.A,{text:'No matching UAVs for: "'.concat(m,'"')})))};LS.propTypes={anchorEl:i().object,filterable:i().bool,onClose:i().func,onFocus:i().func,onSelect:i().func,open:i().bool,sortedByError:i().bool};var _S=function(e){var t=e.children,r=TS(e,jS),n=IS((0,c.useState)(null),2),o=n[0],a=n[1],i=IS((0,c.useState)(null),2),l=i[0],u=i[1];return c.createElement(c.Fragment,null,t((function(e){a(e.currentTarget)})),c.createElement(LS,kS({anchorEl:o,open:Boolean(o),onClose:function(){a(null),l&&setTimeout((function(){return l.focus()}),0)},onFocus:function(e){var t;null!=e&&null!==(t=e.relatedTarget)&&void 0!==t&&t.focusRestorationTarget&&u(e.relatedTarget.focusRestorationTarget)}},r)))};_S.propTypes={children:i().func,sortedByError:i().bool};var NS=function(e){var t=e.followMapSelection,r=e.selectedUAVId,n=e.setSelectedUAVId,o=e.toggleFollowMapSelection;return c.createElement(S.A,{display:"flex",alignItems:"center",mx:.5},c.createElement(_S,{sortedByError:!0,onSelect:n},(function(e){return c.createElement("div",null,c.createElement(xS,{variant:"minimal",id:r,AvatarProps:{onClick:e,style:{cursor:"pointer"}}}))})),c.createElement(yf.W1,{content:"Follow the selection on the map"},c.createElement(jh,{size:"small",value:"followMapSelection",selected:t,onChange:o},c.createElement(uS.A,null))))};NS.propTypes={followMapSelection:i().bool,selectedUAVId:i().string,setSelectedUAVId:i().func,toggleFollowMapSelection:i().func,uavIds:i().arrayOf(i().string)};const RS=(0,s.Ng)((function(e){return{followMapSelection:(0,mo.X6)(e),selectedUAVId:(0,mo.ys)(e),uavIds:(0,mo.Ev)(e)}}),{setSelectedUAVId:rS.Qj,toggleFollowMapSelection:rS.PZ})(NS);var DS=(0,St.A)((function(e){return{root:{position:"sticky",top:0,containerType:"inline-size",flexDirection:"row",justifyContent:"space-between",backgroundColor:(0,jt.isThemeDark)(e)?"#535353":"#fff",color:(0,jt.isThemeDark)(e)?e.palette.getContrastText("#535353"):"#000"},select:{"@container (min-width: 525px)":{display:"none"}},tabs:{"@container (max-width: 526px)":{display:"none"}}}}),{name:"UAVDetailsPanelHeader"});const MS=function(){var e=DS();return c.createElement(eS.A,{className:e.root,style:{}},c.createElement(RS,null),c.createElement(lS,{className:e.tabs}),c.createElement(aS,{className:e.select}))};const FS=function(){return c.createElement(S.A,{display:"flex",flexDirection:"column",height:"100%"},c.createElement(MS,null),c.createElement(QA,null))};var US=r(44757),GS=r(69115),VS=r(43561),BS=r(93796),HS=r(31728);const WS=e=>`uav-dom-node-${e}`;var zS=["children","id","onDrop"];function YS(){return YS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YS.apply(this,arguments)}function KS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qS(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qS(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $S(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var ZS=(0,St.A)((function(e){return{root:{alignItems:"center",cursor:"pointer",display:"flex",flexDirection:"column",minWidth:e.spacing(10),position:"relative",scrollMarginTop:"3em"},draggable:{"&:hover":{boxShadow:e.shadows[4]}},selectable:{"&:hover":{backgroundColor:e.palette.action.hover}},selected:{backgroundColor:e.palette.action.selected,"&:hover":{backgroundColor:e.palette.action.selected}},fill:{flexGrow:1,padding:e.spacing(2,0)},stretch:{alignItems:["stretch","!important"]}}}),{name:"DroneListItem"}),XS={style:{opacity:0}},JS={style:{backgroundColor:ro.Ay.dropTarget}},QS=function(e){var t=e.children,r=e.id,n=e.onDrop,o=$S(e,zS),a=KS((0,HS.i)({item:{id:r},type:"uav",collect:function(e){return e.isDragging()&&XS}}),2),i=a[0],l=a[1],u=KS((0,wb.H)({accept:"uav",canDrop:function(e){return r!==e.id},collect:function(e){return e.isOver()&&e.canDrop()&&JS},drop:n?function(e){return n(e.id)}:void 0}),2),s=u[0],f=u[1],p=(0,c.useCallback)((function(e){l(e),f(e)}),[l,f]);return c.createElement("div",YS({ref:p,id:WS(r)},o,i,s),t)};QS.propTypes={children:i().node,id:i().string,onDrop:i().func};var eO=function(e){var t=e.children,r=e.draggable,o=e.fill,a=e.onClick,i=e.onDrop,l=e.selected,u=e.stretch,s=e.uavId,f=ZS(),p=(0,n.A)(f.root,a&&f.selectable,r&&f.draggable,l&&f.selected,o&&f.fill,u&&f.stretch);return r||i?c.createElement(QS,{className:p,id:s,onClick:a,onDrop:i},t):c.createElement("div",{id:WS(s),className:p,onClick:a},t)};eO.propTypes={children:i().node,draggable:i().bool,fill:i().bool,onClick:i().func,onDrop:i().func,selected:i().bool,stretch:i().bool,uavId:i().string};const tO=eO;var rO=r(87980),nO=r(86965),oO=r(25436);function aO(e){return aO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aO(e)}var iO=["color","inline","size","style"];function cO(){return cO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cO.apply(this,arguments)}function lO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function uO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lO(Object(r),!0).forEach((function(t){sO(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function sO(e,t,r){var n;return n=function(e,t){if("object"!=aO(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=aO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==aO(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fO(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var pO=(0,St.A)((function(e){return{root:{border:"1px solid rgba(0, 0, 0, 0.3)",borderRadius:"50%",color:"black",height:"1em",minWidth:"1em",marginRight:e.spacing(2),position:"relative",width:"1em"},inline:{display:"inline-block",marginRight:[0,"!important"],verticalAlign:"sub"},"size-small":{fontSize:"0.75em"},"size-large":{fontSize:"1.25em"}}}),{name:"ColoredLight"}),dO=function(e){var t=e.color,r=e.inline,o=e.size,a=e.style,i=fO(e,iO),l=pO();return c.createElement(S.A,cO({className:(0,n.A)(l.root,r&&l.inline,l["size-".concat(o)]),component:r?"span":"div",style:uO({backgroundColor:t},a)},i))};dO.propTypes={color:i().string,inline:i().bool,size:i().oneOf(["small","normal","large"]),style:i().object},dO.defaultProps={color:"#000000",size:"normal"};const yO=dO;function mO(e){return mO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mO(e)}function hO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vO(e,t,r){var n;return n=function(e,t){if("object"!=mO(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=mO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==mO(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gO(){return gO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gO.apply(this,arguments)}var bO=io.Vs,wO=(0,St.A)((function(e){return{root:{flexGrow:1,fontFamily:jt.monospacedFont,fontSize:"small",fontVariantNumeric:"lining-nums tabular-nums",marginTop:[-2,"!important"],marginBottom:[-4,"!important"],whiteSpace:"pre"},gone:{opacity:.7},muted:{color:e.palette.text.disabled},pill:{display:"inline-block",margin:e.spacing(0,.5),verticalAlign:"text-top",transform:"translateY(-1px)"},statusPill:{width:80},modePill:{width:48},gpsPill:{width:40},batteryIndicator:{display:"inline-block",fontFamily:e.typography.fontFamily,textAlign:"left",padding:e.spacing(0,.75),margin:e.spacing(0,.5),width:48}}}),{name:"DroneStatusLine"}),EO=function(e){var t,r,o=e.batteryFormatter,a=e.batteryStatus,i=e.color,l=e.coordinateFormatter,u=e.debugString,s=e.details,f=e.heading,p=e.headingDeviation,d=e.gone,y=e.gpsFixType,m=e.label,h=e.localPosition,v=e.missing,g=e.mode,b=e.position,w=e.secondaryLabel,E=e.text,A=e.textSemantics,S=wO(),O=b||{},x=O.amsl,j=O.ahl,k=O.agl;return c.createElement("div",{className:(0,n.A)(S.root,d&&S.gone)},(0,nO.A)(m,4),c.createElement("span",{className:S.muted},(0,nO.A)(w,4)),(s||E)&&c.createElement(dS.A,{inline:!0,className:(0,n.A)(S.pill,S.statusPill),status:A},s||E),!v&&c.createElement(c.Fragment,null,c.createElement(dS.A,{inline:!0,className:(0,n.A)(S.pill,S.modePill),status:"off"},g?(0,dc.XV)(g):"----"),c.createElement(pS.A,gO({className:S.batteryIndicator,formatter:o},a)),c.createElement(yO,{inline:!0,color:i}),c.createElement(dS.A,{inline:!0,hollow:!0,className:(0,n.A)(S.pill,S.gpsPill),status:(0,dc.Jq)(y)},(0,dc.Jj)(y)),h?(0,rO.A)(bO(h),25):b?(0,rO.A)(l([b.lon,b.lat]),25):c.createElement("span",{className:S.muted},(0,rO.A)("no position",25)),(0,Ge.default)(x)?c.createElement("span",{className:S.muted},"    \u2014\u2014\u2014"):(0,nO.A)(b.amsl.toFixed(1),6)+"m",(0,Ge.default)(j)?c.createElement("span",{className:S.muted},"   \u2014\u2014\u2014"):(0,nO.A)(b.ahl.toFixed(1),6)+"m",(0,Ge.default)(k)?c.createElement("span",{className:S.muted},"   \u2014\u2014\u2014"):(0,nO.A)(b.agl.toFixed(1),6)+"m",c.createElement(oO.A,{status:(t=p,r=t?Math.abs(t):0,r>=20?"error":r>=10?"warning":void 0)},(0,nO.A)((0,Ge.default)(f)?"":Math.round(f)+"\xb0",5)),c.createElement("span",{className:S.debugString},u?" "+u:"")))};EO.propTypes={batteryFormatter:i().instanceOf(fS.K),batteryStatus:i().shape({cellCount:i().number,charging:i().bool,voltage:i().number,percentage:i().number}),color:i().string,coordinateFormatter:i().func,debugString:i().string,details:i().string,editing:i().bool,gone:i().bool,gpsFixType:i().number,heading:i().number,headingDeviation:i().number,label:i().string,localPosition:i().arrayOf(i().number),missing:i().bool,mode:i().string,position:i().shape({lat:i().number,lon:i().number,amsl:i().number,ahl:i().number,agl:i().number}),secondaryLabel:i().string,text:i().string,textSemantics:i().oneOf(["off","info","success","warning","rth","error","critical"])},EO.defaultProps={textSemantics:"info"};const AO=(0,s.Ng)((function(){var e=(0,mo.q5)();return function(t,r){var n=r.id,o=(0,mo.Pz)(t,n),a=o?(0,mo.u$)(t,n):0,i=o?(0,mo.OJ)(t,n):"black";return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hO(Object(r),!0).forEach((function(t){vO(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hO(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({batteryFormatter:(0,Kt.sk)(t),color:i,coordinateFormatter:(0,ho.MH)(t),debugString:o?o.debugString:void 0,gpsFixType:o?o.gpsFix.type:void 0,heading:o?o.heading:void 0,headingDeviation:a,localPosition:o?o.localPosition:void 0,missing:!o,mode:o?o.mode:void 0,position:o?o.position:void 0},e(t,r.id))}}))(EO);var SO=r(22894),OO=r(87361),xO=r(65716),jO=["augmentMapping","canAugmentMapping","clearMapping","exportMapping","finishMappingEditorSession","importAllowed","importMapping","removeMissingUAVsFromMapping"];function kO(){return kO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kO.apply(this,arguments)}function TO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return IO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IO(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IO(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CO(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var PO={overflow:"ellipsis",userSelect:"none",whiteSpace:"nowrap"},LO=c.forwardRef((function(e,t){var r=e.augmentMapping,n=e.canAugmentMapping,o=e.clearMapping,a=e.exportMapping,i=e.finishMappingEditorSession,l=e.importAllowed,u=e.importMapping,s=e.removeMissingUAVsFromMapping,f=CO(e,jO),p=TO(vf(),3),d=p[0],y=p[1],h=p[2];return c.createElement(m.wD,null,(function(e){return c.createElement(Rf.A,kO({ref:t,disableGutters:!0,variant:"dense"},f),c.createElement(W.A,{disabled:!0},c.createElement(OO.A,null)),c.createElement(S.A,{style:PO},e("mappingEditorToolbar.clickToEdit")),c.createElement(W.A,{disabled:!0},c.createElement(xO.A,null)),c.createElement(S.A,{style:PO},e("mappingEditorToolbar.dragNodes")),c.createElement(S.A,{flex:1}),c.createElement(W.A,{onClick:i},c.createElement(SO.A,null)),c.createElement(W.A,{onClick:y},c.createElement(ff.A,null)),c.createElement(ml.A,{anchorEl:d,open:null!==d,variant:"menu",onClose:h},c.createElement(F.A,{disabled:!n,onClick:n?h(r):null},e("mappingEditorToolbar.assignSpares")),c.createElement(yl.A,null),l&&c.createElement(F.A,{onClick:h(u)},e("mappingEditorToolbar.importMapping")),c.createElement(F.A,{onClick:h(a)},e("mappingEditorToolbar.exportMapping")),c.createElement(yl.A,null),c.createElement(F.A,{onClick:h(o)},e("general.action.clear")),c.createElement(F.A,{onClick:h(s)},e("mappingEditorToolbar.clearMissing"))))}))}));LO.propTypes={augmentMapping:i().func,canAugmentMapping:i().bool,clearMapping:i().func,exportMapping:i().func,finishMappingEditorSession:i().func,importMapping:i().func,importAllowed:i().bool,removeMissingUAVsFromMapping:i().func,selectedUAVIds:i().array};const _O=(0,s.Ng)((function(e){return{canAugmentMapping:(0,xr.xg)(e),importAllowed:Boolean(window.bridge&&window.bridge.readBufferFromFile)}}),{augmentMapping:Fm.Dn,clearMapping:jr.MH,exportMapping:Fm.h9,importMapping:Fm.Kt,finishMappingEditorSession:jr.hH,removeMissingUAVsFromMapping:Fm.a6},null,{forwardRef:!0})(LO);var NO=r(43006),RO=(0,St.A)((function(e){return{root:{position:"absolute",width:48,height:48,top:e.spacing(.5),zIndex:1e3},input:{position:"absolute",top:"50%",transform:"translateY(-50%)",fontSize:"1.25rem","& input":{textAlign:"center"},"& input::selection":{backgroundColor:new(eo())(ro.Ay.info).darken(.2).string()}}}}),{name:"MappingSlotEditorForGrid"}),DO=function(e){var t=e.cancelMappingEditorSessionAtCurrentSlot,r=e.defaultValue,n=e.commitMappingEditorSessionAtCurrentSlot,o=e.optimizeUIForTouch,a=RO();return c.createElement(S.A,{className:a.root},c.createElement(NO.A,{fullWidth:!0,autoFocus:!o,className:a.input,defaultValue:r,onBlur:function(e){n({value:e.target.value})},onFocus:function(e){return e.target.select()},onKeyDown:function(e){return"Enter"===e.key?(n({continuation:e.shiftKey?"prev":"next",value:e.target.value}),e.preventDefault(),!1):"Tab"===e.key?(n({continuation:e.shiftKey?"prevEmpty":"nextEmpty",value:e.target.value}),e.preventDefault(),!1):void("Escape"===e.key&&t())}}))};DO.propTypes={cancelMappingEditorSessionAtCurrentSlot:i().func,defaultValue:i().string,commitMappingEditorSessionAtCurrentSlot:i().func,optimizeUIForTouch:i().bool};const MO=(0,s.Ng)((function(e){return{defaultValue:(0,xr.nU)(e),optimizeUIForTouch:(0,Kt.jz)(e)}}),{cancelMappingEditorSessionAtCurrentSlot:jr.Wy,commitMappingEditorSessionAtCurrentSlot:jr.XF})(DO);var FO=(0,St.A)((function(e){return{root:{position:"absolute",boxSizing:"border-box",width:64,left:e.spacing(1),top:-5,bottom:-6,zIndex:1e3,backgroundColor:"rgba(0, 0, 0, 0.16)",border:"1px solid rgba(0, 0, 0, 0.5)",borderRadius:e.spacing(.5),boxShadow:"0 0 4px 2px rgba(0, 0, 0, 0.3)",padding:e.spacing(0,.5)},input:{fontFamily:jt.monospacedFont,fontSize:"small",padding:e.spacing(0,.5),position:"absolute",top:"50%",left:0,right:0,transform:"translateY(-50%)","& input":{textAlign:"right"},"& input::selection":{backgroundColor:new(eo())(ro.Ay.info).darken(.2).string()}}}}),{name:"MappingSlotEditorForList"}),UO=function(e){var t=e.cancelMappingEditorSessionAtCurrentSlot,r=e.defaultValue,n=e.commitMappingEditorSessionAtCurrentSlot,o=e.optimizeUIForTouch,a=FO();return c.createElement(S.A,{className:a.root},c.createElement(NO.A,{fullWidth:!0,autoFocus:!o,className:a.input,defaultValue:r,onBlur:function(e){n({value:e.target.value})},onFocus:function(e){return e.target.select()},onKeyDown:function(e){return"Enter"===e.key?(n({continuation:e.shiftKey?"prev":"next",value:e.target.value}),e.preventDefault(),!1):"Tab"===e.key?(n({continuation:e.shiftKey?"prevEmpty":"nextEmpty",value:e.target.value}),e.preventDefault(),!1):void("Escape"===e.key&&t())}}))};UO.propTypes={cancelMappingEditorSessionAtCurrentSlot:i().func,defaultValue:i().string,commitMappingEditorSessionAtCurrentSlot:i().func,optimizeUIForTouch:i().bool};const GO=(0,s.Ng)((function(e){return{defaultValue:(0,xr.nU)(e),optimizeUIForTouch:(0,Kt.jz)(e)}}),{cancelMappingEditorSessionAtCurrentSlot:jr.Wy,commitMappingEditorSessionAtCurrentSlot:jr.XF})(UO);var VO=r(73546),BO=r(97549),HO=["cancelMappingEditorSessionAtCurrentSlot"];function WO(){return WO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WO.apply(this,arguments)}function zO(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var YO=(0,St.A)((function(e){return{box:{userSelect:"none",whiteSpace:"nowrap"},divider:{alignSelf:"stretch",height:"auto",margin:e.spacing(1,1)}}}),{name:"MappingSlotEditorToolbar"}),KO=c.forwardRef((function(e,t){var r=e.cancelMappingEditorSessionAtCurrentSlot,n=zO(e,HO),o=YO();return c.createElement(m.wD,null,(function(e){return c.createElement(Rf.A,WO({ref:t,disableGutters:!0,variant:"dense"},n),c.createElement(W.A,{disabled:!0},c.createElement(BO.A,null)),c.createElement(S.A,{className:o.box},c.createElement("kbd",null,"Enter")," ",e("general.action.save")),c.createElement(yl.A,{orientation:"vertical",className:o.divider}),c.createElement(S.A,{className:o.box},c.createElement("kbd",null,"Tab")," ",e("mappingSlotEditorToolbar.selectNextEmptySlot")),c.createElement(yl.A,{orientation:"vertical",className:o.divider}),c.createElement(S.A,{className:o.box},c.createElement(m.x6,{i18nKey:"mappingSlotEditorToolbar.reverseDirection",components:{kbd:c.createElement("kbd",null)}})),c.createElement(S.A,{flex:1}),c.createElement(W.A,{onClick:r},c.createElement(VO.A,null)))}))}));KO.propTypes={cancelMappingEditorSessionAtCurrentSlot:i().func,finishMappingEditorSession:i().func,selectedUAVIds:i().array};const qO=(0,s.Ng)(null,{cancelMappingEditorSessionAtCurrentSlot:jr.Wy},null,{forwardRef:!0})(KO);var $O=r(48922),ZO=r(89600),XO=r(81214),JO=r(78468),QO=r(28850),ex=["label","selected"];function tx(){return tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tx.apply(this,arguments)}function rx(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function nx(e){return function(e){if(Array.isArray(e))return ox(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ox(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ox(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ox(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ax=function(e,t){var r={cursor:"hand","& .MuiChip-deleteIcon":{color:"inherit"}};if(e){var n=eo()(e).hsl().lighten(.08).string();r.color=t.palette.getContrastText(e),r.backgroundColor=e,r.boxShadow="0 0 4px 2px ".concat(e),r["&:focus"]={color:t.palette.getContrastText(e),backgroundColor:[n,"!important"]},r["&:hover"]={color:t.palette.getContrastText(e),backgroundColor:[n,"!important"]},r["& svg"]={color:[t.palette.getContrastText(e),"!important"]}}return r},ix=(0,BS.A)((function(e){return{root:{backdropFilter:"blur(5px)",background:(0,jt.isThemeDark)(e)?"rgba(36, 36, 36, 0.54)":"rgba(255, 255, 255, 0.8)",borderBottom:"1px solid ".concat(e.palette.divider),minWidth:800,overflow:"hidden",position:"sticky",top:0,zIndex:10,minHeight:39},widgets:{display:"flex",position:"absolute",right:e.spacing(.5),top:e.spacing(1),margin:"auto",zIndex:20,"& div":{margin:e.spacing(0,0,0,.5)}},headerLine:{alignItems:"stretch",cursor:"default",display:"flex",flexWrap:"nowrap",fontFamily:jt.monospacedFont,fontSize:"small",height:38,overflow:"hidden",userSelect:"none",whiteSpace:"pre",width:"100%",zIndex:10},headerLineItem:{lineHeight:"38px",padding:e.spacing(0,.5),"&:last-child":{flex:1}},sortable:{cursor:"pointer","&:hover":{backgroundColor:e.palette.action.hover},transition:e.transitions.create(["background-color"],{duration:e.transitions.duration.short})},sortActive:{textDecoration:"underline",textUnderlineOffset:"4px"},success:ax(ro.Ay.success,e),warning:ax(ro.Ay.warning,e),error:ax(ro.Ay.error,e),chip:ax(null,e),chipActive:ax(ro.Ay.info,e)}}),{name:"SortAndFilterHeader"}),cx=Object.freeze([{label:"Status",sortKey:QO.ur.STATUS,style:{textAlign:"center",width:78}},{label:"Mode",sortKey:QO.ur.FLIGHT_MODE,style:{textAlign:"center",width:62}},{label:"Battery",sortKey:QO.ur.BATTERY,style:{textAlign:"right",width:62}},{label:"GPS",sortKey:QO.ur.GPS_FIX,style:{textAlign:"center",width:50}},{label:"Position",style:{textAlign:"left",width:198}},{label:"AMSL",sortKey:QO.ur.ALTITUDE_MSL,style:{textAlign:"right",width:58}},{label:"AHL",sortKey:QO.ur.ALTITUDE_HOME,style:{textAlign:"right",width:56}},{label:"AGL",sortKey:QO.ur.ALTITUDE_GROUND,style:{textAlign:"right",width:48}},{label:"Hdg",sortKey:QO.ur.HEADING,style:{textAlign:"center",width:40}},{label:"Details",style:{textAlign:"left"}}]),lx={missionIds:[{label:"sID",sortKey:QO.ur.DEFAULT,style:{textAlign:"right",width:40}},{label:"ID",sortKey:QO.ur.DEFAULT,style:{textAlign:"right",width:32}}].concat(nx(cx)),droneIds:[{label:"ID",sortKey:QO.ur.DEFAULT,style:{textAlign:"right",width:40}},{label:"sID",sortKey:QO.ur.DEFAULT,style:{textAlign:"right",width:32}}].concat(nx(cx))},ux=c.createElement(SO.A,{style:{fontSize:"inherit",marginLeft:8}}),sx=function(e,t){if(!(Array.isArray(e)&&e.length>0))return t.chip;switch(e[0]){case JO.FA.WITH_WARNINGS:case JO.FA.INACTIVE_ONLY:return t.warning;case JO.FA.WITH_ERRORS:return t.error;default:return t.chipActive}},fx=c.forwardRef((function(e,t){var r=e.label,n=e.selected,o=rx(e,ex);return c.createElement(F.A,tx({ref:t,dense:!0,selected:n},o),r)}));function px(e){var t=e.state,r=e.ref,n=e.action,o=e.popupTrigger,a=void 0===o?"chip":o,i=(0,XO.cO)(t),c=function(e){return t.open(r||e)};return i.onContextMenu=i.onClick,"icon"===a?(i.onDelete=c,n&&(i.onClick=n)):i.onDelete=n||c,i}fx.propTypes={label:i().string,selected:i().bool};var dx=function(e){var t=e.filters,r=e.layout,o=e.onSetFilter,a=e.onSetSortBy,i=e.onToggleSortDirection,l=e.showMissionIds,u=e.sortBy,s=e.t,f=ix(),p=(0,c.useRef)(),d=(0,XO.T6)({variant:"popover",popupId:"uav-list-sort-options"}),y=(0,c.useRef)(),m=(0,XO.T6)({variant:"popover",popupId:"uav-list-filter-options"}),h=(0,c.useCallback)((function(e){o&&o(e),m.close()}),[o,m]),v=(0,c.useCallback)((function(e){a&&a({key:String(e)}),d.close()}),[a,d]),g=(0,c.useCallback)((function(e){a&&a({reverse:Boolean(e)}),d.close()}),[a,d]),b=(0,c.useCallback)((function(e){e=String(e),u.key===e?i&&i():a&&a({key:String(e)})}),[a,i,u]),w=u.key!==QO.ur.DEFAULT,E=Array.isArray(t)&&t.length>0;return c.createElement("div",{className:f.root},c.createElement("div",{className:f.widgets},c.createElement(bh.A,tx({ref:p,className:w?f.chipActive:f.chip,variant:"outlined",label:QO.WL[u.key](s),size:"small",deleteIcon:null!=u&&u.reverse?c.createElement(ZO.A,null):c.createElement(ty.A,null)},px({state:d,ref:p.current,action:i}))),c.createElement(ml.A,(0,XO.NA)(d),c.createElement(F.A,{dense:!0,disabled:!0},s("sorting.sortBy")),QO.T0.map((function(e){return c.createElement(fx,{key:e,label:QO.CR[e](s),selected:u.key===e,onClick:function(){return v(e)}})})),c.createElement(yl.A,{style:{margin:"4px 0"}}),c.createElement(F.A,{dense:!0,onClick:function(){return g(!1)}},s("sorting.ascending"),!(null!=u&&u.reverse)&&ux),c.createElement(F.A,{dense:!0,onClick:function(){return g(!0)}},s("sorting.descending"),(null==u?void 0:u.reverse)&&ux)),c.createElement(bh.A,tx({ref:y,className:sx(t,f),variant:"outlined",label:E?t.length>1?s("filtering.composite"):JO.fp[t[0]](s):s("filtering.filter"),size:"small",deleteIcon:E?void 0:c.createElement($O.A,null)},px({state:m,ref:y.current,action:E?function(){return h(null)}:null}))),c.createElement(ml.A,(0,XO.NA)(m),c.createElement(F.A,{dense:!0,disabled:!0},s("filtering.filterBy")),JO.i7.map((function(e){return c.createElement(fx,{key:e,label:JO.$F[e](s),selected:1===t.length&&t[0]===e||e===JO.FA.DEFAULT&&0===t.length,onClick:function(){return h(e)}})})))),c.createElement(vy,{in:"list"===r},c.createElement("div",{className:f.headerLine},function(e,t,r,o){return"string"==typeof e?e:Array.isArray(e)?e.map((function(e){var a=e.label,i=e.sortKey,l=e.style;return c.createElement("div",{key:a,className:(0,n.A)(r.headerLineItem,i&&r.sortable,t.key===i&&i!==QO.ur.DEFAULT&&r.sortActive),style:l,onClick:i?function(){return o(i)}:null},a)})):""}(l?lx.missionIds:lx.droneIds,u,f,b))))};dx.propTypes={filters:i().arrayOf(i().string),layout:i().oneOf(["grid","list"]),onSetFilter:i().func,onSetSortBy:i().func,onToggleSortDirection:i().func,showMissionIds:i().bool,sortBy:i().shape({key:i().string,reverse:i().bool}),t:i().func};const yx=(0,s.Ng)((function(e){return{filters:(0,Kt.Ap)(e),layout:(0,Kt.HI)(e),showMissionIds:(0,Kt.W_)(e),sortBy:(0,Kt.S6)(e)}}),{onSetFilter:w.V$,onSetSortBy:w.aU,onToggleSortDirection:w.W8})((0,m.CI)()(dx));var mx=["label","onSelect"];function hx(){return hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hx.apply(this,arguments)}function vx(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var gx=function(e){var t=e.label,r=e.onSelect,n=vx(e,mx);return c.createElement(Kv.A,{disableSticky:!0,flex:"0 0 100%"},c.createElement(R.A,{control:c.createElement(_.A,hx({size:"small",onChange:r},n)),label:t}))};gx.propTypes={label:i().string,onSelect:i().func};const bx=gx;var wx=r(57424),Ex=r(75756),Ax=r(28540),Sx=r(26837),Ox=r(92474),xx=r(63166),jx=r(69358),kx=r(84859),Tx=r(12152);function Ix(e){return Ix="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ix(e)}function Cx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Px(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cx(Object(r),!0).forEach((function(t){Lx(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cx(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Lx(e,t,r){var n;return n=function(e,t){if("object"!=Ix(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ix(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ix(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _x=function(e){var t=e.broadcast,r=e.dispatch,n=e.hideSeparators,o=e.openUAVDetailsDialog,a=e.requestRemovalOfUAVsByIds,i=e.requestRemovalOfUAVsMarkedAsGone,l=e.selectedUAVIds,u=e.size,s=e.startSeparator,f=e.t,p=(0,Um.A)(l)&&!t,d=1===l.length&&!t,y=(0,$g.zH)((0,eb.xM)({getTargetedUAVIds:function(e){return t?(0,mo.Ev)(e):l},getTransportOptions:function(e){var r={channel:(0,xr.$D)(e)};return t&&(r.broadcast=!0,r.ignoreIds=!0),r}}),r),m=y.flashLight,h=y.holdPosition,v=y.land,g=y.reset,b=y.returnToHome,w=y.shutdown,E=y.sleep,A=y.takeOff,S=y.turnMotorsOff,O=y.turnMotorsOn,j=y.wakeUp,k="small"===u?"small":"medium",T=u,I="small"===u?c.createElement(x.A,{startIcon:c.createElement(xx.A,null),disabled:p,size:T,onClick:m},f("UAVOpButtonGrp.flashLights")):c.createElement(yf.W1,{content:f("UAVOpButtonGrp.flashLights")},c.createElement(W.A,{disabled:p,size:T,onClick:m},c.createElement(xx.A,{fontSize:k})));return c.createElement(c.Fragment,null,!n&&s&&c.createElement(nh,{orientation:"vertical"}),c.createElement(yf.W1,{content:f("general.commands.takeoff")},c.createElement(W.A,{disabled:p,size:T,onClick:A},c.createElement(Ax.A,{fontSize:k}))),c.createElement(yf.W1,{content:f("general.commands.positionHold")},c.createElement(W.A,{disabled:p,size:T,onClick:h},c.createElement(Jg.A,{fontSize:k}))),c.createElement(yf.W1,{content:f("general.commands.returnToHome")},c.createElement(W.A,{disabled:p,size:T,onClick:b},c.createElement(Zg.A,{fontSize:k}))),c.createElement(yf.W1,{content:f("general.commands.land")},c.createElement(W.A,{disabled:p,size:T,onClick:v},c.createElement(Xg.A,{fontSize:k}))),!n&&c.createElement(nh,{orientation:"vertical"}),"small"!==u&&c.createElement(c.Fragment,null,c.createElement(yf.W1,{content:f("UAVOpButtonGrp.details")},c.createElement(W.A,{disabled:!d,size:T,onClick:function(){return o(l[0])}},c.createElement(Sx.A,null))),I),!n&&c.createElement(nh,{orientation:"vertical"}),c.createElement(yf.W1,{content:f("UAVOpButtonGrp.armMotors")},c.createElement(W.A,{disabled:p,size:T,onClick:O},c.createElement(js.A,{fontSize:k,htmlColor:p?void 0:ro.Ay.warning}))),c.createElement(yf.W1,{content:f("UAVOpButtonGrp.disarmMotors")},c.createElement(W.A,{disabled:p,size:T,onClick:S},c.createElement(Y.default,{fontSize:k,htmlColor:p?void 0:ro.Ay.warning}))),"small"===u&&I,!n&&c.createElement(nh,{orientation:"vertical"}),c.createElement(yf.W1,{content:f("general.commands.powerOn")},c.createElement(W.A,{disabled:p,size:T,onClick:j},c.createElement(jx.A,{htmlColor:p?void 0:ro.Ay.success,fontSize:k}))),c.createElement(yf.W1,{content:f("general.commands.sleep")},c.createElement(W.A,{disabled:p,size:T,onClick:E},c.createElement(Ox.A,{htmlColor:p?void 0:ro.Ay.warning,fontSize:k}))),c.createElement(yf.W1,{content:f("general.commands.reboot")},c.createElement(W.A,{disabled:p,size:T,onClick:g},c.createElement(bb.A,{htmlColor:p?void 0:ro.Ay.error,fontSize:k}))),c.createElement(yf.W1,{content:f("general.commands.powerOff")},c.createElement(W.A,{disabled:p,size:T,onClick:w},c.createElement(Qg.A,{htmlColor:p?void 0:ro.Ay.error,fontSize:k}))),"small"!==u&&c.createElement(c.Fragment,null,!n&&c.createElement(nh,{orientation:"vertical"}),c.createElement(yf.W1,{content:f(p?"UAVOpButtonGrp.removeItemsMarkedGone":"UAVOpButtonGrp.removeSelectedItems")},c.createElement(W.A,{size:T,onClick:function(){return p?i():a(l)}},c.createElement(uf.A,null)))))};_x.propTypes={broadcast:i().bool,dispatch:i().func,openUAVDetailsDialog:i().func,requestRemovalOfUAVsByIds:i().func,requestRemovalOfUAVsMarkedAsGone:i().func,selectedUAVIds:i().arrayOf(i().string),hideSeparators:i().bool,size:i().oneOf(["small","medium"]),startSeparator:i().bool,t:i().func};const Nx=(0,s.Ng)((function(){return{}}),(function(e){return Px(Px({},(0,$g.zH)({openUAVDetailsDialog:Tx.Te,requestRemovalOfUAVsMarkedAsGone:kx.Ph,requestRemovalOfUAVsByIds:kx.Bt},e)),{},{dispatch:e})}))((0,m.CI)()(_x));var Rx=r(11509),Dx=r(76021),Mx=r(44122);const Fx=(0,_r.A)(c.createElement("path",{d:"m15.1 19.37 1 1.74c-.96.44-2.01.73-3.1.84v-2.02c.74-.09 1.44-.28 2.1-.56zM4.07 13H2.05c.11 1.1.4 2.14.84 3.1l1.74-1c-.28-.66-.47-1.36-.56-2.1zM15.1 4.63l1-1.74c-.96-.44-2-.73-3.1-.84v2.02c.74.09 1.44.28 2.1.56zM19.93 11h2.02c-.11-1.1-.4-2.14-.84-3.1l-1.74 1c.28.66.47 1.36.56 2.1zM8.9 19.37l-1 1.74c.96.44 2.01.73 3.1.84v-2.02c-.74-.09-1.44-.28-2.1-.56zM11 4.07V2.05c-1.1.11-2.14.4-3.1.84l1 1.74c.66-.28 1.36-.47 2.1-.56zm7.36 3.1 1.74-1.01c-.63-.87-1.4-1.64-2.27-2.27l-1.01 1.74c.59.45 1.1.96 1.54 1.54zM4.63 8.9l-1.74-1c-.44.96-.73 2-.84 3.1h2.02c.09-.74.28-1.44.56-2.1zm15.3 4.1c-.09.74-.28 1.44-.56 2.1l1.74 1c.44-.96.73-2.01.84-3.1h-2.02zm-3.1 5.36 1.01 1.74c.87-.63 1.64-1.4 2.27-2.27l-1.74-1.01c-.45.59-.96 1.1-1.54 1.54zM7.17 5.64l-1-1.75c-.88.64-1.64 1.4-2.27 2.28l1.74 1.01c.44-.59.95-1.1 1.53-1.54zM5.64 16.83l-1.74 1c.63.87 1.4 1.64 2.27 2.27l1.01-1.74c-.59-.44-1.1-.95-1.54-1.53z"}),"MissingSlot");var Ux=function(e){var t=e.layout,r=e.mappingEditable,n=e.onToggleShowingEmptyMissionSlots,o=e.setUAVListLayout,a=e.showEmptyMissionSlots,i=e.showMissionIds,l=e.startMappingEditorSession,u=e.t;return c.createElement(c.Fragment,null,i&&c.createElement(yf.W1,{content:u("mappingButtonGroup.editMapping")},c.createElement(W.A,{disabled:r||!i,onClick:l},c.createElement(ia.A,null))),c.createElement(mg,null),c.createElement(yf.W1,{content:u(a?"mappingButtonGroup.hideEmptyMissionSlots":"mappingButtonGroup.showEmptyMissionSlots")},c.createElement(jh,{value:"showMissing",disabled:!i,selected:a,onClick:n},c.createElement(Fx,null))),c.createElement(nh,{orientation:"vertical"}),c.createElement(Mx.A,{exclusive:!0,value:t,onChange:o},c.createElement(jh,{size:"small",value:"grid"},c.createElement(Dx.A,null)),c.createElement(jh,{size:"small",value:"list"},c.createElement(Rx.A,null))))};Ux.propTypes={layout:i().oneOf(["grid","list"]),mappingEditable:i().bool,onToggleShowingEmptyMissionSlots:i().func,setUAVListLayout:i().func,showEmptyMissionSlots:i().bool,showMissionIds:i().bool,startMappingEditorSession:i().func,t:i().func};const Gx=(0,s.Ng)((function(e){return{layout:(0,Kt.HI)(e),mappingEditable:(0,xr.Dj)(e),showEmptyMissionSlots:(0,Kt.Mq)(e),showMissionIds:(0,Kt.W_)(e)}}),{clearMapping:jr.MH,onToggleShowingEmptyMissionSlots:function(){return function(e,t){var r=(0,Kt.Mq)(t());e((0,I.uV)("display",{hideEmptyMissionSlots:r}))}},startMappingEditorSession:jr.OX,setUAVListLayout:function(e,t){return function(e){t&&e((0,I.uV)("display",{uavListLayout:t}))}}})((0,m.CI)()(Ux));var Vx=["fitSelectedUAVs","isBroadcast","selectedUAVIds"];function Bx(){return Bx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bx.apply(this,arguments)}function Hx(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Wx=c.forwardRef((function(e,t){var r=e.fitSelectedUAVs,n=e.isBroadcast,o=e.selectedUAVIds,a=Hx(e,Vx),i=(0,Um.A)(o);return c.createElement(Rf.A,Bx({ref:t,disableGutters:!0,variant:"dense"},a),c.createElement(S.A,{width:4}),c.createElement(Nx,{broadcast:n,selectedUAVIds:o}),c.createElement(S.A,{flex:1}),r&&c.createElement(yf.W1,{content:i?"Fit all features into view":"Fit selection into view"},c.createElement(W.A,{style:{float:"right"},onClick:r},i?c.createElement(Ex.A,null):c.createElement(wx.A,null))),c.createElement(Gx,null))}));Wx.propTypes={fitSelectedUAVs:i().func,isBroadcast:i().bool,selectedUAVIds:i().array};const zx=(0,s.Ng)((function(e){return{isBroadcast:(0,$i.S)(e)}}),{})(Wx);var Yx=new(r(38967).MiniSignal),Kx=function(e){return function(t){return Yx.dispatch(e,t)}};const qx=Yx;function $x(e){const t="string"==typeof e?document.querySelector(e):e;t&&window.requestAnimationFrame((()=>{t.scrollIntoView({behavior:"auto",block:"nearest",inline:"nearest"})}))}function Zx(e){return function(e){if(Array.isArray(e))return Xx(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Xx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xx(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xx(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Jx="up",Qx="down",ej="left",tj="right",rj="previousPage",nj="nextPage";function oj(e){var t=e.dispatch,r=e.activateId,n=e.activateIds,o=e.getNavigationDeltaInDirection,a=e.getVisibleIds,i=e.getSelectedIds,c=e.setFocusToId,l=e.setSelectedIds,u=r||n?function(){return function(e,t){var o=t(),a=i(o);a&&a.length>0&&e(n?n(a):r(a[a.length-1]))}}:void 0,s=function(e,t,r,n){var o=n(),u=a(o);if(0!==u.length){var s=i(o),f=0;if(Number.isFinite(t)){if(s.length>0){var p=s.map((function(e){return u.indexOf(e)})).filter((function(e){return e>=0}));f=t<0?Math.min.apply(Math,[u.length-1].concat(Zx(p)))+t:Math.max.apply(Math,[0].concat(Zx(p)))+t}f=Math.min(Math.max(f,0),u.length-1)}else f=t<0?0:u.length-1;var d=u[f],y=e.shiftKey?s.includes(d)?null:[].concat(Zx(s),[d]):[d];if(c&&!(0,Ge.default)(d)){var m=c(d);"string"==typeof m&&$x(m)}null!==y&&r(l(y))}},f=function(e){return function(t){return function(r,n){var o=s(t,e,r,n);o&&r(o)}}},p=function(e){return function(t){return function(r,n){t.preventDefault();var a=n(),i=o(a,e);if(0!==i){var c=s(t,i,r,n);c&&r(c)}}}};return(0,$g.zH)({ACTIVATE_SELECTION:u,PAGE_DOWN:p(nj),PAGE_UP:p(rj),SELECT_FIRST:f(Number.NEGATIVE_INFINITY),SELECT_LAST:f(Number.POSITIVE_INFINITY),SELECT_DOWN:p(Qx),SELECT_UP:p(Jx),SELECT_LEFT:p(ej),SELECT_RIGHT:p(tj)},t)}r(31415);var aj=r(59116),ij=r(63614),cj=r.n(ij);function lj(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return uj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uj(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function uj(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sj(){return!0}var fj=cj()((function(e){var t=(0,JO.wA)(e);return t?function(e){return function(r){return t(e[r[0]])}}:function(){return sj}})),pj=cj()((function(e){var t=(0,QO.az)(e);return t?function(e){return function(r){return t(e[r[0]])}}:function(){return xu.default}}));function dj(e,t,r){var n,o=e||{},a=o.key,i=o.reverse;if(r){var c=pj(a);return(0,aj.A)(t,(function(e){return(0,Jn.M)(e,[c(r)],[i?"desc":"asc"])}))}return i?(n=t,(0,aj.A)(n,(function(e){return e.concat().reverse()}))):t}function yj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||hj(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mj(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=hj(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function hj(e,t){if(e){if("string"==typeof e)return vj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vj(e,t):void 0}}function vj(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gj=[void 0,void 0,c.createElement(uf.A,{key:"__delete"})],bj=(0,Ve.createSelector)(xr.VZ,xr.Dj,mo.Ev,Kt.Mq,(function(e,t,r,n){var o,a=[],i=[],c=[],l=new Set,u=mj(e.entries());try{for(u.s();!(o=u.n()).done;){var s=yj(o.value,2),f=s[0],p=s[1];(0,Ge.default)(p)?(n||t)&&a.push([void 0,f]):(a.push([p,f]),l.add(p))}}catch(e){u.e(e)}finally{u.f()}var d,y=mj(r);try{for(y.s();!(d=y.n()).done;){var m=d.value;l.has(m)||i.push([m,void 0])}}catch(e){y.e(e)}finally{y.f()}return t&&c.push(gj),{mainUAVIds:a,spareUAVIds:i,extraSlots:c}})),wj=(0,Ve.createSelector)(mo.Ev,xr.Ps,(function(e,t){return{mainUAVIds:e.map((function(e){return[e,t[e]]})),spareUAVIds:[],extraSlots:[]}})),Ej=(0,Ve.createSelector)(Kt.Ap,Kt.S6,(function(e){return(0,Kt.W_)(e)?bj(e):wj(e)}),(function(e){var t=(0,Kt.S6)(e).key,r=(0,Kt.Ap)(e);return t===QO.ur.DEFAULT&&0===r.length?null:(0,mo.gd)(e)}),(function(e,t,r,n){var o=function(e,t,r){if(0===e.length)return t;var n,o=lj(e);try{var a=function(){var e=n.value,o=fj(e)(r);t=(0,aj.A)(t,(function(e){return e.filter(o)}))};for(o.s();!(n=o.n()).done;)a()}catch(e){o.e(e)}finally{o.f()}return t}(e,r,n);return dj(t,o,n)})),Aj=(0,Ve.createSelector)(Ej,(function(e){var t,r=e.mainUAVIds,n=e.spareUAVIds,o=[],a=mj(r);try{for(a.s();!(t=a.n()).done;){var i=t.value;(0,Ge.default)(i[0])||o.push(i[0])}}catch(e){a.e(e)}finally{a.f()}var c,l=mj(n);try{for(l.s();!(c=l.n()).done;){var u=c.value;o.push(u[0])}}catch(e){l.e(e)}finally{l.f()}return o})),Sj=(0,Ve.createSelector)(Ej,mo.YZ,(function(e,t){return(0,aj.A)(e,(function(e){var r=e.filter((function(e){return!(0,Ge.default)(e[0])})),n=function(e){return t.includes(e[0])};if(r.length>0){if(n(r[0])){var o=r.every(n);return{checked:o,indeterminate:!o}}return{checked:!1,indeterminate:r.some(n)}}return{checked:!1,indeterminate:!1,disabled:!0}}))}));function Oj(e){return Oj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oj(e)}var xj=["forceVisible","ids","itemFactory","itemFactoryOptions","layout"];function jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kj(e,t,r){var n;return n=function(e,t){if("object"!=Oj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Oj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Oj(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tj(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Ij(){return Ij=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ij.apply(this,arguments)}function Cj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||Pj(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pj(e,t){if(e){if("string"==typeof e)return Lj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Lj(e,t):void 0}}function Lj(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _j=(0,BS.A)((function(e){return{appBar:{backgroundColor:(0,jt.isThemeDark)(e)?"#424242":e.palette.background.paper,height:48},toolbar:{position:"absolute",left:0,right:0,top:0}}}),{name:"UAVList"}),Nj=(0,BS.A)((function(e){return{grid:{display:"flex",flexDirection:"row",flexWrap:"wrap","&>div":{padding:e.spacing(1)}},list:{display:"flex",alignItems:"stretch",flexDirection:"column",fontSize:"12px","&>div":{padding:e.spacing(.5),borderBottom:"1px solid ".concat(e.palette.divider)},"&>div:first-child":{borderTop:"1px solid ".concat(e.palette.divider)}}}}),{name:"UAVListSection"}),Rj=function(e,t){var r=t.draggable,n=t.isInEditMode,o=t.mappingSlotBeingEdited,a=t.onDropped,i=t.onSelectedMissionSlot,l=t.onSelectedUAV,u=t.onStartEditing,s=t.selectedMissionIndices,f=t.selectedUAVIds,p=t.showMissionIds;return e.map((function(e){var t=Cj(e,3),d=t[0],y=t[1],m=t[2],h=void 0!==o&&y===o,v=f.includes(d)||s.includes("".concat(y)),g={onClick:n?function(e){return u(y)}:d?function(e){return l(e,d)}:y?function(e){return i(e,y)}:void 0,onDrop:a?a(y):void 0,editing:h,selected:v};e===gj&&(g.fill=!0);var b=m||(p?void 0===y||n&&void 0!==d?d:(0,io.J8)(y):d),w=void 0===d?"placeholder-".concat(b||"null"):d;return void 0===d?c.createElement(tO,Ij({key:w,onDrop:a?a(y):void 0},g),h&&c.createElement(MO,null),c.createElement(ao,{editing:h,label:h?"":b,status:void 0===y?"error":"off"})):c.createElement(tO,Ij({key:w,draggable:r,uavId:d},g),h&&c.createElement(MO,null),c.createElement(xS,{id:d,editing:h,label:h?"":b,selected:v}))}))},Dj=function(e,t){var r=t.isInEditMode,n=t.mappingSlotBeingEdited,o=t.onDropped,a=t.onSelectedUAV,i=t.onSelectedMissionSlot,l=t.onStartEditing,u=t.selectedUAVIds,s=t.selectedMissionIndices,f=t.showMissionIds;return e.map((function(e){if(e===gj)return null;var t=Cj(e,3),p=t[0],d=t[1],y=t[2],m=r&&d===n,h=u.includes(p)||s.includes("".concat(d)),v={onClick:r?function(e){return l(d)}:p?function(e){return a(e,p)}:d?function(e){return i(e,d)}:void 0,onDrop:o?o(d):void 0,editing:m,selected:r?m:h},g=void 0!==d,b=g?(0,io.J8)(d):"",w=y||(f&&g?b:p),E=m||f&&!g?"":f?p:b,A=void 0===p?"placeholder-".concat(w||"null"):p;return c.createElement(tO,Ij({key:A,stretch:!0,uavId:p},v),m&&c.createElement(GO,null),c.createElement(AO,{id:p,label:w,secondaryLabel:E}))}))},Mj=function(e){var t=e.forceVisible,r=e.ids,n=e.itemFactory,o=e.itemFactoryOptions,a=e.layout,i=Tj(e,xj),l=Nj();return r.length<=0&&!t?null:c.createElement(c.Fragment,null,c.createElement(bx,i),c.createElement(S.A,{className:"grid"===a?l.grid:l.list},n(r,o)))};Mj.propTypes={forceVisible:i().bool,ids:i().array,itemFactory:i().func,itemFactoryOptions:i().object,layout:i().oneOf(["grid","list"])};var Fj=function(e){var t,r,n=e.containerDOMNodeId,o=e.editingMapping,a=e.keyboardNav,i=e.layout,l=e.mappingSlotBeingEdited,u=e.onEditMappingSlot,s=e.onMappingAdjusted,f=e.onSelectUAV,p=e.onSelectMissionSlot,d=e.onSelectSection,y=e.selectedUAVIds,m=e.selectedMissionIndices,h=e.selectionInfo,v=e.showMissionIds,g=e.t,b=e.uavIds,w=_j();t=a,r=(0,c.useCallback)((function(e,r){var n=t[e];n&&n(r)}),[t]),Gw(qx,r);var E,A,O,x=(0,c.useCallback)((function(e){return function(t){return s({uavId:t,to:e})}}),[s]),j=Cj((E=(0,c.useRef)(null),A=(0,c.useRef)(0),O=(0,c.useCallback)((function(e){A.current=e.target.scrollTop}),[A]),(0,c.useLayoutEffect)((function(){E.current.scrollTop=A.current})),[E,O]),2),k=j[0],T=j[1],I=b.mainUAVIds,C=b.spareUAVIds,P=b.extraSlots,L="grid"===i?Rj:Dj,_={draggable:o,isInEditMode:o,mappingSlotBeingEdited:l,onDropped:o&&x,onSelectedUAV:f,onSelectedMissionSlot:p,onStartEditing:u,selectedUAVIds:y,selectedMissionIndices:m,showMissionIds:v},N=c.createElement(S.A,{display:"flex",flexDirection:"column",height:"100%"},c.createElement(eS.A,{color:"default",position:"static",className:w.appBar},c.createElement(vy,{mountOnEnter:!0,unmountOnExit:!0,in:!o},c.createElement(zx,{className:w.toolbar,selectedUAVIds:y})),c.createElement(vy,{mountOnEnter:!0,unmountOnExit:!0,in:o&&l<0},c.createElement(_O,{className:w.toolbar})),c.createElement(vy,{mountOnEnter:!0,unmountOnExit:!0,in:o&&l>=0},c.createElement(qO,{className:w.toolbar}))),c.createElement(S.A,{ref:k,flex:1,overflow:"auto",id:n,onScroll:T},c.createElement(yx,{layout:i}),c.createElement(Mj,Ij({ids:I,itemFactory:L,itemFactoryOptions:_,label:g(v?"UAVList.assignedUAVs":"UAVList.allUAVs"),layout:i,value:"mainUAVIds",onSelect:d},h.mainUAVIds)),c.createElement(Mj,Ij({ids:C,itemFactory:L,itemFactoryOptions:_,label:g("UAVList.spareUAVs"),layout:i,value:"spareUAVIds",forceVisible:o,onSelect:d},h.spareUAVIds))),P.length>0&&"grid"===i?c.createElement(S.A,{className:"bottom-bar"},c.createElement(S.A,{display:"flex",flexDirection:"row",flexWrap:"wrap"},Rj(P,_))):null);return o?c.createElement(Eb.Q,{backend:Sb.t2},N):N};Fj.propTypes={containerDOMNodeId:i().string,editingMapping:i().bool,keyboardNav:i().object,mappingSlotBeingEdited:i().number,layout:i().oneOf(["list","grid"]),onEditMappingSlot:i().func,onMappingAdjusted:i().func,onSelectUAV:i().func,onSelectMissionSlot:i().func,onSelectSection:i().func,selectedUAVIds:i().array,selectedMissionIndices:i().array,selectionInfo:i().exact({mainUAVIds:i().exact({checked:i().bool,disabled:i().bool,indeterminate:i().bool}),spareUAVIds:i().exact({checked:i().bool,disabled:i().bool,indeterminate:i().bool}),extraSlots:i().exact({checked:i().bool,disabled:i().bool,indeterminate:i().bool})}),showMissionIds:i().bool,t:i().func,uavIds:i().exact({mainUAVIds:i().arrayOf(i().array).isRequired,spareUAVIds:i().arrayOf(i().array).isRequired,extraSlots:i().arrayOf(i().array).isRequired}).isRequired};var Uj=(0,s.Ng)((function(e){return{editingMapping:(0,xr.Dj)(e),mappingSlotBeingEdited:(0,xr.Gw)(e),layout:(0,Kt.HI)(e),selectedUAVIds:(0,mo.YZ)(e),selectedMissionIndices:(0,xr.he)(e),selectionInfo:Sj(e),showMissionIds:(0,Kt.W_)(e),uavIds:Ej(e)}}),(function(){var e="__keyboardNav-".concat((0,VS.Ak)()),t=function(){var t=document.querySelector("#".concat(e)),r=((null==t?void 0:t.getBoundingClientRect())||{}).width;return"number"==typeof r&&r>0?Math.max(1,Math.floor(r/80)):1},r=function(e,r){if("vertical"===(0,Kt.bR)(e))switch(r){case Qx:return 1;case Jx:return-1;case nj:return 10;case rj:return-10;default:return 0}else switch(r){case ej:return-1;case tj:return 1;case Jx:case rj:return-t();case Qx:case nj:return t();default:return 0}};return function(t){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jj(Object(r),!0).forEach((function(t){kj(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({containerDOMNodeId:e,keyboardNav:oj({dispatch:t,activateId:Tx.Te,getNavigationDeltaInDirection:r,getVisibleIds:Aj,getSelectedIds:mo.YZ,getLayout:Kt.bR,setSelectedIds:kx.KY,setFocusToId:function(e){return"#".concat(WS(e))}})},(0,$g.zH)({onEditMappingSlot:jr.re,onMappingAdjusted:jr.su,onSelectUAV:(0,ms.p_)({activateItem:Tx.Te,getSelection:mo.YZ,setSelection:kx.KY}),onSelectMissionSlot:(0,ms.p_)({getSelection:xr.he,setSelection:Fm.nX}),onSelectSection:function(e){return function(t,r){var n=e.target.value,o=r(),a=Ej(o)[n],i=(0,mo.YZ)(o),c=Sj(o)[n];if(c&&a){var l,u=[],s=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Pj(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}(a);try{for(s.s();!(l=s.n()).done;){var f=l.value;(0,Ge.default)(f[0])||u.push(f[0])}}catch(e){s.e(e)}finally{s.f()}var p=c.checked?(0,US.A)(i,u):(0,GS.A)(i,u);t((0,kx.KY)(p))}}}},t))}}))((0,m.CI)()(Fj));const Gj=Uj;var Vj=r(65666),Bj=r(40936),Hj=r(44866),Wj=r(23142),zj=r(28191),Yj=function(e){var t=e.mode,r=e.onChange,n=e.onResetZoom,o=e.onRotateCameraTowardsDrones;return c.createElement(c.Fragment,null,c.createElement(Mx.A,{size:"small"},c.createElement(jh,{selected:"walk"===t,value:"walk",onClick:function(){return r("walk")}},"Walk"),c.createElement(jh,{selected:"fly"===t,value:"fly",onClick:function(){return r("fly")}},"Fly")),c.createElement(nh,{orientation:"vertical"}),c.createElement(pt.default,{content:"Reset zoom"},c.createElement(W.A,{disableRipple:!0,disabled:!n,onClick:n},c.createElement(zj.A,null))),c.createElement(pt.default,{content:"Rotate camera towards drones"},c.createElement(W.A,{disableRipple:!0,disabled:!o,onClick:o},c.createElement(Wj.A,null))))};Yj.propTypes={mode:i().oneOf(["walk","fly"]),onChange:i().func,onResetZoom:i().func,onRotateCameraTowardsDrones:i().func};const Kj=Yj;var qj=r(22618);function $j(e){return $j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$j(e)}function Zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zj(Object(r),!0).forEach((function(t){Jj(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Jj(e,t,r){var n;return n=function(e,t){if("object"!=$j(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=$j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==$j(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Qj={display:"inline-block",transform:"translateY(1px)"},ek={whiteSpace:"nowrap"},tk={walk:c.createElement("div",{style:ek},c.createElement("div",{style:Qj},c.createElement("kbd",null,"Arrows"),c.createElement("span",null," Walk around "),c.createElement("kbd",null,"E"),c.createElement("kbd",null,"C"),c.createElement("span",null," Altitude "),c.createElement("kbd",null,"Shift"),c.createElement("span",null," Run ")),c.createElement(W.A,{disabled:!0},c.createElement(OO.A,null)),c.createElement("div",{style:Xj(Xj({},Qj),{},{marginLeft:-8})},"Look around")),fly:c.createElement("div",{style:ek},c.createElement("div",{style:Qj},c.createElement("kbd",null,"\u2191"),c.createElement("kbd",null,"\u2193"),c.createElement("span",null," Fly forward / backward "),c.createElement("kbd",null,"\u2190"),c.createElement("kbd",null,"\u2192"),c.createElement("span",null," Move sideways "),c.createElement("kbd",null,"E"),c.createElement("kbd",null,"C"),c.createElement("span",null," Altitude ")),c.createElement(W.A,{disabled:!0},c.createElement(OO.A,null)),c.createElement("div",{style:Xj(Xj({},Qj),{},{marginLeft:-8})},"Look around"))},rk=function(e){var t=e.mode;return c.createElement(S.A,{mx:1,flex:1,alignSelf:"stretch",position:"relative"},c.createElement(qj.A,null,c.createElement(vy,{key:t},c.createElement(S.A,{position:"absolute",left:0,top:0,bottom:0,display:"flex",flexDirection:"column",justifyContent:"center"},tk[t]||"No instructions for this navigation mode"))))};rk.propTypes={mode:i().oneOf(["walk","fly"])};const nk=rk;var ok=["children"];function ak(){return ak=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ak.apply(this,arguments)}function ik(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var ck=function(e){var t=e.children,r=ik(e,ok);return c.createElement(S.A,ak({position:"absolute",zIndex:1},r),t)};ck.propTypes={children:i().oneOfType([i().node,i().arrayOf(i().node)])};const lk=ck;var uk=r(70483),sk=["onChange","value"];function fk(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var pk=function(e){var t=e.onChange,r=e.value;fk(e,sk);return c.createElement(jh,{value:"dark",selected:r,onChange:t},c.createElement(uk.A,null))};pk.propTypes={onChange:i().func,value:i().bool};const dk=pk;var yk=r(36345),mk=r(46759),hk=c.createRef();function vk(){for(var e=hk.current;e&&e.nodeName&&"a-scene"!==e.nodeName.toLowerCase();)e=e.parentNode;if(e&&e.nodeName&&"a-scene"===e.nodeName.toLowerCase())return e}var gk=r(10247);function bk(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return wk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wk(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function wk(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ek=mk.A.THREE;function Ak(e){return Ak="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ak(e)}function Sk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ok(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sk(Object(r),!0).forEach((function(t){xk(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sk(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xk(e,t,r){var n;return n=function(e,t){if("object"!=Ak(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ak(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ak(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var jk=(0,d.Ay)((function(){return Promise.all([r.e(719),r.e(70)]).then(r.bind(r,62329))})),kk=(0,BS.A)((function(e){return{appBar:{backgroundColor:(0,jt.isThemeDark)(e)?"#424242":e.palette.background.paper,height:48},toolbar:{position:"absolute",left:e.spacing(1),right:e.spacing(1),top:0}}}),{name:"ThreeDTopLevelView"}),Tk=function(e){var t=e.hasMapCoordinateSystem,r=e.lighting,n=e.navigation,o=e.onResetZoom,a=e.onRotateCameraTowardsDrones,i=e.onSetNavigationMode,l=e.onShowSettings,u=e.onToggleLightingConditions,s=kk(),f=(0,c.useRef)(null),p=(0,Bj.A)({onResize:function(){f.current&&f.current.resize()}}).ref;return c.createElement(Vj.IgnoreKeys,{style:{height:"100%"}},c.createElement(S.A,{display:"flex",flexDirection:"column",height:"100%"},c.createElement(eS.A,{color:"default",position:"static",className:s.appBar},c.createElement(Rf.A,{disableGutters:!0,variant:"dense",className:s.toolbar},c.createElement(Kj,{mode:n.mode,parameters:n.parameters,onChange:i,onResetZoom:o,onRotateCameraTowardsDrones:a}),c.createElement(nh,{orientation:"vertical"}),c.createElement(nk,{mode:n.mode}),c.createElement(dk,{value:"dark"===r,onChange:u}))),c.createElement(S.A,{ref:p,position:"relative",flex:1},c.createElement(yk.A,null,c.createElement(jk,{ref:f,cameraRef:hk})),!t&&c.createElement(lk,{left:8,right:8,top:8},c.createElement(Iw.A,{severity:"warning",action:c.createElement(W.A,{color:"inherit",size:"small",onClick:l},c.createElement(Di.A,null))},c.createElement(Hj.A,null,"No map coordinate system specified"),c.createElement("div",null,"Drones will become visible when a coordinate system is specified in the ",c.createElement("strong",null,"Settings")," dialog."))))))};Tk.propTypes={hasMapCoordinateSystem:i().bool,lighting:i().string,navigation:i().shape({mode:i().string,parameters:i().object}),onResetZoom:i().func,onRotateCameraTowardsDrones:i().func,onSetNavigationMode:i().func,onShowSettings:i().func,onToggleLightingConditions:i().func};const Ik={BeaconList:xs,ClockDisplayList:Us,ConnectionList:$s,DatasetList:Qs,DockList:lf,FeaturePanel:Jf,LayerList:op,LCDClockPanel:Jp,LightControlPanel:Td,LogPanel:_y,MessagesPanelView:Mm,MissionOverviewPanel:Nh,SavedLocationList:Zd,ShowControlPanel:SE,UAVDetailsPanel:FS,UAVList:Gj,ThreeDTopLevelView:(0,s.Ng)((function(e){return Ok(Ok({hasMapCoordinateSystem:(0,ke.Qr)(e)},e.threeD),{},{lighting:(0,Kt.bV)(e)})}),{onResetZoom:gk.hp,onRotateCameraTowardsDrones:function(){return function(e,t){var r=t(),n=(0,mo.T4)(r);if(0!==n.length){var o,a=(o=vk())?o.querySelector("a-drone-flock"):void 0,i=null==a?void 0:a.components["drone-flock"];if(i){var c,l=new Ek.Vector3,u=0,s=bk(n);try{for(s.s();!(c=s.n()).done;){var f=c.value,p=i.getEntityForUAVById(f),d=null==p?void 0:p.getAttribute("position");d&&(l.add(d),u+=1)}}catch(e){s.e(e)}finally{s.f()}u>0&&(l.divideScalar(u),e((0,gk.vb)(l.toArray())))}}else e((0,ku.Qg)("No active UAVs to focus the view on."))}},onSetNavigationMode:gk.Em,onShowSettings:function(){return function(e){e((0,w.sO)("display")),e((0,w.iD)())}},onToggleLightingConditions:I.DB})(Tk)};function Ck(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Pk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pk(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pk(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Lk=(0,d.Ay)((function(){return Promise.all([r.e(788),r.e(497)]).then(r.bind(r,89455))})),_k=(0,d.Ay)((function(){return r.e(163).then(r.bind(r,35533))}));r(20987);var Nk=function(){return c.createElement(Sr.A,{text:"This component is not available in this version"})},Rk={"beacon-list":{component:Ik.BeaconList,label:"Beacons",detachable:!0,feature:"beacons"},"connection-list":{component:Ik.ConnectionList,label:"Connections"},"dataset-list":{component:Ik.DatasetList,label:"Datasets",detachable:!0},"dock-list":{component:Ik.DockList,label:"Docks",detachable:!0,feature:"docks"},"feature-list":{component:Ik.FeaturePanel,label:"Features",detachable:!0,feature:"features"},"field-notes":{component:Lk,label:"Field notes"},"ground-control-view":{component:(0,ss.SM)(Ik.GroundControlView),label:"Ground control"},"layer-list":{component:Ik.LayerList,label:"Layers",detachable:!0},"light-control":{component:Ik.LightControlPanel,label:"Light control",detachable:!0,feature:"showControl"},"lcd-clock-panel":{component:Ik.LCDClockPanel,label:"Clocks",detachable:!0},"log-panel":{component:Ik.LogPanel,label:"Event log",detachable:!0},map:{component:_k,label:"Map",detachable:!0},messages:{component:Ik.MessagesPanelView,label:"Messages"},"mission-editor":{component:Ik.MissionOverviewPanel,label:"Mission editor",detachable:!0,feature:"missionEditor"},placeholder:{component:function(){return null},label:"Placeholder"},"saved-location-list":{component:Ik.SavedLocationList,label:"Locations",detachable:!0},"show-control":{component:Ik.ShowControlPanel,label:"Show control",detachable:!0,feature:"showControl"},"three-d-view":{component:Ik.ThreeDTopLevelView,label:"3D View",feature:"threeDView"},"uav-details":{component:Ik.UAVDetailsPanel,label:"UAV",detachable:!0},"uav-list":{component:(0,ss.SM)(Ik.UAVList),label:"UAVs",detachable:!0}};var Dk=function(e){for(var t=new u.Xt,r=function(){var e,r=Ck(o[n],2),a=r[0],i=r[1];t.registerComponent(a,function(e){return i.feature?(t=i.feature,r=e,(0,ps.jI)(t)?r:Nk):e;var t,r}((e=i.component,i.detachable?Qu(a,i.label,e):e)))},n=0,o=Object.entries(Rk);n<o.length;n++)r();var a=t.build(),i=ls(Rk,a)((0,ps.ax)()),c=i.isFixed,l=i.state;return a.restoreState(l),e.dispatch((0,us.O7)(l.settings.hasHeaders)),e.dispatch((0,us.eH)(c)),a.fallback=Nk,a.on("stateChanged",(0,Cu.A)((function(){e.dispatch((0,us.Q2)(a))}),1e3)),a}(fs.Ay);xe.A.on("languageChanged",(function(){Dk.forEach((function(e){e.isComponent&&e.setTitle(xe.A.t("view.".concat(e.config.component)))}))}));var Mk=c.createContext(Dk);const Fk=Dk;var Uk=r(18803),Gk=function(e){var t=e.id,r=e.label,n=e.onClick,o=e.pillWidth,a=e.status,i=e.uavIds;return c.createElement(lt.A,{key:t,button:!0,disableGutters:!0,onClick:n},c.createElement(S.A,{width:o},c.createElement(dS.A,{status:a},r)),c.createElement(S.A,{width:36,mx:1},c.createElement(dS.A,{status:Mc.n.OFF},i.length)),(0,io.zL)(i,{maxCount:5}))};Gk.propTypes={id:i().string,label:i().string,onClick:i().func,pillWidth:i().number,status:i().oneOf(Object.values(Mc.n)),uavIds:i().arrayOf(i().string)},Gk.defaultProps={pillWidth:80};const Vk=Gk;function Bk(){return Bk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bk.apply(this,arguments)}function Hk(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Wk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wk(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Wk(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var zk=(0,Ve.createSelector)(mo.gd,mo.Ev,(function(e,t){var r,n={},o=Hk(t);try{for(o.s();!(r=o.n()).done;){var a=r.value,i=e[a];if(i){var c=(0,mo.fR)(i),l=c.text,u=c.textSemantics,s="".concat(u,":").concat(l);void 0===n[s]?n[s]={id:s,label:l,priority:-(0,Mc.M)(u),status:u,uavIds:[a]}:n[s].uavIds.push(a)}}}catch(e){o.e(e)}finally{o.f()}for(var f=0,p=Object.values(n);f<p.length;f++){var d=p[f];d.uavIds=(0,Jn.M)(d.uavIds)}return(0,Qr.A)(n,["priority","label"])})),Yk=(0,ms.c3)((function(e,t){return c.createElement(Vk,Bk({key:e.id},e,{onClick:t.onClick?function(r){r.preventDefault(),r.stopPropagation(),t.onClick(null==e?void 0:e.uavIds,r)}:null}))}),{dataProvider:"items",backgroundHint:c.createElement(m.wD,null,(function(e){return c.createElement(Sr.A,{text:e("UAVStatus.noConnected")})})),listFactory:(0,oa.A)(c.createElement,oc.A)});const Kk=(0,s.Ng)((function(e){return{items:zk(e)}}),{onClick:(0,Uk.A)(kx.KY)})(Yk);var qk=["counts"];function $k(){return $k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$k.apply(this,arguments)}function Zk(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Xk(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Jk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jk(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Jk(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Qk=(0,Ve.createSelector)(mo.gd,mo.Ev,(function(e,t){var r,n=[0,0,0,0],o=Xk(t);try{for(o.s();!(r=o.n()).done;){var a=e[r.value];if(a)switch((0,mo.zG)(a)){case Mc.n.CRITICAL:case Mc.n.ERROR:n[3]+=1;break;case Mc.n.GONE:break;case Mc.n.SUCCESS:n[0]+=1;break;case Mc.n.INFO:n[1]+=1;break;default:n[2]+=1}}}catch(e){o.e(e)}finally{o.f()}return n})),eT=(0,Iu.y)(Qk,xu.default),tT=(0,St.A)((function(e){return{root:{fontSize:"1rem"},inner:{alignItems:"center",display:"flex",height:"100%",marginRight:e.spacing(-1.5),padding:e.spacing(1)},counter:{padding:e.spacing(0,1.5,0,.5),userSelect:"none"},off:{opacity:.5}}}),{name:"UAVStatusSummary"}),rT=[Mc.n.SUCCESS,Mc.n.INFO,Mc.n.WARNING,Mc.n.ERROR],nT=function(e){var t=e.counts,r=Zk(e,qk),o=tT();return c.createElement(rc.A,{interactive:!0,content:c.createElement(Kk,null)},c.createElement(S.A,$k({className:(0,n.A)(o.root,"wb-module")},r),c.createElement("div",{className:o.inner},rT.map((function(e,r){return c.createElement(c.Fragment,{key:e},c.createElement(ju.default,{inline:!0,status:t[r]>0?e:Mc.n.OFF}),c.createElement("div",{className:(0,n.A)(o.counter,t[r]<=0&&o.off)},t[r]))})))))};nT.propTypes={counts:i().arrayOf(i().number)};var oT=function(e,t){return function(){e&&(e.bringToFront("uavs")||t((0,ku.Ds)({message:"UAVs panel is not added to the workbench yet",semantics:Tu.N.WARNING})))}},aT=(0,s.Ng)((function(e){return{counts:eT(e)}}),(function(e,t){return{onClick:oT(t.workbench,e)}}))(nT);var iT=ls(Rk,Fk),cT=u.gI.fromArray((0,ps.jI)("perspectives")?o.A.perspectives.map(iT):[]);cT.isModified=function(){return!1};const lT=cT;function uT(e){return uT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uT(e)}function sT(){sT=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==uT(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(uT(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function fT(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}var pT={color:ro.Ay.info,offset:[3,3]},dT=function(e){var t=e.switchToPerspective;return c.createElement(u.md,{badgeProps:pT,editable:!1,storage:lT,workbench:Fk,onChange:function(e){return t(e),!1}})};dT.propTypes={switchToPerspective:i().func.isRequired};const yT=(0,s.Ng)((function(){return{}}),{switchToPerspective:function(e){return function(){var t,r=(t=sT().mark((function t(r){var n;return sT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lT.get(e);case 2:n=t.sent,r((0,us.O7)(n.state.settings.hasHeaders)),r((0,us.eH)(n.isFixed));case 5:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(e){fT(a,n,o,i,c,"next",e)}function c(e){fT(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}()}})(dT),mT=(0,_r.A)(c.createElement("g",{transform:"scale(0.11790425)"},c.createElement("path",{d:"M 201.359,137.3 157.528,93.469 168.981,82.017 c 1.407,-1.407 2.197,-3.314 2.197,-5.304 0,-1.989 -0.79,-3.896 -2.197,-5.304 L 132.146,34.575 c -2.929,-2.928 -7.677,-2.928 -10.606,0 L 110.088,46.027 66.253,2.196 c -2.93,-2.928 -7.678,-2.928 -10.606,0 L 18.813,39.03 c -2.929,2.93 -2.929,7.678 0,10.607 L 62.644,93.468 51.191,104.92 c -1.407,1.407 -2.197,3.314 -2.197,5.304 0,1.99 0.79,3.896 2.197,5.304 l 36.837,36.836 c 1.464,1.464 3.384,2.196 5.303,2.196 1.919,0 3.839,-0.732 5.303,-2.196 l 11.453,-11.453 43.83,43.83 c 1.465,1.464 3.384,2.196 5.303,2.196 1.919,0 3.839,-0.732 5.303,-2.196 l 36.835,-36.834 c 1.407,-1.407 2.197,-3.314 2.197,-5.304 0.001,-1.989 -0.789,-3.896 -2.196,-5.303 z M 34.723,44.334 60.95,18.107 99.48,56.633 82.314,73.799 73.251,82.862 Z m 58.608,92.12 -26.23,-26.229 11.448,-11.447 c 0.002,-0.002 0.003,-0.003 0.005,-0.005 L 90.997,86.33 126.842,50.486 153.071,76.714 141.625,88.16 c -0.003,0.003 -0.005,0.005 -0.007,0.007 l -18.417,18.418 z m 65.89,32.377 -38.527,-38.526 26.229,-26.229 38.527,38.527 z"}),c.createElement("path",{d:"M 72.344,188.555 C 57.027,188.556 42.627,182.591 31.796,171.76 20.965,160.929 15,146.528 15,131.211 c 0,-4.143 -3.358,-7.5 -7.5,-7.5 -4.143,0 -7.5,3.358 -7.5,7.5 0,19.324 7.526,37.491 21.189,51.155 13.663,13.664 31.829,21.189 51.152,21.189 0.001,0 0.002,0 0.004,0 4.142,0 7.499,-3.358 7.499,-7.5 0.001,-4.143 -3.358,-7.5 -7.5,-7.5 z"}),c.createElement("path",{d:"m 69.346,174.133 c 4.142,0 7.5,-3.357 7.5,-7.5 0,-4.143 -3.358,-7.5 -7.5,-7.5 -6.658,0 -12.916,-2.593 -17.624,-7.3 -4.707,-4.707 -7.299,-10.965 -7.299,-17.622 0,-4.142 -3.357,-7.5 -7.5,-7.5 v 0 c -4.142,0 -7.5,3.358 -7.5,7.5 -10e-4,10.663 4.152,20.688 11.693,28.229 7.54,7.541 17.566,11.693 28.23,11.693 z"})),"Satellite");function hT(){return hT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hT.apply(this,arguments)}function vT(e){return function(e){if(Array.isArray(e))return bT(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||gT(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gT(e,t){if(e){if("string"==typeof e)return bT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bT(e,t):void 0}}function bT(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var wT=(0,Ve.createSelector)(mo.gd,mo.Ev,(function(e,t){var r,n={},o=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=gT(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}(t);try{for(o.s();!(r=o.n()).done;){var a=r.value,i=e[a];if(i&&i.gpsFix){var c=i.gpsFix.type,l=String(c);if(void 0===n[l]){var u=(0,dc.Jq)(c);n[l]={id:l,label:(0,dc.Jj)(c)||"\u2014",priority:-(0,Mc.M)(u),status:u,uavIds:[a]}}else n[l].uavIds.push(a)}}}catch(e){o.e(e)}finally{o.f()}for(var s=0,f=Object.values(n);s<f.length;s++){var p=f[s];p.uavIds=(0,Jn.M)(p.uavIds)}return(0,Um.A)(n)?[]:[null].concat(vT((0,Qr.A)(n,["priority","label"])))})),ET=(0,ms.c3)((function(e,t){return e?c.createElement(Vk,hT({key:e.id},e,{pillWidth:48,onClick:t.onClick?function(r){r.preventDefault(),r.stopPropagation(),t.onClick(null==e?void 0:e.uavIds,r)}:null})):c.createElement(ac.A,{key:"__divider"})}),{dataProvider:"items",listFactory:(0,oa.A)(c.createElement,oc.A)});const AT=(0,s.Ng)((function(e){return{items:wT(e)}}),{onClick:(0,Uk.A)(kx.KY)})(ET);r(69479);function ST(e){return ST="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ST(e)}function OT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OT(Object(r),!0).forEach((function(t){jT(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OT(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function jT(e,t,r){var n;return n=function(e,t){if("object"!=ST(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ST(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ST(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return TT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TT(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TT(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var IT=function(e){return"ecef"===e.rtk.dialog.antennaPositionFormat},CT=(0,Ve.createSelector)((function(e){return e.rtk.stats.antenna}),ho.MH,IT,(function(e,t,r){if(r){var n=(e||{}).positionECEF;return n&&Array.isArray(n)?"[".concat((n[0]/1e3).toFixed(3),", ").concat((n[1]/1e3).toFixed(3),", ").concat((n[2]/1e3).toFixed(3),"]"):void 0}var o=(e||{}).position;return o?t(o):void 0})),PT=(0,Ve.createSelector)((function(e){return e.rtk.stats.antenna}),CT,(function(e,t){if(!e)return{position:void 0,description:void 0};var r={position:t},n=String(e.serialNumber||"");return n&&n.length>0?r.description="".concat(e.descriptor||""," / SN: ").concat(n):r.description=String(e.descriptor||""),r})),LT=(0,Ve.createSelector)((function(e){return e.rtk.stats.messages}),(function(e){return(0,Qr.A)(Object.entries(e||{}).map((function(e){var t=kT(e,2);return xT({id:t[0]},t[1])})),"id")})),_T=(0,Ve.createSelector)((function(e){return e.rtk.stats.satellites}),(function(e){return(0,Qr.A)(Object.entries(e||{}).map((function(e){var t=kT(e,2);return xT({id:t[0]},t[1])})),"id")})),NT=(0,Ve.createSelector)((function(e){return e.rtk.stats.satellites}),(function(e){return Object.keys(e||{})})),RT=function(e){return NT(e).length},DT=(0,Ve.createSelector)((function(e){return e.rtk.stats.satellites}),(function(e){for(var t=0,r=0,n=Object.values(e||{});r<n.length;r++){n[r].cnr>=40&&t++}return t})),MT=(0,Ve.createSelector)((function(e){return e.rtk.stats.survey}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.accuracy,r=e.flags;return{accuracy:t,supported:Boolean(1&r),active:Boolean(2&r),valid:Boolean(4&r)}})),FT=function(e){return e.rtk.dialog.surveySettingsEditorVisible},UT={"rtcm2/1":"Differential GPS Corrections","rtcm2/2":"Delta Differential GPS Corrections","rtcm2/3":"GNSS Reference Station Parameters","rtcm2/4":"Reference Station Datum","rtcm2/5":"GPS Constellation Health","rtcm2/6":"GPS Null Frame","rtcm2/7":"DGPS Radiobeacon Almanac","rtcm2/8":"Pseudolite Almanac","rtcm2/9":"GPS Partial Correction Set","rtcm2/14":"GPS Time of Week","rtcm2/15":"Ionospheric Delay Message","rtcm2/16":"GPS Special Message","rtcm2/18":"RTK Uncorrected Carrier Phases","rtcm2/19":"RTK Uncorrected Pseudoranges","rtcm2/22":"Extended Reference Station Parameters","rtcm2/23":"Antenna Type Definition Record","rtcm2/24":"Antenna Reference Point (ARP)","rtcm2/36":"GLONASS Special Message","rtcm3/1001":"L1-only GPS RTK","rtcm3/1002":"Extended L1-only GPS RTK","rtcm3/1003":"L1 & L2 GPS RTK","rtcm3/1004":"Extended L1 & L2 GPS RTK","rtcm3/1005":"RTK antenna position","rtcm3/1006":"RTK antenna pos with height","rtcm3/1007":"Antenna descriptor","rtcm3/1008":"Antenna descriptor & serial","rtcm3/1009":"L1-only GLONASS RTK","rtcm3/1010":"Extended L1-only GLONASS RTK","rtcm3/1011":"L1 & L2 GLONASS RTK","rtcm3/1012":"Extended L1 & L2 GLONASS RTK","rtcm3/1013":"System parameters","rtcm3/1014":"Network aux station data","rtcm3/1015":"GPS ionospheric correction","rtcm3/1016":"GPS geometric correction","rtcm3/1017":"GPS ionospheric & geometric correction","rtcm3/1019":"GPS ephemerides","rtcm3/1020":"GLONASS ephemerides","rtcm3/1029":"Unicode text string","rtcm3/1030":"GPS network RTK residual","rtcm3/1031":"GLONASS network RTK residual","rtcm3/1032":"Physical reference station position","rtcm3/1033":"Receiver and antenna descriptors","rtcm3/1034":"GPS FKP gradient","rtcm3/1035":"GLONASS FKP gradient","rtcm3/1037":"GLONASS ionospheric correction","rtcm3/1038":"GLONASS geometric correction","rtcm3/1039":"GLONASS ionospheric & geometric correction","rtcm3/1042":"BDS (BeiDou) ephemerides","rtcm3/1044":"QZSS ephemerides","rtcm3/1045":"GALILEO F/NAV ephemerides","rtcm3/1046":"GALILEO I/NAV ephemerides","rtcm3/1071":"GPS MSM1 (DGNSS pseudorange)","rtcm3/1072":"GPS MSM2 (RTK pseudorange)","rtcm3/1073":"GPS MSM3 (code, carrier)","rtcm3/1074":"GPS MSM4 (code, carrier, CNR)","rtcm3/1075":"GPS MSM5 (code, carrier, doppler, CNR)","rtcm3/1076":"GPS MSM6 (hi-res code, carrier, doppler)","rtcm3/1077":"GPS MSM7 (hi-res code, carrier, doppler, CNR)","rtcm3/1081":"GLONASS MSM1 (DGNSS pseudorange)","rtcm3/1082":"GLONASS MSM2 (RTK pseudorange)","rtcm3/1083":"GLONASS MSM3 (code, carrier)","rtcm3/1084":"GLONASS MSM4 (code, carrier, CNR)","rtcm3/1085":"GLONASS MSM5 (code, carrier, doppler, CNR)","rtcm3/1086":"GLONASS MSM6 (hi-res code, carrier, doppler)","rtcm3/1087":"GLONASS MSM7 (hi-res code, carrier, doppler, CNR)","rtcm3/1091":"Galileo MSM1 (DGNSS pseudorange)","rtcm3/1092":"Galileo MSM2 (RTK pseudorange)","rtcm3/1093":"Galileo MSM3 (code, carrier)","rtcm3/1094":"Galileo MSM4 (code, carrier, CNR)","rtcm3/1095":"Galileo MSM5 (code, carrier, doppler, CNR)","rtcm3/1096":"Galileo MSM6 (hi-res code, carrier, doppler)","rtcm3/1097":"Galileo MSM7 (hi-res code, carrier, doppler, CNR)","rtcm3/1101":"SBAS MSM1 (DGNSS pseudorange)","rtcm3/1102":"SBAS MSM2 (RTK pseudorange)","rtcm3/1103":"SBAS MSM3 (code, carrier)","rtcm3/1104":"SBAS MSM4 (code, carrier, CNR)","rtcm3/1105":"SBAS MSM5 (code, carrier, doppler, CNR)","rtcm3/1106":"SBAS MSM6 (hi-res code, carrier, doppler)","rtcm3/1107":"SBAS MSM7 (hi-res code, carrier, doppler, CNR)","rtcm3/1111":"QZSS MSM1 (DGNSS pseudorange)","rtcm3/1112":"QZSS MSM2 (RTK pseudorange)","rtcm3/1113":"QZSS MSM3 (code, carrier)","rtcm3/1114":"QZSS MSM4 (code, carrier, CNR)","rtcm3/1115":"QZSS MSM5 (code, carrier, doppler, CNR)","rtcm3/1116":"QZSS MSM6 (hi-res code, carrier, doppler)","rtcm3/1117":"QZSS MSM7 (hi-res code, carrier, doppler, CNR)","rtcm3/1121":"BeiDou MSM1 (DGNSS pseudorange)","rtcm3/1122":"BeiDou MSM2 (RTK pseudorange)","rtcm3/1123":"BeiDou MSM3 (code, carrier)","rtcm3/1124":"BeiDou MSM4 (code, carrier, CNR)","rtcm3/1125":"BeiDou MSM5 (code, carrier, doppler, CNR)","rtcm3/1126":"BeiDou MSM6 (hi-res code, carrier, doppler)","rtcm3/1127":"BeiDou MSM7 (hi-res code, carrier, doppler, CNR)","rtcm3/1230":"GLONASS L1 and L2 code-phase biases"};function GT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.max,n=void 0===r?20:r,o=t.short,a=void 0!==o&&o;return e>n?"> ".concat(n,"m"):e>=1?e.toFixed(2)+"m":e>=.1?(100*e).toFixed(a?0:1)+"cm":(100*e).toFixed(1)+"cm"}var VT={survey:i().shape({accuracy:i().number,active:i().bool,supported:i().bool,valid:i().bool})};function BT(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return HT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HT(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function HT(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var WT={minWidth:150},zT={C:{name:"BeiDou",flag:"\u{1f1e8}\u{1f1f3}"},E:{name:"Galileo",flag:"\u{1f1ea}\u{1f1fa}"},G:{name:"GPS",flag:"\u{1f1fa}\u{1f1f8}"},R:{name:"GLONASS",flag:"\u{1f1f7}\u{1f1fa}"},other:{name:"Other",flag:"\u{1f3f3}"}},YT=["G","R","E","C","other"],KT=function(e){var t=e.satelliteIds,r=e.surveyStatus,n=e.t,o=function(e){var t,r={},n=BT(e);try{for(n.s();!(t=n.n()).done;){var o=t.value,a=o.length>0?o.charAt(0):null;a&&zT[a]||(a="other"),r[a]?r[a]++:r[a]=1}}catch(e){n.e(e)}finally{n.f()}return r}(t);return c.createElement(oc.A,{style:WT},r.supported&&c.createElement(ic.A,{primaryText:r.valid?n("RTKStatusMiniList.surveySuccesful"):r.active?n("RTKStatusMiniList.surveyInProgress"):n("RTKStatusMiniList.surveyNo"),secondaryText:"number"==typeof r.accuracy?GT(r.accuracy):null,iconPreset:r.valid?"success":r.active?"connecting":"disconnected"}),c.createElement(ic.A,{primaryText:"\xa0\u{1f30d}\xa0\xa0\xa0"+n("RTKStatusMiniList.satelliteCount"),secondaryText:String(t.length)}),t.length>0&&c.createElement(ac.A,null),YT.map((function(e){return o[e]&&c.createElement(ic.A,{key:e,primaryText:"\xa0".concat(zT[e].flag,"\xa0\xa0\xa0").concat(zT[e].name),secondaryText:o[e]})})),c.createElement(AT,null))};KT.propTypes={satelliteIds:i().arrayOf(i().string),surveyStatus:VT.survey,t:i().func};const qT=(0,s.Ng)((function(e){return{satelliteIds:NT(e),surveyStatus:MT(e)}}),{})((0,m.CI)()(KT));function $T(e){return $T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$T(e)}function ZT(){ZT=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==$T(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError($T(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function XT(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}var JT=function(e){var t=e.onStatusChanged,r=e.period,n=Uw();return(0,c.useEffect)((function(){var e={finished:!1,promise:null},o=function(){var o,a=(o=ZT().mark((function o(){var a;return ZT().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(e.finished){o.next=15;break}return o.prev=1,o.next=4,n.query.getRTKStatus();case 4:a=o.sent,t(a),o.next=11;break;case 8:o.prev=8,o.t0=o.catch(1),(0,Xr.Ay)(o.t0,"RTK status query");case 11:return o.next=13,(0,Jr.Ay)(r);case 13:o.next=0;break;case 15:case"end":return o.stop()}}),o,null,[[1,8]])})),function(){var e=this,t=arguments;return new Promise((function(r,n){var a=o.apply(e,t);function i(e){XT(a,r,n,i,c,"next",e)}function c(e){XT(a,r,n,i,c,"throw",e)}i(void 0)}))});return function(){return a.apply(this,arguments)}}();return e.promise=o(),function(){e.finished=!0,e.promise=null}}),[n,t,r]),null};JT.propTypes={onStatusChanged:i().func,period:i().number},JT.defaultProps={period:1e3};const QT=(0,s.Ng)(null,(function(e){return{onStatusChanged:function(t){var r,n,o,a=t.antenna,i=void 0===a?{}:a,c=t.messages,l=void 0===c?{}:c,u=t.cnr,s=void 0===u?{}:u,f=t.survey,p=void 0===f?{}:f,d=Date.now();i.position&&(r=[i.position[1]/1e7,i.position[0]/1e7],o=void 0!==i.position[2]?i.position[2]/1e3:void 0),i.positionECEF&&(n=Array.isArray(i.positionECEF)?i.positionECEF.slice(0,3).map((function(e){return Math.round(e)})):void 0),e((0,hv.W4)({antenna:{descriptor:String(i.descriptor||""),serialNumber:String(i.serialNumber||""),stationId:(0,Ge.default)(i.stationId)?void 0:Number(i.stationId),position:r,positionECEF:n,height:o},messages:(0,aj.A)(l,(function(e){return{lastUpdatedAt:d-e[0],bitsPerSecond:e[1]}})),satellites:(0,aj.A)(s,(function(e){return{lastUpdatedAt:d,cnr:e}})),survey:p,lastUpdatedAt:d}))}}}))(JT);var eI=[24,8],tI={justifyContent:"space-between",textAlign:"right",width:80},rI=function(e){var t=e.isConnected,r=e.numGoodSatellites,n=e.numSatellites,o=e.showRTKSetupDialog,a=e.surveyStatus,i=null;return t&&(i=a.supported?a.valid?jt.Status.SUCCESS:a.active?jt.Status.NEXT:jt.Status.ERROR:n>1?jt.Status.SUCCESS:null)===jt.Status.SUCCESS&&r<7&&(i=jt.Status.WARNING),c.createElement(rc.A,{interactive:!0,content:c.createElement(qT,null)},c.createElement(Si.Ay,{disabled:!t,label:t&&n>0?String(n):"\u2014",secondaryLabel:a.supported&&"number"==typeof a.accuracy?GT(a.accuracy,{max:9,short:!0}):null,style:tI,onClick:o},c.createElement(mT,null),c.createElement(Oi.A,{anchor:"topLeft",color:i?(0,jt.colorForStatus)(i):null,offset:eI,visible:Boolean(i)}),t&&c.createElement(QT,null)))};rI.propTypes={isConnected:i().bool,numGoodSatellites:i().number,numSatellites:i().number,showRTKSetupDialog:i().func,surveyStatus:VT.survey};const nI=(0,s.Ng)((function(e){return{isConnected:(0,yn.UJ)(e),numGoodSatellites:DT(e),numSatellites:RT(e),surveyStatus:MT(e)}}),{showRTKSetupDialog:hv.YN})(rI);function oI(e){return e.sidebar.open}var aI=r(61035);var iI=r(83371);function cI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return lI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lI(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lI(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var uI=function(e,t){var r=(0,s.Pj)(),n=cI((0,c.useState)((function(){return e(r.getState())})),2),o=n[0],a=n[1],i=(0,c.useCallback)((function(){a(e(r.getState()))}),[e,a,r]);return(0,wi.A)(i,t),(0,c.useEffect)(i,[i]),o};function sI(e){return sI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sI(e)}function fI(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return pI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pI(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function pI(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dI(e,t,r){var n;return n=function(e,t){if("object"!=sI(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=sI(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==sI(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var yI={justifyContent:"space-between",textAlign:"right",width:95},mI={width:24,marginTop:-10,display:"flex",flexDirection:"column",alignItems:"center",gap:4},hI={fontSize:11,fontWeight:"bold",textTransform:"uppercase",textAlign:"center",userSelect:"none"},vI=dI(dI(dI(dI(dI({},je.Vk.AMSL,(function(e){var t;return null==e||null===(t=e.position)||void 0===t?void 0:t.amsl})),je.Vk.AHL,(function(e){var t;return null==e||null===(t=e.position)||void 0===t?void 0:t.ahl})),je.Vk.AGL,(function(e){var t;return null==e||null===(t=e.position)||void 0===t?void 0:t.agl})),je.Vk.XYZ,(function(e){var t=null==e?void 0:e.localPosition;return Array.isArray(t)?t[2]:null})),"dummy",(function(){return null})),gI=function(e){switch(e){case je.Vk.AMSL:return je.Vk.AHL;case je.Vk.AHL:return je.Vk.AGL;case je.Vk.AGL:return je.Vk.XYZ;case je.Vk.XYZ:default:return je.Vk.AMSL}},bI=function(e){return c.createElement(m.wD,null,(function(t){return c.createElement("div",null,t("altitudeSummaryButton.showingCurrent",{altitudeType:(0,je.Wf)(e,{short:!0})}),c.createElement("br",null),t("altitudeSummaryButton.clickToChange",{altitudeType:(0,je.Wf)(gI(e),{short:!0})}))}))},wI=function(e){var t=e.isConnected,r=e.onRequestTypeChange,n=e.type,o=(0,c.useMemo)((function(){return function(e){return function(t){var r,n=vI[e]||vI.dummy,o=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,i=fI((0,mo.T4)(t));try{for(i.s();!(r=i.n()).done;){var c=r.value,l=n((0,mo.Pz)(t,c));(0,Ge.default)(l)||(o=Math.min(o,l),a=Math.max(a,l))}}catch(e){i.e(e)}finally{i.f()}return Number.isFinite(o)?{min:o,max:a}:{min:null,max:null}}}(n)}),[n]),a=uI(o,t?1e3:null),i=a.min,l=a.max;return c.createElement(Si.Ay,{disabled:!t,label:t&&"number"==typeof l?"".concat(l.toFixed(1),"\xa0m"):"\u2014",secondaryLabel:t&&"number"==typeof i?"".concat(i.toFixed(1),"\xa0m"):"\u2014",style:yI,tooltip:bI(n),onClick:function(){return r(gI(n))}},c.createElement("div",{style:mI},c.createElement(iI.A,null),c.createElement("div",{style:hI},n)))};wI.propTypes={isConnected:i().bool,onRequestTypeChange:i().func,type:i().oneOf(Object.values(je.Vk))};const EI=(0,s.Ng)((function(e){return{isConnected:(0,yn.UJ)(e),type:(0,Kt.fe)(e)}}),{onRequestTypeChange:function(e){return(0,I.uV)("display",{altitudeSummaryType:e})}})(wI);var AI=r(44501),SI=r(17723),OI=r(86452);function xI(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return jI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jI(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function jI(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var kI=function(e){var t=e.onSetStatus,r=(0,s.Pj)();return(0,wi.A)((function(){if(t){var e,n=r.getState(),o=[],a=[],i=xI((0,mo.T4)(n));try{for(i.s();!(e=i.n()).done;){var c=e.value,l=(0,mo.Pz)(n,c),u=null==l?void 0:l.battery;u&&((0,Ge.default)(u.voltage)||o.push(u.voltage),(0,Ge.default)(u.percentage)||a.push(u.percentage))}}catch(e){i.e(e)}finally{i.f()}if(o.length>0){var s=(0,Kt.Xt)(n),f=(0,SI.A)(o),p=(0,OI.A)(o);t({avg:{voltage:f,percentage:s.estimatePercentageFromVoltage(f)},min:{voltage:p,percentage:s.estimatePercentageFromVoltage(p)}})}else if(a.length>0){var d=(0,SI.A)(a),y=(0,OI.A)(a);t({avg:{voltage:null,percentage:d},min:{voltage:null,percentage:y}})}else t({avg:null},{min:null})}}),1e3),null};kI.propTypes={onSetStatus:i().func};const TI=kI;function II(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return CI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CI(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CI(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var PI=[24,8],LI={justifyContent:"space-between",textAlign:"right",width:80},_I={avg:null,min:null},NI=function(e){var t=e.formatter,r=e.isConnected,n=e.t,o=II((0,c.useState)(_I),2),a=o[0],i=a.avg,l=a.min,u=o[1],s=i?t.getBatteryStatus(i.voltage,i.percentage):null,f=i?t.getSemanticBatteryStatus(i.voltage,i.percentage):null,p=f&&f!==jt.Status.OFF;return c.createElement(pt.default,{content:n("batteryStatusHeaderButton")},c.createElement(Si.Ay,{disabled:!r,label:r&&i?t.getBatteryLabel(i.voltage,i.percentage):"\u2014",secondaryLabel:r&&l?t.getBatteryLabel(l.voltage,l.percentage):null,style:LI},s?t.getLargeBatteryIcon(i.percentage,s):c.createElement(AI.A,null),c.createElement(Oi.A,{anchor:"topLeft",color:p?(0,jt.colorForStatus)(f):null,offset:PI,visible:p}),r&&c.createElement(TI,{onSetStatus:u})))};NI.propTypes={formatter:i().instanceOf(fS.K).isRequired,isConnected:i().bool,t:i().func};const RI=(0,s.Ng)((function(e){return{formatter:(0,Kt.sk)(e),isConnected:(0,yn.UJ)(e)}}),{})((0,m.CI)()(NI));var DI=r(545),MI=r(19329);function FI(e){return function(e){if(Array.isArray(e))return UI(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return UI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UI(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function UI(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var GI=function(e){var t=(0,DI.default)(Object.values((0,mo.O9)(e)),Ge.default);return{min:Math.min.apply(Math,FI(t)),max:Math.max.apply(Math,FI(t))}},VI=function(e){var t=e.isConnected,r=uI(GI,t?1e3:null),n=r.max,o=r.min,a=(0,m.Bd)().t;return c.createElement(Si.Ay,{disabled:!t,label:t&&Number.isFinite(n)?(0,io.BO)(n,1):"\u2014",secondaryLabel:t&&Number.isFinite(o)?(0,io.BO)(o,1):"\u2014",style:yI,tooltip:a("header.distanceSummary")},c.createElement("div",{style:mI},c.createElement(MI.A,null),c.createElement("div",{style:hI},"home")))};VI.propTypes={isConnected:i().bool};const BI=(0,s.Ng)((function(e){return{isConnected:(0,yn.UJ)(e)}}))(VI);r(39469);var HI=r(98047),WI=r(9402);function zI(e){return zI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zI(e)}function YI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function KI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?YI(Object(r),!0).forEach((function(t){qI(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YI(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qI(e,t,r){var n;return n=function(e,t){if("object"!=zI(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=zI(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==zI(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $I(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return ZI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZI(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function ZI(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var XI=function(e){var t,r=0,n=0,o=$I((0,mo.T4)(e));try{for(o.s();!(t=o.n()).done;){var a,i=t.value,c=(0,mo.Pz)(e,i),l=null!==(a=c.velocity)&&void 0!==a?a:c.velocityXYZ;if(!(0,Ge.default)(l)){var u=Math.hypot(l[0],l[1]),s=c.velocity?-l[2]:l[2];r=Math.max(r,u),n=(0,HI.A)([n,s],Math.abs)}}}catch(e){o.e(e)}finally{o.f()}return{maxHorizontal:r,maxVertical:n}},JI=function(e){var t=e.isConnected,r=uI(XI,t?1e3:null),n=r.maxHorizontal,o=r.maxVertical,a=(0,m.Bd)().t;return c.createElement(Si.Ay,{disabled:!t,label:t&&Number.isFinite(n)?(0,io.DB)(n,1):"\u2014",secondaryLabel:t&&Number.isFinite(o)?(0,io.DB)(o,1):"\u2014",style:KI(KI({},yI),{},{width:105}),tooltip:a("header.velocitySummary")},c.createElement(WI.A,null))};JI.propTypes={isConnected:i().bool};const QI=(0,s.Ng)((function(e){return{isConnected:(0,yn.UJ)(e)}}))(JI);var eC=r(74322),tC=r(42941);const rC=(0,_r.A)(c.createElement("path",{d:"M3 12h4a5 5 0 0 1 5-5a5 5 0 0 1 5 5h4a1 1 0 0 1 1 1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1a1 1 0 0 1 1-1m12 0a3 3 0 0 0-3-3a3 3 0 0 0-3 3h6M12 2l2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m17.31 0l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-7.94 9.3l3.11 3.11a.996.996 0 1 1-1.41 1.41L12 18.41l-2.41 2.41a.996.996 0 1 1-1.41-1.41l3.11-3.11c.21-.2.45-.3.71-.3c.26 0 .5.1.71.3z"}),"Sunrise"),nC=(0,_r.A)(c.createElement("path",{d:"M3 12h4a5 5 0 0 1 5-5a5 5 0 0 1 5 5h4a1 1 0 0 1 1 1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1a1 1 0 0 1 1-1m12 0a3 3 0 0 0-3-3a3 3 0 0 0-3 3h6M12 2l2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m17.31 0l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-7.94 13.71l3.11-3.11c.39-.39.39-1.03 0-1.42a.996.996 0 0 0-1.41 0L12 18.59l-2.41-2.41a.996.996 0 0 0-1.41 0c-.39.39-.39 1.03 0 1.42l3.11 3.11c.21.19.45.29.71.29c.26 0 .5-.1.71-.29z"}),"Sunset");var oC=r(92998),aC=r(79672),iC=r(3279),cC=r.n(iC);function lC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return uC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uC(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uC(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var sC=(0,Ve.createSelector)(ke.Gk,(function(e){return Array.isArray(e)&&e.length>=2?[Number(e[0].toFixed(2)),Number(e[1].toFixed(2))]:null})),fC=(0,Iu.y)(sC,(function(e){for(var t=new Date,r=e?cC().getTimes(t,e[1],e[0]):{},n=0,o=Object.entries(r);n<o.length;n++){var a=lC(o[n],2),i=a[0],c=a[1];c instanceof Date&&Number.isNaN(c.valueOf())&&(r[i]=void 0)}if(e&&r.sunriseEnd&&(0,aC.A)(t,r.sunriseEnd)){var l=cC().getTimes((0,oC.A)(t,1),e[1],e[0]);r.sunrise=l.sunrise,r.sunriseEnd=l.sunriseEnd}return r}));function pC(e){if("number"==typeof e)return e>=5?jt.Status.ERROR:e>=4?jt.Status.WARNING:null}function dC(e){return e.weather.lastUpdatedAt}function yC(e){var t;return pC(null===(t=e.weather.data)||void 0===t?void 0:t.kpIndex)}r(68156);function mC(e){return mC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mC(e)}function hC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hC(Object(r),!0).forEach((function(t){gC(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hC(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gC(e,t,r){var n;return n=function(e,t){if("object"!=mC(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=mC(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==mC(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bC(e,t){try{return(0,ni.A)(e,t)}catch(e){return""}}function wC(e,t){return(e=e?bC(e,"H:mm"):"")===(t=t?bC(t,"H:mm"):"")||e&&!t?e:e&&t?"".concat(e," \u2013 ").concat(t):t}var EC={minWidth:150},AC=function(e){var t,r=e.data,n=e.error,o=e.lastUpdatedAt,a=e.loading,i=e.sunrise,l=e.sunriseEnd,u=e.sunset,s=e.sunsetStart,f=e.t,p=e.timezone,d=e.utcOffset,y=[];if(p&&y.push(c.createElement(ic.A,{key:"timezone",primaryText:f("weatherMiniList.timezone"),secondaryText:p})),d){var m=String(Math.abs(d)%60),h=(d<0?"+":d>0?"-":"")+String((Math.abs(d)-m)/60).padStart(2,"0")+":"+m.padStart(2,"0");y.push(c.createElement(ic.A,{key:"utcOffset",primaryText:f("weatherMiniList.utcOffset"),secondaryText:h}))}if(y.length>0&&y.push(c.createElement(ac.A,{key:"sep1"})),t=!1,(u||s)&&(y.push(c.createElement(ic.A,{key:"sunset",primaryText:f("weatherMiniList.sunset"),secondaryText:wC(s,u)})),t=!0),i||l){var v=c.createElement(ic.A,{key:"sunrise",primaryText:f("weatherMiniList.sunrise"),secondaryText:wC(i,l)});u&&(0,aC.A)(u,i)?y.splice(y.length-1,0,v):y.push(v),t=!0}t&&y.push(c.createElement(ac.A,{key:"sep2"}));var g=r||{},b=g.kpIndex,w=function(e){return Array.isArray(e)&&3===e.length?(0,av.xW)(Math.atan2(e[1],e[0])):null}(g.magneticVector);return(0,Ge.default)(b)||y.push(c.createElement(ic.A,{key:"kpIndex",primaryText:f("weatherMiniList.kpIndex"),secondaryText:c.createElement(oO.A,{status:pC(b)},(0,io.d)(b,1))})),(0,Ge.default)(w)||y.push(c.createElement(ic.A,{key:"declination",primaryText:f("weatherMiniList.compassDeclination"),secondaryText:(0,Ge.default)(w)?(0,io.d)(w):(0,io.d)(Math.abs(w),2,"\xb0")+" "+(w>=0?"E":"W")})),a?y.push(c.createElement(ua.A,{key:"loadingIndicator",label:f("weatherMiniList.refreshing"),padding:.5})):y.push(c.createElement(ic.A,{key:"lastUpdatedAt",primaryText:f("weatherMiniList.lastUpdate"),secondaryText:n?c.createElement("span",{style:{color:(0,ro.M7)(dc.AI.ERROR),fontWeight:"bold"}},"failed"):o?c.createElement(nc.A,{formatter:io.wu,date:o}):"\u2014"})),y.length>0?c.createElement(oc.A,{style:EC},y):f("weatherMiniList.noWeatherInfo")};AC.propTypes={error:i().any,sunrise:i().instanceOf(Date),sunriseEnd:i().instanceOf(Date),sunsetStart:i().instanceOf(Date),sunset:i().instanceOf(Date),t:i().func,timezone:i().string,utcOffset:i().number};const SC=(0,s.Ng)((function(e){return vC(vC({},fC(e)),{},{timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,utcOffset:(new Date).getTimezoneOffset()},e.weather)}),{})((0,m.CI)()(AC));function OC(e){return OC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OC(e)}function xC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xC(Object(r),!0).forEach((function(t){kC(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xC(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function kC(e,t,r){var n;return n=function(e,t){if("object"!=OC(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=OC(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==OC(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return IC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IC(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IC(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var CC=[24,8],PC={justifyContent:"space-between",textAlign:"right",width:90},LC=function(e){var t=e.badgeStatus,r=e.sunrise,n=e.sunset,o=new Date,a=TC((0,tC.A)(),2),i=a[0],l=a[1],u=!r||n&&Math.abs((0,eC.A)(r,o))>Math.abs((0,eC.A)(n,o));i&&(u=!u);var s=u?n:r;return Fw(3e4),c.createElement(rc.A,{content:c.createElement(SC,null)},c.createElement(Si.Ay,{label:s?(0,ni.A)(s,"H:mm"):"\u2014",secondaryLabel:s?c.createElement(nc.A,{formatter:io.wu,date:s}):null,style:PC,onClick:function(){return l()}},u?c.createElement(nC,null):c.createElement(rC,null),c.createElement(Oi.A,{anchor:"topLeft",color:t?(0,jt.colorForStatus)(t):null,offset:CC,visible:Boolean(t)})))};LC.propTypes={badgeStatus:i().oneOf(Object.values(jt.Status)),sunrise:i().instanceOf(Date),sunset:i().instanceOf(Date)};const _C=(0,s.Ng)((function(e){return jC(jC({},fC(e)),{},{badgeStatus:yC(e)})}),{})(LC);var NC=function(e){return Boolean(e.workbench.isFixed)},RC=(0,Ve.createSelector)((function(e){return Boolean(e.workbench.hideHeaders)}),NC,(function(e,t){return!e&&!t}));function DC(e){return DC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DC(e)}function MC(e){return function(e){if(Array.isArray(e))return FC(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return FC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FC(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FC(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function UC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function GC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?UC(Object(r),!0).forEach((function(t){VC(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UC(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function VC(e,t,r){var n;return n=function(e,t){if("object"!=DC(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=DC(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==DC(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var BC={backgroundColor:"#333",flexGrow:0,minHeight:48},HC={display:"flex",flexFlow:"row nowrap"},WC={"alert-button":Ri,"altitude-summary-header-button":EI,"app-settings-button":Bi,"authentication-button":Ki,"battery-status-header-button":RI,"broadcast-button":function(){return c.createElement(ec,{timeoutLength:5})},"connection-status-button":Sc,"distance-summary-header-button":BI,"full-screen-button":Lc,"help-button":function(){return o.A.urls.help?c.createElement(Rc,null):null},"rtk-status-header-button":function(){return(0,ps.jI)("toolboxMenu")&&c.createElement(nI,null)},"safety-button":qc,"server-connection-settings-button":function(){return c.createElement(sl,{hideTooltip:o.A.optimizeUIForTouch.default})},"session-expiry-box":dl,"toolbox-button":function(){return(0,ps.jI)("toolboxMenu")&&c.createElement(Ou,null)},"uav-status-summary":function(){return c.createElement(Mk.Consumer,null,(function(e){return c.createElement(aT,{workbench:e})}))},"velocity-summary-header-button":QI,"weather-header-button":_C},zC=function(e){var t=e.isSidebarOpen,r=e.showSidebar,n=e.toggleSidebar;return c.createElement("div",{id:"header",style:GC(GC({},BC),{},{overflow:"hidden"})},c.createElement("div",{id:"header-inner",style:HC},r&&c.createElement(vi.Ay,{color:"#999",style:{cursor:"pointer"},shape:t?"close":"menu",onClick:n}),c.createElement(yT,null),c.createElement(S.A,{pr:.5}),o.A.headerComponents.flatMap((function(e){return[c.createElement("hr",{key:"header-group:".concat(e.join(","))})].concat(MC(e.map((function(e){var t=WC[e];return c.createElement(t,{key:e})}))))})).slice(1)))};zC.propTypes={isSidebarOpen:i().bool.isRequired,showSidebar:i().bool,toggleSidebar:i().func.isRequired};const YC=(0,s.Ng)((function(e){return{sessionExpiresAt:e.session.expiresAt,isSidebarOpen:oI(e),showSidebar:RC(e)}}),{toggleSidebar:function(){return function(e,t){var r=oI(t());e((0,aI.p)(!r))}}})(zC);var KC=r(85072),qC=r.n(KC),$C=r(97825),ZC=r.n($C),XC=r(77659),JC=r.n(XC),QC=r(55056),eP=r.n(QC),tP=r(10540),rP=r.n(tP),nP=r(41113),oP=r.n(nP),aP=r(30263),iP={};iP.styleTagTransform=oP(),iP.setAttributes=eP(),iP.insert=JC().bind(null,"head"),iP.domAPI=ZC(),iP.insertStyleElement=rP();qC()(aP.A,iP);aP.A&&aP.A.locals&&aP.A.locals;var cP={topLeft:"left-top",topRight:"right-top",bottomLeft:"left-bottom",bottomRight:"right-bottom"},lP=function(e){var t=e.label,r=e.position;return c.createElement("div",{className:(0,n.A)("corner-ribbon",cP[r]),"data-ribbon":t})};lP.propTypes={label:i().string,position:i().oneOf(Object.keys(cP))},lP.defaultProps={position:"topRight"};const uP=lP;r(71761),r(73772);var sP=r(45192),fP=r(48499),pP=r(41420),dP=r(73342),yP=r(52556),mP=r(41591),hP=r(56319),vP=r(94153),gP=r(38365),bP=r(34809),wP=r(84664);function EP(e){return EP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EP(e)}function AP(){AP=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==EP(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(EP(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function SP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function OP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?SP(Object(r),!0).forEach((function(t){UP(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SP(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xP(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function jP(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){xP(a,n,o,i,c,"next",e)}function c(e){xP(a,n,o,i,c,"throw",e)}i(void 0)}))}}function kP(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function TP(e,t){return e.get(CP(e,t))}function IP(e,t,r){return e.set(CP(e,t),r),r}function CP(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}function PP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GP(n.key),n)}}function _P(e,t,r){return t&&LP(e.prototype,t),r&&LP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function NP(e,t,r){return t=DP(t),function(e,t){if(t&&("object"===EP(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,RP()?Reflect.construct(t,r||[],DP(e).constructor):t.apply(e,r))}function RP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(RP=function(){return!!e})()}function DP(e){return DP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},DP(e)}function MP(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FP(e,t)}function FP(e,t){return FP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},FP(e,t)}function UP(e,t,r){return(t=GP(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GP(e){var t=function(e,t){if("object"!=EP(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=EP(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==EP(t)?t:t+""}var VP=function(e){return(0,Ge.default)(e)?"an unknown amount":Math.abs(e)<1e3?"".concat(e.toFixed(0),"ms"):Math.abs(e)<=3e4?"".concat((e/1e3).toFixed(1),"s"):"more than 30s"},BP=function(e){function t(){var e;return PP(this,t),(e=NP(this,t))._disposer=void 0,e._processIsRunning=!1,e._onLogMessageReceived=e._onLogMessageReceived.bind(e),e._onProcessExited=e._onProcessExited.bind(e),e._onProcessStartFailed=e._onProcessStartFailed.bind(e),e}return MP(t,e),_P(t,[{key:"componentDidMount",value:function(){var e=this;window.bridge.localServer.ensureRunning({args:(0,sP.parse)(this.props.args),port:this.props.port,callbacks:{error:this._onProcessStartFailed,exit:this._onProcessExited,log:this._onLogMessageReceived}}).then((function(t){e._processIsRunning=!0,e._setDisposer(t),e.props.onStarted&&e.props.onStarted()}),this._onProcessStartFailed)}},{key:"componentDidUpdate",value:function(e){this.props.port!==e.port||(this.props.args,e.args)}},{key:"componentWillUnmount",value:function(){this._setDisposer(null),this._processIsRunning=!1,window.bridge.localServer.terminate()}},{key:"render",value:function(){return null}},{key:"_setDisposer",value:function(e){this._disposer!==e&&(this._disposer&&this._disposer(),this._disposer=e)}},{key:"_onLogMessageReceived",value:function(e){var t=this.props.onLogMessage;t&&t(e)}},{key:"_onProcessExited",value:function(e,t){this.props.onError&&this.props.onError(t?"exited with ".concat(t):"exited with code ".concat(e),this._processIsRunning),this._setDisposer(null),this._processIsRunning=!1}},{key:"_onProcessStartFailed",value:function(e){this.props.onError&&this.props.onError(e.message,e),this._setDisposer(null),this._processIsRunning=!1}}])}(c.Component);UP(BP,"propTypes",{args:i().string,onError:i().func,onLogMessage:i().func,onStarted:i().func,port:i().number});var HP={bindSocketToHub:i().func,connectTimeout:i().number,onConnected:i().func,onConnecting:i().func,onConnectionError:i().func,onConnectionTimeout:i().func,onDisconnected:i().func,onMessage:i().func,pingInterval:i().number,pingTimeout:i().number,url:i().string},WP={connectTimeout:5e3,pingInterval:5e3,pingTimeout:5e3},zP=function(e){function t(){return PP(this,t),NP(this,t,arguments)}return MP(t,e),_P(t,[{key:"render",value:function(){var e=this.props,t=e.bindSocketToHub,r=e.connectTimeout,n=e.onConnected,o=e.onConnecting,a=e.onConnectionError,i=e.onConnectionTimeout,l=e.onDisconnected,u=e.onMessage,s=e.pingInterval,f=e.pingTimeout,p=e.url;return c.createElement(c.Fragment,null,c.createElement(fP.A.Socket,{ref:t,name:"serverSocket",url:p,options:{connectTimeout:r,pingInterval:s,pingTimeout:f,transports:["websocket"]}}),c.createElement(fP.A.Listener,{socket:"serverSocket",event:"connect",callback:function(){return n({url:p})}}),c.createElement(fP.A.Listener,{socket:"serverSocket",event:"connect_error",callback:function(){return a({url:p,willReconnect:!0})}}),c.createElement(fP.A.Listener,{socket:"serverSocket",event:"connect_timeout",callback:function(){return i({url:p,willReconnect:!0})}}),c.createElement(fP.A.Listener,{socket:"serverSocket",event:"disconnect",callback:function(e){l({url:p,reason:e,willReconnect:"ping timeout"===e||"transport close"===e})}}),c.createElement(fP.A.Listener,{socket:"serverSocket",event:"fw",callback:u}),c.createElement(fP.A.Listener,{socket:"serverSocket",event:"reconnecting",callback:function(){return o({url:p})}}),c.createElement(fP.A.Listener,{socket:"serverSocket",event:"reconnect_attempt",callback:function(){return o({url:p})}}))}}])}(c.Component);UP(zP,"propTypes",HP),UP(zP,"defaultProps",WP);var YP=new WeakMap,KP=new WeakMap,qP=function(e){function t(){var e;PP(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return kP(e=NP(this,t,[].concat(n)),YP,void 0),kP(e,KP,void 0),e}return MP(t,e),_P(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,r=t.bindSocketToHub,n=t.connectTimeout,o=t.onConnected,a=t.onConnecting,i=t.onConnectionError,c=t.onConnectionTimeout,l=t.onDisconnected,u=t.onMessage,s=t.pingInterval,f=t.pingTimeout,p=t.url;IP(KP,this,window.bridge.createTCPSocket(this.props.url.match(".*://(?<address>.*):(?<port>.*)").groups,{connectTimeout:n,reconnecting:!0,url:p},{onConnected:o,onConnecting:a,onConnectionError:i,onConnectionTimeout:c,onDisconnected:l,onMessage:u})),r({socket:TP(KP,this)});var d=function(){(0,Zr.Ay)(Pn.A.sendMessage("SYS-PING"),f).then((function(){TP(KP,e)&&TP(KP,e).notifyPing()})).catch((function(){TP(KP,e)&&TP(KP,e).notifyPing(!1)}))};d(),IP(YP,this,setInterval(d,s))}},{key:"componentWillUnmount",value:function(){TP(KP,this)&&TP(KP,this).end(),TP(YP,this)&&clearInterval(TP(YP,this))}},{key:"render",value:function(){return null}}])}(c.Component);UP(qP,"propTypes",HP),UP(qP,"defaultProps",WP);var $P=function(e){function t(){var e;PP(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return UP(e=NP(this,t,[].concat(n)),"_bindSocketToHub",(function(t){var r=t?t.socket:null;Pn.A.emitter=r?r.emit.bind(r):void 0,e.props.onConnecting&&t&&e.props.onConnecting(e.props.url)})),e}return MP(t,e),_P(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.active,n=t.onDisconnected;e.active&&!r&&n&&n(e.url,{reason:"io client disconnect"})}},{key:"render",value:function(){var e=this.props,t=e.active,r=e.cliArguments,n=e.needsLocalServer,o=e.port,a=e.protocol,i=e.onConnected,l=e.onConnecting,u=e.onConnectionError,s=e.onConnectionTimeout,f=e.onDisconnected,p=e.onLocalServerError,d=e.onLocalServerStarted,y=e.onLogMessageReceivedFromLocalServer,m=e.onMessage,h=e.url,v=UP(UP({},Oa.Z.TCP,qP),Oa.Z.WS,zP)[a];return h&&t?c.createElement("div",{key:h},n?c.createElement(BP,{args:r,port:o,onError:p,onLogMessage:y,onStarted:d}):null,c.createElement(v,{bindSocketToHub:this._bindSocketToHub,url:h,onConnected:i,onConnecting:l,onConnectionError:u,onConnectionTimeout:s,onDisconnected:f,onMessage:m})):c.createElement("div",null)}}])}(c.Component);function ZP(e,t){return XP.apply(this,arguments)}function XP(){return XP=jP(AP().mark((function e(t,r){var n,a,i,c,l,u,s,f,p,d,y,m,h;return AP().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pn.A.sendMessage("SYS-VER");case 3:return a=e.sent,i=a.body.version,t((0,zn.wT)(i)),e.next=8,Pn.A.sendMessage("CONN-LIST");case 8:return n=e.sent,c=n.body.ids||[],e.next=12,Pn.A.sendMessage({type:"CONN-INF",ids:c});case 12:return n=e.sent,(0,bP.q)(n.body,t),e.next=16,Pn.A.sendMessage("CLK-LIST");case 16:return n=e.sent,l=n.body.ids||[],e.next=20,Pn.A.sendMessage({type:"CLK-INF",ids:l});case 20:return n=e.sent,(0,gP.i)(n.body,t),e.next=24,Pn.A.sendMessage({type:"OBJ-LIST",filter:["dock"]});case 24:if(n=e.sent,!((u=n.body.ids||[]).length>0)){e.next=31;break}return e.next=29,Pn.A.sendMessage({type:"DOCK-INF",ids:u});case 29:n=e.sent,(0,wP.$)(n.body,t);case 31:return e.next=33,Pn.A.sendMessage({type:"OBJ-LIST",filter:["beacon"]});case 33:if(n=e.sent,!((s=n.body.ids||[]).length>0)){e.next=44;break}return e.next=38,Pn.A.sendMessage({type:"BCN-INF",ids:s});case 38:return n=e.sent,(0,vP.o0)(n.body,t),e.next=42,Pn.A.sendMessage({type:"BCN-PROPS",ids:s});case 42:n=e.sent,(0,vP.d2)(n.body,t);case 44:f=[],p=0,d=["virtual_uavs","map_cache"];case 46:if(!(p<d.length)){e.next=55;break}return y=d[p],e.next=50,Pn.A.query.isExtensionLoaded(y);case 50:e.sent&&f.push(y);case 52:p++,e.next=46;break;case 55:return f.length>0&&t((0,zn.S6)(f)),e.t0=t,e.t1=zn.DY,e.next=60,Pn.A.query.getLicenseInformation();case 60:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),(0,e.t0)(e.t3),e.next=65,Pn.A.query.isExtensionLoaded("show");case 65:return e.sent&&t((0,Rh.L5)("fromServer")),Pn.A._deviceTreeSubscriptionManager.requestSubscriptionUpdates(),e.next=70,t(Tn(Pn.A,{method:"threshold"}));case 70:o.A.server.warnClockSkew&&(0,yn._r)(r())&&!(0,yn.$9)(r())&&(m=(0,yn.my)(r()),h=VP(Math.abs(m)),t((0,ku.Ds)({message:"Server clock is ".concat(m>0?"ahead":"behind"," by ").concat(h),buttons:[{label:"Details",action:(0,zn.d)()}],semantics:Tu.N.WARNING,permanent:!0}))),e.next=77;break;case 73:e.prev=73,e.t4=e.catch(0),(0,Xr.Ay)(e.t4);case 77:case"end":return e.stop()}}),e,null,[[0,73]])}))),XP.apply(this,arguments)}function JP(e){return QP.apply(this,arguments)}function QP(){return(QP=jP(AP().mark((function e(t){return AP().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t((0,pP.IE)()),t((0,dP.At)()),t((0,yP.mN)()),t((0,mP.v1)()),t((0,zn.e3)()),t((0,zn.W6)()),t((0,Rh.b1)()),t((0,zn.nm)()),t((0,hP.mh)());case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}UP($P,"propTypes",{active:i().bool,cliArguments:i().string,needsLocalServer:i().bool,port:i().number,protocol:i().oneOf(Object.values(Oa.Z)),onConnected:i().func,onConnecting:i().func,onConnectionError:i().func,onConnectionTimeout:i().func,onDisconnected:i().func,onLocalServerError:i().func,onLocalServerStarted:i().func,onLogMessageReceivedFromLocalServer:i().func,onMessage:i().func,url:i().string});var eL=function(e){return function(t,r){var n=e.url,o=e.reason,a=e.wasConnected,i=e.willReconnect;switch(t((0,zn.am)(dc.KN.DISCONNECTED)),o){case"connection error":i||t((0,ku.Qg)("Error while connecting to Skybrush server"));break;case"connection timeout":i||t((0,ku.Qg)("Timeout while connecting to Skybrush server"));break;case"io client disconnect":t((0,ku.Ds)("Disconnected from Skybrush server"));break;case"io server disconnect":default:break;case"transport close":t((0,ku.Qg)("Skybrush server closed connection unexpectedly"));break;case"ping timeout":t((0,ku.Qg)("Connection to Skybrush server lost"))}i||(n!==(0,yn.Tt)(r())||t(bn()));a&&t(JP)}},tL=(0,s.Ng)((function(e){return{active:e.dialogs.serverSettings.active&&!e.session.isExpired,cliArguments:e.settings.localServer.cliArguments,needsLocalServer:gt(e),port:(0,yn.D0)(e),protocol:(0,yn.nm)(e),url:(0,yn.Tt)(e)}}),(function(e){return{onConnecting:function(){e((0,zn.am)(dc.KN.CONNECTING))},onConnected:function(){e((0,ku.Ds)({message:xe.A.t("notifications.connectedToSkybrushServer"),semantics:"info"})),e((0,zn.am)(dc.KN.CONNECTED)),e(ZP)},onConnectionError:function(t){e(eL(OP(OP({},t),{},{reason:"connection error"})))},onConnectionTimeout:function(t){e(eL(OP(OP({},t),{},{reason:"connection timeout"})))},onDisconnected:function(t){e(eL(OP(OP({},t),{},{wasConnected:!0})))},onLocalServerError:function(t,r){var n=r?"Skybrush server died unexpectedly":"Failed to launch local Skybrush server";e((0,zn.am)(dc.KN.DISCONNECTED)),e((0,ku.Qg)(t?"".concat(n,": ").concat(t):n))},onLocalServerStarted:function(){e((0,zn.am)(dc.KN.CONNECTING))},onLogMessageReceivedFromLocalServer:function(t){var r=t.id,n=t.levelname,o=t.name,a=t.message,i=(o="string"==typeof o?o:"").lastIndexOf("."),c=i>=0?o.slice(i+1):o,l={level:(0,gy.LW)(n),module:c,message:a};(0,Ge.default)(r)||(l.auxiliaryId=r),e((0,Jd.fp)(l))},onMessage:function(e){Pn.A.processIncomingMessage(e)}}}))($P);const rL=tL;const nL=function(e){var t=e.filename,r=e.onChanged,n=e.onRemoved,o=(0,c.useCallback)((function(e,t){"update"===e?r&&r():"remove"===e&&n&&n()}),[r,n]);return(0,c.useEffect)((function(){if(window.bridge&&t)return window.bridge.watchFile(t,o)}),[t,o]),null};var oL=function(e){var t=e.filename,r=e.onShowFileChangedExternally;return c.createElement(nL,{filename:t,onChanged:r})};oL.propTypes={filename:i().string,onShowFileChangedExternally:i().func};const aL=(0,s.Ng)((function(e){return{filename:(0,Fc.b8)(e)}}),{onShowFileChangedExternally:Rh.iI})(oL);r(36033);function iL(e){return iL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iL(e)}function cL(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return lL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lL(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function lL(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mL(n.key),n)}}function sL(e,t,r){return t=pL(t),function(e,t){if(t&&("object"===iL(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,fL()?Reflect.construct(t,r||[],pL(e).constructor):t.apply(e,r))}function fL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(fL=function(){return!!e})()}function pL(e){return pL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pL(e)}function dL(e,t){return dL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dL(e,t)}function yL(e,t,r){return(t=mL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mL(e){var t=function(e,t){if("object"!=iL(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=iL(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==iL(t)?t:t+""}var hL=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=sL(this,t))._container=document.createElement("div"),e._externalWindow=null,e._mutationObserver=null,e._styleRegistry=new Map,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dL(e,t)}(t,e),r=t,n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.height,r=e.left,n=e.top,o=e.width;this._externalWindow=window.open("about:blank#".concat(this.props.title),"","width=".concat(o,",height=").concat(t,",left=").concat(r,",top=").concat(n)),this._externalWindow.document.title=this.props.title,this._copyAndFollowStyles(),this._externalWindow.document.body.append(this._container),this._externalWindow.addEventListener("unload",this.props.onClose),window.addEventListener("unload",this.componentWillUnmount.bind(this))}},{key:"componentWillUnmount",value:function(){this._externalWindow.closed||this._externalWindow.close(),this._mutationObserver.disconnect()}},{key:"render",value:function(){return Pu.createPortal(c.createElement(yf.Bz.Provider,{value:this._container},this.props.children),this._container)}},{key:"_copyAndFollowStyles",value:function(){var e,t=this,r=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return t._externalWindow.document.head.append(e)},n=t._externalWindow.document.importNode(e,!0);r(n);var o,a=cL(e.sheet.cssRules);try{for(a.s();!(o=a.n()).done;){var i=o.value;n.sheet.insertRule(i.cssText)}}catch(e){a.e(e)}finally{a.f()}return n},n=function e(r){if(null!==r)return t._styleRegistry.has(r)?function(e){return t._styleRegistry.get(r).before(e)}:e(r.nextElementSibling)},o=cL(document.styleSheets);try{for(o.s();!(e=o.n()).done;){var a=e.value;this._styleRegistry.set(a.ownerNode,r(a.ownerNode))}}catch(e){o.e(e)}finally{o.f()}this._mutationObserver=new MutationObserver((function(e,o){var a,i=cL(e);try{for(i.s();!(a=i.n()).done;){var c,l=a.value,u=cL(l.removedNodes);try{for(u.s();!(c=u.n()).done;){var s=c.value;t._styleRegistry.has(s)&&(t._styleRegistry.get(s).remove(),t._styleRegistry.delete(s))}}catch(e){u.e(e)}finally{u.f()}var f,p=n(l.nextSibling),d=cL(l.addedNodes);try{for(d.s();!(f=d.n()).done;){var y=f.value;y instanceof HTMLStyleElement&&y.sheet&&t._styleRegistry.set(y,r(y,p))}}catch(e){d.e(e)}finally{d.f()}}}catch(e){i.e(e)}finally{i.f()}})),this._mutationObserver.observe(document.head,{childList:!0})}}],n&&uL(r.prototype,n),o&&uL(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(c.Component);yL(hL,"propTypes",{children:i().node.isRequired,height:i().number,left:i().number,onClose:i().func,title:i().string,top:i().number,width:i().number}),yL(hL,"defaultProps",{height:400,left:100,title:"Untitled",top:100,width:600});var vL=function(e){var t=e.attachPanel;return e.detachedPanels.map((function(e){var r=Rk[e],n=r.component,o=r.label;return c.createElement(hL,{key:e,title:o,onClose:function(){return t(e)}},c.createElement(n,null))}))};vL.propTypes={attachPanel:i().func.isRequired,detachedPanels:i().arrayOf(i().string)};const gL=(0,s.Ng)((function(e){return{detachedPanels:_u(e)}}),{attachPanel:Ru.yv})(vL);var bL=r(54107),wL=function(e){e.dockId;switch(e.selectedTab){case"status":return c.createElement(ct.A,null,c.createElement(lt.A,{button:!0},c.createElement(ju.default,{status:"success"}),c.createElement(st.A,{primary:"Door closed"})),c.createElement(lt.A,{button:!0},c.createElement(ju.default,{status:"success"}),c.createElement(st.A,{primary:"Tilt angle: 0.7\xb0"})),c.createElement(Kv.A,null,"Landing pad 1"),c.createElement(lt.A,{button:!0},c.createElement(ju.default,{status:"success"}),c.createElement(st.A,{primary:"Landing pad is at the bottom"})),c.createElement(lt.A,{button:!0},c.createElement(ju.default,{status:"success"}),c.createElement(st.A,{primary:"Tweezers touching drone leg (left, right)"})),c.createElement(lt.A,{button:!0},c.createElement(ju.default,{status:"info"}),c.createElement(st.A,{primary:"Drone is charging",secondary:"11.6V \u2022 Time until full: 17m 12s"})));case"schedule":return c.createElement(ct.A,{dense:!0},c.createElement(Kv.A,null,"Upcoming missions"),c.createElement(lt.A,null,c.createElement(ju.default,{status:"next",size:"small"}),c.createElement(st.A,{primary:"Takeoff + landing test",secondary:"Scheduled: 2021-07-26 18:10 UTC"})),c.createElement(lt.A,null,c.createElement(ju.default,{status:"off",size:"small"}),c.createElement(st.A,{primary:"Takeoff + landing test",secondary:"Scheduled: 2021-07-26 19:10 UTC"})),c.createElement(Kv.A,null,"Past missions"),c.createElement(lt.A,null,c.createElement(ju.default,{status:"success",size:"small"}),c.createElement(st.A,{primary:"Takeoff + landing test",secondary:"2021-07-26 17:10 UTC \u2022 0m 57s"})),c.createElement(lt.A,null,c.createElement(ju.default,{status:"success",size:"small"}),c.createElement(st.A,{primary:"Takeoff + landing test",secondary:"2021-07-26 16:10 UTC \u2022 0m 57s"})),c.createElement(lt.A,null,c.createElement(ju.default,{status:"error",size:"small"}),c.createElement(st.A,{primary:"Takeoff + landing test",secondary:"2021-07-26 15:10 UTC \u2022 Prearm checks failed"})));case"storage":return c.createElement(c.Fragment,null,c.createElement(ct.A,null,c.createElement(lt.A,null,c.createElement(ju.default,{status:"success"}),c.createElement(st.A,{primary:"/dev/mmcblk0p1 \u2022 System",secondary:"4.0 GB used \u2022 9.8 GB free \u2022 29%"})),c.createElement(lt.A,null,c.createElement(ju.default,{status:"success"}),c.createElement(st.A,{primary:"/dev/mmcblk0p5 \u2022 Data storage",secondary:"0.5 GB used \u2022 63.1 GB free \u2022 0.8%"}),c.createElement(ds.A,null,c.createElement(W.A,null,c.createElement(bL.A,null)))),c.createElement(yl.A,null)),c.createElement(ct.A,null,c.createElement(Kv.A,null,"Synchronization log"),c.createElement(lt.A,null,c.createElement(ju.default,{status:"info"}),c.createElement(st.A,{primary:"Click on a sync button to start"}))));case"liveCam":return c.createElement("video",{autoPlay:!0,loop:!0,muted:!0,poster:"//cam.idokep.hu/cam/schonherz1/thumbnail.jpg",width:"380",height:"284"},c.createElement("source",{src:"//cam.idokep.hu/cam/schonherz1/animation.webm"}),c.createElement("source",{src:"//cam.idokep.hu/cam/schonherz1/animation.mp4"}),c.createElement("img",{src:"//cam.idokep.hu/cam/schonherz1/thumbnail.jpg",width:"380",height:"284",id:"schonherz1"}));default:return null}};wL.propTypes={dockId:i().string,selectedTab:i().oneOf(["status","schedule","storage","liveCam"])};const EL=(0,s.Ng)((function(e){return{dockId:(0,ef.eR)(e),selectedTab:(0,ef.RA)(e)}}))(wL);var AL=r(34820),SL=r(73657),OL=(0,St.A)((function(e){return{root:{lineHeight:"normal",fontSize:"small",width:"100%","& .muted":{color:e.palette.text.disabled}},header:{textTransform:"uppercase",color:e.palette.text.secondary},value:{textAlign:"right"},separator:{}}}),{name:"MiniTable"}),xL=c.createElement("span",{className:"muted"},"\u2014"),jL=function(e){var t=e.items,r=OL();return c.createElement("table",{className:r.root},c.createElement("tbody",null,t.map((function(e){return Array.isArray(e)?c.createElement("tr",{key:e[0]},c.createElement("td",{className:r.header},e[0]),c.createElement("td",{className:r.value},(0,Ge.default)(e[1])?xL:e[1])):c.createElement("tr",{key:e},c.createElement("td",{className:r.separator,colSpan:2}))}))))};jL.propTypes={items:i().arrayOf(i().oneOfType([i().string,i().arrayOf(i().node)]))};const kL=jL;function TL(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return IL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IL(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IL(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var CL=(0,St.A)((function(e){return{root:{padding:e.spacing(2),minWidth:185,flex:1,display:"flex",flexDirection:"column"},avatar:{display:"flex",flexDirection:"column"},summary:{paddingLeft:e.spacing(2)},toolbar:{justifyContent:"center",padding:e.spacing(1,0)},toolbarInner:{display:"flex",flexDirection:"row",flexWrap:"wrap",maxWidth:144,"& > button":{padding:8}}}}),{name:"DockDetailsDialogSidebar"}),PL=function(e){var t=e.dockId,r=TL((0,tC.A)(!1),2),n=r[0],o=r[1],a=CL();return c.createElement(S.A,{className:a.root},c.createElement(S.A,{display:"flex",flexDirection:"row",alignItems:"center"},c.createElement(S.A,{className:a.avatar},c.createElement(wS,{label:"OK",status:"success"})),c.createElement(S.A,{className:a.summary},c.createElement(O.A,{variant:"body1"},t),n?c.createElement(oO.A,{key:"status",status:"success"},"Automatic mode"):c.createElement(oO.A,{key:"status",status:"warning"},"Manual mode"))),c.createElement(Rf.A,{disableGutters:!0,variant:"dense",className:a.toolbar},c.createElement(S.A,{className:a.toolbarInner},c.createElement(pt.default,{content:"Open door"},c.createElement(W.A,{size:"small"},c.createElement(AL.A,{fontSize:"small"}))),c.createElement(pt.default,{content:"Close door"},c.createElement(W.A,{size:"small"},c.createElement(SL.A,{fontSize:"small"}))),c.createElement(pt.default,{content:"Reboot"},c.createElement(W.A,{size:"small"},c.createElement(bb.A,{htmlColor:ro.Ay.error,fontSize:"small"}))),c.createElement(pt.default,{content:"Power off"},c.createElement(W.A,{size:"small"},c.createElement(Qg.A,{htmlColor:ro.Ay.error,fontSize:"small"}))))),c.createElement(kL,{items:[["Location","ELTE kert"],"sep1",["Latitude",47.474223],["Longitude",19.06188],"sep2",["Door",c.createElement(oO.A,{status:"success"},"closed")],["Temperature","31.3 \xb0C"],"sep3",["Landing pad 1",c.createElement(oO.A,{status:"next"},"charging")]]}),c.createElement(S.A,{flex:1}),c.createElement(R.A,{control:c.createElement(ft.A,{color:"primary"}),label:"Automatic mode",style:{margin:"0 !important"},checked:n,onChange:function(){return o()}}))};PL.propTypes={dockId:i().string};const LL=(0,s.Ng)((function(e){return{dockId:(0,ef.eR)(e)}}),{})(PL);var _L=["dragHandleId"];function NL(){return NL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NL.apply(this,arguments)}function RL(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var DL=function(e){var t=e.dragHandleId,r=RL(e,_L);return c.createElement(b.A,NL({alignment:"left",dragHandle:t},r),c.createElement(g.A,{label:"Status",value:"status"}),c.createElement(g.A,{label:"Schedule",value:"schedule"}),c.createElement(g.A,{label:"Storage",value:"storage"}),c.createElement(g.A,{label:"Live cam",value:"liveCam"}))};DL.propTypes={dragHandleId:i().string,value:i().string},DL.defaultProps={value:"status"};const ML=(0,s.Ng)((function(e){return{value:(0,ef.RA)(e)}}),{onChange:function(e,t){return(0,ef.vz)(t)}})(DL);var FL=function(e){var t=e.onClose,r=e.open;return c.createElement(qr.A,{fullWidth:!0,open:r,maxWidth:"sm",sidebarComponents:c.createElement(LL,null),toolbarComponent:function(e){return c.createElement(ML,{dragHandle:e})},onClose:t},c.createElement(S.A,{position:"relative",height:448,overflow:"auto"},c.createElement(EL,null)))};FL.propTypes={open:i().bool,onClose:i().func};const UL=(0,s.Ng)((function(e){return{open:e.dialogs.dockDetails.open,selectedTab:(0,ef.RA)(e)}}),{onClose:ef.Gj})(FL);r(18107),r(67357);var GL=function(){return function(e,t){var r=t();e((0,qi.gW)(!(0,$i.S)(r)))}},VL=r(17965),BL=r.n(VL);function HL(e){return e.hotkeys.pendingUAVId}function WL(e){return e.hotkeys.dialogVisible}function zL(e){return e.hotkeys.pendingUAVId.length>0}var YL=r(45480);function KL(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return qL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qL(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function qL(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var $L=["","0","00","000","0000"];function ZL(e,t){var r=t(),n=HL(r);if(n&&"string"==typeof n&&n.length>0){var o=[],a=(0,xr.VZ)(r);if("s"===n.charAt(0)){var i=Number(n.slice(1));if(Number.isFinite(i)){var c=a[i-1];(0,Ge.default)(c)||o.push(c)}}else{var l,u=KL(/^\d+$/.test(n)?$L:[""]);try{for(u.s();!(l=u.n()).done;){var s=l.value+n;if((0,mo.Pz)(r,s)||a.includes(s)){o.push(s);break}}}catch(e){u.e(e)}finally{u.f()}}return e((0,kx.KY)(o)),e(QL()),o.length>0&&function(e){const t=WS(e);t&&$x(`#${t}`)}(o[0]),!0}return!1}function XL(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).executeOnlyWithoutPendingUAVId;return function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return function(r,o){if(!ZL(r,o)||!t)return r(e.apply(void 0,n))}}}function JL(e){return function(t,r){if("s"===e)return t((0,YL.Xe)("s")),void t((0,YL.ul)());if("number"==typeof e&&(e=String(e)),"string"==typeof e&&1===e.length&&e>="0"&&e<="9"){var n=HL(r());n.length<10&&t((0,YL.Xe)(n+e)),t((0,YL.ul)())}}}function QL(){return(0,YL.Xe)("")}function e_(){return function(e,t){var r=t();zL(r)?e(QL()):!function(e){return!e.alert.muted&&e.alert.count>0}(r)?e((0,hs.wr)()):e((0,xi.cB)())}}var t_=function(){return function(e){!function(){var e;const t=document.querySelector(".ol-mouse-position"),r=null===(e=(t?[...t.childNodes].filter((e=>e.nodeType===Node.TEXT_NODE)):[])[0])||void 0===e?void 0:e.textContent;return!!r&&(VL(r),!0)}()?e((0,ku.Ds)({message:"Failed to copy coordinates; are you hovering over the map?",semantics:"error"})):e((0,ku.Ds)("Coordinates copied to clipboard."))}};function r_(){return function(e,t){var r=HL(t());r.length>0&&(e((0,YL.Xe)(r.slice(0,-1))),e((0,YL.ul)()))}}for(var n_=r(78059),o_="_hidden",a_={ACTIVATE_SELECTION:{name:"Show properties dialog for selection",sequence:"enter"},CLEAR_SELECTION:{name:"Clear selection",sequence:"esc"},CLEAR_STORED_SETTINGS:{name:"Clear stored settings and reload",sequence:"mod+alt+c"},COPY_COORDINATES:{name:"Copy coordinates to clipboard",sequence:"mod+shift+c"},PAGE_DOWN:{name:"Page down",sequence:"pagedown",group:o_},PAGE_UP:{name:"Page up",sequence:"pageup",group:o_},REMOVE_SELECTION:{name:"Remove selection",sequence:"del"},SELECT_ALL_DRONES:{name:"Select all drones",sequence:"mod+a"},SELECT_FIRST:{name:"Select first drone",sequence:"home",group:o_},SELECT_LAST:{name:"Select last drone",sequence:"end",group:o_},SELECT_DOWN:{name:"Select next drone (vertically)",sequence:"down",group:o_},SELECT_UP:{name:"Select previous drone (vertically)",sequence:"up",group:o_},SELECT_LEFT:{name:"Select previous drone (horizontally)",sequence:"left",group:o_},SELECT_RIGHT:{name:"Select next drone (horizontally)",sequence:"right",group:o_},TOGGLE_BROADCAST_MODE:{name:"Toggle the broadcast mode switch",sequence:"mod+b"},SEND_FLASH_LIGHTS_COMMAND:{name:"Flash lights on selected UAVs",sequence:"w"},SEND_TAKEOFF_COMMAND:{name:"Send takeoff command to selection",sequence:"mod+alt+t"},SEND_LANDING_COMMAND:{name:"Send landing command to selection",sequence:"mod+alt+l"},SEND_POSITION_HOLD_COMMAND:{name:"Send position hold command to selection",sequence:"mod+alt+p"},SEND_RTH_COMMAND:{name:"Send return to home command to selection",sequence:"mod+alt+r"},SHOW_HOTKEY_DIALOG:{name:"Show hotkeys",sequence:"?",group:o_},TOGGLE_SORT_BY_MISSION_ID:{name:"Toggle sorting UAVs by mission IDs",sequence:"mod+s"},TYPE_S:{name:"Prepend S to the pending UAV ID",sequence:"s",group:o_},DELETE_LAST_CHARACTER:{name:"Delete last character of pending UAV ID",sequence:"backspace",group:o_}},i_=0,c_=[0,1,2,3,4,5,6,7,8,9];i_<c_.length;i_++){var l_=c_[i_];a_["TYPE_".concat(l_)]={name:"Append ".concat(l_," to the pending UAV ID"),sequence:String(l_),group:o_}}var u_=n_.wl?"meta+":"ctrl+",s_=function(e){return e.replace("mod+",u_)};!function(e){for(var t=0,r=Object.values(e);t<r.length;t++){var n=r[t];n.sequence?n.sequence=s_(n.sequence):Array.isArray(n.sequences)&&(n.sequences=n.sequences.map(s_))}}(a_);const f_=a_;function p_(e){return p_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p_(e)}function d_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d_(Object(r),!0).forEach((function(t){m_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m_(e,t,r){var n;return n=function(e,t){if("object"!=p_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=p_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==p_(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(0,Vj.configure)({allowCombinationSubmatches:!0,ignoreRepeatedEventsWhenKeyHeldDown:!1});var h_=function(e){var t=e.handlers;return c.createElement(Vj.GlobalHotKeys,{keyMap:f_,handlers:t})},v_=function(e,t,r){return y_(y_({},t),(0,aj.A)(e,(function(e){return function(t){t.preventDefault(),r(e())}})))};h_.propTypes={handlers:i().object};var g_=(0,eb.xM)({getTargetedUAVIds:function(e){return(0,$i.S)(e)?(0,mo.Ev)(e):(0,mo.YZ)(e)},getTransportOptions:function(e){return{broadcast:(0,$i.S)(e),channel:(0,xr.$D)(e)||0}}}),b_=function(e){return function(){var t=g_[e];return t&&"function"==typeof t?t():function(){}}};const w_=(0,s.Ng)(null,(function(e){return{handlers:v_({ACTIVATE_SELECTION:XL((function(){return function(e,t){if(Yx.hasListeners())Kx("ACTIVATE_SELECTION")();else{var r=(0,mo.YZ)(t());r&&r.length>0&&e((0,Tx.Te)(r.at(-1)))}}}),{executeOnlyWithoutPendingUAVId:!0}),CLEAR_SELECTION:e_,COPY_COORDINATES:t_,DELETE_LAST_CHARACTER:r_,REMOVE_SELECTION:XL((function(){return function(e){e((0,kx.VD)()),e((0,gr.tD)()),e((0,Fm._L)())}})),SELECT_ALL_DRONES:hs.lC,SEND_FLASH_LIGHTS_COMMAND:XL(b_("flashLight")),SEND_TAKEOFF_COMMAND:b_("takeOff"),SEND_LANDING_COMMAND:b_("land"),SEND_POSITION_HOLD_COMMAND:b_("holdPosition"),SEND_RTH_COMMAND:b_("returnToHome"),SHOW_HOTKEY_DIALOG:YL.il,TOGGLE_BROADCAST_MODE:GL,TOGGLE_SORT_BY_MISSION_ID:I.vZ,TYPE_0:function(){return JL(0)},TYPE_1:function(){return JL(1)},TYPE_2:function(){return JL(2)},TYPE_3:function(){return JL(3)},TYPE_4:function(){return JL(4)},TYPE_5:function(){return JL(5)},TYPE_6:function(){return JL(6)},TYPE_7:function(){return JL(7)},TYPE_8:function(){return JL(8)},TYPE_9:function(){return JL(9)},TYPE_S:function(){return JL("s")}},{CLEAR_STORED_SETTINGS:fs.si,PAGE_DOWN:Kx("PAGE_DOWN"),PAGE_UP:Kx("PAGE_UP"),SELECT_FIRST:Kx("SELECT_FIRST"),SELECT_LAST:Kx("SELECT_LAST"),SELECT_DOWN:Kx("SELECT_DOWN"),SELECT_UP:Kx("SELECT_UP"),SELECT_LEFT:Kx("SELECT_LEFT"),SELECT_RIGHT:Kx("SELECT_RIGHT")},e)}}))(h_);var E_=r(79764),A_=r(24896),S_=r(90652),O_=r(65594);function x_(){return x_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x_.apply(this,arguments)}function j_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k_(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var T_={width:120},I_={maxWidth:"99%"},C_=function(e){var t=e.name,r=e.sequences;return c.createElement(O_.A,null,c.createElement(S_.A,{style:T_,padding:"none"},r.map((function(e){var t,r=e.sequence;return"string"!=typeof(t=r)?null:t.split("+").map((function(e){var t=e.trim().toLowerCase().replace(/^mod$/,n_.GB).replace(/^cmd$/,"\u2318").replace(/^meta$/,"\u2318").replace(/^alt$/,n_.wl?"\u2325":"Alt").replace(/^shift/,"\u21e7").replace(/^del$/,n_.wl?"\u2326":"Delete");return c.createElement("kbd",{key:e},t.charAt(0).toUpperCase()+t.slice(1))}))}))),c.createElement(S_.A,{style:I_},t))};C_.propTypes={name:i().string,sequences:i().arrayOf(i().shape({sequence:i().string}))};var P_=function(e){var t=e.onClose,r=e.open,n=j_((0,c.useState)((function(){return(0,Vj.getApplicationKeyMap)()})),2),o=n[0],a=n[1];return(0,c.useEffect)((function(){a((0,Vj.getApplicationKeyMap)())}),[r]),c.createElement(qr.A,{title:"Hotkeys",open:r,onClose:t},c.createElement(v.A,null,c.createElement(E_.A,{size:"small"},c.createElement(A_.A,null,Object.keys(o||{}).map((function(e){return o[e].group!==o_&&c.createElement(C_,x_({key:e},o[e]))}))))),c.createElement(vr.A,null,c.createElement(x.A,{color:"primary",onClick:t},"Close")))};P_.propTypes={onClose:i().func,open:i().bool};const L_=(0,s.Ng)((function(e){return{open:WL(e)}}),{onClose:YL.p})(P_);var __=r(85156);const N_=(0,s.Ng)((function(e){var t=HL(e);return{text:t,open:t.length>0}}),{})(__.A);var R_=r(86322),D_=r(17451),M_=r(82914);function F_(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return U_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U_(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function U_(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var G_=function(e){var t=e.expiryDate,r=e.features,n=e.id,o=e.licensee,a=e.restrictions,i=[],l=[];if(Array.isArray(r)){var u,s=F_(r);try{for(s.s();!(u=s.n()).done;){var f=u.value;i.push(c.createElement(lt.A,{key:"".concat(f.type,"_").concat(f.label),disableGutters:!0},c.createElement(ut.A,null,c.createElement(M_.A,null)),c.createElement(st.A,{primary:f.label,secondary:f.secondaryLabel})))}}catch(e){s.e(e)}finally{s.f()}}if(Array.isArray(a)){var p,d=F_(a);try{for(d.s();!(p=d.n()).done;){var y=p.value;l.push(c.createElement(lt.A,{key:"".concat(y.type,"_").concat(y.label),disableGutters:!0},c.createElement(ut.A,null,c.createElement(D_.A,null)),c.createElement(st.A,{primary:y.label,secondary:y.secondaryLabel})))}}catch(e){d.e(e)}finally{d.f()}}return c.createElement(ct.A,{dense:!0,disablePadding:!0},c.createElement(lt.A,{disableGutters:!0},c.createElement(ut.A,null,c.createElement(Dc.A,null)),c.createElement(st.A,{primary:"License ID",secondary:n||"No license activated"})),o&&c.createElement(lt.A,{disableGutters:!0},c.createElement(ut.A,null,c.createElement(Hi.A,null)),c.createElement(st.A,{primary:"Name of license holder",secondary:o})),n&&c.createElement(lt.A,{disableGutters:!0},c.createElement(ut.A,null,c.createElement(R_.A,null)),c.createElement(st.A,{primary:"Expiry date",secondary:t||"This license never expires"})),i.length>0&&c.createElement(yl.A,null),i,l.length>0&&c.createElement(yl.A,null),l)};G_.propTypes={id:i().string,licensee:i().string,expiryDate:i().string,features:i().arrayOf(i().shape({type:i().string,label:i().string,secondaryLabel:i().string})),restrictions:i().arrayOf(i().shape({type:i().string,label:i().string,secondaryLabel:i().string}))};const V_=function(){var e=Uw(),t=(0,xE.A)(e.query.getLicenseInformation,[e]);return t.error&&!t.loading?c.createElement(Sr.A,{icon:c.createElement(wh.A,null),text:"Error while loading license information",button:c.createElement(x.A,{onClick:t.retry},"Try again")}):t.value?c.createElement(G_,t.value):c.createElement(TE.A,{fullHeight:!0,label:"Retrieving license information..."})};var B_=function(e){var t=e.onClose,r=e.open;return c.createElement(qr.A,{fullWidth:!0,open:r,maxWidth:"xs",title:"License information",onClose:t},c.createElement(v.A,null,c.createElement(V_,null)),c.createElement(vr.A,null,c.createElement(x.A,{onClick:t},"Close")))};B_.propTypes={open:i().bool,onClose:i().func};const H_=(0,s.Ng)((function(e){return{open:e.licenseInfo.dialog.open}}),{onClose:vl.Kx})(B_);var W_=r(42095),z_=function(e){var t=e.onClearCache,r=e.onClose,n=e.isConnected,o=e.isMapCachingEnabled,a=e.isMapCachingSupported,i=e.setMapCachingEnabled,l=e.t;return c.createElement(c.Fragment,null,c.createElement(Ct,null,a?It.success:It.warning,c.createElement(st.A,{primary:l(a?"mapCachingPanel.serverSupport":n?"mapCachingPanel.serverNotSupport":"mapCachingPanel.connectToServer")})),c.createElement(lt.A,{button:!0,disableRipple:!0,onClick:function(){return i(!o)}},c.createElement(ut.A,{style:{margin:"0 17px 0 2px"}},c.createElement(ft.A,{checked:o})),c.createElement(st.A,{primary:l("mapCachingPanel.useCachedMapTiles")})),c.createElement(vr.A,null,c.createElement(x.A,{disabled:!a||!t,onClick:t},l("mapCachingPanel.clearChache")),c.createElement(S.A,{flex:1}),c.createElement(x.A,{onClick:r},l("general.action.close"))))};z_.propTypes={isConnected:i().bool,isMapCachingEnabled:i().bool,isMapCachingSupported:i().bool,setMapCachingEnabled:i().func,onClearCache:i().func,onClose:i().func,t:i().func};const Y_=(0,s.Ng)((function(e){return{isConnected:(0,yn.UJ)(e),isMapCachingEnabled:(0,W_.j)(e),isMapCachingSupported:(0,yn.KL)(e)}}),{setMapCachingEnabled:gl.n5})((0,m.CI)()(z_));var K_=function(e){var t=e.onClose,r=e.open,n=e.t;return c.createElement(qr.A,{fullWidth:!0,open:r,maxWidth:"xs",title:n("mapCachingDialog.offlineMaps"),onClose:t},c.createElement(Y_,{onClose:t}))};K_.propTypes={open:i().bool,onClose:i().func,t:i().func};const q_=(0,s.Ng)((function(e){return{open:e.mapCaching.dialog.open}}),{onClose:gl._k})((0,m.CI)()(K_));var $_=r(52490),Z_=(0,Ve.createSelector)(kl,xl,(function(e,t){if(2===e.length){var r=t[e[0]],n=t[e[1]];if(r&&n)return e}})),X_=(0,Ve.createSelector)(Z_,xl,(function(e,t){if(e&&2===e.length){var r=t[e[0]],n=t[e[1]];return[[r.mean.lon,r.mean.lat],[n.mean.lon,n.mean.lat]]}})),J_=function(e){var t=e.coordinates,r=e.hasEnoughMeasurements,n=e.selectedUAVIdPair,o=e.t;if(n){var a=(0,K.dc)(t[0],t[1]).toFixed(1),i=(0,K.h7)(t[0],t[1]).toFixed(1);return c.createElement(c.Fragment,null,c.createElement(O.A,{color:"textSecondary",variant:"body2",component:"span"},n[0]," \u2192 ",n[1],":"," "),c.createElement(O.A,{variant:"body2",component:"span"},(0,io.BO)((0,$_.Yf)(t[0],t[1]))),a===i?c.createElement(c.Fragment,null,c.createElement(O.A,{color:"textSecondary",variant:"body2",component:"span"},o("bearingCalculator.bearing")),c.createElement(O.A,{variant:"body2",component:"span"},a,"\xb0")):c.createElement(c.Fragment,null,c.createElement(O.A,{color:"textSecondary",variant:"body2",component:"span"},o("bearingCalculator.initialBearing")),c.createElement(O.A,{variant:"body2",component:"span"},a,"\xb0"),c.createElement(O.A,{color:"textSecondary",variant:"body2",component:"span"},o("bearingCalculator.finalBearing")),c.createElement(O.A,{variant:"body2",component:"span"},i,"\xb0")))}return c.createElement(O.A,{color:"textSecondary",variant:"body2",align:"center"},o(r?"bearingCalculator.selectTwoItems":"bearingCalculator.addAtLeastTwoItems"))};J_.propTypes={coordinates:i().arrayOf(i().arrayOf(i().number)),hasEnoughMeasurements:i().bool,selectedUAVIdPair:i().arrayOf(i().string),t:i().func};const Q_=(0,s.Ng)((function(e){return{coordinates:X_(e),selectedUAVIdPair:Z_(e),hasEnoughMeasurements:Sl(e).length>=2}}))((0,m.CI)()(J_));var eN=r(47201),tN=r(85632),rN=r(89645),nN=r(60556),oN=r(30827),aN=r(25678);function iN(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=lN(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function cN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||lN(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lN(e,t){if(e){if("string"==typeof e)return uN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?uN(e,t):void 0}}function uN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var sN=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).whenEmpty,r=void 0===t?"nop":t;return function(){return function(t,n){var o=n(),a=kl(o);a&&0!==a.length||"useAll"!==r||(a=Sl(o)),a&&a.length>0&&t(e(a))}}},fN=sN(Pl.Pl,{whenEmpty:"useAll"}),pN=sN(Pl.GY),dN=sN(Pl.eV,{whenEmpty:"useAll"}),yN=sN(Pl.po),mN=function(e){return function(t,r){for(var n=r(),o=["lat","lon","amsl","ahl"],a={},i=0,c=Object.entries(e);i<c.length;i++){var l=cN(c[i],2),u=l[0],s=l[1],f=n.measurement.averagingResults.byId[u],p=f.numSamples+1;if(f){a[u]={lastSampleAt:Date.now(),numSamples:p,mean:{},sqDiff:{}};var d,y=iN(o);try{for(y.s();!(d=y.n()).done;){var m=d.value;if(!(0,Ge.default)(s[m])){var h=s[m]-f.mean[m],v=f.mean[m]+h/p,g=(s[m]-v)*h,b=f.sqDiff[m]+g;a[u].mean[m]=v,a[u].sqDiff[m]=b}}}catch(e){y.e(e)}finally{y.f()}}}t((0,Pl.jr)(a))}},hN=function(e){return function(t,r){var n=r(),o=jl(n,e);if(o){var a=(0,ho.MH)(n)(o);BL()(a),1===e.length?t((0,ku.Ds)("Coordinates copied to clipboard.")):t((0,ku.Ds)("Coordinates of centroid copied to clipboard."))}}},vN=sN(hN,{whenEmpty:"useAll"}),gN=sN((function(e){return function(t,r){var n=jl(r(),e);n&&(t((0,Oe.dK)(n)),1===e.length?t((0,ku.Ds)("Map origin set to the coordinates of the selected UAV.")):t((0,ku.Ds)("Map origin set to centroid of selection.")))}}),{whenEmpty:"useAll"});const bN=(0,_r.A)(c.createElement("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy");var wN=function(e){var t=e.hasMeasurements,r=e.hasSelection,n=e.onCopyCentroidOfSelection,o=e.onPauseSelected,a=e.onRemoveSelected,i=e.onRestartSelected,l=e.onResumeSelected,u=e.onSetCentroidOfSelectionAsMapOrigin,s=e.onUAVIdAdded,f=e.t;return c.createElement(aN.default,{disableGutters:!0},c.createElement(S.A,{position:"absolute",display:"flex"},c.createElement(_S,{filterable:!0,onSelect:s},(function(e){return c.createElement(pt.default,{content:f("coordinateAveragingDialogToolbar.addNewDrone")},c.createElement(W.A,{color:"inherit",onClick:e},c.createElement(eN.A,null)))})),c.createElement(pt.default,{content:f("coordinateAveragingDialogToolbar.removeSelected")},c.createElement(W.A,{disabled:!r,color:"inherit",onClick:a},c.createElement(nN.A,null))),c.createElement(nh,{orientation:"vertical"}),c.createElement(pt.default,{content:f("coordinateAveragingDialogToolbar.pauseMeasurement")},c.createElement(W.A,{disabled:!t,color:"inherit",onClick:o},c.createElement(tN.A,null))),c.createElement(pt.default,{content:f("coordinateAveragingDialogToolbar.resumeMeasurement")},c.createElement(W.A,{disabled:!t,color:"inherit",onClick:l},c.createElement(js.A,null))),c.createElement(pt.default,{content:f("coordinateAveragingDialogToolbar.resetMeasurement")},c.createElement(W.A,{disabled:!t||!r,color:"inherit",onClick:i},c.createElement(oN.A,null))),c.createElement(nh,{orientation:"vertical"}),c.createElement(pt.default,{content:f("coordinateAveragingDialogToolbar.copyCentroid")},c.createElement(W.A,{disabled:!t,color:"inherit",onClick:n},c.createElement(bN,null))),c.createElement(pt.default,{content:f("coordinateAveragingDialogToolbar.setCentroidAsMapOrigin")},c.createElement(W.A,{disabled:!t,color:"inherit",onClick:u},c.createElement(rN.A,null)))))};wN.propTypes={hasMeasurements:i().bool,hasSelection:i().bool,onCopyCentroidOfSelection:i().func,onPauseSelected:i().func,onRemoveSelected:i().func,onResumeSelected:i().func,onRestartSelected:i().func,onSetCentroidOfSelectionAsMapOrigin:i().func,onUAVIdAdded:i().func,t:i().func};const EN=(0,s.Ng)((function(e){return{hasMeasurements:Tl(e),hasSelection:Cl(e)}}),{onCopyCentroidOfSelection:vN,onPauseSelected:fN,onRemoveSelected:yN,onResumeSelected:dN,onRestartSelected:pN,onSetCentroidOfSelectionAsMapOrigin:gN,onUAVIdAdded:Pl.RQ})((0,m.CI)()(wN));var AN=["coordinateFormatter","measurement","onCopy"];function SN(){return SN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SN.apply(this,arguments)}function ON(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var xN=function(e,t,r){return t>0&&r>1?"".concat(e.toFixed(1)," \xb1 ").concat(Math.sqrt(t/(r-1)).toFixed(1)):e.toFixed(1)},jN=(0,St.A)((function(e){return{root:{fontVariantNumeric:"lining-nums tabular-nums","&>div:first-child>div:first-child":{maxWidth:44}},dim:{color:e.palette.text.secondary},avatar:{transition:e.transitions.create(["background-color","color"],{duration:e.transitions.duration.short})},sampling:{backgroundColor:ro.Ay.success,color:e.palette.getContrastText(ro.Ay.success),position:"relative"},primaryContainer:{display:"flex"},secondaryContainer:{display:"flex"},latLonCoordinatesColumn:{minWidth:180},amslColumn:{minWidth:140},ahlColumn:{minWidth:80,flex:1}}}),{name:"MeasurementListItem"}),kN=function(e){var t,r,o=e.coordinateFormatter,a=e.measurement,i=e.onCopy,l=ON(e,AN),u=jN(),s=a||{},f=s.extraSamplingTime,p=s.id,d=s.lastSampleAt,y=s.startedAt,m=s.mean,h=s.numSamples,v=s.sampling,g=s.sqDiff,b=o||xu.default,w=[m.lon,m.lat];return h<=0?(t="Waiting for samples\u2026",r=c.createElement("div",{className:(0,n.A)(u.dim,u.secondaryContainer)},"No samples yet")):(t=c.createElement("div",{className:u.primaryContainer},c.createElement("div",{className:u.latLonCoordinatesColumn},b(w)),c.createElement("div",{className:u.amslColumn},xN(m.amsl,g.amsl,h),"m ",c.createElement("span",{className:u.dim},"AMSL")),c.createElement("div",{className:u.ahlColumn},xN(m.ahl,g.ahl,h),"m ",c.createElement("span",{className:u.dim},"AHL"))),r=c.createElement("div",{className:u.secondaryContainer},c.createElement("div",{className:u.latLonCoordinatesColumn},function(e,t,r){if(r<2)return"0";var n=Math.sqrt(t.lat/(r-1)),o=Math.sqrt(t.lon/(r-1)),a=(0,$_.Yf)([e.lon-o,e.lat-n],[e.lon+o,e.lat+n])/2;return(0,io.BO)(a,1)}(m,g,h)," ",c.createElement("span",{className:u.dim},"std.dev. in XY")),c.createElement("div",{className:(0,n.A)(u.dim,u.amslColumn)},h," samples"),c.createElement("div",{className:(0,n.A)(u.dim,u.ahlColumn)},"Duration:"," ",function(e,t,r){return(0,io.a3)((((0,Ge.default)(t)||(0,Ge.default)(e)?0:t-e)+(r||0))/1e3)}(y,d,f)))),c.createElement(lt.A,SN({button:!0},l,{className:u.root}),c.createElement(Vm.A,null,c.createElement(xS,{id:p,variant:"minimal",crossed:!v})),c.createElement(st.A,{disableTypography:!0,primary:t,secondary:r}),h>0&&c.createElement(ds.A,null,c.createElement(pt.default,{content:"Copy to clipboard"},c.createElement(W.A,{edge:"end","aria-label":"copy",onClick:function(){return i(p)}},c.createElement(bN,null)))))};kN.propTypes={coordinateFormatter:i().func,measurement:i().shape({id:i().string,numSamples:i().number,sampling:i().bool}).isRequired,onCopy:i().func};var TN=(0,ms.T_)((function(e,t,r){return c.createElement(kN,{key:e.id,coordinateFormatter:t.coordinateFormatter,measurement:e,selected:r,onClick:t.onItemSelected,onCopy:t.onCopy})}),{dataProvider:"measurements",backgroundHint:c.createElement(Sr.A,{style:{padding:16},text:"Add a drone to measure with the + button in the toolbar"})});const IN=(0,s.Ng)((function(e){return{coordinateFormatter:(0,ho.MH)(e),dense:!0,fullWidth:!0,measurements:Ol(e),value:kl(e)}}),{onChange:Pl.Xu,onCopy:function(e){return function(t){return t(hN([e]))}}})(TN);var CN=function(e){var t=e.onClose,r=e.open;return c.createElement(h.A,{fullWidth:!0,open:r,maxWidth:"sm",onClose:t},c.createElement(EN,null),c.createElement(S.A,{display:"flex",flexDirection:"row",alignItems:"stretch",minHeight:240},c.createElement(S.A,{flex:1},c.createElement(IN,null))),c.createElement(S.A,{className:"bottom-bar",textAlign:"center",py:1},c.createElement(Q_,null)))};CN.propTypes={open:i().bool,onClose:i().func};const PN=(0,s.Ng)((function(e){return{open:e.measurement.averagingDialog.open}}),{onClose:Pl.np})(CN);r(50113);var LN=function(e){var t=e.children,r=e.func,n=e.errorMessage,o=e.loadingMessage,a=e.style,i=(0,xE.A)((function(){return r?r():void 0}),[r]);return i.error&&!i.loading?c.createElement(Sr.A,{icon:c.createElement(wh.A,null),text:n||"An unexpected error happened",button:c.createElement(x.A,{onClick:i.retry},"Try again"),style:a}):i.loading?c.createElement(TE.A,{fullHeight:!0,label:o||"Please wait, loading...",style:a}):t?t(i.value):null};LN.propTypes={children:i().func,func:i().func,errorMessage:i().string,loadingMessage:i().string,style:i().object};const _N=LN;var NN=["getTypes","style"];function RN(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function DN(){return DN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DN.apply(this,arguments)}var MN=function(e){var t=e.name,r=e.description,n=e.onItemSelected;return c.createElement(lt.A,{button:!0,onClick:n},c.createElement(st.A,{primary:t,secondary:r}))};MN.propTypes={name:i().string,description:i().string,onItemSelected:i().func};var FN=(0,ms.k3)((function(e,t){return c.createElement(MN,DN({key:e.id},e,t))}),{dataProvider:"items",displayName:"MissionTypeSelectorPresentation",backgroundHint:"No mission types"}),UN=function(e){var t=e.getTypes,r=e.style,n=RN(e,NN);return c.createElement(_N,{func:t,errorMessage:"Error while loading mission types from server",loadingMessage:"Retrieving mission types...",style:r},(function(e){return c.createElement(FN,DN({items:e,style:r},n))}))};UN.propTypes={getTypes:i().func,onChange:i().func,style:i().object,value:i().any};const GN=UN;var VN=r(96034),BN=r(41343),HN=r(49411),WN=r(15149),zN=r(78239),YN=r(74810),KN=r(46972);function qN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||$N(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $N(e,t){if(e){if("string"==typeof e)return ZN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ZN(e,t):void 0}}function ZN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XN(e){return XN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XN(e)}var JN=function(e,t,r){t in e||(e[t]=[]),e[t].push(r)};function QN(e){((0,Ge.default)(e)||"object"!==XN(e)||"object"!==e.type)&&(e={}),e=structuredClone(e);var t={},r=[],n={schema:e,uiContexts:t};if(e.properties){for(var o=0,a=Object.entries(e.properties);o<a.length;o++){var i=qN(a[o],2),c=i[0],l=i[1];if(l.uiContextHint&&!l["ui:contextHint"]&&(l["ui:contextHint"]=l.uiContextHint,delete l.uiContextHint),l["ui:contextHint"]){var u=l["ui:contextHint"];KN.Qf.includes(u)&&(JN(t,u,c),r.push(c),delete l["ui:contextHint"])}}var s,f=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=$N(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}(r);try{for(f.s();!(s=f.n()).done;){var p=s.value;delete e.properties[p]}}catch(e){f.e(e)}finally{f.f()}e.required&&(e.required=e.required.filter((function(e){return!r.includes(e)})))}return n}function eR(e){return eR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eR(e)}function tR(){tR=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==eR(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(eR(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function rR(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function nR(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){rR(a,n,o,i,c,"next",e)}function c(e){rR(a,n,o,i,c,"throw",e)}i(void 0)}))}}function oR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function aR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oR(Object(r),!0).forEach((function(t){iR(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oR(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function iR(e,t,r){var n;return n=function(e,t){if("object"!=eR(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=eR(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==eR(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return lR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lR(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lR(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uR(){return uR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uR.apply(this,arguments)}var sR=(0,St.A)((function(e){return{tabs:{minHeight:36,position:"sticky",top:0,backgroundColor:e.palette.background.paper,zIndex:1100},tab:{minHeight:36,textTransform:"capitalize"}}}),{name:"MissionParameterEditorPresentation"}),fR={"ui:options":{submitButtonOptions:{norender:!0}}},pR=function(e,t){return t.startsWith("ui:")},dR=function(e){var t;return null!==(t=e["ui:group"])&&void 0!==t?t:"default"},yR=(0,HN.nC)().widgets.TextWidget,mR=c.forwardRef((function(e,t){return c.createElement(yR,uR({ref:t},e,{onWheel:function(e){e.target.blur()}}))})),hR=function(e){var t=e.onChange,r=e.parameters,n=e.schema,o=(0,c.useMemo)((function(){return(0,VN.A)(n,pR)}),[n]),a=(0,c.useMemo)((function(){return(0,jp.A)(n,pR)}),[n]),i=(0,c.useMemo)((function(){return QN(o)}),[o]),l=i.schema,u=i.uiContexts,s=(0,BN.A)("ui:order"in a?a["ui:order"].map((function(e){return dR(l.properties[e])})):Object.values(l.properties).map(dR).sort()),f=cR((0,c.useState)("default"),2),p=f[0],d=f[1],y=(0,c.useCallback)((function(e,t){return d(t)}),[d]),m=(0,c.useMemo)((function(){return aR(aR({},l),{},{properties:(0,jp.A)(l.properties,(function(e){return dR(e)===p}))})}),[l,p]);(0,c.useEffect)((function(){t({fromUser:(0,zN.NV)(YN.Ay,l,r)})}),[l,t]),(0,c.useEffect)((function(){t({fromContext:u})}),[t,u]);var h=(0,c.useCallback)((function(e){var r=e.errors,n=e.formData;0===r.length&&t&&t({fromUser:n})}),[t]),v=sR();return c.createElement(c.Fragment,null,s.length>1&&c.createElement(iS.A,{centered:!0,variant:"fullWidth",className:v.tabs,value:p,onChange:y},s.map((function(e){var t,r;return c.createElement(g.A,{key:e,className:v.tab,label:null!==(t=null==a||null===(r=a["ui:groups"])||void 0===r||null===(r=r[e])||void 0===r?void 0:r.title)&&void 0!==t?t:e,value:e})}))),c.createElement(WN.Ay,{schema:m,widgets:{TextWidget:mR},uiSchema:aR(aR({},fR),a),validator:YN.Ay,formData:r,onChange:h}))};hR.propTypes={onChange:i().func,parameters:i().object,schema:i().object};var vR=function(e){var t=e.getSchema,r=e.onChange,n=e.parameters,o=e.selectedType,a=(0,c.useCallback)(nR(tR().mark((function e(){var r,n;return tR().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=8;break}return e.next=3,t(o);case 3:return r=e.sent,n=r.plan,e.abrupt("return",n);case 8:return e.abrupt("return",void 0);case 9:case"end":return e.stop()}}),e)}))),[t,o]),i=(0,m.Bd)().t;return o&&c.createElement(_N,{func:a,errorMessage:i("mission.planner.schema.error"),loadingMessage:i("mission.planner.schema.loading")},(function(e){return e?c.createElement(hR,{schema:e,parameters:n,onChange:r}):c.createElement(Sr.A,{text:i("mission.planner.schema.notFound")})}))};vR.propTypes={getSchema:i().func,onChange:i().func,parameters:i().object,selectedType:i().string};const gR=vR;var bR=function(e){var t=e.onMissionTypeChange,r=e.onMissionTypeCleared,n=e.onParametersChange,o=e.parameters,a=e.selectedType,i=e.selectedTypeInfo,l=Uw(),u=(0,c.useMemo)((function(){return{getTypes:cj()((function(){return l.query.getMissionTypes({features:["plan"]})}),{promise:!0}),getSchema:cj()((function(e){return l.query.getMissionTypeSchemas(e)}),{promise:!0})}}),[l]);return(0,c.useEffect)((function(){!l.canSend()||!a||i&&i.id===a||u.getTypes().then((function(e){var n=e.find((function(e){return e.id===a}));n?t(n):r()})).catch((function(e){}))}),[l,u,t,a,i]),c.createElement(Dg,{height:400,selectedPage:a&&(null==i?void 0:i.id)===a?"parameters":"type"},c.createElement(Ng,{scrollable:!0,id:"type"},c.createElement(GN,{getTypes:u.getTypes,value:a,onChange:function(e,r){return t(r)}})),c.createElement(Ng,{id:"parameters",display:"flex",flexDirection:"column"},c.createElement(ct.A,{disablePadding:!0},c.createElement(Ct,null,c.createElement(st.A,{primary:(null==i?void 0:i.name)||"No mission type selected",secondary:null==i?void 0:i.description}),i&&c.createElement(ds.A,null,c.createElement(W.A,{edge:"end","aria-label":"remove",onClick:r},c.createElement(Y.default,null))))),c.createElement(S.A,{px:2,position:"relative",flex:1,overflow:"auto"},c.createElement(gR,{getSchema:u.getSchema,parameters:o,selectedType:a,onChange:n}))))};bR.propTypes={onMissionTypeChange:i().func,onMissionTypeCleared:i().func,onParametersChange:i().func,parameters:i().object,selectedType:i().string,selectedTypeInfo:i().shape({id:i().string,name:i().string,description:i().string})};const wR=bR;function ER(e){return ER="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ER(e)}function AR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return SR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SR(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SR(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var OR=function(e){var t=e.applyGeofence,r=e.isConnectedToServer,n=e.isGeofenceOwnedByUser,o=e.onApplyGeofenceChanged,a=e.onClearMission,i=e.onClose,l=e.onInvokePlanner,u=e.onSaveContextParameters,s=e.onSaveUserParameters,f=e.onSelectedTypeChanged,p=e.open,d=e.parametersFromUser,y=e.selectedType,m=AR((0,c.useState)(null),2),h=m[0],v=m[1],g=AR((0,c.useState)(!1),2),b=g[0],w=g[1],E=(0,c.useCallback)((function(e){var t=e.fromUser,r=e.fromContext,n=!1,o=!1;void 0!==t&&(n=!0,"object"===ER(t)&&null!==t&&(s(t),o=!0)),void 0!==r&&u(r),w(Boolean(h)&&(n?o:b))}),[b,u,s,h]),A=(0,c.useCallback)((function(e){f(e.id),v(e),w(Boolean(e))}),[f,w,v]),O=(0,c.useCallback)((function(){f(null),E({fromUser:{},fromContext:{}}),w(!1)}),[E,f,w]);return c.createElement(qr.A,{fullWidth:!0,keepMounted:r,open:p,maxWidth:"sm",title:"Plan mission",onClose:i},c.createElement(wR,{parameters:d,selectedType:y,selectedTypeInfo:h,onMissionTypeChange:A,onMissionTypeCleared:O,onParametersChange:E}),c.createElement(vr.A,null,c.createElement(yf.W1,{content:"Manual geofence in use",disabled:!n},c.createElement(R.A,{label:"Generate geofence",control:c.createElement(_.A,{disabled:n,indeterminate:n,checked:t,onChange:o}),style:{marginLeft:0}})),c.createElement(S.A,{flex:1}),c.createElement(x.A,{onClick:i},"Close"),c.createElement(x.A,{disabled:!r||!b,color:"primary",onClick:function(){l&&b&&r&&(a(),l())}},"Create plan")))};OR.propTypes={applyGeofence:i().bool,isConnectedToServer:i().bool,isGeofenceOwnedByUser:i().bool,open:i().bool,onApplyGeofenceChanged:i().func,onClearMission:i().func,onClose:i().func,onInvokePlanner:i().func,onSaveContextParameters:i().func,onSaveUserParameters:i().func,onSelectedTypeChanged:i().func,parametersFromUser:i().object,selectedType:i().string};const xR=(0,s.Ng)((function(e){var t;return{applyGeofence:(0,xr.ij)(e),parametersFromUser:(0,xr.ok)(e),open:(0,xr.hT)(e),isConnectedToServer:(0,yn.UJ)(e),isGeofenceOwnedByUser:"user"===(null===(t=(0,xr.TF)(e))||void 0===t?void 0:t.owner),selectedType:(0,xr.tS)(e)}}),{onApplyGeofenceChanged:function(e){return(0,jr.r1)(e.target.checked)},onClearMission:Fm.O_,onClose:jr.$V,onInvokePlanner:Fm.dd,onSaveContextParameters:jr.Gy,onSaveUserParameters:jr.gG,onSelectedTypeChanged:jr.Ky})(OR);var jR=function(e){var t=e.uavId,r=e.onUpdate;return rA("/".concat(t,"/waypoint/status"),r),null};jR.propTypes={uavId:i().string,onUpdate:i().func};var kR=function(e){var t=e.availableUAVIds,r=e.firstMissionUAVId,n=e.storeProgress;return t.includes(r)?c.createElement(jR,{uavId:r,onUpdate:n}):null};kR.propTypes={availableUAVIds:i().arrayOf(i().string),firstMissionUAVId:i().string,storeProgress:i().func};const TR=(0,s.Ng)((function(e){return{availableUAVIds:(0,mo.Ev)(e),firstMissionUAVId:(0,xr.VZ)(e)[0]}}),{storeProgress:function(e){return function(t){if(e){var r=e.id,n=e.ratio;t((0,jr.n2)(r)),t((0,jr.NO)(n))}}}})(kR);var IR=r(83207),CR=r(43482);function PR(e){return PR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PR(e)}var LR=["y"];function _R(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function NR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function RR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?NR(Object(r),!0).forEach((function(t){DR(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NR(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function DR(e,t,r){var n;return n=function(e,t){if("object"!=PR(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=PR(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==PR(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var MR=(0,St.A)((function(e){return{root:{display:"flex",flexDirection:"column",minWidth:240},header:{display:"flex",minHeight:e.spacing(6),alignItems:"center",padding:e.spacing(0,0,0,2)},title:{textTransform:"uppercase",flex:1},list:{position:"relative",flex:1,overflow:"auto"},footer:{display:"flex",flexDirection:"row",justifyContent:"space-between",padding:e.spacing(1),textAlign:"center"}}}),{name:"ParameterListSidebar"}),FR=function(e){var t=e.canUpload,r=e.manifest,n=e.onImportItems,o=e.onRemoveItem,a=e.onRemoveAllItems,i=e.onStart,l=MR(),u=(0,IR.pn)(r.map((function(e,t){return RR(RR({},e),{},{y:28*t})})),{from:{position:"absolute",opacity:0},leave:{height:0,opacity:0},enter:function(e){return{y:e.y,opacity:1}},update:function(e){return{y:e.y}},key:function(e){return e.name}});return c.createElement(S.A,{className:l.root},c.createElement(S.A,{className:l.header},c.createElement(S.A,{className:l.title},"Manifest"),c.createElement(pt.default,{content:"Remove all items from manifest"},c.createElement(W.A,{disabled:!r||0===r.length,onClick:a},c.createElement(uf.A,null)))),c.createElement(oc.A,{className:l.list},u((function(e,t){var r=e.y,n=_R(e,LR),a=t.name,i=t.value;return c.createElement(IR.CS.div,{style:RR({transform:r.to((function(e){return"translate3d(0,".concat(e,"px,0)")})),width:"100%"},n)},c.createElement(lt.A,{button:!0,onClick:function(){return o(a)}},c.createElement(S.A,{display:"flex",flexDirection:"row",flexGrow:1},c.createElement(S.A,{flexGrow:1},a),c.createElement(S.A,{color:"text.secondary",ml:1},i))))}))),c.createElement(S.A,{className:l.footer},c.createElement(Df.A,{startIcon:c.createElement(it.A,null),onSelected:n},"Import..."),c.createElement(x.A,{disabled:!t,endIcon:c.createElement(CR.A,null),onClick:i},"Next step")))};FR.propTypes={canUpload:i().bool,manifest:i().arrayOf(i().shape({name:i().string,value:i().string})),onImportItems:i().func,onRemoveAllItems:i().func,onRemoveItem:i().func,onStart:i().func};const UR=(0,s.Ng)((function(e){return{canUpload:!cu(e),manifest:uu(e)}}),{onImportItems:function(e){return function(){var t=mu(du().mark((function t(r){var n,o;return du().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:if(!(e.size>131072)){t.next=5;break}return r((0,Co.f)("File too large; maximum allowed size is ".concat(128," KB"))),t.abrupt("return");case 5:return t.prev=5,t.next=8,e.text();case 8:o=t.sent,n=au(o),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),r((0,Co.f)("Error while parsing parameters from file",t.t0));case 15:Array.isArray(n)&&n.length>0&&r((0,fu._l)(n));case 16:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e){return t.apply(this,arguments)}}()},onRemoveAllItems:fu.HC,onRemoveItem:fu.pK,onStart:function(){return function(){var e=mu(du().mark((function e(t,r){var n;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=su(r()),t((0,fu.eQ)()),e.next=4,(0,Jr.Ay)(150);case 4:t((0,tu.mP)({job:{type:ru,payload:n},options:{backAction:(0,fu.h5)()}}));case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}})(FR);function GR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return VR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VR(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VR(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var BR=function(e){var t=e.onChange,r=e.optimizeUIForTouch,n=GR((0,c.useState)(""),2),o=n[0],a=n[1],i=GR((0,c.useState)(null),2),l=i[0],u=i[1],s=function(e){var r,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{r=au(e)}catch(e){return u(e.message||String(e)),t&&t({valid:!1}),!1}return u(""),t&&(t({value:r,valid:!0,commit:n}),a(r.map((function(e){var t=e.name,r=e.value;return"".concat(t,"=").concat(r)})).join("\n"))),!0};return c.createElement(z.A,{fullWidth:!0,multiline:!0,autoFocus:!r,error:Boolean(l),label:"Parameter names and values",variant:"filled",minRows:7,helperText:l||"Specify entries as name=value, one parameter per row.",value:o,onBlur:function(e){s(e.target.value)},onChange:function(e){a(e.target.value)},onKeyPress:function(e){e.shiftKey&&"Enter"===e.key&&(s(e.target.value,!0)&&a(""),e.preventDefault())}})};BR.propTypes={onChange:i().func,optimizeUIForTouch:i().bool};var HR=(0,s.Ng)((function(e){return{optimizeUIForTouch:(0,Kt.jz)(e)}}))(BR);const WR=function(){var e=(0,s.d4)(iu),t=(0,s.wA)();return c.createElement(S.A,{pt:1},c.createElement(HR,{onChange:function(e){var r=e.value,n=e.valid,o=e.commit;n&&o&&r.length>0&&t((0,fu._l)(r))}}),c.createElement(S.A,{pt:1},c.createElement(O.A,{variant:"body1"},"Press ",c.createElement("kbd",null,"\u21e7")," + ",c.createElement("kbd",null,"Enter")," to add the parameter to the manifest. Click on a parameter in the sidebar to remove it from the manifest.")),c.createElement(S.A,{pt:1},c.createElement(R.A,{style:{margin:"0"},control:c.createElement(ft.A,{checked:e,color:"primary",onChange:function(e,r){t((0,fu.hO)(r))}}),label:"Reboot after upload"})))};var zR=(0,St.A)({root:{"& div.MuiDialog-paper > div > div:first-child":{order:100,boxShadow:"2px 0 6px -2px inset rgba(0, 0, 0, 0.54)"}}},{name:"ParameterUploadSetupDialog"}),YR=function(e){var t=e.onClose,r=e.open,n=zR();return c.createElement(qr.A,{fullWidth:!0,className:n.root,open:r,maxWidth:"md",sidebarComponents:c.createElement(UR,null),title:"Upload parameters",onClose:t},c.createElement(v.A,null,c.createElement(WR,null)),c.createElement(vr.A,null,c.createElement(x.A,{onClick:t},"Close")))};YR.propTypes={open:i().bool,onClose:i().func};const KR=(0,s.Ng)((function(e){return{open:lu(e)}}),{onClose:fu.eQ})(YR);var qR=r(93334),$R=r(87092),ZR=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};const XR=({cancelButtonLabel:e,initialValues:t,message:r,onCancel:n,onSubmit:o,schema:a,submitButtonLabel:i,type:l})=>c.createElement(v.A,null,r&&c.createElement(S.A,{py:1},c.createElement(To.A,null,r)),l===$R.r.GENERIC&&c.createElement(WN.Ay,{formData:t,schema:a,validator:YN.Ay,onSubmit:o},c.createElement(vr.A,{style:{padding:0}},c.createElement(x.A,{color:"primary",type:"submit"},null!=i?i:"Submit"),c.createElement(x.A,{onClick:n},null!=e?e:"Cancel"))),l===$R.r.CONFIRMATION&&c.createElement(vr.A,{style:{padding:0}},c.createElement(x.A,{color:"primary",onClick:()=>{o({formData:{confirmed:!0}})}},null!=i?i:"Confirm"),c.createElement(x.A,{onClick:n},null!=e?e:"Cancel"))),JR=(0,s.Ng)((e=>e.dialogs.prompt),(e=>({onCancel(){e((0,qR.rb)())},onSubmit({formData:t}){e((0,qR.Jt)(t))}})))((e=>{var{onCancel:t,open:r,title:n}=e,o=ZR(e,["onCancel","open","title"]);return c.createElement(qr.A,{open:r,title:n,onClose:t},c.createElement(XR,Object.assign({},o,{onCancel:t})))}));var QR=r(76996),eD=r(88356),tD=r(75625),rD=r(21044);function nD(e){return nD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nD(e)}function oD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function aD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oD(Object(r),!0).forEach((function(t){iD(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oD(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function iD(e,t,r){var n;return n=function(e,t){if("object"!=nD(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=nD(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==nD(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var cD=(0,Tr.fH)({horizontalMargin:[Tr.mw,Tr.E2,(0,Tr.jZ)(1)],verticalMargin:[Tr.mw,Tr.E2,(0,Tr.jZ)(1)],maxVertexCount:[Tr.mw,Tr.nd,(0,Tr.jZ)(3)]}),lD=(0,QR.A)({field:"verticalMargin",updates:{heightLimit:function(e,t){var r=t.maxHeight;return e=Number.parseFloat(e),(0,rD.P)(r,Number.isFinite(e)?e:0)}}},{field:"horizontalMargin",updates:{distanceLimit:function(e,t){var r=t.maxDistance,n=t.maxGeofence;return e=Number.parseFloat(e),(0,rD.d)(Math.max(r,n),Number.isFinite(e)?e:0)}}}),uD=[eD.FU.KEEP_CURRENT,eD.FU.REPORT,eD.FU.RETURN,eD.FU.LAND],sD=function(e){var t=e.initialValues,r=e.onSubmit,n=e.t;return c.createElement(A.lV,{initialValues:t,validate:cD,decorators:[lD],onSubmit:r},(function(e){var t=e.handleSubmit,r=e.values,o=r.maxDistance,a=r.maxGeofence,i=r.maxHeight,l=r.simplify;return c.createElement("form",{id:"geofenceSettings",onSubmit:t},c.createElement(G.A,null,n("safetyDialog.geofenceTab.fenceAction")),c.createElement(S.A,{display:"flex",flexDirection:"column"},c.createElement(E.l6,{name:"action",label:n("safetyDialog.geofenceTab.fenceActionLabel"),variant:"filled"},uD.map((function(e){return c.createElement(F.A,{key:e,value:e},(0,eD.cd)(e))}))),c.createElement(Ar.A,null,n("safetyDialog.geofenceTab.fenceActionHelperText"))),c.createElement(G.A,null,n("safetyDialog.geofenceTab.safetyMargins")),c.createElement(S.A,{display:"flex",flexDirection:"row"},c.createElement(E.A_,{fullWidth:!1,name:"horizontalMargin",label:n("safetyDialog.geofenceTab.horizontal"),type:"number",InputProps:{endAdornment:c.createElement(H.A,{position:"end"},"m")},variant:"filled"}),c.createElement(S.A,{p:1}),c.createElement(E.A_,{fullWidth:!1,name:"verticalMargin",label:n("safetyDialog.geofenceTab.vertical"),type:"number",InputProps:{endAdornment:c.createElement(H.A,{position:"end"},"m")},variant:"filled"})),c.createElement(G.A,null,n("safetyDialog.geofenceTab.proposedLimits")),c.createElement(S.A,{display:"flex",flexDirection:"row"},c.createElement(E.A_,{disabled:!0,fullWidth:!1,name:"distanceLimit",label:n("safetyDialog.geofenceTab.maxDistance"),error:0===o&&0===a,helperText:0===o&&0===a&&n("safetyDialog.geofenceTab.errors.distance"),InputProps:{endAdornment:c.createElement(H.A,{position:"end"},"m")},variant:"standard"}),c.createElement(S.A,{p:1}),c.createElement(E.A_,{disabled:!0,fullWidth:!1,name:"heightLimit",label:n("safetyDialog.geofenceTab.maxAltitude"),error:0===i,helperText:0===i&&n("safetyDialog.geofenceTab.errors.height"),InputProps:{endAdornment:c.createElement(H.A,{position:"end"},"m")},variant:"standard"})),c.createElement(G.A,null,n("safetyDialog.geofenceTab.vertexCountReduction")),c.createElement(S.A,{display:"flex",flexDirection:"column"},c.createElement(E.q_,{name:"simplify",data:{label:n("safetyDialog.geofenceTab.simplifyPolygon")}}),c.createElement(E.A_,{fullWidth:!1,name:"maxVertexCount",label:n("safetyDialog.geofenceTab.maxVertexCount"),disabled:!l,type:"number",variant:"filled"})))}))};sD.propTypes={initialValues:i().object,onSubmit:i().func,t:i().func};var fD=(0,s.Ng)((function(e){return{initialValues:aD(aD({},(0,tD.i_)(e)),{},{maxDistance:(0,tD.qd)(e),maxGeofence:(0,xr.ae)(e),maxHeight:(0,tD.m9)(e),action:(0,xr.ng)(e)})}}))((0,m.CI)()(sD)),pD=function(e){var t=e.hasFence,r=e.onClose,n=e.onClearGeofence,o=e.onSubmit,a=e.t;return c.createElement(c.Fragment,null,c.createElement(v.A,null,c.createElement(fD,{onSubmit:o})),c.createElement(vr.A,null,c.createElement(x.A,{color:"secondary",disabled:!t,onClick:n},a("safetyDialog.geofenceTab.clear")),c.createElement(x.A,{form:"geofenceSettings",type:"submit",color:"primary"},a("general.action.apply")),c.createElement(x.A,{onClick:r},a("general.action.close"))))};pD.propTypes={hasFence:i().bool,onClearGeofence:i().func,onClose:i().func,onSubmit:i().func,t:i().func};const dD=(0,s.Ng)((function(e){return{hasFence:(0,xr.NF)(e)}}),{onClearGeofence:function(){return function(e,t){var r=(0,xr.Md)(t());r&&(e((0,jr.Xg)()),e((0,wr.Hk)([r])))}},onSubmit:function(e){return function(t){t((0,zc.L0)({horizontalMargin:Number(e.horizontalMargin),verticalMargin:Number(e.verticalMargin),simplify:e.simplify,maxVertexCount:Number(e.maxVertexCount)})),t((0,jr.dJ)(e.action)),t((0,Fm.E5)())}}})((0,m.CI)()(pD));function yD(e){return yD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yD(e)}function mD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mD(Object(r),!0).forEach((function(t){vD(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mD(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function vD(e,t,r){var n;return n=function(e,t){if("object"!=yD(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=yD(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==yD(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var gD=function(e){return(0,Tr.Im)(e)?null:Number(e)},bD=(0,Tr.fH)({criticalBatteryVoltage:(0,Tr.lq)(Tr.yj),lowBatteryVoltage:(0,Tr.lq)(Tr.yj),returnToHomeAltitude:(0,Tr.lq)(Tr.yj),returnToHomeSpeed:(0,Tr.lq)(Tr.yj)}),wD=[{id:"criticalBatteryVoltage",label:"Critical battery voltage",unit:"V",description:"Critically low battery voltage in [V] under which a critical battery failsafe action is triggered."},{id:"lowBatteryVoltage",label:"Low battery voltage",unit:"V",description:"Low battery voltage in [V] under which a low battery failsafe action is triggered."},{id:"returnToHomeAltitude",label:"Return to home altitude",unit:"m",description:"Altitude in [mAHL] at which return to home operations are performed."},{id:"returnToHomeSpeed",label:"Return to home speed",unit:"m/s",description:"Horizontal speed in [m/s] at which return to home operations are performed."}],ED=function(e){var t=e.initialValues,r=e.onSubmit;return c.createElement(A.lV,{initialValues:t,validate:bD,onSubmit:r},(function(e){var t=e.handleSubmit;return c.createElement("form",{id:"safetySettings",onSubmit:t},c.createElement(To.A,{id:"alert-dialog-description"},"Empty values result in the respective safety values not being overridden."),wD.map((function(e){var t=e.id,r=e.label,n=e.unit,o=e.description;return c.createElement(S.A,{key:t,mt:1},c.createElement(E.A_,{name:t,label:r,type:"text",InputProps:{endAdornment:c.createElement(H.A,{position:"end"},n),inputProps:{inputMode:"numeric"}},variant:"filled"}),c.createElement(Ar.A,null,o))})))}))};ED.propTypes={initialValues:i().object,onSubmit:i().func};var AD=(0,s.Ng)((function(e){return{initialValues:hD({},(0,aj.A)((0,tD.g9)(e),(function(e){return e?String(e):""})))}}))(ED),SD=function(e){var t=e.onClose,r=e.onSubmit;return c.createElement(c.Fragment,null,c.createElement(v.A,null,c.createElement(AD,{onSubmit:r})),c.createElement(vr.A,null,c.createElement(x.A,{form:"safetySettings",type:"submit",color:"primary"},"Save"),c.createElement(x.A,{onClick:t},"Close")))};SD.propTypes={onClose:i().func,onSubmit:i().func};const OD=(0,s.Ng)(null,{onSubmit:function(e){return function(t){t((0,zc.fy)({criticalBatteryVoltage:gD(e.criticalBatteryVoltage),lowBatteryVoltage:gD(e.lowBatteryVoltage),returnToHomeAltitude:gD(e.returnToHomeAltitude),returnToHomeSpeed:gD(e.returnToHomeSpeed)}))}}})(SD);function xD(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var jD,kD=[].concat(function(e){if(Array.isArray(e))return xD(e)}(jD=(0,ps.jI)("geofence")?[{id:Bm.I.GEOFENCE,icon:c.createElement(Or.A,null),name:"Geofence",component:dD}]:[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(jD)||function(e,t){if(e){if("string"==typeof e)return xD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xD(e,t):void 0}}(jD)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{id:Bm.I.SETTINGS,icon:c.createElement(Dc.A,null),name:"Settings",component:OD}]),TD=function(e){var t,r,n=e.onClose,o=e.onTabSelected,a=e.open,i=e.selectedTab,l=e.t,u=null!==(t=null===(r=kD.find((function(e){return e.id===i})))||void 0===r?void 0:r.component)&&void 0!==t?t:function(){return c.createElement(v.A,null,c.createElement(Sr.A,{text:"The selected tab is currently not available."}))};return c.createElement(qr.A,{fullWidth:!0,open:a,maxWidth:"xs",title:l("safetyDialog.title"),toolbarComponent:function(e){return c.createElement(b.A,{dragHandle:e,value:i,onChange:o},kD.map((function(e){var t=e.id,r=e.icon,n=e.name;return c.createElement(g.A,{key:t,icon:r,label:n,value:t})})))},onClose:n},c.createElement(u,{onClose:n}))};TD.propTypes={onClose:i().func,onTabSelected:i().func,open:i().bool.isRequired,selectedTab:i().oneOf(kD.map((function(e){return e.id}))),t:i().func};const ID=(0,s.Ng)((function(e){return{open:(0,tD.Lu)(e),selectedTab:(0,tD.aM)(e)}}),{onClose:zc.VI,onTabSelected:function(e,t){return(0,zc.cT)(t)}})((0,m.CI)()(TD));function CD(e){return CD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CD(e)}function PD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function LD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?PD(Object(r),!0).forEach((function(t){_D(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PD(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _D(e,t,r){var n;return n=function(e,t){if("object"!=CD(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=CD(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==CD(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ND=c.forwardRef((function(e,t){var r=e.initialValues,n=e.onSubmit,o=e.optimizeUIForTouch;return c.createElement(m.wD,null,(function(e){return c.createElement(A.lV,{initialValues:r,onSubmit:n},(function(r){var n=r.form,a=r.handleSubmit;return t.current=n,c.createElement("form",{id:"SavedLocationEditor",style:{marginTop:8,marginBottom:0},onSubmit:a},c.createElement(or.A_,{autoFocus:!o,fullWidth:!0,margin:"dense",name:"name",label:e("savedLocationEditor.name"),fieldProps:{validate:Tr.mw}}),c.createElement(S.A,{display:"flex",flexDirection:"row"},c.createElement(or.r2,{fullWidth:!0,margin:"dense",name:"center.lat",label:e("general.geography.latitude")}),c.createElement(S.A,{p:.75}),c.createElement(or.Ob,{fullWidth:!0,margin:"dense",name:"center.lon",label:e("general.geography.longitude")})),c.createElement(S.A,{display:"flex",flexDirection:"row"},c.createElement(or.DS,{fullWidth:!0,margin:"dense",name:"rotation",label:e("general.geometry.rotation")}),c.createElement(S.A,{p:.75}),c.createElement(or.A_,{fullWidth:!0,type:"number",margin:"dense",name:"zoom",label:e("savedLocationEditor.zoomLevel"),fieldProps:{validate:(0,Tr.fj)([Tr.mw,Tr.nd,(0,Tr.Tq)(1,30)])},inputProps:{min:1,max:30}})),c.createElement(or.A_,{fullWidth:!0,multiline:!0,margin:"dense",name:"notes",label:e("savedLocationEditor.notes"),minRows:3,maxRows:3}),c.createElement("input",{hidden:!0,type:"submit"}))}))}))}));ND.propTypes={initialValues:i().object,onSubmit:i().func,optimizeUIForTouch:i().bool};var RD=(0,s.Ng)((function(e){var t=Pd(e);return{initialValues:t!==De.BF&&t in e.savedLocations.byId?e.savedLocations.byId[t]:Cd(e),optimizeUIForTouch:(0,Kt.jz)(e)}}),null,null,{forwardRef:!0})(ND),DD=function(e){var t=e.currentMapViewAsSavedLocation,r=e.editedLocationId,n=e.onClose,o=e.onDelete,a=e.onSubmit,i=e.open,l=e.t,u=(0,c.useRef)(null),s=(0,c.useCallback)((function(){u.current.initialize(LD(LD({},u.current.getState().values),t))}),[t]),f=(0,c.useCallback)((function(){u.current.submit()}),[]),p=r===De.BF,d=l(p?"savedLocationEditor.createNew":"savedLocationEditor.editSaved"),y=[];return p||y.push(c.createElement(x.A,{key:"copy-from-map-view",style:{marginRight:"auto"},onClick:s},l("savedLocationEditor.copyFromMapView"))),y.push(c.createElement(x.A,{key:"save",color:"primary",onClick:f},l("general.action.save"))),p?y.push(c.createElement(x.A,{key:"discard",onClick:o(r)},l("general.action.discard"))):y.push(c.createElement(x.A,{key:"delete",color:"secondary",onClick:o(r)},l("general.action.delete")),c.createElement(x.A,{key:"cancel",onClick:n},l("general.action.cancel"))),c.createElement(qr.A,{fullWidth:!0,title:d,open:i,maxWidth:"xs",onClose:n},c.createElement(v.A,null,c.createElement(RD,{ref:u,onSubmit:a})),c.createElement(vr.A,null,y))};DD.propTypes={currentMapViewAsSavedLocation:i().object,editedLocationId:i().string,onClose:i().func.isRequired,onDelete:i().func.isRequired,onSubmit:i().func.isRequired,open:i().bool.isRequired,t:i().func};const MD=(0,s.Ng)((function(e){return{currentMapViewAsSavedLocation:Cd(e),editedLocationId:Pd(e),open:Ld(e)}}),(function(e){return{onClose:function(){e(Wd())},onDelete:function(t){return function(){e(Wd()),e(Ud(t))}},onSubmit:function(t){var r=structuredClone(t);r.center.lon=Number(r.center.lon),r.center.lat=Number(r.center.lat),r.rotation=Number(r.rotation),r.zoom=Number(r.zoom),e(Gd(r)),e(Wd())}}}))((0,m.CI)()(DD));var FD=function(e){var t,r=e.bitsPerSecond,n=e.id,o=e.lastUpdatedAt;return c.createElement(S.A,{key:n,display:"flex"},c.createElement(S.A,{width:80,color:"text.secondary"},n),c.createElement(S.A,{flex:1},UT[t=n]||(t&&t.startsWith("rtcm2/")?"RTCMv2 message, type ".concat(t.slice(6)):t&&t.startsWith("rtcm3/")?"RTCMv3 message, type ".concat(t.slice(6)):"Unknown message, type ".concat(t))),c.createElement(S.A,{width:80,ml:1,color:"text.secondary",textAlign:"right"},r?"".concat(r.toFixed(1)," bps"):""),c.createElement(S.A,{color:"text.secondary",width:32,textAlign:"right"},c.createElement(nc.A,{formatter:io.ts,date:o})))};FD.propTypes={bitsPerSecond:i().number,id:i().string,lastUpdatedAt:i().number};var UD=(0,ms.c3)(FD,{dataProvider:"items",backgroundHint:c.createElement(Sr.A,{text:"No RTK messages have been received yet"})});const GD=(0,s.Ng)((function(e){return{dense:!0,disablePadding:!0,items:LT(e)}}),{})(UD);function VD(e){return VD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VD(e)}function BD(){BD=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==VD(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(VD(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function HD(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}var WD=function(e){return function(){var t,r=(t=BD().mark((function t(r){return BD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Pn.A.execute.startRTKSurvey(e);case 3:t.next=9;break;case 5:return t.prev=5,t.t0=t.catch(0),r((0,ku.Ds)({message:"Failed to start RTK survey on the server.",semantics:Tu.N.ERROR})),t.abrupt("return");case 9:r((0,hv._N)());case 10:case"end":return t.stop()}}),t,null,[[0,5]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(e){HD(a,n,o,i,c,"next",e)}function c(e){HD(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}()},zD=function(e){var t=e.onCopyAntennaPositionToClipboard,r=e.onClick,n=e.position,o=Boolean(n);return c.createElement(c.Fragment,null,c.createElement(pt.default,{content:"Click to toggle between lon/lat and ECEF format"},c.createElement(O.A,{variant:"body2",component:"div",color:o?"textPrimary":"textSecondary",style:{cursor:"pointer",textAlign:"right"},onClick:r},n||"Antenna position not known")),t&&c.createElement(pt.default,{content:"Copy to clipboard"},c.createElement(W.A,{disabled:!o,onClick:t},c.createElement(bN,null))))};zD.propTypes={position:i().string,onClick:i().func,onCopyAntennaPositionToClipboard:i().func};const YD=(0,s.Ng)(PT,{onClick:function(){return function(e,t){e((0,hv.Iy)(IT(t())?"lonLat":"ecef"))}},onCopyAntennaPositionToClipboard:function(){return function(e,t){BL()(CT(t())),e((0,ku.Ds)("Coordinates copied to clipboard."))}}})(zD);function KD(e){return KD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KD(e)}function qD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qD(Object(r),!0).forEach((function(t){ZD(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qD(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ZD(e,t,r){var n;return n=function(e,t){if("object"!=KD(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=KD(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==KD(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var XD=Object.freeze({datasets:Object.freeze([])});function JD(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.alpha,r=void 0===t?.8:t,n=e.color,o=e.canvas,a=e.height,i=void 0===a?170:a,c=e.reverse,l=e.ctx;if(Array.isArray(n))return n.map((function(t){return JD($D($D({},e),{},{color:t}))}));l||(l=o.getContext("2d"));var u=l.createLinearGradient(0,i,0,50);return u.addColorStop(0,eo()(n).alpha(c?r:0).string()),u.addColorStop(1,eo()(n).alpha(c?0:r).string()),u}function QD(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return eM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eM(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eM(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var tM=(0,d.Ay)((function(){return Promise.all([r.e(734),r.e(176)]).then(r.bind(r,51815))}),{resolveComponent:function(e){return e.default}}),rM=[30,40],nM=["#424242",ro.Ay.error,ro.Ay.warning,ro.Ay.success],oM=(0,Ve.createSelector)((function(e){return e}),(function(e){return nM.map((function(t){return JD({ctx:e,color:t})}))})),aM=function(e,t){var r=oM(t),n=Date.now(),o=e.map((function(e){var t=n-e.lastUpdatedAt;if(t>=6e4)return null;var o,a=t>=5e3?0:(o=e.cnr)<=0||(0,Ge.default)(o)?0:o<rM[0]?1:o<rM[1]?2:3;return{label:e.id,value:e.cnr,backgroundColor:r[a],borderColor:nM[a]}})).filter(Boolean);return{labels:o.map((function(e){return e.label})),datasets:[{backgroundColor:o.map((function(e){return e.backgroundColor})),borderColor:o.map((function(e){return e.borderColor})),borderWidth:2,label:"CNR",data:o.map((function(e){return e.value}))}]}},iM=function(e){return{plugins:{legend:{display:!1},tooltip:{titleFont:{family:jt.defaultFont},bodyFont:{family:jt.defaultFont},footerFont:{family:jt.defaultFont},callbacks:{label:function(e){return" ".concat(e.formattedValue," dB-Hz")}}}},scales:{x:{grid:{display:!1},ticks:{font:{color:e?"rgba(255, 255, 255, 0.54)":"rgba(0, 0, 0, 0.54)",family:jt.defaultFont,size:14}}},y:{grid:{borderColor:e?function(e){var t=e.index;return"rgba(255, 255, 255, ".concat(t?.17:.34,")")}:function(e){var t=e.index;return"rgba(0, 0, 0, ".concat(t?.17:.34,")")},color:e?function(e){var t=e.index;return"rgba(255, 255, 255, ".concat(t?.17:.34,")")}:function(e){var t=e.index;return"rgba(0, 0, 0, ".concat(t?.17:.34,")")}},suggestedMin:0,suggestedMax:60,ticks:{font:{color:e?"rgba(255, 255, 255, 0.54)":"rgba(0, 0, 0, 0.54)",family:jt.defaultFont,size:14},maxTicksLimit:7}}},maintainAspectRatio:!1}},cM={dark:iM(!0),light:iM(!1)},lM=function(e){var t=e.height,r=e.items,n=(0,nr.A)(),o=(0,oi.A)(),a=(0,c.useRef)(null),i=QD((0,c.useState)(XD),2),l=i[0],u=i[1];return(0,ai.A)(o,1e3),(0,c.useEffect)((function(){var e=a.current;e&&u(r?aM(r,e.ctx):XD)}),[a.current,r]),c.createElement(S.A,{height:t},c.createElement(tM,{ref:a,data:l,options:(0,jt.isThemeDark)(n)?cM.dark:cM.light}))};lM.propTypes={height:i().number,items:i().arrayOf(i().shape({cnr:i().number,lastUpdatedAt:i().number}))},lM.defaultProps={height:160};const uM=(0,s.Ng)((function(e){return{items:_T(e)}}),{})(lM);var sM=r(39608);function fM(e){return fM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fM(e)}var pM=["onClose","onSubmit"];function dM(){return dM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dM.apply(this,arguments)}function yM(){yM=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==fM(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(fM(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function mM(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function hM(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){mM(a,n,o,i,c,"next",e)}function c(e){mM(a,n,o,i,c,"throw",e)}i(void 0)}))}}function vM(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var gM=function(e){var t=e.onClose,r=e.onSubmit,n=vM(e,pM),o=(0,mv.A)(hM(yM().mark((function e(){var t;return yM().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pn.A.query.getRTKSurveySettings();case 2:return t=e.sent,e.abrupt("return",t?{accuracy:t.accuracy,duration:t.duration}:{accuracy:100,duration:60});case 4:case"end":return e.stop()}}),e)}))),[]);return c.createElement(S.A,dM({display:"flex",flexDirection:"row",alignItems:"center"},n),c.createElement(W.A,{onClick:t},c.createElement(sM.A,null)),o.loading?c.createElement(ua.A,{text:"Loading..."}):o.error?c.createElement("div",null,"Failed to load survey settings from server."):c.createElement(A.lV,{initialValues:o.value,onSubmit:r},(function(e){var t=e.handleSubmit;return c.createElement(c.Fragment,null,c.createElement(S.A,{p:.5}),c.createElement(Yh.Kn,{name:"accuracy",label:"Desired accuracy",min:.01,max:100,step:.01,size:"small",unit:"m",style:{flex:1}}),c.createElement(S.A,{p:1}),c.createElement(Yh.LK,{name:"duration",label:"Minimum duration",min:1,max:3600,step:1,size:"small",style:{flex:1}}),c.createElement(S.A,{p:.5}),c.createElement(x.A,{onClick:t},"Start survey"))})))};gM.propTypes={onClose:i().func,onSubmit:i().func};const bM=(0,s.Ng)(null,{onClose:hv.IP,onSubmit:function(e){var t=e.accuracy,r=e.duration;return WD({accuracy:Number(t),duration:Number(r)})}})(gM);var wM=r(95834),EM=["accuracy","active","supported","valid"];function AM(){return AM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AM.apply(this,arguments)}function SM(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function OM(e,t){if("number"!=typeof t||t<=0)return e;var r=GT(t);return e&&0!==e.length?r&&">"===r.charAt(0)?"".concat(e,", accuracy ").concat(r):"".concat(e,", accuracy: ").concat(r):r&&">"===r.charAt(0)?"Accuracy ".concat(r):"Accuracy: ".concat(r)}var xM=function(e){var t=e.accuracy,r=e.active,n=e.supported,o=e.valid,a=SM(e,EM);return c.createElement(wM.A,{in:n||!0},c.createElement(S.A,AM({alignItems:"center",flex:1,display:"flex",flexDirection:"row"},a),c.createElement(j.A,{size:"small",status:o?"success":r?"next":n?"error":"off",color:"textSecondary"},r?OM("Surveying",t):o?OM("",t):n?"Survey not started yet":"No survey information")))};xM.propTypes={accuracy:i().number,active:i().bool,supported:i().bool,valid:i().bool};const jM=xM;function kM(e){return kM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kM(e)}function TM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function IM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?TM(Object(r),!0).forEach((function(t){CM(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TM(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function CM(e,t,r){var n;return n=function(e,t){if("object"!=kM(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=kM(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==kM(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var PM=(0,St.A)((function(e){return{root:IM({},(0,jt.createSecondaryAreaStyle)(e)),inset:{border:"1px solid ".concat((0,jt.isThemeDark)(e)?"rgba(0, 0, 0, 0.54)":"rgba(255, 255, 255, 0.54)"),boxShadow:"0 0 4px 2px inset rgba(0, 0, 0, 0.54)",padding:e.spacing(1)},nonInset:{borderTop:"1px solid ".concat((0,jt.isThemeDark)(e)?"rgba(0, 0, 0, 0.54)":"rgba(255, 255, 255, 0.54)"),boxShadow:"0 2px 6px -2px inset rgba(0, 0, 0, 0.54)",padding:e.spacing(2,3)}}}),{name:"ChartContainer"}),LM=function(e){var t=e.chartHeight,r=e.inset,o=e.onToggleSurveySettings,a=e.surveySettingsVisible,i=e.surveyStatus,l=PM();return c.createElement(S.A,{className:(0,n.A)(l.root,r?l.inset:l.nonInset)},c.createElement(uM,{height:t}),c.createElement(S.A,{position:"relative",height:48},c.createElement(vy,{in:!a},c.createElement(S.A,{display:"flex",flexDirection:"row",alignItems:"center",left:0,top:0,right:0,bottom:0},o&&c.createElement(pt.default,{content:"Start new survey"},c.createElement(W.A,{disabled:!i||!i.supported,onClick:o},c.createElement(rN.A,null))),c.createElement(jM,i),c.createElement(S.A,{flex:"1"}),c.createElement(YD,null))),c.createElement(vy,{in:a},c.createElement(bM,{position:"absolute",left:0,top:0,right:0,bottom:0}))))};LM.propTypes={chartHeight:i().number,inset:i().bool,onToggleSurveySettings:i().func,surveySettingsVisible:i().bool,surveyStatus:i().object},LM.defaultProps={chartHeight:160};const _M=(0,s.Ng)((function(e){return{surveyStatus:MT(e),surveySettingsVisible:FT(e)}}),{onToggleSurveySettings:hv.IP})(LM);var NM=function(e){var t=e.onClose,r=e.open;return c.createElement(h.A,{fullWidth:!0,open:r,maxWidth:"sm",onClose:t},c.createElement(QT,null),c.createElement(S.A,null,c.createElement(S.A,{mx:3,mt:3},c.createElement(Tv,null),c.createElement(S.A,{height:100,my:2,boxSizing:"content-box",overflow:"auto"},c.createElement(GD,null))),c.createElement(_M,null)))};NM.propTypes={open:i().bool,onClose:i().func};const RM=(0,s.Ng)((function(e){return{open:e.rtk.dialog.open}}),{onClose:hv.fU})(NM);var DM=r(51338),MM=r(37201),FM=r(77701),UM=r(27942),GM=r(97904),VM=r(89806),BM=r(70042);const HM=(0,s.Ng)((function(e,t){var r=e.log.highestUnseenMessageLevel;return{color:(0,gy.x1)(r),visible:r>=(t.level||gy.$b.WARNING)}}),{})(Oi.A);var WM=r(87982);const zM=(0,_r.A)(c.createElement("path",{d:"m15.4 17 1.3 4.4h-1.1L13 17h-3c-.55 0-1-.45-1-1s.45-1 1-1h3l2.6-4.4h1.1L15.4 15h2.85l.75-1h1l-.6 2 .6 2h-1l-.75-1H15.4zM5.75 7 5 6H4l.6 2-.6 2h1l.75-1H8.6l-1.3 4.4h1.1L11 9h3c.55 0 1-.45 1-1s-.45-1-1-1h-3L8.4 2.6H7.3L8.6 7H5.75z"}),"ConnectingAirports"),YM=(0,_r.A)(c.createElement("path",{d:"M19 15.18V7c0-2.21-1.79-4-4-4s-4 1.79-4 4v10c0 1.1-.9 2-2 2s-2-.9-2-2V8.82C8.16 8.4 9 7.3 9 6c0-1.66-1.34-3-3-3S3 4.34 3 6c0 1.3.84 2.4 2 2.82V17c0 2.21 1.79 4 4 4s4-1.79 4-4V7c0-1.1.9-2 2-2s2 .9 2 2v8.18c-1.16.41-2 1.51-2 2.82 0 1.66 1.34 3 3 3s3-1.34 3-3c0-1.3-.84-2.4-2-2.82zM6 7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm12 12c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"}),"Route"),KM=(0,_r.A)(c.createElement("g",null,c.createElement("path",{d:"M6,11c2.76,0,5-2.24,5-5S8.76,1,6,1S1,3.24,1,6S3.24,11,6,11z M6,3c1.65,0,3,1.35,3,3c0,1.65-1.35,3-3,3S3,7.65,3,6 C3,4.35,4.35,3,6,3z"}),c.createElement("path",{d:"M21,14h-5c-1.1,0-2,0.9-2,2v5c0,1.1,0.9,2,2,2h5c1.1,0,2-0.9,2-2v-5C23,14.9,22.1,14,21,14z M21,21h-5v-5h5V21z"}),c.createElement("path",{d:"M17.71,7.7C18.11,7.89,18.54,8,19,8c1.65,0,3-1.35,3-3s-1.35-3-3-3s-3,1.35-3,3c0,0.46,0.11,0.89,0.3,1.29L6.29,16.3 C5.89,16.11,5.46,16,5,16c-1.65,0-3,1.35-3,3s1.35,3,3,3s3-1.35,3-3c0-0.46-0.11-0.89-0.3-1.29L17.71,7.7z"})),"ShapeLine");function qM(e){return qM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qM(e)}function $M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ZM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$M(Object(r),!0).forEach((function(t){XM(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function XM(e,t,r){var n;return n=function(e,t){if("object"!=qM(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=qM(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==qM(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var JM={backgroundColor:"#333",boxShadow:"rgba(0, 0, 0, 0.3) -9px -3px 6px -6px inset",display:"flex",flexFlow:"column nowrap",height:"calc(100vh - 48px)",overflow:"hidden"},QM={display:"flex",flexFlow:"column nowrap",flexGrow:1,overflow:"auto",width:180},eF=(0,ps.jI)("missionEditor"),tF=(0,ps.jI)("showControl"),rF=function(e){var t=e.experimentalFeaturesEnabled,r=e.isOpen,n=e.missionType,o=e.t,a=e.workbench;return c.createElement("div",{id:"sidebar",style:ZM(ZM({},JM),{},{width:r?180:48})},c.createElement("div",{style:QM},c.createElement(u.l_,{allowMultipleSelection:!0,vertical:!0,workbench:a},c.createElement(u.nV,{id:"map",icon:c.createElement(GM.A,null),label:o("view.map"),component:"map"}),c.createElement(u.nV,{id:"threeDView",icon:c.createElement(BM.A,null),label:o("view.three-d-view"),component:"three-d-view",reorderEnabled:!1}),c.createElement(u.nV,{id:"layers",icon:c.createElement(UM.A,null),label:o("view.layer-list"),component:"layer-list"}),(0,ps.jI)("mapFeatures")&&c.createElement(u.nV,{id:"features",icon:c.createElement(KM,null),label:o("view.feature-list"),component:"feature-list"}),c.createElement("hr",null),c.createElement(u.nV,{id:"uav-details",icon:c.createElement(DM.A,null),label:o("view.uav-details"),component:"uav-details"}),c.createElement(u.nV,{id:"uav-list",icon:c.createElement(zM,null),label:o("view.uav-list"),component:"uav-list"}),(0,ps.jI)("beacons")&&c.createElement(u.nV,{id:"beacons",icon:c.createElement(WM.A,null),label:o("view.beacon-list"),component:"beacon-list"}),(0,ps.jI)("docks")&&t&&c.createElement(u.nV,{id:"docks",icon:c.createElement(MM.A,null),label:o("view.dock-list"),component:"dock-list"}),c.createElement("hr",null),tF&&c.createElement(u.nV,{id:"show",icon:c.createElement(FM.A,null),label:o("view.show-control"),component:"show-control"}),tF&&c.createElement(u.nV,{id:"lights",icon:c.createElement(xx.A,null),label:o("view.light-control"),component:"light-control"}),tF&&c.createElement("hr",null),eF&&c.createElement(u.nV,{id:"missionEditor",icon:c.createElement(YM,null),label:o("view.mission-editor"),component:"mission-editor"}),(tF||eF)&&c.createElement("hr",null),c.createElement(u.nV,{id:"clocks",icon:c.createElement(tb.A,null),label:o("view.lcd-clock-panel"),component:"lcd-clock-panel"}),c.createElement(u.nV,{id:"locations",icon:c.createElement(rN.A,null),label:o("view.saved-location-list"),component:"saved-location-list"}),c.createElement("hr",null),c.createElement(u.nV,{id:"notes",icon:c.createElement(Sx.A,null),label:o("view.field-notes"),component:"field-notes"}),c.createElement(u.nV,{id:"log",badge:c.createElement(HM,null),icon:c.createElement(VM.A,null),label:o("view.log-panel"),component:"log-panel"}))),r&&c.createElement(S.A,{py:.5,px:1,style:{color:"#fff",opacity:.3,width:180}},n&&c.createElement(O.A,{align:"center",variant:"caption",component:"footer"},o("sidebar.missionType",{missionType:n})),c.createElement(O.A,{align:"center",variant:"caption",component:"footer"},"v2.8.1-306-g2bd49b59")))};rF.propTypes={experimentalFeaturesEnabled:i().bool,isOpen:i().bool,missionType:i().oneOf(Object.values(Uc.Pp)),t:i().func,workbench:i().instanceOf(u._H).isRequired};const nF=(0,s.Ng)((function(e,t){var r=t.workbench;return{experimentalFeaturesEnabled:(0,Kt.x_)(e),isOpen:oI(e),missionType:(0,xr.Xk)(e),workbench:r}}))((0,m.CI)()(rF));var oF=r(43326);function aF(e){return aF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aF(e)}function iF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?iF(Object(r),!0).forEach((function(t){lF(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iF(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lF(e,t,r){var n;return n=function(e,t){if("object"!=aF(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=aF(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==aF(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var uF=lF(lF(lF(lF({},Tu.N.INFO,"info"),Tu.N.SUCCESS,"success"),Tu.N.WARNING,"warning"),Tu.N.ERROR,"error"),sF=(0,Oh.A)(x.A)({border:"1px solid currentColor",color:"inherit"}),fF=function(e){var t=e.dispatch,r=(0,f.Yf)(),n=r.addToast,o=r.toastStack,a=r.removeToast;return Gw(oF.A,(function(e){var r=e.buttons,i=e.header,l=e.message,u=e.permanent,s=void 0!==u&&u,f=e.semantics,p=void 0===f?Tu.N.DEFAULT:f,d=e.timeout,y=e.topic,m=y&&o.find((function(e){return(null==e?void 0:e.topic)===y})),h=function(e,t){var r=e.buttons,n=e.message,o=e.header,a=n;if(Array.isArray(r)&&r.length>0){var i=r.map((function(e,r){var n=e.label,o=e.action;return c.createElement(sF,{key:r,size:"small",variant:"outlined",onClick:function(){return t(o)}},n)}));a=c.createElement(S.A,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},a,i)}return o&&o.length>0&&(a=c.createElement("div",null,c.createElement("div",null,c.createElement("strong",null,o)),a)),a}({buttons:r,message:l,header:i},t),v=cF(cF({appearance:uF[p]||"info",autoDismiss:!s},d&&{autoDismissTimeout:d}),{},{topic:y});m?(a(m.id),h&&setTimeout((function(){n(h,v)}),250)):h&&n(h,v)})),null};fF.propTypes={dispatch:i().func.isRequired};const pF=(0,s.Ng)()(fF);var dF=r(53157),yF=r(94471),mF=r(99487),hF=function(e){var t=e.selectedTab,r=e.uavId;switch(t){case"messages":return c.createElement(Dm,{uavId:r});case"preflight":return c.createElement(XE,{uavId:r});case"tests":return c.createElement(ZA,{uavId:r});case"logs":return c.createElement(zE,{uavId:r});default:return null}};hF.propTypes={selectedTab:i().oneOf(["messages","preflight","tests","logs"]),uavId:i().string};const vF=(0,s.Ng)((function(e){return{selectedTab:(0,Tx.kP)(e),uavId:(0,Tx.Aq)(e)}}))(hF);var gF=c.createElement("span",{className:"muted"},"\u2014"),bF=function(e){var t=e.gpsFix,r=e.heading,n=e.lastUpdated,o=e.localPosition,a=e.mode,i=e.position||{},l=i.lat,u=i.lon,s=i.amsl,f=i.ahl,p=i.agl,d=o&&Array.isArray(o),y=a?c.createElement(oO.A,{status:(0,dc.ke)(a)},(0,dc.aO)(a)):gF,m=null==t?void 0:t.type,h=[["Mode",y],"sep0"];if(!d||m){var v=m?c.createElement(c.Fragment,null,c.createElement(oO.A,{status:(0,dc.Jq)(m)},(0,dc.Jj)(m)),(null==t?void 0:t.numSatellites)&&" (".concat(null==t?void 0:t.numSatellites," sats)")):gF,g=t||{},b=g.horizontalAccuracy,w=g.verticalAccuracy;b="number"==typeof b&&b>50?"50+":(0,io.d)(b,2,"",gF),w="number"==typeof w&&w>50?"50+":(0,io.d)(w,2,"",gF);var E=c.createElement(c.Fragment,null,b," / ",w," m");h.push(["GPS fix",v],["GPS acc",E],"sep1",["Lat",(0,io.d)(l,7,"\xb0",gF)],["Lon",(0,io.d)(u,7,"\xb0",gF)],["AMSL",(0,io.d)(s,2," m",gF)],["AHL",(0,io.d)(f,2," m",gF)],["AGL",(0,io.d)(p,2," m",gF)],"sep2")}return d&&h.push(["X",(0,io.d)(o[0],2," m",gF)],["Y",(0,io.d)(o[1],2," m",gF)],["Z",(0,io.d)(o[2],2," m",gF)]),h.push(["Heading",(0,io.d)(r,1,"\xb0",gF)],"sep3",["Last seen",n?c.createElement(nc.A,{formatter:io.ts,date:n}):gF]),c.createElement(kL,{items:h})};bF.propTypes={gpsFix:i().shape({type:i().number,numSatellites:i().number,horizontalAccuracy:i().number,verticalAccuracy:i().number}),heading:i().number,lastUpdated:i().number,localPosition:i().arrayOf(i().number),mode:i().string,position:i().shape({lat:i().number,lon:i().number,amsl:i().number,ahl:i().number,agl:i().number})};const wF=(0,s.Ng)((function(e,t){return(0,mo.Pz)(e,t.uavId)}),{})(bF);var EF=(0,St.A)((function(e){return{root:{padding:e.spacing(2),minWidth:mF.VV},toolbar:{justifyContent:"center",padding:e.spacing(1,0)},toolbarInner:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",maxWidth:144,"& > button":{padding:8}}}}),{name:"UAVDetailsDialogSidebar"}),AF=function(e){var t=e.uavId,r=e.setUAVId,n=EF();return c.createElement(S.A,{className:n.root},c.createElement(_S,{sortedByError:!0,onSelect:r},(function(e){return c.createElement(xS,{id:t,AvatarProps:{onClick:e,style:{cursor:"pointer"}}})})),c.createElement(Rf.A,{disableGutters:!0,variant:"dense",className:n.toolbar},c.createElement(S.A,{className:n.toolbarInner},c.createElement(Nx,{hideSeparators:!0,selectedUAVIds:[t],size:"small"}))),c.createElement(wF,{uavId:t}))};AF.propTypes={setUAVId:i().func,uavId:i().string};const SF=(0,s.Ng)((function(e){return{uavId:(0,Tx.Aq)(e)}}),{setUAVId:Tx.qz})(AF);var OF=["dragHandleId"];function xF(){return xF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xF.apply(this,arguments)}function jF(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var kF=function(e){var t=e.dragHandleId,r=jF(e,OF);return c.createElement(b.A,xF({alignment:"left",dragHandle:t},r),c.createElement(g.A,{label:"Preflight",value:"preflight"}),c.createElement(g.A,{label:"Tests",value:"tests"}),c.createElement(g.A,{label:"Messages",value:"messages"}),c.createElement(g.A,{label:"Logs",value:"logs"}))};kF.propTypes={dragHandleId:i().string,value:i().string},kF.defaultProps={value:"preflight"};const TF=(0,s.Ng)((function(e){return{value:(0,Tx.kP)(e)}}),{onChange:function(e,t){return(0,Tx.I3)(t)}})(kF);var IF=function(e){var t=e.initialPosition,r=e.initialWidth,n=e.onClose,o=e.onDragStop,a=e.onResizeStop,i=e.open,l=(window.innerWidth-r)/2,u=(window.innerHeight-mF.dP)/2,s={x:(0,dF.A)(t.x,-l,l),y:(0,dF.A)(t.y,-u,u)};return c.createElement(qr.A,{DraggableProps:{bounds:"parent",defaultPosition:s,onStop:o},open:i,maxWidth:!1,sidebarComponents:c.createElement(SF,null),toolbarComponent:function(e){return c.createElement(TF,{dragHandle:e})},onClose:n},c.createElement(yF.A,{axis:"x",resizeHandles:["e"],initialSize:{width:r-mF.VV,height:mF.uv},minConstraints:[mF.Ex,mF.uv],boxProps:{maxWidth:"100%"},onResizeStop:a},c.createElement(vF,null)))};IF.propTypes={initialPosition:i().shape({x:i().number,y:i().number}),initialWidth:i().number,onClose:i().func,onDragStop:i().func,onResizeStop:i().func,open:i().bool};const CF=(0,s.Ng)((function(e){return{initialPosition:(0,Tx.ge)(e),initialWidth:(0,Tx.fm)(e),open:(0,Tx.V1)(e)}}),{onClose:function(){return function(e,t){zL(t())?e(QL()):e((0,Tx.Tz)())}},onDragStop:function(e,t){var r=t.x,n=t.y;return function(e){e((0,Tx.E_)({x:r,y:n}))}},onResizeStop:function(e,t){var r=t.size;return function(e){e((0,Tx.fc)(r.width+mF.VV))}}})(IF);function PF(e){return PF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PF(e)}function LF(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return _F(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _F(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function _F(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NF(){NF=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==PF(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(PF(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function RF(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function DF(e){return function(t,r){var n,o=r(),a=[],i=[],c=LF(e);try{for(c.s();!(n=c.n()).done;){var l=n.value;(0,Ge.default)(l)||(Bl(o,l)?a.push(l):i.push(l))}}catch(e){c.e(e)}finally{c.f()}i.length>0?t((0,tu.SX)(i)):a.length>0&&t((0,tu.i5)(a))}}var MF=r(52231),FF=function(){var e=(0,s.wA)();return c.createElement(Sr.A,{icon:c.createElement(MF.A,null),header:"Another task is in progress",text:"Wait for the other task to finish or cancel it to start a new upload",button:c.createElement(x.A,{onClick:function(){e((0,tu.wM)())}},"Cancel upload")})};FF.propTypes={};const UF=FF;var GF=r(67064),VF=["hasQueuedItems"];function BF(){return BF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BF.apply(this,arguments)}function HF(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var WF=function(e){var t=e.hasQueuedItems,r=HF(e,VF);return c.createElement(m.wD,null,(function(e){return c.createElement(x.A,BF({startIcon:c.createElement(js.A,null)},r),e(t?"startUploadButton.startSelected":"general.action.start"))}))};WF.propTypes={hasQueuedItems:i().bool};const zF=WF;var YF=["counter","label","onClick","status","tooltip"];function KF(){return KF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KF.apply(this,arguments)}function qF(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var $F=(0,St.A)((function(e){return{root:{display:"flex",alignItems:"center",padding:e.spacing(1),fontFamily:e.typography.fontFamily,fontSize:e.typography.fontSize,"& span.counter":{margin:e.spacing(0,.5,0,1)},"& span.label":{opacity:.5}},selectable:{"&:hover":{backgroundColor:e.palette.action.hover,borderRadius:e.spacing(.5)}}}}),{name:"UploadStatusLegendButton"}),ZF=function(e){var t=e.counter,r=e.label,o=e.onClick,a=e.status,i=e.tooltip,l=qF(e,YF),u=$F(),s=o&&t>0,f=c.createElement(ed.A,KF({className:(0,n.A)(u.root,s&&u.selectable),disabled:!s,onClick:o},l),c.createElement(ju.default,{inline:!0,status:a}),c.createElement("span",{className:"counter"},t),c.createElement("span",{className:"label"},r));return i?c.createElement(pt.default,{content:i},f):f};ZF.propTypes={counter:i().number,label:i().string,status:i().string,tooltip:i().string,onClick:i().func};const XF=ZF;var JF=function(e){var t=e.failed,r=e.finished,n=e.inProgress,o=e.onClearUploadQueue,a=e.onRestartSuccessfulUploads,i=e.onRetryFailedUploads,l=e.t,u=e.waiting;return c.createElement(S.A,{display:"flex",justifyContent:"space-around"},c.createElement(XF,{counter:u,label:l("general.status.waiting"),status:Mc.n.INFO,tooltip:l("uploadStatusLegend.clearUploadQueue"),onClick:o}),c.createElement(XF,{counter:n,label:l("general.status.inProgress"),status:Mc.n.WARNING}),c.createElement(XF,{counter:r,label:l("general.status.successful"),tooltip:l("uploadStatusLegend.restartSuccessfulItems"),status:Mc.n.SUCCESS,onClick:a}),c.createElement(XF,{counter:t,label:l("general.status.failed"),status:Mc.n.ERROR,tooltip:l("uploadStatusLegend.retryFailedItems"),onClick:i}))};JF.propTypes={failed:i().number,finished:i().number,inProgress:i().number,waiting:i().number,onClearUploadQueue:i().func,onRestartSuccessfulUploads:i().func,onRetryFailedUploads:i().func,t:i().func};const QF=(0,s.Ng)(ql,{onClearUploadQueue:tu.wo,onRestartSuccessfulUploads:function(){return function(e,t){var r=t().upload.queues.itemsFinished;e((0,tu.uw)(r)),Jl(t())||e((0,tu.aH)())}},onRetryFailedUploads:function(){return function(e,t){var r=t().upload.queues.failedItems;e((0,tu.FK)(r)),Jl(t())||e((0,tu.aH)())}}})((0,m.CI)()(JF));var eU=["children","message","onClick","uavId"];function tU(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var rU=(0,St.A)((function(e){return{root:{padding:e.spacing(.5)},hover:{backgroundColor:e.palette.action.hover},selectable:{cursor:"pointer","&:hover":{backgroundColor:e.palette.action.hover}}}})),nU=function(){return{hollow:!0,status:Mc.n.OFF}},oU=function(e){var t=e.children,r=e.message,o=e.onClick,a=e.uavId,i=tU(e,eU),l=rU(),u=o&&a?function(){return o(a)}:null,s=c.createElement(S.A,{className:(0,n.A)(l.root,u&&l.selectable),onClick:u},c.createElement(dS.A,i,t));return r?c.createElement(pt.default,{content:r},s):s};oU.propTypes={children:i().node,message:i().string,onClick:i().func,uavId:i().string};const aU=(0,s.Ng)((function(e,t){return function(e){return(0,Ge.default)(e)?nU:function(t){return{status:$l(t)[e]||Mc.n.OFF,message:Kl(t)[e]||""}}}(t.uavId)}),{onClick:function(e){return DF([e])}})(oU);var iU=["label","onClick","uavIds"];function cU(){return cU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cU.apply(this,arguments)}function lU(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var uU=(0,St.A)((function(e){return{root:{textAlign:"right",padding:e.spacing(.5),color:e.palette.text.secondary},hover:{backgroundColor:e.palette.action.hover},selectable:{cursor:"pointer","&:hover":{backgroundColor:e.palette.action.hover}}}})),sU=function(e){var t=e.label,r=e.onClick,o=e.uavIds,a=lU(e,iU),i=uU(),l=r&&o?function(){return r(o)}:null;return c.createElement(S.A,cU({className:(0,n.A)(i.root,l&&i.selectable),onClick:l},a),t)};sU.propTypes={label:i().node,onClick:i().func,uavIds:i().arrayOf(i().string)};const fU=sU;var pU=(0,St.A)((function(e){return{root:{display:"grid",gridTemplateColumns:"64px repeat(".concat(10,", 1fr)"),padding:e.spacing(1,0),"& div":{whiteSpace:"nowrap",overflow:"hidden"}},empty:{padding:e.spacing(1,0),height:64}}})),dU=function(e,t,r){return 0===r.length?"\u2014":1===r.length?r[0]:"".concat(String(r[0]),"-").concat(String(r[r.length-1]))},yU=function(e){var t=e.columnCount,r=void 0===t?10:t,n=e.ids,o=e.itemFormatter,a=void 0===o?xu.default:o,i=e.rowHeaderFormatter,l=void 0===i?dU:i,u=e.onHeaderClick,s=pU(),f=(0,c.useMemo)((function(){return function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.columnCount,n=t.itemFormatter,o=t.rowHeaderFormatter,a=[],i=e.length,c=0;c<i;c+=r){var l=e.slice(c,c+r),u=l.map(n),s="".concat(o(c,c+l.length,l)," \u25b8");a.push({header:s,items:l,labels:u})}return a}(n,{columnCount:r,itemFormatter:a,rowHeaderFormatter:l})}),[n,r,a,l]);return 0===f.length?c.createElement(S.A,{className:s.empty},c.createElement(Sr.A,{text:"There are no available UAVs to upload to."})):c.createElement(S.A,{className:s.root},f.map((function(e){var t=e.header,r=e.items,n=e.labels;return c.createElement(c.Fragment,{key:t},c.createElement(fU,{label:t,uavIds:r,onClick:u}),r.map((function(e,t){return(0,Ge.default)(e)?c.createElement(aU,{key:"__cell".concat(t)},"\u2014"):c.createElement(aU,{key:e,uavId:e},n[t])})))})))};yU.propTypes={columnCount:i().number,itemFormatter:i().func,ids:i().arrayOf(i().string),onHeaderClick:i().func,rowHeaderFormatter:i().func};const mU=(0,s.Ng)((function(e){var t=Yl(e);return{ids:t?(0,xr.VZ)(e):(0,mo.Ev)(e),rowHeaderFormatter:t?io.cG:dU}}),{onHeaderClick:DF})(yU);function hU(e){return hU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hU(e)}var vU=["result","running"];function gU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bU(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gU(Object(r),!0).forEach((function(t){wU(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gU(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wU(e,t,r){var n;return n=function(e,t){if("object"!=hU(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=hU(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==hU(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EU(){return EU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},EU.apply(this,arguments)}function AU(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var SU=function(e){var t,r,n=e.result,o=e.running,a=AU(e,vU),i=(0,m.Bd)().t;switch(o&&(t=Mc.n.NEXT,r=i("uploadPanel.uploadInProgress")),n){case"success":t=Mc.n.SUCCESS,r=i("uploadPanel.uploadFinishedSuccessfully");break;case"cancelled":t=Mc.n.WARNING,r=i("uploadPanel.uploadCancelled");break;case"error":t=Mc.n.ERROR,r=i("uploadPanel.uploadAttemptFailed");break;default:t=Mc.n.INFO,r=i("uploadPanel.uploadNotFinishedYet")}return c.createElement(j.A,EU({status:t,size:"small"},a),r)};SU.propTypes={result:i().oneOf(["success","error","cancelled"]),running:i().bool};var OU=(0,St.A)((function(e){return{actions:{padding:e.spacing(1,3,1,3)},uploadResultIndicator:{flex:1,cursor:"pointer"}}})),xU=function(e){var t=e.autoRetry,r=e.flashFailed,n=e.hasQueuedItems,o=e.lastUploadResult,a=e.onCancelUpload,i=e.onDismissLastUploadResult,l=e.onStartUpload,u=e.onStepBack,s=e.onToggleAutoRetry,f=e.onToggleFlashFailed,p=e.running,d=e.showLastUploadResult,y=OU(),h=(0,m.Bd)().t;return c.createElement(c.Fragment,null,c.createElement(v.A,null,c.createElement(mU,null),c.createElement(QF,null),c.createElement(S.A,{mt:1},c.createElement(ew,null)),c.createElement(S.A,{mt:1},c.createElement(R.A,{control:c.createElement(_.A,{checked:t,onChange:s}),label:h("uploadPanel.retryFailedAttempts")}),c.createElement(R.A,{control:c.createElement(_.A,{checked:r,onChange:f}),label:h("uploadPanel.flashLightsWhereFailed")}))),c.createElement(vr.A,{className:y.actions},u&&c.createElement(W.A,{size:"small",edge:"start",onClick:u},c.createElement(GF.A,null)),c.createElement(wM.A,{in:o&&d},c.createElement(S.A,{className:y.uploadResultIndicator,onClick:i},c.createElement(SU,{result:o,running:p}))),p?c.createElement(x.A,{color:"secondary",startIcon:c.createElement(Y.default,null),onClick:a},h("uploadPanel.cancelUpload")):c.createElement(zF,{disabled:!l,hasQueuedItems:n,onClick:l})))};xU.propTypes={autoRetry:i().bool,flashFailed:i().bool,hasQueuedItems:i().bool,lastUploadResult:i().oneOf(["success","error","cancelled"]),onCancelUpload:i().func,onDismissLastUploadResult:i().func,onStartUpload:i().func,onStepBack:i().func,onToggleAutoRetry:i().func,onToggleFlashFailed:i().func,running:i().bool,showLastUploadResult:i().bool},xU.defaultProps={running:!1,showLastUploadResult:!1};const jU=(0,s.Ng)((function(e,t){return bU(bU({},Wl(e)),{},{autoRetry:Ql(e),flashFailed:eu(e),hasQueuedItems:Xl(e),lastUploadResult:Ul(e,t.jobType),running:Jl(e)})}),{onCancelUpload:tu.wM,onClose:tu.yx,onDismissLastUploadResult:tu.nW,onToggleAutoRetry:function(){return function(e,t){var r=t(),n=Ql(r);e((0,tu.tY)(!n))}},onToggleFlashFailed:function(){return function(e,t){var r=t(),n=eu(r);e((0,tu.ci)(!n))}}})(xU);var kU=function(e){var t=e.canGoBack,r=e.canStartUpload,n=e.onClose,o=e.onStartUpload,a=e.onStepBack,i=e.open,l=e.runningJobType,u=e.selectedJobType,s=!l||l===u;return c.createElement(qr.A,{fullWidth:!0,open:Boolean(i),maxWidth:"sm",title:(0,Ll.po)(u),onClose:n},s?c.createElement(jU,{jobType:u,onStepBack:t?a:null,onStartUpload:r?o:null}):c.createElement(S.A,{height:240},c.createElement(UF,{type:l})))};kU.propTypes={canGoBack:i().bool,canStartUpload:i().bool,onClose:i().func,onStartUpload:i().func,onStepBack:i().func,open:i().bool,runningJobType:i().string,selectedJobType:i().string};const TU=(0,s.Ng)((function(e){var t,r=Wl(e),n=r.open,o=r.backAction;return{open:n,canGoBack:!(0,Ge.default)(o),canStartUpload:!0,runningJobType:Fl(e),selectedJobType:null===(t=zl(e))||void 0===t?void 0:t.type}}),{onClose:tu.yx,onStartUpload:function(){return function(e,t){var r,n=t(),o=zl(n),a=o.type,i=o.payload;switch((0,Ll.lb)(a)){case Ll.uw.MISSION:r=xr.pW;break;case Ll.uw.SINGLE:r=mo.kX;break;case Ll.uw.ALL:default:r=mo.Ev}var c=function(e){var t=e.upload.queues,r=t.itemsQueued,n=t.itemsWaitingToStart;return r.length>0||n.length>0}(n)?Vl(n):r?r(n):null;c&&c.length>0&&(e((0,tu.lm)({targets:c,type:a,payload:i})),e((0,tu.aH)()))}},onStepBack:function(){return function(){var e,t=(e=NF().mark((function e(t,r){var n,o;return NF().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wl(r()),o=n.backAction,t((0,tu.yx)()),e.next=4,(0,Jr.Ay)(150);case 4:o&&t(o);case 5:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){RF(a,n,o,i,c,"next",e)}function c(e){RF(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e,r){return t.apply(this,arguments)}}()}})(kU);var IU=function(e){e.components,e.height,e.width,(0,c.useCallback)((function(e){return 0===e?64:192}),[]);return null};IU.propTypes={components:i().arrayOf(i().string),height:i().number,width:i().number};const CU=(0,s.Ng)((function(){return{components:["Autopilot","Companion computer","Hardware"]}}),{})(IU);var PU=function(e){var t=e.onClose,r=e.open;return c.createElement(h.A,{fullWidth:!0,open:r,maxWidth:"sm",onClose:t},c.createElement(CU,{height:160,width:400}))};PU.propTypes={open:i().bool,onClose:i().func};const LU=(0,s.Ng)((function(e){return{open:e.versionCheck.dialog.open}}),{onClose:hu.xx})(PU);var _U=function(e){var t=e.language,r=(0,m.Bd)().i18n;return(0,c.useEffect)((function(){r.changeLanguage(t)}),[r,t]),null};_U.propTypes={language:i().string};const NU=(0,s.Ng)((function(e){return{language:e.settings.display.language}}))(_U);var RU=r(43786),DU=r(70915);function MU(e){return MU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MU(e)}function FU(){FU=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==MU(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(MU(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}var UU=FU().mark(GU);function GU(){var e,t;return FU().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,RU.cb)(1e3);case 2:return r.next=5,(0,RU.Lt)(gs.ZO);case 5:if(!((e=r.sent).length>0)){r.next=20;break}return t=null,r.prev=8,r.next=11,(0,RU.T1)(Pn.A.query.getBasicBeaconProperties,e);case 11:t=r.sent,r.next=17;break;case 14:r.prev=14,r.t0=r.catch(8),(0,Xr.H4)(r.t0,"Fetching beacon properties");case 17:if(!t||(0,DU.Im)(t)){r.next=20;break}return r.next=20,(0,RU.yJ)((0,pP.EX)(t));case 20:return r.next=22,(0,RU.cb)(3e3);case 22:r.next=2;break;case 24:case"end":return r.stop()}}),UU,null,[[8,14]])}function VU(e){return VU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VU(e)}function BU(){BU=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==VU(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(VU(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}var HU=BU().mark(zU),WU=BU().mark(YU);function zU(){return BU().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,RU.cb)(5e3);case 2:return e.next=4,(0,RU.yJ)(QL());case 4:case"end":return e.stop()}}),HU)}function YU(){return BU().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,RU.p8)(YL.ul.type,zU);case 2:case"end":return e.stop()}}),WU)}const KU=YU;function qU(e){return qU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qU(e)}var $U=QU().mark(rG),ZU=QU().mark(nG);function XU(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return JU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JU(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JU(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QU(){QU=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==qU(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(qU(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function eG(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function tG(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){eG(a,n,o,i,c,"next",e)}function c(e){eG(a,n,o,i,c,"throw",e)}i(void 0)}))}}function rG(e){var t,r,n;return QU().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:r=0,n=QU().mark((function n(){var o,a,i,c,l,u;return QU().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,RU.Lt)(mt);case 2:return o=n.sent,n.next=5,(0,RU.Lt)(ht);case 5:if(void 0!==n.sent&&o===t){n.next=21;break}return n.next=9,(0,RU.yJ)((0,Pt.$F)());case 9:return n.next=11,(0,RU.Q7)([(0,RU.T1)(tG(QU().mark((function t(){return QU().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e(o);case 3:if(t.t0=t.sent,t.t0){t.next=6;break}t.t0="";case 6:return t.t1=t.t0,t.t2=void 0,t.abrupt("return",[t.t1,t.t2]);case 11:return t.prev=11,t.t3=t.catch(0),t.abrupt("return",[void 0,String(t.t3)]);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))),(0,RU.cb)(r)]);case 11:if(a=n.sent,i=XU(a[0],2),c=i[0],!(l=i[1])){n.next=18;break}return n.next=16,(0,RU.yJ)((0,Pt.Ld)(l));case 16:n.next=20;break;case 18:return n.next=20,(0,RU.yJ)((0,Pt.ON)(c));case 20:t=o;case 21:return n.next=23,(0,RU.s)([I.fw.type,I.uV.type,Pt.Rk.type]);case 23:if((u=n.sent).type!==I.fw.type&&u.type!==I.uV.type){n.next=27;break}return n.next=27,(0,RU.cb)(1e3);case 27:r=u.type===Pt.Rk.type?1e3:0;case 28:case"end":return n.stop()}}),n)}));case 2:return o.delegateYield(n(),"t0",4);case 4:o.next=2;break;case 6:case"end":return o.stop()}}),$U)}function nG(e){var t;return QU().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=[],e&&t.push(rG(e)),r.next=4,(0,RU.Q7)(t);case 4:case"end":return r.stop()}}),ZU)}var oG=r(62315);function aG(e){return aG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aG(e)}function iG(){iG=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==aG(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(aG(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}var cG=iG().mark(fG),lG=iG().mark(pG);function uG(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return sG(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sG(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function sG(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fG(){var e,t,r,n,o,a,i,c;return iG().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=3,(0,RU.s)(rS.hE.type);case 3:return e=l.sent,t=e.payload,l.next=7,(0,RU.Lt)(Al);case 7:r=l.sent,n={},o=uG(r);try{for(o.s();!(a=o.n()).done;)i=a.value,(c=t[i])&&(n[i]=(0,oG.default)(c.position,["lat","lon","amsl","ahl"]))}catch(e){o.e(e)}finally{o.f()}if((0,Um.A)(n)){l.next=14;break}return l.next=14,(0,RU.yJ)(mN(n));case 14:l.next=0;break;case 16:case"end":return l.stop()}}),cG)}function pG(){var e;return iG().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=null;case 1:return t.next=4,(0,RU.Lt)(Il);case 4:if(!t.sent){t.next=12;break}if(e){t.next=10;break}return t.next=9,(0,RU.Zy)(fG);case 9:e=t.sent;case 10:t.next=16;break;case 12:if(!e){t.next=16;break}return t.next=15,(0,RU.ZT)(e);case 15:e=null;case 16:return t.next=18,(0,RU.s)([Pl.RQ.type,Pl.po.type,Pl.Pl.type,Pl.GY.type,Pl.eV.type]);case 18:t.next=1;break;case 20:case"end":return t.stop()}}),lG)}var dG,yG=(dG="authentication",function(e){return e.dialogs[dG]&&e.dialogs[dG].open});function mG(e){return mG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mG(e)}var hG=AG().mark(xG),vG=AG().mark(jG),gG=AG().mark(kG),bG=AG().mark(TG),wG=AG().mark(IG),EG=AG().mark(CG);function AG(){AG=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==mG(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(mG(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function SG(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function OG(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){SG(a,n,o,i,c,"next",e)}function c(e){SG(a,n,o,i,c,"throw",e)}i(void 0)}))}}function xG(){var e,t,r,n;return AG().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=3,(0,RU.Lt)(yn.UJ);case 3:return e=o.sent,o.next=6,(0,RU.Lt)(yn.zk);case 6:if(t=o.sent,!e||t){o.next=18;break}return o.next=10,(0,RU.T1)(OG(AG().mark((function e(){var t,r;return AG().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pn.A.sendMessage("AUTH-INF");case 3:return t=e.sent,r=t.body,e.abrupt("return",{methods:r.methods||[],required:r.required||!1});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",void 0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))));case 10:return r=o.sent,o.next=13,(0,RU.T1)(OG(AG().mark((function e(){var t,r;return AG().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pn.A.sendMessage("AUTH-WHOAMI");case 3:return t=e.sent,r=t.body,e.abrupt("return",r.user||"");case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return","");case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))));case 13:if(n=o.sent,!r){o.next=18;break}return r.user=n,o.next=18,(0,RU.yJ)((0,zn.z_)(r));case 18:return o.next=20,(0,RU.s)(zn.am.type);case 20:o.next=0;break;case 22:case"end":return o.stop()}}),hG)}function jG(){var e,t,r,n,o;return AG().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,(0,RU.s)(zn.mZ.type);case 3:if(e=a.sent,t=e.payload,r=t.result,n=t.reason,o=t.user,!r){a.next=13;break}return a.next=9,(0,RU.yJ)((0,zn.tQ)(o));case 9:return a.next=11,(0,RU.yJ)((0,ku.Ds)({message:o?"You are now authenticated as ".concat(o):"You are now deauthenticated",semantics:"success"}));case 11:a.next=15;break;case 13:return a.next=15,(0,RU.yJ)((0,ku.Qg)(n||"Authentication failed"));case 15:a.next=0;break;case 17:case"end":return a.stop()}}),vG)}function kG(){var e;return AG().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,(0,RU.Lt)(yn.UJ);case 3:if(t.sent){t.next=6;break}return t.abrupt("break",37);case 6:return t.next=8,(0,RU.Lt)(yn.wR);case 8:if(t.t1=!t.sent,!t.t1){t.next=13;break}return t.next=12,(0,RU.Lt)(yn.nG);case 12:t.t1=!t.sent;case 13:if(t.t0=t.t1,!t.t0){t.next=18;break}return t.next=17,(0,RU.Lt)(yG);case 17:t.t0=!t.sent;case 18:if(!t.t0){t.next=33;break}return e=!1,t.prev=21,t.next=24,(0,RU.T1)(IG);case 24:e=t.sent,t.next=30;break;case 27:t.prev=27,t.t2=t.catch(21);case 30:if(e){t.next=33;break}return t.next=33,(0,RU.yJ)(On());case 33:return t.next=35,(0,RU.cb)(1e3);case 35:t.next=0;break;case 37:case"end":return t.stop()}}),gG,null,[[21,27]])}function TG(){var e,t;return AG().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,(0,RU.Lt)(yn.UJ);case 3:return e=r.sent,r.next=6,(0,RU.Lt)(yn.zk);case 6:if(t=r.sent,!e||!t){r.next=13;break}return r.next=10,(0,RU.Lt)(yn.f1);case 10:if(!r.sent){r.next=13;break}return r.delegateYield(kG(),"t0",13);case 13:return r.next=15,(0,RU.s)([zn.am.type,zn.z_.type]);case 15:r.next=0;break;case 17:case"end":return r.stop()}}),bG)}function IG(){var e,t,r;return AG().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,RU.Lt)(yn.Y5);case 2:if(!(e=n.sent)){n.next=11;break}return n.next=6,(0,RU.c0)(kn({method:"jwt",data:e,messageHub:Pn.A}));case 6:if(t=n.sent,!(r=t.value)||!r.result){n.next=10;break}return n.abrupt("return",!0);case 10:case 11:return n.abrupt("return",!1);case 12:case"end":return n.stop()}}),wG)}function CG(){var e;return AG().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[xG(),TG(),jG()],t.next=3,(0,RU.Q7)(e);case 3:case"end":return t.stop()}}),EG)}function PG(e){return PG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PG(e)}function LG(){LG=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==PG(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(PG(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function _G(e){return LG().mark((function t(){var r,n,o,a;return LG().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!==(r=Object.keys(e)).length){t.next=6;break}return t.next=4,(0,RU.IJ)(r[0],e[r[0]]);case 4:t.next=25;break;case 6:if(!(r.length>1)){t.next=25;break}n={};case 8:return t.next=11,(0,RU.s)(r);case 11:if(o=t.sent,!n[o.type]){t.next=18;break}if(!n[o.type].isRunning()){t.next=17;break}return t.abrupt("continue",8);case 17:delete n[o.type];case 18:if(!(a=e[o.type])){t.next=23;break}return t.next=22,(0,RU.Zy)(a,o);case 22:n[o.type]=t.sent;case 23:t.next=8;break;case 25:case"end":return t.stop()}}),t)}))}function NG(e,t){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).retryDelay,n=void 0===r?50:r;return LG().mark((function r(){return LG().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=1,r.next=4,(0,RU.yJ)(e,t);case 4:return r.abrupt("break",13);case 7:return r.prev=7,r.t0=r.catch(1),r.next=11,(0,RU.cb)(n);case 11:r.next=0;break;case 13:case"end":return r.stop()}}),r,null,[[1,7]])}))()}function RG(e){return RG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RG(e)}function DG(){DG=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==RG(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(RG(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}var MG=DG().mark(GG),FG=DG().mark(VG),UG=DG().mark(BG);function GG(){var e,t,r,n,o,a,i;return DG().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,RU.T1)(Pn.A.query.getShowConfiguration);case 2:if(e=c.sent,t=(0,pa.A)(e,"start"),r=t.authorized,n=t.clock,o=t.time,a=t.method,i=t.uavIds,!(0,Gm.A)(o)&&!(0,Ge.default)(o)||!(0,mm.A)(a)||!Array.isArray(i)){c.next=15;break}return c.next=7,(0,RU.yJ)((0,Rh.rU)(Boolean(r)));case 7:return c.next=9,(0,RU.yJ)((0,Rh.U9)(a));case 9:return c.next=11,(0,RU.yJ)((0,Rh.Lx)((0,DI.default)(i||[],Ge.default)));case 11:return c.next=13,(0,RU.yJ)((0,Rh.gJ)({clock:n,time:o}));case 13:c.next=16;break;case 15:throw new TypeError("Invalid configuration object received from server");case 16:case"end":return c.stop()}}),MG)}function VG(){var e,t,r,n,o,a,i;return DG().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,RU.Lt)(Fc.yi);case 2:return e=c.sent,c.next=5,(0,RU.Lt)(Fc.LP);case 5:return t=c.sent,c.next=8,(0,RU.Lt)(xr.VZ);case 8:return r=c.sent,c.next=11,(0,RU.Lt)(Fc.bY);case 11:return n=c.sent,c.next=14,(0,RU.Lt)(Fc.pp);case 14:return o=c.sent,c.next=17,(0,RU.Lt)(Fc.Op);case 17:return a=c.sent,i="auto"===n?(0,DI.default)(r||[],Ge.default):[],c.next=21,(0,RU.T1)(Pn.A.execute.setShowConfiguration,{start:{authorized:e,clock:t,time:o,method:n,uavIds:i},duration:a});case 21:return c.next=23,(0,RU.yJ)((0,Rh.Lx)(i));case 23:case"end":return c.stop()}}),FG)}function BG(e){var t,r;return DG().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,r=!1,n.next=4,(0,RU.yJ)((0,Rh.Vh)("inProgress"));case 4:if(n.prev=4,"fromServer"!==t&&"toClient"!==t){n.next=11;break}return n.next=8,GG();case 8:r=!0,n.next=19;break;case 11:if("toServer"!==t&&"fromClient"!==t){n.next=17;break}return n.next=14,VG();case 14:r=!0,n.next=19;break;case 17:return n.next=19,(0,RU.yJ)((0,Rh.Vh)("syncInProgress"));case 19:n.next=25;break;case 21:n.prev=21,n.t0=n.catch(4),r=!1;case 25:return n.next=27,(0,RU.yJ)((0,Rh.Vh)(r?"synced":"error"));case 27:case"end":return n.stop()}}),UG,null,[[4,21]])}const HG=_G(function(e,t,r){var n;return n=function(e,t){if("object"!=RG(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=RG(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==RG(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},Rh.L5,BG));var WG=r(44040),zG=r(94648);function YG(e){return YG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YG(e)}function KG(){KG=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==YG(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(YG(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function qG(e){var t=e.maxLengthInSeconds;return KG().mark((function e(){var r,n,o,a;return KG().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=(0,zG.b)())){e.next=11;break}if(e.prev=2,!(n=(0,WG.decode)(r))||"number"!=typeof n.exp){e.next=7;break}return e.next=7,(0,RU.yJ)((0,qi.PD)(1e3*n.exp));case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:if(!("number"==typeof t&&t>0)){e.next=14;break}return e.next=14,(0,RU.yJ)((0,qi.CQ)(t));case 14:return e.next=16,(0,RU.Lt)((function(e){return e.session.expiresAt}));case 16:if(!((o=e.sent)&&"number"==typeof o&&o>=0)){e.next=26;break}if(!((a=o-Date.now())>0)){e.next=22;break}return e.next=22,(0,RU.cb)(a);case 22:return e.next=24,(0,RU.yJ)((0,qi.Wl)());case 24:return e.next=26,(0,RU.yJ)(bn());case 26:case"end":return e.stop()}}),e,null,[[2,9]])}))()}var $G=r(6608);function ZG(e){return ZG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZG(e)}function XG(){XG=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==ZG(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(ZG(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}var JG=XG().mark(QG);function QG(){var e,t,r,n;return XG().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:e=gk.hp.toString(),t=gk.vb.toString();case 2:return o.next=5,(0,RU.s)([e,t]);case 5:if(r=o.sent,!(n=eV())){o.next=18;break}o.t0=r.type,o.next=o.t0===e?11:o.t0===t?14:17;break;case 11:return n.resetZoom(),rV(),o.abrupt("break",18);case 14:return tV(n,r.payload),rV(),o.abrupt("break",18);case 17:return o.abrupt("break",18);case 18:o.next=2;break;case 20:case"end":return o.stop()}}),JG)}function eV(){if(hk.current){var e=hk.current.components;return e?e["advanced-camera-controls"]:null}return null}function tV(e,t){var r={lookAt:(0,$G.nT)(t)};e.startTransitionTo(r)}function rV(){var e=vk();e&&e.focus&&e.focus()}var nV=function(e){return!e.tour.seen&&!e.tour.isOpen},oV=r(72863);function aV(e){return aV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aV(e)}function iV(){iV=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==aV(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(aV(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}var cV=iV().mark(lV);function lV(){return iV().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,RU.cb)(3e3);case 2:return e.next=4,(0,RU.Lt)(nV);case 4:if(!e.sent){e.next=8;break}return e.next=8,(0,RU.yJ)((0,oV.$J)());case 8:case"end":return e.stop()}}),cV)}var uV=r(27701),sV=r(25029),fV=r(32722);function pV(e){return pV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pV(e)}function dV(){dV=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==pV(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(pV(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}var yV=dV().mark(CV),mV=dV().mark(PV),hV=dV().mark(LV);function vV(e){return function(e){if(Array.isArray(e))return xV(e)}(e)||EV(e)||OV(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gV(e,t){return AV(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||OV(e,t)||wV()}function bV(e){return AV(e)||EV(e)||OV(e)||wV()}function wV(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function EV(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function AV(e){if(Array.isArray(e))return e}function SV(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=OV(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function OV(e,t){if(e){if("string"==typeof e)return xV(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xV(e,t):void 0}}function xV(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var jV=function(e){return e.toJSON()},kV=function(e){return(0,aj.A)(e,jV)};function TV(e,t,r){var n=r.warnThreshold,o=r.goneThreshold,a=e?t-e:6e8;return a>r.forgetThreshold?fV.O.FORGOTTEN:a>o?fV.O.GONE:a>n?fV.O.INACTIVE:fV.O.ACTIVE}function IV(e){return(0,uV.Od)((function(t){var r=null,n={};function o(){(0,Um.A)(n)?r=null:(t(["updated",n]),r=setTimeout(o,500)),n={}}var a={uavsAdded:e.uavsAdded.add((function(e){var r,n={},o=SV(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;void 0!==a.id&&(a.age=fV.O.ACTIVE,n[a.id]=a)}}catch(e){o.e(e)}finally{o.f()}t(["added",n])})),uavsRemoved:e.uavsRemoved.add((function(e){var r,o=[],a=SV(e);try{for(a.s();!(r=a.n()).done;){var i=r.value;void 0!==i.id&&(o.push(i),delete n[i.id])}}catch(e){a.e(e)}finally{a.f()}t(["removed",o])})),uavsUpdated:e.uavsUpdated.add((function(e){var t,a=SV(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;n[i.id]=i}}catch(e){a.e(e)}finally{a.f()}null===r&&(o(),r=setTimeout(o,500))}))};return function(){e.uavsAdded.detach(a.uavsAdded),e.uavsRemoved.detach(a.uavsRemoved),e.uavsUpdated.detach(a.uavsUpdated),null!==r&&clearTimeout(r)}}))}function CV(e){var t,r,n,o,a,i,c,l,u,s,f,p,d,y,m,h,v,g,b,w,E,A,S,O,x,j;return dV().wrap((function(k){for(;;)switch(k.prev=k.next){case 0:return t=new Map,r=!1,k.next=4,(0,RU.T1)(IV,e);case 4:i=k.sent;case 5:return k.next=8,(0,RU.s)(i);case 8:c=k.sent,l=bV(c),u=l[0],s=l.slice(1),o=null,a=null,r=t.size>0,n=!1,k.t0=u,k.next="added"===k.t0?19:"removed"===k.t0?23:"updated"===k.t0?28:32;break;case 19:return o=kV(s[0]),k.next=22,(0,RU.yJ)((0,rS.T1)(o));case 22:return k.abrupt("break",33);case 23:return a=s[0].map((function(e){return e.id})),k.next=26,(0,RU.yJ)((0,rS.aE)(a));case 26:if(r){f=SV(a);try{for(f.s();!(p=f.n()).done;)d=p.value,t.delete(d)}catch(e){f.e(e)}finally{f.f()}}return k.abrupt("break",33);case 28:return o=kV(s[0]),k.next=31,(0,RU.yJ)((0,rS.hE)(o));case 31:return k.abrupt("break",33);case 32:case 33:if(o)if(r)for(w=0,E=Object.entries(o);w<E.length;w++)A=gV(E[w],2),S=A[0],O=A[1],x=O.errors.length>0?Math.max.apply(Math,vV(O.errors)):0,(0,sV.A)(x)?(j=t.get(S),((0,Ge.default)(j)||j<x)&&(t.set(S,x),n=!0)):t.has(S)&&t.delete(S);else for(y=0,m=Object.entries(o);y<m.length;y++)h=gV(m[y],2),v=h[0],g=h[1],b=g.errors.length>0?Math.max.apply(Math,vV(g.errors)):0,(0,sV.A)(b)&&(t.set(v,b),n=!0,r=!0);if(!(r&&t.size<=0)){k.next=37;break}return k.next=37,(0,RU.yJ)((0,xi.cB)());case 37:if(!n){k.next=40;break}return k.next=40,(0,RU.yJ)((0,xi.Vj)());case 40:k.next=5;break;case 42:case"end":return k.stop()}}),yV)}function PV(e){var t,r,n,o,a,i,c,l,u,s,f,p;return dV().wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=3,(0,RU.cb)(1e3);case 3:return d.next=5,(0,RU.Lt)(mo.gd);case 5:return t=d.sent,d.next=8,(0,RU.Lt)(mo.Ev);case 8:return r=d.sent,d.next=11,(0,RU.Lt)(yn.li);case 11:if(d.t0=d.sent,d.t0){d.next=14;break}d.t0=0;case 14:return n=d.t0,d.next=17,(0,RU.Lt)(Kt.xf);case 17:o=d.sent,a=Date.now()+n,i={},c=[],l=SV(r);try{for(l.s();!(u=l.n()).done;)s=u.value,(f=t[s])&&((p=TV(f.lastUpdated,a,o))===fV.O.FORGOTTEN?c.push(s):p!==f.age&&(i[s]=p))}catch(e){l.e(e)}finally{l.f()}if((0,Um.A)(i)){d.next=26;break}return d.next=26,(0,RU.yJ)((0,rS.uW)(i));case 26:c.length>0&&e.removeUAVsByIds(c),d.next=0;break;case 29:case"end":return d.stop()}}),mV)}function LV(e){return dV().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,RU.Q7)([CV(e),PV(e)]);case 2:case"end":return t.stop()}}),hV)}r(94298);function _V(e){return _V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_V(e)}function NV(){NV=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==_V(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(_V(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}var RV=NV().mark(FV),DV=NV().mark(GV),MV=Symbol("STOP");function FV(e,t){var r,n,o,a,i,c,l,u;return NV().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=3,(0,RU.s)(e);case 3:if((o=s.sent)!==MV){s.next=6;break}return s.abrupt("break",54);case 6:return a=o.executor,i=o.payload,c=o.selector,l=o.target,r=void 0,n=void 0,s.prev=9,s.next=12,(0,RU.yJ)((0,tu.OX)(l));case 12:if(!c){s.next=18;break}return s.next=15,(0,RU.Lt)(c,l);case 15:s.t0=s.sent,s.next=19;break;case 18:s.t0=void 0;case 19:return u=s.t0,s.next=22,(0,RU.T1)(a,{uavId:l,payload:i,data:u});case 22:r="success",s.next=29;break;case 25:s.prev=25,s.t1=s.catch(9),r="failure",n=s.t1;case 29:return s.prev=29,s.next=32,(0,RU.KW)()&&!r;case 32:if(!s.sent){s.next=34;break}r="cancelled";case 34:return s.finish(29);case 35:s.t2=r,s.next="success"===s.t2?38:"failure"===s.t2?41:"cancelled"===s.t2?47:50;break;case 38:return s.next=40,(0,RU.yJ)((0,tu.gg)(l));case 40:return s.abrupt("break",52);case 41:return t.push(l),s.next=44,(0,RU.yJ)((0,tu.gB)(l));case 44:return s.next=46,(0,RU.yJ)((0,tu.iZ)(l,(0,Xr.Nw)(n.message||n)));case 46:return s.abrupt("break",52);case 47:return s.next=49,(0,RU.yJ)((0,tu.yG)(l));case 49:case 50:return s.abrupt("break",52);case 52:s.next=0;break;case 54:case"end":return s.stop()}}),RV,null,[[9,25,29,35]])}function UV(e,t){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).workerCount,n=void 0===r?8:r;return NV().mark((function r(){var o,a,i,c,l,u,s,f,p,d,y,m;return NV().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=e.executor,a=e.selector,o){r.next=4;break}return r.abrupt("return");case 4:return r.next=6,(0,RU.T1)(uV.Ix,uV.u2.fixed(1));case 6:i=r.sent,c=[],l=[],u=!1,s=!1,f=0;case 12:if(!(f<n)){r.next=20;break}return r.next=15,(0,RU.Zy)(FV,i,c);case 15:p=r.sent,l.push(p);case 17:f++,r.next=12;break;case 20:if(u){r.next=57;break}return r.next=23,(0,RU.Lt)(Hl);case 23:if(d=r.sent,(0,Ge.default)(d)){r.next=31;break}return r.next=27,(0,RU.yJ)((0,tu.kb)(d));case 27:return r.next=29,NG(i,{executor:o,payload:t.payload,selector:a,target:d});case 29:r.next=55;break;case 31:return r.next=33,(0,RU.Lt)(eu);case 33:return r.sent&&c.length>0&&(0,eb.HM)(c),r.next=37,(0,RU.Lt)(Ql);case 37:if(!(r.sent&&c.length>0)){r.next=45;break}return y=[].concat(c),c.length=0,r.next=43,(0,RU.yJ)((0,tu.FK)(y));case 43:r.next=55;break;case 45:return r.next=47,(0,RU.Lt)(Gl);case 47:if(!(r.sent.length>0)){r.next=53;break}return r.next=51,(0,RU.cb)(500);case 51:r.next=55;break;case 53:u=!0,s=0===c.length;case 55:r.next=20;break;case 57:m=0;case 58:if(!(m<n)){r.next=64;break}return r.next=61,NG(i,MV);case 61:m++,r.next=58;break;case 64:return r.next=66,(0,RU.fj)(l);case 66:return r.abrupt("return",s);case 67:case"end":return r.stop()}}),r)}))()}function GV(){var e,t,r,n,o,a,i;return NV().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,RU.Lt)(Ml);case 2:if((e=c.sent).type){c.next=6;break}return c.abrupt("return");case 6:if(t=(0,Ll.iF)(e.type)){c.next=10;break}return c.abrupt("return");case 10:return c.next=12,(0,RU.yJ)((0,tu.$C)());case 12:return c.prev=12,r=t.workerManager,n=void 0===r?UV:r,c.next=16,(0,RU.O4)({success:(0,RU.T1)(n,t,e),cancelled:(0,RU.s)(tu.wM)});case 16:return o=c.sent,a=o.cancelled,i=o.success,c.next=21,(0,RU.yJ)((0,tu.AP)({cancelled:Boolean(a),success:Boolean(i)}));case 21:c.next=28;break;case 23:return c.prev=23,c.t0=c.catch(12),(0,Xr.H4)(c.t0,"Upload operation"),c.next=28,(0,RU.yJ)((0,tu.AP)({cancelled:!1,success:!1}));case 28:case"end":return c.stop()}}),DV,null,[[12,23]])}const VV=_G(function(e,t,r){var n;return n=function(e,t){if("object"!=_V(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=_V(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==_V(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},tu.aH,GV));var BV=r(48034),HV=(0,sn.vR)("weather/loading",(function(e){return Pn.A.query.getWeatherInformation(e)}),{minDelay:500});function WV(e){return WV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WV(e)}function zV(){zV=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==WV(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(WV(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}var YV=zV().mark(qV),KV=6e4;function qV(){var e,t,r,n;return zV().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return e=void 0,o.next=4,(0,RU.Lt)(yn.UJ);case 4:if(!o.sent){o.next=23;break}return e=!1,o.prev=7,o.next=10,(0,RU.yJ)((0,hP.Lt)(Date.now()));case 10:return o.next=12,(0,RU.Lt)(ke.Gk);case 12:return t=o.sent,o.next=15,(0,RU.c0)(HV(t));case 15:e=!0,o.next=20;break;case 18:o.prev=18,o.t0=o.catch(7);case 20:if(!e){o.next=23;break}return o.next=23,(0,RU.yJ)((0,hP.Ag)(Date.now()));case 23:return o.next=25,(0,RU.Lt)(dC);case 25:return r=o.sent,n=r?r+30*KV-Date.now():0,o.next=29,(0,RU.O4)({action:(0,RU.s)([zn.am.type,BV.c.type]),refresh:(0,RU.cb)(Math.max(n,KV))});case 29:o.next=0;break;case 31:case"end":return o.stop()}}),YV,null,[[7,18]])}function $V(e){return $V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$V(e)}function ZV(){ZV=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==$V(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError($V(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}var XV=ZV().mark(eB);function JV(){var e;return Boolean(null===(e=window)||void 0===e||null===(e=e.bridge)||void 0===e?void 0:e.isElectron)}function QV(){if(JV())return 5001;var e=new URL(window.location.href);return e.port&&e.port.length>0?e.port:"http:"===e.protocol?80:(e.protocol,443)}function eB(){var e,t,r,n,a,i,c,l;return ZV().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,RU.Lt)(yn.XP);case 2:if(e=u.sent,!(0,Ge.default)(e)){u.next=22;break}if(t=o.A.server,r=t.connectAutomatically,n=t.hostName,a=t.isSecure,i=t.port,c=t.protocol,r&&(n||(n=JV()?"localhost":new URL(window.location.href).hostname),!(0,Ge.default)(i)&&i||(i=QV())),i=Number.parseInt((0,Ge.default)(i)?o.A.server.port:i,10),Number.isNaN(i)&&(i=dn.SD?5001:443),c){u.next=19;break}u.t0=i,u.next=80===u.t0||443===u.t0?12:5e3===u.t0?14:5001===u.t0?16:18;break;case 12:case 14:return c=Oa.Z.WS,u.abrupt("break",19);case 16:return c=Oa.Z.TCP,u.abrupt("break",19);case 18:c=dn.SD?Oa.Z.TCP:Oa.Z.WS;case 19:return l={active:r,protocol:c,hostName:n,port:i,isSecure:a||443===i},u.next=22,(0,RU.yJ)(An(l));case 22:case"end":return u.stop()}}),XV)}function tB(e){return tB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tB(e)}function rB(){rB=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==tB(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(tB(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}var nB=rB().mark(oB);function oB(){var e,t,r;return rB().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(window?window.bridge:null)||{},t=e.localServer,r=[KU(),pG(),eB(),CG(),HG(),QG(),LV(ss.Ay),VV(),qV()],t&&t.search&&r.push(nG(t.search)),(0,ps.jI)("beacons")&&r.push(GU()),ps.Os&&r.push(qG(o.A.session)),o.A.tour&&r.push(lV()),n.next=8,(0,RU.Q7)(r);case 8:case"end":return n.stop()}}),nB)}var aB=r(38544),iB=r(17064),cB=r(82593);var lB=(0,jt.createThemeProvider)({primaryColor:function(e){return e?aB.A:Xy.A},secondaryColor:function(e){return e?iB.A:cB.A},themeOptionsHook:function(e){void 0===e.props&&(e.props={}),e.props.MuiTextField={variant:"filled"}}}),uB=function(){var e=(0,jt.isThemeDark)((0,nr.A)());return(0,jt.useConditionalCSS)('/* dark mode specific stylesheet tweaks */\n\n/* Adjust error panel for dark mode */\n.error-panel {\n  background: #424242 !important;\n  color: white;\n}\n\n/* Change the background color of the workbench and its panels in dark mode */\n.lm_goldenlayout {\n  background: #333;\n}\nbody .lm_content {\n  background-color: #424242;\n  border: 1px solid #777;\n}\n\n/* Fix the background color of the panel bodies and the tabs */\nbody .lm_header .lm_tab {\n  background-color: #3b3b3b;\n  border-color: #777;\n}\nbody .lm_header .lm_tab:hover {\n  color: white;\n}\nbody .lm_header .lm_tab.lm_active {\n  background-color: #424242;\n  color: white;\n}\n\n/* Change the color of splitters */\n.lm_splitter {\n  background: #424242;\n}\n.lm_splitter:hover,\n.lm_splitter.lm_dragging {\n  background: #222;\n}\n\n/* OpenLayers widget customizations */\n.ol-control button,\n.ol-control button:hover,\n.ol-control button:focus {\n  background-color: #424242 !important;\n  color: #fff !important;\n}\n.ol-attribution {\n  background-color: rgba(68, 68, 68, 0.8) !important;\n  color: #fff !important;\n}\n.ol-attribution ul {\n  color: rgba(255, 255, 255, 0.7) !important;\n  text-shadow: none;\n}\n.ol-attribution ul a,\n.ol-attribution ul a:hover,\n.ol-attribution ul a:active,\n.ol-attribution ul a:visited {\n  color: #fff !important;\n  text-decoration: none;\n}\n.ol-mouse-position {\n  background-color: #424242 !important;\n  color: #fff !important;\n}\n.ol-scale-line {\n  background-color: #424242 !important;\n  border-color: #424242 !important;\n}\n.ol-scale-line-inner {\n  border-color: #fff !important;\n  color: #fff !important;\n}\n\n/* Keyboard tag styling */\nkbd {\n  background: #616161 !important;\n  box-shadow: 1px 1px 1px #333;\n  color: #ddd !important;\n}\n\nkbd:hover,\nkbd:hover * {\n  color: white !important;\n}\n\n/* The rest comes directly from the dark mode stylesheet of react-flexible-workbench */\n.lm_dragProxy .lm_content {\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.9);\n}\n.lm_dropTargetIndicator {\n  box-shadow: inset 0 0 30px #000000;\n  outline: 1px dashed #cccccc;\n  transition: all 200ms ease;\n}\n.lm_dropTargetIndicator .lm_inner {\n  background: #000000;\n  opacity: 0.2;\n}\n.lm_header .lm_tab .lm_close_tab {\n  width: 11px;\n  height: 11px;\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAYAAADEUlfTAAAATElEQVR4nG3OwQ0DMQwDwZGRBtR/j1YJzMc5+IDoR+yCVO29g+pu981MFgqZmRdAfU7+CYWcbF11LwALjpBL0N0qybNx/RPU+gOeiS/+XCRwDlTgkQAAAABJRU5ErkJggg==);\n  background-position: center center;\n  background-repeat: no-repeat;\n  top: 4px;\n  right: 6px;\n  opacity: 0.4;\n}\n.lm_header .lm_tab .lm_close_tab:hover {\n  opacity: 1;\n}\n.lm_header .lm_controls .lm_tabdropdown:before {\n  color: #ffffff;\n}\n.lm_controls .lm_popout {\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAPklEQVR4nI2Q0QoAIAwCNfr/X7aXCpGN8snBdgejJOzckpkxs9jR6K6T5JpU0nWl5pSXTk7qwh8SnNT+CAAWCgkKFpuSWsUAAAAASUVORK5CYII=);\n}\n.lm_controls .lm_maximise {\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAKElEQVR4nGP8////fwYCgImQAgYGBgYWKM2IR81/okwajIpgvsMbVgAwgQYRVakEKQAAAABJRU5ErkJggg==);\n}\n.lm_controls .lm_close {\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAQUlEQVR4nHXOQQ4AMAgCQeT/f6aXpsGK3jSTuCVJAAr7iBdoAwCKd0nwfaAdHbYERw5b44+E8JoBjEYGMBq5gAYP3usUDu2IvoUAAAAASUVORK5CYII=);\n}\n.lm_maximised .lm_header {\n  background-color: #333;\n}\n.lm_maximised .lm_controls .lm_maximise {\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAJ0lEQVR4nGP8//8/AzGAiShVI1YhCwMDA8OsWbPwBmZaWhoj0SYCAN1lBxMAX4n0AAAAAElFTkSuQmCC);\n}\n.lm_transition_indicator {\n  background-color: #333;\n  border: 1px dashed #555;\n}\n.lm_popin .lm_icon {\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAJCAYAAADpeqZqAAAAWklEQVR4nJWOyw3AIAxDHcQC7L8jbwT3AlJBfNp3SiI7dtRaLSlKKeoA1oEsKSQZCEluexw8Tm3ohk+E7bnOUHUGcNh+HwbBygw4AZ7FN/Lt84p0l+yTflV8AKQyLdcCRJi/AAAAAElFTkSuQmCC);\n  background-position: center center;\n  background-repeat: no-repeat;\n  border-left: 1px solid #eeeeee;\n  border-top: 1px solid #eeeeee;\n  opacity: 0.7;\n}\n.lm_popin:hover .lm_icon {\n  opacity: 1;\n}\n\n/* Dark mode support for the Markdown editor in the "Field notes" panel */\n.EasyMDEContainer .CodeMirror {\n  color: white !important;\n  background-color: #424242 !important;\n}\n.EasyMDEContainer .CodeMirror-cursor {\n  border-color: #777 !important;\n}\n',e),null};const sB=(0,s.Ng)((function(e){return{type:e.settings.display.theme}}))(lB);var fB=r(89536);function pB(e){return pB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pB(e)}function dB(){dB=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==pB(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(pB(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function yB(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return mB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mB(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function mB(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var hB={executor:function(e){var t=e.uavId,r=e.payload;return dB().mark((function e(){var n,o,a,i,c,l,u,s;return dB().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=(n=null!=r?r:{}).items,a=n.meta,Array.isArray(o)&&0!==o.length){e.next=3;break}return e.abrupt("return");case 3:i=yB(o),e.prev=4,i.s();case 6:if((c=i.n()).done){e.next=12;break}return l=c.value,u=l.name,s=l.value,e.next=10,(0,RU.T1)(Pn.A.execute.setParameter,{uavId:t,name:u,value:s});case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),i.e(e.t0);case 17:return e.prev=17,i.f(),e.finish(17);case 20:if(!(null!=a?a:{}).shouldReboot){e.next=24;break}return e.next=24,(0,RU.T1)(Pn.A.execute.resetUAV,t);case 24:case"end":return e.stop()}}),e,null,[[4,14,17,20]])}))()},title:"Upload parameters",type:ru};const vB=hB;function gB(){gB=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==SB(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(SB(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function bB(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function wB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function EB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wB(Object(r),!0).forEach((function(t){AB(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wB(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function AB(e,t,r){var n;return n=function(e,t){if("object"!=SB(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=SB(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==SB(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SB(e){return SB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SB(e)}function OB(){var e;return e=gB().mark((function e(t){var r,n,o,a;return gB().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.uavId,n=t.data,o=Pn.A.createCancelToken(),(a=Pn.A.execute.uploadDroneShow({uavId:r,data:n},{cancelToken:o}))[uV.bO]=function(){return o.cancel({allowFailure:!0})},e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})),OB=function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){bB(a,n,o,i,c,"next",e)}function c(e){bB(a,n,o,i,c,"throw",e)}i(void 0)}))},OB.apply(this,arguments)}var xB={executor:function(e){return OB.apply(this,arguments)},selector:function(e,t){var r=(0,xr.Ps)(e),n=r?r[t]:void 0;if((0,Ge.default)(n))throw new Error("UAV ".concat(t," is not in the current mission"));var o=(0,Fc.Jn)(e);if((0,Fc.kP)(e)&&("object"!==SB(o)||!Array.isArray(o.origin)))throw new TypeError("Show coordinate system not specified");var a=function(e){var t=(0,xr.GQ)(e),r=(0,Fc.SJ)(e),n={version:1,enabled:!0,polygons:r?[{isInclusion:!0,points:r}]:[],rallyPoints:[],maxAltitude:(0,tD.Dp)(e),maxDistance:(0,tD.zr)(e)};return t!==eD.FU.KEEP_CURRENT&&(n.action=t),n}(e),i=(0,Fc.Kh)(e);if(!i||!Array.isArray(i))throw new Error("Invalid show configuration in state store");var c=i[n];if(!c||"object"!==SB(c))throw new Error("No specification for UAV ".concat(t," (index ").concat(n,")"));var l=c.settings;if("object"!==SB(l))throw new TypeError("Invalid show configuration for UAV ".concat(t," (index ").concat(n,") in state store"));var u=(0,Fc.dp)(e).id,s=(0,Fc.dK)(e);return EB(EB(EB({},(0,Fc.AO)(e)),l),{},{amslReference:s,coordinateSystem:o,geofence:a,mission:{id:u,index:n,displayName:"".concat(u||"drone-show"," / ").concat(n+1),numDrones:i.length}})},scope:Ll.uw.MISSION,title:"Upload show data",type:Dh.jp};const jB=xB;function kB(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return TB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TB(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function TB(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const IB=function(){var e=[vB,fB.Ay,jB].map((function(e){return(0,Ll.Qb)(e)}));return e.reverse(),function(){var t,r=kB(e);try{for(r.s();!(t=r.n()).done;){(0,t.value)()}}catch(e){r.e(e)}finally{r.f()}}};r(46259),r(64240);function CB(e){return CB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CB(e)}function PB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MB(n.key),n)}}function LB(e,t,r){return t=NB(t),function(e,t){if(t&&("object"===CB(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_B()?Reflect.construct(t,r||[],NB(e).constructor):t.apply(e,r))}function _B(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_B=function(){return!!e})()}function NB(e){return NB=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},NB(e)}function RB(e,t){return RB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},RB(e,t)}function DB(e,t,r){return(t=MB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MB(e){var t=function(e,t){if("object"!=CB(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=CB(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==CB(t)?t:t+""}function FB(){FB=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==CB(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(CB(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function UB(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function GB(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){UB(a,n,o,i,c,"next",e)}function c(e){UB(a,n,o,i,c,"throw",e)}i(void 0)}))}}r(49721),r(4180),r(12208),r(24504);var VB=(0,d.Ay)((function(){return Promise.all([r.e(922),r.e(985)]).then(r.bind(r,78615))})),BB={display:"flex",flexDirection:"column",width:"100%",height:"100%"},HB={display:"flex",alignItems:"stretch",flexGrow:1,contain:"size"};(0,fs.fq)().then((function(){IB(),fs.de.run(oB)}));var WB=function(e){var t=e.isFixed,r=e.showSidebar;return c.createElement("div",{className:(0,n.A)(t&&"workbench-fixed"),style:HB},r?c.createElement(nF,{workbench:Fk}):null,c.createElement(u.Ty,{workbench:Fk}))};WB.propTypes={isFixed:i().bool,showSidebar:i().bool};var zB=(0,s.Ng)((function(e){return{isFixed:NC(e),showSidebar:RC(e)}}),null)(WB),YB=function(e){var t,r,n=e.onFirstRender;return c.createElement(p.Q,{persistor:fs.qj,onBeforeLift:(r=n,GB(FB().mark((function e(){var t;return FB().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=fs.Ay.getState())&&t.workbench&&t.workbench.state&&Fk.restoreState(t.workbench.state),r&&r();case 3:case"end":return e.stop()}}),e)}))))},c.createElement(c.Fragment,null,c.createElement(y.Ay,null),c.createElement(uB,null),c.createElement(w_,null),c.createElement("div",{style:BB},c.createElement(YC,{perspectives:lT,workbench:Fk}),c.createElement(zB,null),(null===o.A||void 0===o.A||null===(t=o.A.ribbon)||void 0===t?void 0:t.label)&&c.createElement(uP,o.A.ribbon),c.createElement(N_,null)),c.createElement(gL,null),c.createElement(rL,null),c.createElement(NU,null),c.createElement(TR,null),c.createElement(aL,null),c.createElement(hi.AppSettingsDialog,null),c.createElement(hi.AuthenticationDialog,null),c.createElement(hi.DeauthenticationDialog,null),c.createElement(hi.FeatureEditorDialog,null),c.createElement(hi.FlyToTargetDialog,null),c.createElement(hi.GlobalErrorDialog,null),c.createElement(hi.LayerSettingsDialog,null),c.createElement(hi.ServerSettingsDialog,null),ps.Os&&c.createElement(hi.SessionExpiryDialog,null),c.createElement(hi.TimeSyncDialog,null),c.createElement(PN,null),c.createElement(UL,null),c.createElement(L_,null),c.createElement(H_,null),c.createElement(q_,null),c.createElement(xR,null),c.createElement(KR,null),c.createElement(JR,null),c.createElement(RM,null),c.createElement(ID,null),c.createElement(MD,null),c.createElement(CF,null),c.createElement(TU,null),c.createElement(LU,null),c.createElement(f.tE,{placement:o.A.toastPlacement,transitionDuration:250},c.createElement(pF,null)),o.A.tour&&c.createElement(VB,null)))};YB.propTypes={onFirstRender:i().func};var KB=function(){return c.createElement("div",{className:"drag-proxy"})},qB=function(e){var t;return t=function(t){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),LB(this,r,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RB(e,t)}(r,t),n=r,(o=[{key:"render",value:function(){return this.props.glDragging?c.createElement(l.tH,{FallbackComponent:Xr.zc,onReset:fs.si},c.createElement(KB,null)):c.createElement(l.tH,{FallbackComponent:Xr.zc,onReset:fs.si},c.createElement(s.Kq,{store:fs.Ay},c.createElement(sB,null,c.createElement(ss.yN.Provider,{value:ss.Ay},c.createElement(e,this.props)))))}}])&&PB(n.prototype,o),a&&PB(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,a}(c.Component),DB(t,"displayName","WorkbenchRoot"),DB(t,"propTypes",{glDragging:i().bool}),t};Fk.hoc=qB;const $B=qB(YB)},44539:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var n=r(34164),o=r(5556),a=r.n(o),i=r(96540),c=r(82096),l=r(36896),u=r(5953),s=r(55258),f=(0,c.A)((function(e){return{root:{marginTop:e.spacing(.5),padding:"0 2px",textAlign:"center",userSelect:"none",width:"100%"},batteryFull:{color:u.Ay.success,fontWeight:"bold"},batteryWarning:{backgroundColor:u.Ay.warning,borderRadius:"".concat(2*e.shape.borderRadius,"px"),color:e.palette.getContrastText(u.Ay.warning)},batteryError:{backgroundColor:u.Ay.error,borderRadius:"".concat(2*e.shape.borderRadius,"px"),color:e.palette.getContrastText(u.Ay.error),fontWeight:"bold"}}}),{name:"BatteryIndicator"}),p=function(e){var t=e.charging,r=e.className,o=e.cellCount,a=e.formatter,c=e.percentage,u=e.voltage,s=a.getBatteryStatus(u,c,o),p=a.getBatteryLabel(u,c,o),d=a.getBatteryIcon(c,s,t),y=f(),m=(0,n.A)(r,y.root,y["battery".concat(s)]);return i.createElement(l.A,{fontSize:"small",className:m},d,p)};p.propTypes={cellCount:a().number,className:a().string,charging:a().bool,formatter:a().instanceOf(s.K),percentage:a().oneOfType([a().number,a().string]),voltage:a().oneOfType([a().number,a().string])},p.defaultProps={formatter:s.h};const d=p},93107:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});r(52675),r(89463),r(2259),r(23418),r(23792),r(34782),r(62010),r(69085),r(79432),r(27495),r(90906),r(38781),r(47764),r(62953),r(2008),r(26099);var n=r(5556),o=r.n(n),a=r(96540),i=r(96746),c=["accepts","children","filter","multiple","onSelected","onSelectionFailed"];function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var p=a.forwardRef((function(e,t){var r=e.accepts,n=e.children,o=e.filter,s=e.multiple,p=e.onSelected,d=e.onSelectionFailed,y=f(e,c),m=u((0,a.useState)(0),2),h=m[0],v=m[1],g=(0,a.useCallback)((function(e){(e=e&&e.files?s?e.files:e.files[0]:null)&&(!r||r(e)?p&&p(e):d&&d(e),v(h+1))}),[r,h,s,p,d]);return a.createElement(i.A,l({ref:t,component:"label"},y),a.createElement("input",{key:h,hidden:!0,type:"file",accept:o,multiple:s,onChange:function(e){return g(e.target)}}),n)}));p.propTypes={accepts:o().func,children:o().node,filter:o().arrayOf(o().string),multiple:o().bool,onSelected:o().func,onSelectionFailed:o().func};const d=p},26562:(e,t,r)=>{"use strict";r.d(t,{A:()=>E});r(52675),r(89463),r(2259),r(2008),r(23792),r(69085),r(83851),r(81278),r(79432),r(26099),r(47764),r(23500),r(62953),r(45700),r(89572),r(2892),r(16034);var n=r(34164),o=r(5556),a=r.n(o),i=r(96540),c=r(82096),l=r(4181),u=["children","className","inline","hollow","status"];function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f.apply(this,arguments)}function p(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){var n;return n=function(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==s(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e,t){var r=(0,l.colorForStatus)(e);return{backgroundColor:r,color:t.palette.getContrastText(r)}},v=function(e){return{color:(0,l.colorForStatus)(e)}},g={animation:"$flash 0.5s infinite",animationDirection:"alternate"},b=(0,c.A)((function(e){return{root:{borderRadius:e.spacing(1),color:e.palette.getContrastText.primary,fontSize:"small",overflow:"hidden",padding:"0 ".concat(e.spacing(.5)),textAlign:"center",textTransform:"uppercase",userSelect:"none",whiteSpace:"nowrap"},fullWidth:{width:"100%"},"status-off":{backgroundColor:e.palette.action.selected},"status-info":h(l.Status.INFO,e),"status-waiting":h(l.Status.WAITING,e),"status-next":h(l.Status.NEXT,e),"status-success":h(l.Status.SUCCESS,e),"status-skipped":h(l.Status.SKIPPED,e),"status-warning":y(y({},h(l.Status.WARNING,e)),{},{fontWeight:"bold"}),"status-rth":y(y(y({},h(l.Status.RTH,e)),g),{},{fontWeight:"bold"}),"status-error":y(y({},h(l.Status.ERROR,e)),{},{fontWeight:"bold"}),"status-critical":y(y(y({},h(l.Status.CRITICAL,e)),g),{},{fontWeight:"bold"}),"status-hollow-off":{color:e.palette.text.secondary},"status-hollow-info":v(l.Status.INFO),"status-hollow-waiting":v(l.Status.WAITING),"status-hollow-next":v(l.Status.NEXT),"status-hollow-success":v(l.Status.SUCCESS),"status-hollow-skipped":v(l.Status.SKIPPED),"status-hollow-warning":y(y({},v(l.Status.WARNING)),{},{fontWeight:"bold"}),"status-hollow-rth":y(y(y({},v(l.Status.RTH)),g),{},{fontWeight:"bold"}),"status-hollow-error":y(y({},v(l.Status.ERROR)),{},{fontWeight:"bold"}),"status-hollow-critical":y(y(y({},v(l.Status.CRITICAL)),g),{},{fontWeight:"bold"}),"@keyframes flash":{"0%, 49%":{opacity:.5},"50%, 100%":{opacity:1}}}}),{name:"StatusPill"}),w=function(e){var t=e.children,r=e.className,o=e.inline,a=e.hollow,c=e.status,l=p(e,u),s=b();return i.createElement("div",f({className:(0,n.A)(r,s.root,!o&&s.fullWidth,a?s["status-hollow-".concat(c)]:s["status-".concat(c)])},l),t)};w.propTypes={children:a().node,className:a().string,hollow:a().bool,inline:a().bool,status:a().oneOf(Object.values(l.Status))},w.defaultProps={status:l.Status.INFO};const E=w},40122:(e,t,r)=>{"use strict";r.d(t,{A:()=>_});r(52675),r(28706),r(62062),r(69085),r(79432);var n=r(37364),o=r(5556),a=r.n(o),i=r(96540),c=r(10233),l=r(59275),u=r(52278),s=r(49668),f=r(19718),p=r(81664),d=r(1670),y=r(87781),m=r(33316),h=r(64843),v=r(98665),g=r(86075),b=r(586),w=r(38567),E=r(38544),A=r(73742),S=r(18540),O=r(82593),x=["styles"];function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j.apply(this,arguments)}function k(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var T=[l.A,u.A,s.A,f.A,p.A,d.A,y.A,m.A,h.A,v.A,g.A,b.A,w.A,E.A,A.A,S.A,O.A],I=["700","500","300"],C={colors:T.map((function(e){return I.map((function(t){return e[t]}))})).concat([["#000000","#808080","#FFFFFF"]]),width:450,height:170},P={default:{overflow:{overflowY:"hidden"},body:{padding:0}}},L=function(e){var t=e.styles,r=k(e,x);return i.createElement(c.Lu,j({className:"borderless",styles:(0,n.default)(P,t)},C,r))};L.propTypes={styles:a().object};const _=L},55258:(e,t,r)=>{"use strict";r.d(t,{K:()=>M,h:()=>F});r(52675),r(89463),r(2259),r(45700),r(23792),r(89572),r(2892),r(9868),r(26099),r(47764),r(62953);var n=r(97859),o=r(96540),a=r(9257),i=r(60677),c=r(11232),l=r(1062),u=r(22521),s=r(91399),f=r(72253),p=r(36454),d=r(88414),y=r(15275),m=r(69757),h=r(14890),v=r(63956),g=r(17433),b=r(44501),w=r(8885),E=r(4181),A=r(13083),S=r(78421);function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T(n.key),n)}}function j(e,t,r){return t&&x(e.prototype,t),r&&x(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function k(e,t,r){return(t=T(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e){var t=function(e,t){if("object"!=O(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==O(t)?t:t+""}var I=k(k(k(k(k(k({},A.m.FULL,10),A.m.NEAR_FULL,9),A.m.OK,8),A.m.WARNING,3),A.m.ERROR,0),A.m.UNKNOWN,11),C={marginLeft:-8,marginTop:-2,verticalAlign:"bottom"},P={},L=[o.createElement(a.A,{key:"batteryIcon",fontSize:"small",style:C}),o.createElement(a.A,{key:"batteryIcon",fontSize:"small",style:C}),o.createElement(i.A,{key:"batteryIcon",fontSize:"small",style:C}),o.createElement(c.A,{key:"batteryIcon",fontSize:"small",style:C}),o.createElement(l.A,{key:"batteryIcon",fontSize:"small",style:C}),o.createElement(l.A,{key:"batteryIcon",fontSize:"small",style:C}),o.createElement(u.A,{key:"batteryIcon",fontSize:"small",style:C}),o.createElement(s.A,{key:"batteryIcon",fontSize:"small",style:C}),o.createElement(s.A,{key:"batteryIcon",fontSize:"small",style:C}),o.createElement(f.A,{key:"batteryIcon",fontSize:"small",style:C}),o.createElement(p.A,{key:"batteryIcon",fontSize:"small",style:C}),o.createElement("span",{key:"batteryIcon",style:P}," ")],_=[o.createElement(a.A,{key:"batteryIcon"}),o.createElement(a.A,{key:"batteryIcon"}),o.createElement(i.A,{key:"batteryIcon"}),o.createElement(c.A,{key:"batteryIcon"}),o.createElement(l.A,{key:"batteryIcon"}),o.createElement(l.A,{key:"batteryIcon"}),o.createElement(u.A,{key:"batteryIcon"}),o.createElement(s.A,{key:"batteryIcon"}),o.createElement(s.A,{key:"batteryIcon"}),o.createElement(f.A,{key:"batteryIcon"}),o.createElement(p.A,{key:"batteryIcon"}),o.createElement(w.A,{key:"batteryIcon"})],N=[o.createElement(d.A,{key:"batteryIcon",fontSize:"small",style:C}),o.createElement(d.A,{key:"batteryIcon",fontSize:"small",style:C}),o.createElement(d.A,{key:"batteryIcon",fontSize:"small",style:C}),o.createElement(y.A,{key:"batteryIcon",fontSize:"small",style:C}),o.createElement(m.A,{key:"batteryIcon",fontSize:"small",style:C}),o.createElement(m.A,{key:"batteryIcon",fontSize:"small",style:C}),o.createElement(h.A,{key:"batteryIcon",fontSize:"small",style:C}),o.createElement(v.A,{key:"batteryIcon",fontSize:"small",style:C}),o.createElement(v.A,{key:"batteryIcon",fontSize:"small",style:C}),o.createElement(g.A,{key:"batteryIcon",fontSize:"small",style:C}),o.createElement(b.A,{key:"batteryIcon",fontSize:"small",style:C}),o.createElement("span",{key:"batteryIcon",style:P})],R=[o.createElement(d.A,{key:"batteryIcon"}),o.createElement(d.A,{key:"batteryIcon"}),o.createElement(d.A,{key:"batteryIcon"}),o.createElement(y.A,{key:"batteryIcon"}),o.createElement(m.A,{key:"batteryIcon"}),o.createElement(m.A,{key:"batteryIcon"}),o.createElement(h.A,{key:"batteryIcon"}),o.createElement(v.A,{key:"batteryIcon"}),o.createElement(v.A,{key:"batteryIcon"}),o.createElement(g.A,{key:"batteryIcon"}),o.createElement(b.A,{key:"batteryIcon"}),o.createElement(w.A,{key:"batteryIcon"})],D=function(e,t){return"number"==typeof e?e.toFixed(t):String(e)},M=j((function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r.settings,a=r.style,i=void 0===a?S.Ji.VOLTAGE:a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),k(this,"getBatteryIcon",(function(e,t,r){var n=void 0===e?I[t]:Math.round(Math.min(Math.max(e,0),100)/10);return(r?N:L)[n]})),k(this,"getBatteryLabel",(function(e,r,o){if((0,n.default)(r)){if((0,n.default)(e))return"???";if(t._style===S.Ji.FORCED_PERCENTAGE){var a=t._settings.estimatePercentageFromVoltage(e,o);return(0,n.default)(a)?"".concat(D(e,1),"V"):"".concat(D(a,0),"%")}return"".concat(D(e,1),"V")}return t._style!==S.Ji.VOLTAGE||(0,n.default)(e)?"".concat(D(r,0),"%"):"".concat(D(e,1),"V")})),k(this,"getBatteryStatus",(function(e,r,n){return t._settings?t._settings.getBatteryStatus(e,r,n):A.m.UNKNOWN})),k(this,"getLargeBatteryIcon",(function(e,t,r){var n=void 0===e?I[t]:Math.round(Math.min(Math.max(e,0),100)/10);return(r?R:_)[n]})),k(this,"getSemanticBatteryStatus",(function(e,r,n){return t._settings?t._settings.getSemanticBatteryStatus(e,r,n):E.Status.OFF})),o instanceof A.F?this._settings=o:this._settings=new A.F(o),this._style=i})),F=new M},50256:(e,t,r)=>{"use strict";r.d(t,{A:()=>D});r(52675),r(89463),r(2259),r(45700),r(28706),r(23418),r(74423),r(23792),r(62062),r(34782),r(26910),r(89572),r(62010),r(2892),r(40875),r(79432),r(10287),r(26099),r(60825),r(27495),r(90906),r(38781),r(21699),r(47764),r(62953);var n=r(54930),o=r(83869),a=r(57456),i=r(5556),c=r.n(i),l=r(96540),u=r(96746),s=r(32118),f=r(65816),p=r(68016),d=r(69312),y=r(85784),m=r(38306),h=r(84630),v=r(40827),g=r(73486),b=r(50384),w=r(25196),E=r(77430),A=r(42460),S=r(58512),O=r(9383),x=r(20961);function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function k(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R(n.key),n)}}function C(e,t,r){return t=L(t),function(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,P()?Reflect.construct(t,r||[],L(e).constructor):t.apply(e,r))}function P(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(P=function(){return!!e})()}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}function N(e,t,r){return(t=R(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R(e){var t=function(e,t){if("object"!=j(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==j(t)?t:t+""}var D=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),N(r=C(this,t,[e]),"_tryUpdateDeviceList",(function(){x.A._emitter&&x.A.sendMessage({type:"DEV-LIST",ids:Object.keys(O.Ay._uavsById)}).then(r._deviceListReceived)})),N(r,"_deviceListReceived",(function(e){for(var t=e.body.devices,n={All:{}},o=0,a=Object.keys(t);o<a.length;o++){var i=a[o];n[i]={};for(var c=0,l=Object.keys(t[i].children);c<l.length;c++){var u=l[c];for(var s in u in n.All||(n.All[u]={}),n[i][u]={},t[i].children[u].children)t[i].children[u].children[s].operations.includes("read")&&(s in n.All[u]||(n.All[u][s]={unit:t[i].children[u].children[s].unit}),n[i][u][s]={unit:t[i].children[u].children[s].unit})}}r.setState({available:n})})),N(r,"_handleChange",(function(e){var t=e.target.name;r.setState(N({},t,e.target.value))})),N(r,"_handleClick",(function(){var e=r.state,t=e.available,o=e.selectedChannel,a=e.selectedDevice,i=e.selectedUAV;if("All"===r.state.selectedUAV){var c=[];for(var l in(0,n.A)(t,"All"))a in t[l]&&o in t[l][a]&&c.push("/".concat(l,"/").concat(a,"/").concat(o));x.A.sendMessage({type:"DEV-UNSUB",paths:r.state.subscriptions}),x.A.sendMessage({type:"DEV-SUB",paths:c}),r.setState({subscriptions:c,unit:t[i][a][o].unit})}else{var u=r.currentPath;x.A.sendMessage({type:"DEV-SUB",paths:[u]}),r.setState((function(e){return{subscriptions:e.subscriptions.concat(u),unit:t[i][a][o].unit}}))}})),N(r,"_removeSubscription",(function(e){x.A.sendMessage({type:"DEV-UNSUB",paths:[e]}),r.setState((function(t){return{subscriptions:(0,a.default)(t.subscriptions,e)}}))})),N(r,"showDialog",(function(){r._tryUpdateDeviceList(),r.setState({visible:!0})})),N(r,"_hideDialog",(function(){r.props.setSubscriptions(r.state.subscriptions),r.props.setUnit(r.state.unit),r.setState({visible:!1})})),r.state={visible:!1,subscriptions:e.subscriptions,unit:e.unit,available:{},selectedUAV:null,selectedDevice:null,selectedChannel:null},r._removeSubscription=r._removeSubscription.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(t,e),r=t,(i=[{key:"render",value:function(){var e=this,t=this.state,r=t.available,n=t.selectedChannel,a=t.selectedDevice,i=t.selectedUAV,c=t.subscriptions,O=t.visible,x=Object.keys(r).sort().map((function(e){return l.createElement(h.A,{key:e,value:e},e)}));0===x.length&&x.push(l.createElement(h.A,{key:"__empty__",value:""},l.createElement("em",null,"No UAV")));var j=i?Object.keys(r[i]).sort().map((function(e){return l.createElement(h.A,{key:e,value:e},e)})):[],T=a?Object.keys(r[i][a]).sort().map((function(e){return l.createElement(h.A,{key:e,value:e},e)})):[],I=k(c).sort().map((function(t){return l.createElement(b.A,{key:t},l.createElement(E.A,{primary:t}),l.createElement(w.A,null,l.createElement(A.A,{edge:"end","aria-label":"Unsubscribe",onClick:(0,o.A)(e._removeSubscription,t)},l.createElement(S.A,null))))})),C=[l.createElement(u.A,{key:"done",color:"primary",onClick:this._hideDialog},"Done")],P={minWidth:120,margin:8,verticalAlign:"text-bottom"};return l.createElement(s.A,{fullWidth:!0,open:O,maxWidth:"sm"},l.createElement(p.A,null,l.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},l.createElement(y.A,{row:!0},l.createElement(d.A,{style:P},l.createElement(m.A,{htmlFor:"selectedUAV"},"UAV"),l.createElement(v.A,{value:i||"",inputProps:{name:"selectedUAV",id:"selectedUAV"},onChange:this._handleChange},x)),l.createElement(d.A,{style:P},l.createElement(m.A,{htmlFor:"selectedDevice"},"Device"),l.createElement(v.A,{value:a||"",inputProps:{name:"selectedDevice",id:"selectedDevice"},onChange:this._handleChange},j)),l.createElement(d.A,{style:P},l.createElement(m.A,{htmlFor:"selectedChannel"},"Channel"),l.createElement(v.A,{value:n||"",inputProps:{name:"selectedChannel",id:"selectedChannel"},onChange:this._handleChange},T))),l.createElement(u.A,{style:{marginBottom:6},disabled:c.includes(this.currentPath),onClick:this._handleClick},"Subscribe")),l.createElement(g.A,null,I)),l.createElement(f.A,null,C))}},{key:"currentPath",get:function(){return"/".concat(this.state.selectedUAV,"/").concat(this.state.selectedDevice,"/").concat(this.state.selectedChannel)}}])&&I(r.prototype,i),c&&I(r,c),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,c}(l.Component);N(D,"propTypes",{subscriptions:c().arrayOf(c().string),unit:c().string,setSubscriptions:c().func,setUnit:c().func})},24010:(e,t,r)=>{"use strict";r.d(t,{A_:()=>B,C4:()=>re,DS:()=>K,Kn:()=>X,LK:()=>J,Ob:()=>$,Q6:()=>te,ft:()=>Q,l6:()=>V,lg:()=>ne,mP:()=>oe,r2:()=>q,rl:()=>ae,s3:()=>z,tc:()=>Z});r(52675),r(89463),r(2259),r(45700),r(2008),r(23418),r(23792),r(34782),r(89572),r(2892),r(69085),r(83851),r(81278),r(79432),r(26099),r(27495),r(90906),r(38781),r(47764),r(23500),r(62953),r(28706),r(62010),r(25428),r(40150),r(87220);var n=r(42460),o=r(64054),a=(r(64794),r(72572)),i=r(82788),c=r(16923),l=r(97859),u=r(95372),s=r(28646),f=r.n(s),p=r(5556),d=r.n(p),y=r(96540),m=r(90952),h=r(42941),v=r(63175),g=r(32),b=r(56278),w=r(54371);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}var A=["formControlProps","margin"],S=["input","meta"],O=["name","onChange","value"],x=["InputProps"],j=["fieldProps","inputProps"],k=["fieldProps","inputProps"],T=["fieldProps","inputProps"],I=["formatter"],C=["InputProps","inputProps","max","min","step","unit"],P=["InputProps","inputProps","max","min","step"],L=["min","max"],_=["max","min","size","step","value","onChange","onBlur"];function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D.apply(this,arguments)}function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){U(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function U(e,t,r){var n;return n=function(e,t){if("object"!=E(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==E(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var V=function(e){var t=e.formControlProps,r=e.margin,n=G(e,A);return y.createElement(u.l6,D({formControlProps:F({variant:"filled",margin:r},t)},n))};V.propTypes=F(F({},u.l6.propTypes),{},{margin:d().oneOf(["normal","dense"])}),V.defaultProps={margin:"dense"};var B=function(e){return y.createElement(u.A_,D({variant:"filled"},e))};B.propTypes=u.A_.propTypes;d().any,d().any;var H=function(e){return e.preventDefault()},W=function(e){var t=e.input,r=e.meta,l=G(e,S),u=N((0,h.A)(!0),2),s=u[0],f=u[1],p=t.name,d=t.onChange,m=t.value,v=G(t,O),g=(r.submitError&&!r.dirtySinceLastSubmit||r.error)&&r.touched;return y.createElement(a.A,D({variant:"filled"},l,{name:p,type:s?"password":"text",helperText:g?r.error||r.submitError:void 0,error:g,value:m,inputProps:F(F({autoComplete:"current-password"},v),{},{type:s?"password":"text"}),InputProps:{endAdornment:y.createElement(o.A,{position:"end"},y.createElement(n.A,{"aria-label":"toggle password visibility",onClick:f,onMouseDown:H},s?y.createElement(i.A,null):y.createElement(c.A,null)))},onChange:d}))};W.propTypes={input:d().any,meta:d().any};var z=function(e){return y.createElement(m.D0,D({component:W},e))},Y=function(e){var t=e.InputProps,r=G(e,x);return y.createElement(B,D({type:"number",InputProps:F({endAdornment:y.createElement(o.A,{position:"end"},"\xb0")},t)},r))};Y.propTypes={InputProps:d().object};var K=function(e){var t=e.fieldProps,r=e.inputProps,n=G(e,j);return y.createElement(Y,D({inputProps:F({step:.1},r),fieldProps:F({format:g.n0,formatOnBlur:!0,parse:function(e){return e},validate:(0,w.fj)([w.mw,w.E2])},t)},n))};K.propTypes={fieldProps:d().object,inputProps:d().object};var q=function(e){var t=e.fieldProps,r=e.inputProps,n=G(e,k);return y.createElement(Y,D({inputProps:F({step:.001},r),fieldProps:F({validate:(0,w.fj)([w.mw,w.E2,(0,w.Tq)(-90,90)])},t)},n))};q.propTypes={fieldProps:d().object,inputProps:d().object};var $=function(e){var t=e.fieldProps,r=e.inputProps,n=G(e,T);return y.createElement(Y,D({inputProps:F({step:.001},r),fieldProps:F({validate:(0,w.fj)([w.mw,w.E2,(0,w.Tq)(-180,180)])},t)},n))};$.propTypes={fieldProps:d().object,inputProps:d().object};var Z=function(e){var t=e.formatter,r=G(e,I),n=(0,y.useMemo)((function(){return function(e){return{formatOnBlur:!0,format:function(t){var r=Array.isArray(t)&&2===t.length?t:(0,g.EK)(t);try{return(e||g.iw)(r)||t}catch(e){return t}},validate:function(e){if(!(0,g.EK)(e))return"Invalid coordinate"}}}(t)}),[t]);return y.createElement(B,D({fieldProps:n},r))};Z.propTypes={formatter:d().func};var X=function(e){var t=e.InputProps,r=e.inputProps,n=e.max,a=e.min,i=e.step,c=e.unit,l=G(e,C);return y.createElement(B,D({type:"number",inputProps:F({max:n,min:a,step:i},r),InputProps:F({endAdornment:y.createElement(o.A,{position:"end"},c)},t)},l))};X.propTypes={InputProps:d().object,inputProps:d().object,max:d().number,min:d().number,onChange:d().func,size:d().string,step:d().number,unit:d().string,value:d().number},X.defaultProps={min:0,unit:"m"};var J=function(e){var t=e.InputProps,r=e.inputProps,n=e.max,a=e.min,i=e.step,c=G(e,P);return y.createElement(B,D({type:"number",inputProps:F({max:n,min:a,step:i},r),InputProps:F({endAdornment:y.createElement(o.A,{position:"end"},"s")},t)},c))};J.propTypes={InputProps:d().object,inputProps:d().object,max:d().number,min:d().number,onChange:d().func,size:d().string,step:d().number,value:d().number},J.defaultProps={min:0};var Q=function(e){var t=e.min,r=e.max,n=G(e,L),o=(0,y.useMemo)((function(){return function(e){var t=e.min,r=e.max;return{formatOnBlur:!0,format:function(e){var t="number"==typeof e?e:(0,b.Kw)(e);return Number.isNaN(t)?"string"==typeof e?e:"":(0,v.aD)(t,{padHours:!0})},validate:function(e){var n=(0,b.Kw)(e);return Number.isFinite(n)?"number"==typeof t&&e<t?0===t?"Duration must be non-negative":"Duration too short":"number"==typeof r&&e>r?"Duration too long":void 0:"Invalid duration"}}}({min:t,max:r})}),[t,r]);return y.createElement(B,D({fieldProps:o},n))};Q.propTypes={min:d().number,max:d().number};var ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultProps,r=e.displayName,n=e.formatOptions,i=e.unit,c=i?{endAdornment:y.createElement(o.A,{position:"end"},i)}:null;n=F({mantissa:3,trimMantissa:!0},n);var u=function(e){return f()(e).format(n)},s=function(e){var t=e.max,r=e.min,n=e.size,o=e.step,i=e.value,s=e.onChange,f=e.onBlur,p=G(e,_),d=N((0,y.useState)((function(){return u(i)})),2),m=d[0],h=d[1];(0,y.useEffect)((function(){h(u(i))}),[i]);var v=(0,y.useCallback)((function(e){for(var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.max,n=t.min,o=t.step;if(e){var a=Number.parseFloat(e);if(!Number.isNaN(a)&&Number.isFinite(a)||(a=0),!(0,l.default)(o)){var i=(0,l.default)(n)?0:n;a=Math.round((a-i)/o)*o+i}return!(0,l.default)(r)&&a>r&&(a=r),!(0,l.default)(n)&&a<n&&(a=n),a}return 0}(e.target.value,{max:t,min:r,step:o}),a=arguments.length,c=new Array(a>1?a-1:0),p=1;p<a;p++)c[p-1]=arguments[p];n!==i&&s?(s.apply(void 0,[e].concat(c)),h(u(n))):h(u(i)),f&&f.apply(void 0,c)}),[t,r,o,i,f,s]),g=(0,y.useCallback)((function(e){h(e.target.value)}),[]);return y.createElement(a.A,D({InputProps:c,inputProps:{size:n,type:"text",inputMode:"decimal",pattern:"[-0-9+.,]*"},variant:"filled",value:m,onBlur:v,onChange:g},p))};return s.propTypes={max:d().number,min:d().number,onBlur:d().func,onChange:d().func,size:d().number,step:d().number,value:d().number},r&&(s.displayName=r),t&&(s.defaultProps=t),s},te=ee({displayName:"SimpleAngleField",defaultProps:{max:360,min:0,step:.1},unit:"degrees"}),re=ee({displayName:"SimpleDistanceField",unit:"m"}),ne=ee({displayName:"SimpleDurationField",unit:"seconds",defaultProps:{min:0,size:4}}),oe=ee({displayName:"SimpleNumericField"}),ae=ee({displayName:"SimpleVoltageField",unit:"V",defaultProps:{min:0,size:4}})},24840:(e,t,r)=>{"use strict";r.d(t,{tc:()=>n.tc,Kn:()=>n.Kn,DS:()=>n.DS,r2:()=>n.r2,Ob:()=>n.Ob,s3:()=>n.s3,l6:()=>n.l6,Q6:()=>n.Q6,C4:()=>n.C4,lg:()=>n.lg,mP:()=>n.mP,rl:()=>n.rl,A_:()=>n.A_,Wp:()=>o});var n=r(24010);function o(e){var t=document.querySelector("#".concat(e));t&&t.dispatchEvent(new Event("submit",{bubbles:!0,cancelable:!0}))}},61124:(e,t,r)=>{"use strict";r.d(t,{T_:()=>x,c3:()=>A,k3:()=>O,p_:()=>S});r(52675),r(89463),r(2259),r(45700),r(2008),r(23792),r(62062),r(89572),r(2892),r(83851),r(81278),r(79432),r(26099),r(47764),r(23500),r(62953);var n=r(77500),o=r(29008),a=r(42531),i=r(89610),c=r(83869),l=r(43525),u=r(73486),s=r(50384),f=r(5556),p=r.n(f),d=r(96540),y=r(44363),m=r(23832),h=r(78059);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){var n;return n=function(e,t){if("object"!=v(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==v(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var E=function(e,t){return(0,y.isElement)(e)?d.createElement("div",null,e):e?d.createElement(m.A,{ref:t,text:e}):null};function A(e){var t=j(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),r=t.backgroundHint,n=t.dataProvider,o=t.displayName,a=t.listFactory,i=t.postprocess;e=T(e);var c=d.forwardRef((function(t,o){var c=n(t),l=i(c.map((function(r){return e(r,t)})),t);return k(l)?a(t,l,o):E(r,o)}));return o&&(c.displayName=o),c}function S(e){var t=e.activateItem,r=e.getSelection,n=e.setSelection;return n||t?function(e,o){return function(a,i){var c,u=i(),s=r?r(u):[];if((0,h.G3)(e.nativeEvent||e))c=n((0,l.A)(s,[o]));else{var f=s&&1===s.length&&s[0]===o;t&&f?(c=e.detail>1?t(o):null,e.detail>1&&window.getSelection().removeAllRanges()):n&&!f&&(c=n([o]))}c&&a(c)}}:null}function O(e){var t=j(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),r=t.backgroundHint,n=t.dataProvider,o=t.displayName,a=t.listFactory,i=t.postprocess;e=T(e);var c=d.forwardRef((function(t,o){var c=n(t),l=i(c.map((function(r){return e(r,b(b({},t),{},{onChange:void 0,onItemSelected:t.onChange?function(e){return t.onChange(e,r)}:void 0}),r.id===t.value)})),t);return k(l)?a(t,l,o):E(r,o)}));return c.propTypes={onChange:p().func,value:p().any},o&&(c.displayName=o),c}function x(e){var t=j(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),r=t.backgroundHint,n=t.dataProvider,o=t.displayName,i=t.listFactory,c=t.postprocess;e=T(e);var u=d.forwardRef((function(t,o){var u,s,f,p,d=n(t),y=(u={activateItem:t.onActivate,getSelection:function(){return t.value},setSelection:t.onChange},s=u.activateItem,f=u.getSelection,(p=u.setSelection)||s?function(e){return function(t){var r=f?f():[];return(0,h.G3)(t.nativeEvent||t)?p((0,l.A)(r,[e])):r&&1===r.length&&r[0]===e?s?s(e):void 0:p([e])}}:function(){}),m=c(d.map((function(r){return e(r,b(b({},t),{},{onChange:void 0,onItemSelected:y(r.id)}),(0,a.A)(t.value,r.id))})),t);return k(m)?i(t,m,o):E(r,o)}));return u.propTypes={onActivate:p().func,onChange:p().func,value:p().arrayOf(p().any).isRequired},o&&(u.displayName=o),u}var j=function(e){return b(b({postprocess:o.default},e),{},{dataProvider:(t=e.dataProvider,(0,i.default)(t)?t:function(e){return(0,n.A)(e,t)}),listFactory:I(e.listFactory)});var t};function k(e){return e&&(e.length>0||e.size>0)}function T(e){if(Object.prototype.isPrototypeOf.call(d.Component,e)){var t=e===s.A?"onTouchTap":"onClick";return function(r,n,o){return d.createElement(e,b(b({},r),{},w(w({key:r.id},t,n.onItemSelected),"selected",o)))}}return e}function I(e){return void 0===e?function(e,t,r){return d.createElement(u.A,{dense:e.dense||e.mini,disablePadding:e.disablePadding||e.mini,ref:r},t)}:Object.prototype.isPrototypeOf.call(d.Component,e)?(0,c.A)(d.createElement,e):e}},47546:(e,t,r)=>{"use strict";r.d(t,{Bz:()=>c,W1:()=>u,kF:()=>l});r(69085);var n=r(96540),o=r(81062),a=r(73806);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}var c=n.createContext(window.document.body),l=n.forwardRef((function(e,t){return n.createElement(c.Consumer,null,(function(r){return n.createElement(o.Ay,i({},e,{ref:t,container:r}))}))})),u=n.forwardRef((function(e,t){return n.createElement(c.Consumer,null,(function(r){return n.createElement(a.default,i({},e,{ref:t,appendTo:r}))}))}))},88276:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>h,H4:()=>y,Nw:()=>d,uC:()=>m,zc:()=>p});r(28706),r(26099),r(38781);var n=r(74167),o=r(89610),a=r(5556),i=r.n(a),c=r(96540),l=r(31334),u=(0,r(63101).Ay)("error"),s=function(){window.location.reload()},f=function(e){var t=e.resetErrorBoundary;return c.createElement("div",{className:"error-panel"},c.createElement("div",{className:"error-icon"},c.createElement(l.A,{style:{width:48,height:48}})),c.createElement("div",null,"An unexpected error happened. Sorry for the inconvenience."),c.createElement("div",{className:"email-link"},"Please send us an email to let us know."),c.createElement("div",{className:"button-bar"},c.createElement("button",{type:"button",onClick:s},"Reload app"),t&&c.createElement("button",{type:"button",onClick:t},"Reset to factory defaults")))};f.propTypes={resetErrorBoundary:i().func};var p=f;function d(e,t){return e.toString&&(0,o.default)(e.toString)?t?"".concat(t,": ").concat(e.toString()):e.toString():t?"".concat(t,": ").concat(String(e)):String(e)}function y(e,t){if(e&&(e.isTimeout||e.hideStackTrace)){var r=e.isTimeout&&t?"".concat(t," timed out"):d(e);u.warn(r)}else{var n=d(e);u.error(n)}}function m(e,t){return function(){var r;try{r=e.apply(void 0,arguments)}catch(e){y(e,t)}if((0,n.A)(r))return r.catch((function(e){return y(e,t)}))}}const h=y},45940:(e,t,r)=>{"use strict";r.d(t,{ZO:()=>p,iE:()=>s,le:()=>u,op:()=>f});r(52675),r(89463),r(2259),r(23418),r(23792),r(34782),r(62010),r(5506),r(26099),r(27495),r(90906),r(38781),r(47764),r(62953);var n=r(1081),o=r(61506),a=r(53645),i=r(43247);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var u=(0,n.createSelector)((function(e){return e.beacons}),i.Im),s=(0,a.qr)(o.N9),f=function(e){return(e?e.name||e.id:null)||"Unnamed beacon"},p=(0,n.createSelector)((function(e){return e.beacons}),(function(e){for(var t=[],r=0,n=Object.entries(e.byId);r<n.length;r++){var o=c(n[r],2),a=o[0];void 0===o[1].name&&t.push(a)}return t}))},42821:(e,t,r)=>{"use strict";r.d(t,{Q:()=>c,z:()=>l});var n=r(1081),o=r(61506),a=r(53645),i=r(43247),c=(0,n.createSelector)((function(e){return e.docks}),i.Im),l=(0,a.qr)(o.y_)},34890:(e,t,r)=>{"use strict";r.d(t,{L:()=>o,f:()=>a});var n=r(11693),o=n.o.closeErrorDialog,a=n.o.showErrorMessage},42095:(e,t,r)=>{"use strict";function n(e){var t;return Boolean(null===(t=e.mapCaching)||void 0===t?void 0:t.enabled)}r.d(t,{j:()=>n})},85448:(e,t,r)=>{"use strict";r.d(t,{$q:()=>T,Du:()=>P,Ue:()=>k,en:()=>N,f7:()=>_,g5:()=>C,jQ:()=>j,tD:()=>L,u3:()=>O,zB:()=>x,zT:()=>I});r(52675),r(89463),r(2259),r(45700),r(28706),r(2008),r(50113),r(23418),r(23792),r(34782),r(89572),r(62010),r(2892),r(83851),r(81278),r(79432),r(26099),r(27495),r(90906),r(38781),r(47764),r(23500),r(62953);var n=r(34556),o=r(545),a=r(50365),i=r(34902),c=r(5529),l=r(92523),u=r(12152),s=r(61506),f=r(53645),p=r(85949),d=r(53855),y=r(48332);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function h(e){return function(e){if(Array.isArray(e))return e}(e)||b(e)||g(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){return function(e){if(Array.isArray(e))return w(e)}(e)||b(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(e){if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}function b(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t,r){var n;return n=function(e,t){if("object"!=m(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==m(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var O=y.o.closeFeatureEditorDialog,x=y.o.setFeatureEditorDialogTab,j=y.o.showFeatureEditorDialog,k=function(e){return I(e,null)},T=function(e,t){return function(r,o){var a=o();(0,p.VQ)(a).find((function(r){return t.every((function(t){return(0,n.A)(r[t],e[t],(function(e,t){if("number"==typeof e&&"number"==typeof t)return Math.round(1e7*e)===Math.round(1e7*t)}))}))}))||r(k(e))}},I=function(e,t){return function(r,n){var o=(0,p.xt)(n(),e,t);r((0,d.sO)({id:o,feature:e}))}},C=function(e,t){return function(r,n){var o=n().features.byId[e];r(I(A(A({},o),t),e))}},P=function(e,t){return function(r,n){var o=n(),c=o.features.byId[e],l=o.features.byId[t],u=function(e){var t;return{type:"Feature",geometry:{type:"Polygon",coordinates:[e.points].concat(v(null!==(t=e.holes)&&void 0!==t?t:[]))}}},f=(0,a.A)(u(c),u(l));switch(f.geometry.type){case"Polygon":var p=h(f.geometry.coordinates),y=p[0],m=p.slice(1);r((0,d.oP)(S({},e,{points:y,holes:m})));break;case"MultiPolygon":r((0,d.Hk)([e]));var b,w=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=g(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}(f.geometry.coordinates);try{for(w.s();!(b=w.n()).done;){var E=h(b.value),A=E[0],O=E.slice(1);r(C(e,{points:A,holes:O}))}}catch(e){w.e(e)}finally{w.f()}break;default:throw new Error("Unexpected geometry type: ".concat(f.geometry.type))}r((0,i.td)([(0,s.Du)(t)]))}},L=function(){return function(e,t){return e((0,d.Hk)((0,p.sU)(t())))}},_=function(e){return function(t,r){var n,o=(0,c.O)(r())||(null==e?void 0:e.getId());o&&t((n=o,function(e){var t;(0,s.wy)(n)?t=(0,u.Te)((0,s.Xc)(n)):(0,s.GK)(n)?t=j((0,s.hy)(n)):(0,s.FX)(n),t&&(e((0,l.yo)(null)),e(t))}))}},N=function(e){return function(t,r){var n=r(),a=(0,p.VQ)(n).filter((function(t){return t.type===e&&"user"===t.owner}));if(1===a.length){var c=(0,o.default)((0,f.Lo)(n),(function(t){return(0,s.GK)(t)&&(0,p.je)(n,(0,s.hy)(t)).type===e}));t((0,i.td)([].concat(v(c),[(0,s.Du)(a[0].id)])))}}}},13297:(e,t,r)=>{"use strict";r.d(t,{MJ:()=>s,Vl:()=>l,zj:()=>u});var n=r(1081),o=r(5953),a=r(60276),i=r(19023),c=r(72819),l=(0,n.createSelector)(c.Md,(function(e,t){return t}),(function(e,t){return t!==e})),u=(0,n.createSelector)(a._6,(function(e){return e===i.NL.EDIT_FEATURE})),s=(0,n.createSelector)(c.Md,(function(e,t){return e.features.byId[t]}),(function(e,t){var r;return t.id===e||null!==(r=t.attributes)&&void 0!==r&&r.isExclusionZone?o.Jy.geofence:o.Jy.main}))},85949:(e,t,r)=>{"use strict";r.d(t,{I_:()=>w,TX:()=>O,VQ:()=>m,bR:()=>b,gZ:()=>S,je:()=>h,lg:()=>E,sU:()=>A,vz:()=>g,xt:()=>v});r(2008),r(62062),r(79432),r(26099);var n=r(18042),o=r(87480),a=r(97859),i=r(74722),c=r(545),l=r(1081),u=r(2431),s=r(61506),f=r(53645),p=r(43247),d=r(72648),y=r(68528),m=(0,l.createSelector)((function(e){return e.features}),p.Im),h=function(e,t){return e.features.byId[t]},v=function(e,t,r){var a=t.type;if(!a)throw new Error("Feature must have a type");if(!r){var c=(0,i.A)(e.byId,(function(e){return e.id})),l=(0,o.A)((0,u.rv)(a));r=(0,d.OM)(l,c)}var s=Object.keys(e.features.byId);return(0,d.KN)((0,n.A)(r),s)},g=function(e){return e.features.byId},b=function(e){return e.dialogs.featureEditor.featureId},w=function(e){return e.dialogs.featureEditor.dialogVisible},E=function(e){return e.dialogs.featureEditor.selectedTab},A=(0,f.qr)(s.hy),S=((0,l.createSelector)(A,(function(e){return 1===e.length?e[0]:void 0})),function(e){return(0,l.createSelector)(function(e){return(0,l.createSelector)(A,(function(e){return e.features.byId}),(function(t,r){return t.filter((function(t){var n;return(null==r||null===(n=r[t])||void 0===n?void 0:n.type)===e}))}))}(e),(function(e){return 1===e.length?e[0]:void 0}))}),O=((0,l.createSelector)(A,(function(e){return 1===e.length?e:y.Ml})),(0,l.createSelector)(A,(function(e){return e.features.byId}),(function(e,t){return(0,c.default)(e.map((function(e){return t[e]})),a.default)})));(0,l.createSelector)(O,(function(e){return e.map((function(e){return e.label}))})),(0,l.createSelector)(O,(function(e){return e.map((function(e){return e.type}))}))},53054:(e,t,r)=>{"use strict";r.d(t,{CV:()=>te,Dn:()=>ee,E5:()=>ce,Ig:()=>je,Kt:()=>ae,LM:()=>xe,Lz:()=>he,O_:()=>Ee,_L:()=>ye,a6:()=>ue,c1:()=>de,dZ:()=>ne,dd:()=>we,fC:()=>me,h9:()=>oe,nX:()=>re,o2:()=>fe,tv:()=>se,uf:()=>ge,ut:()=>pe,uy:()=>ie});r(52675),r(89463),r(66412),r(2259),r(83237),r(45700),r(78125),r(28706),r(2008),r(23418),r(23792),r(48598),r(62062),r(34782),r(89572),r(62010),r(33110),r(4731),r(36033),r(60479),r(2892),r(32637),r(25843),r(9868),r(69085),r(83851),r(81278),r(40875),r(79432),r(10287),r(26099),r(3362),r(62483),r(57465),r(27495),r(87745),r(90906),r(38781),r(31415),r(47764),r(71761),r(25440),r(11392),r(42762),r(73772),r(23500),r(62953);var n=r(29748),o=r(16535),a=r(97859),i=r(41470),c=r(18803),l=r(52490),u=r(88166),s=r(5953),f=r(34890),p=r(34902),d=r(85448),y=r(85949),m=r(53855),h=r(93334),v=r(75625),g=r(6659),b=r(37813),w=r(12857),E=r(15133),A=r(84859),S=r(48190),O=r(25558),x=r(62619),j=r(20961),k=r(2431),T=r(61506),I=r(12209),C=r(78707),P=r(76209),L=r(32),_=r(28550),N=r(72648),R=r(28068),D=r(46972),M=r(72819),F=r(23809),U=r(89536);function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){B(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function B(e,t,r){var n;return n=function(e,t){if("object"!=Y(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Y(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H(){H=function(e,t){return new r(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function r(e,n,o){var a=RegExp(e,n);return t.set(a,o||t.get(e)),W(a,r.prototype)}function n(e,r){var n=t.get(r);return Object.keys(n).reduce((function(t,r){var o=n[r];if("number"==typeof o)t[r]=e[o];else{for(var a=0;void 0===e[o[a]]&&a+1<o.length;)a++;t[r]=e[o[a]]}return t}),Object.create(null))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W(e,t)}(r,RegExp),r.prototype.exec=function(t){var r=e.exec.call(this,t);if(r){r.groups=n(r,this);var o=r.indices;o&&(o.groups=n(o,this))}return r},r.prototype[Symbol.replace]=function(r,o){if("string"==typeof o){var a=t.get(this);return e[Symbol.replace].call(this,r,o.replace(/\$<([^>]+)>/g,(function(e,t){var r=a[t];return"$"+(Array.isArray(r)?r.join("$"):r)})))}if("function"==typeof o){var i=this;return e[Symbol.replace].call(this,r,(function(){var e=arguments;return"object"!=Y(e[e.length-1])&&(e=[].slice.call(e)).push(n(e,i)),o.apply(this,e)}))}return e[Symbol.replace].call(this,r,o)},H.apply(this,arguments)}function W(e,t){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},W(e,t)}function z(){z=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==Y(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(Y(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function Y(e){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(e)}function K(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function q(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){K(a,n,o,i,c,"next",e)}function c(e){K(a,n,o,i,c,"throw",e)}i(void 0)}))}}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||J(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=J(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function X(e){return function(e){if(Array.isArray(e))return Q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||J(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){if(e){if("string"==typeof e)return Q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Q(e,t):void 0}}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ee=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).algorithm,t=void 0===e?"greedy":e;return function(e,r){var n,o=r(),i=(0,b.nk)(o),c=i?(0,b.Oy)(o):(0,M.vT)(o),s=i?S.OX:S.fk,f=(0,M.fA)(o).filter((function(e){return!(0,a.default)(c[e])})).map((function(e){return{index:e,position:c[e]}})).filter((function(e){var t=e.position;return i?Array.isArray(t):!(0,a.default)(t)})),p=(0,S.jd)(o).map((function(e){return{uavId:e,position:s(o,e)}})).filter((function(e){var t=e.position;return i?Array.isArray(t):!(0,a.default)(t)})),d=i?function(e){return[e.position[0],e.position[1]]}:function(e){return[e.position.lon,e.position.lat]},y=i?_.CX:l.Yf,m=i?1:3,h=(0,_.HR)(p,f,{distanceFunction:y,getter:d}),v=(0,u.e)(h,{algorithm:t,threshold:m}),g=X((0,M.VZ)(o)),w=Z(v);try{for(w.s();!(n=w.n()).done;){var E=$(n.value,2),A=E[0];g[f[E[1]].index]=p[A].uavId}}catch(e){w.e(e)}finally{w.f()}e((0,F.$q)(g))}},te=function(){return function(e){e((0,F.MH)()),e(ee())}},re=function(e){return(0,p.td)((Array.isArray(e)?e:[]).filter((function(e){return!(0,a.default)(e)})).map((function(e){return(0,T.PI)(e)})))},ne=function(){return function(){var e=q(z().mark((function e(t,r){var n,o,a,i,c,l,u,s;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r(),(0,b.kP)(n)){e.next=3;break}throw new Error("Virtual drones are supported for outdoor missions only");case 3:if(o=(0,b.Jn)(n),a=(0,b.EG)(n),i=(0,b.Ok)(n),o.origin&&"object"===Y(o.origin)){e.next=8;break}throw new Error("Outdoor coordinate system not set up yet");case 8:return c=(0,M.vT)(n).filter(Boolean),l=c.length,u=String(l).length,e.next=13,j.A.query.getConfigurationOfExtension("virtual_uavs");case 13:return(s=e.sent).origin=o.origin.slice(0,2),s.orientation=i,s.type=o.type,s.takeoff_area={type:"explicit",coordinates:c.map((function(e){var t=e.lat,r=e.lon,n=$(a.fromLonLat([r,t]),2),o=n[0],i=n[1];return[o.toFixed(2),i.toFixed(2)]}))},s.id_format="{0:0".concat(u,"}"),s.count=s.takeoff_area.coordinates.length,e.next=22,j.A.execute.configureExtension("virtual_uavs",s);case 22:return e.next=24,j.A.execute.reloadExtension("virtual_uavs");case 24:t((0,w.Te)("Virtual drones configured successfully."));case 25:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},oe=function(){return function(){var e=q(z().mark((function e(t,r){var n,o;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,M.Zz)(r()),o=(0,b.WC)(r()),e.prev=2,e.next=5,(0,P.Gq)(n,o,{title:"Export mapping",properties:["createDirectory","showOverwriteConfirmation","dontAddToRecent"]});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),t((0,w.Qg)("Error while exporting mapping: ".concat(String(e.t0))));case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t,r){return e.apply(this,arguments)}}()},ae=function(){return function(){var e=q(z().mark((function e(t,r){var n,o,a,i,c,l,u,s,f,p;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,P.iA)({title:"Import mapping",properties:["openFile","dontAddToRecent"]});case 3:n=e.sent,o=(0,M.VZ)(r()).concat(),a=n.split("\n"),i=0,c=Z(a),e.prev=8,c.s();case 10:if((l=c.n()).done){e.next=26;break}if(u=(u=l.value).trim(),i++,0!==u.length&&!u.startsWith("#")){e.next=16;break}return e.abrupt("continue",24);case 16:if(s=u.match(H(/^(\d+)(\s+(.*))?$/,{index:1,uavId:3}))){e.next=19;break}throw new Error("Malformed line ".concat(i," in mapping file"));case 19:if(f=s.groups.uavId,p=Number.parseInt(s.groups.index,10),Number.isInteger(p)&&!(p<=0)){e.next=23;break}throw new Error("Invalid mission index in line ".concat(i," of mapping file"));case 23:p<=o.length&&(o[p-1]=f&&f.length>0?f:null);case 24:e.next=10;break;case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(8),c.e(e.t0);case 31:return e.prev=31,c.f(),e.finish(31);case 34:t((0,F.$q)(o)),e.next=40;break;case 37:e.prev=37,e.t1=e.catch(0),t((0,w.Qg)("Error while importing mapping: ".concat(String(e.t1))));case 40:case"end":return e.stop()}}),e,null,[[0,37],[8,28,31,34]])})));return function(t,r){return e.apply(this,arguments)}}()},ie=function(e,t,r){return function(n,o){var a=o(),i=(0,v.i_)(a),c=i.horizontalMargin,l=i.simplify,u=i.maxVertexCount,f=(0,L.h3)(e,c),p=l?(0,_.mS)(f,u):f;if(p.length<3)throw new Error("Calculated geofence contains less than 3 points");var d={label:"Geofence",labelStyle:k.UQ.HIDDEN,type:k.lo.POLYGON,owner:t,color:s.Jy.geofence,points:p.map(r)},h=(0,y.xt)(a,d);n((0,m.sO)({feature:d,id:h})),n((0,F.kl)(h))}},ce=function(){return function(e,t){e(le());var r=(0,M.Xk)(t());switch(r){case I.Pp.SHOW:e((0,g.qx)());break;case I.Pp.WAYPOINT:e((function(e,t){var r=t(),n=(0,M.xS)(r);0!==n.length?e(ie(n,I.Pp.WAYPOINT,(0,c.A)(L.Al))):e((0,w.Ds)({message:"Could not calculate geofence coordinates.\n                  Are there valid mission items with coordinates?",semantics:E.N.ERROR,permanent:!0}))}));break;default:e((0,w.Ds)({message:'Cannot update geofence for mission type: "'.concat(r,'"'),semantics:E.N.ERROR,permanent:!0}))}}},le=function(){return function(e,t){e((0,m.Hk)([(0,M.Md)(t())]))}},ue=function(){return function(e,t){var r=t(),n=(0,S.WF)(r);e((0,F.Wb)(n))}},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I.IU.UNKNOWN,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r,n){var o=n(),a=(0,M.jH)(o),i={id:(0,N.KN)("missionItem",a),type:e,parameters:t};return r((0,F.B)({item:i})),i}},fe=function(e){return function(){var t=q(z().mark((function t(r,n){var o,a,i;return z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n(),a=(0,M.jH)(o)[e],t.next=4,r((0,h.an)({initialValues:a.parameters,schema:V({title:I.XV[a.type],type:"object"},I.kE[a.type])}));case 4:i=t.sent,r((0,F.RQ)(e,i));case 6:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()},pe=function(e){return function(t){var r=e.lon,n=e.lat;t(se(I.IU.GO_TO,{lon:r,lat:n}))}},de=function(e){if(1!==e&&-1!==e)throw new Error("Only delta = +/-1 is supported");return function(t,r){var n=r();if((0,M.r5)(e)(n)){var o=$((0,M.LI)(n),2),a=o[0],i=o[1];-1===e?t((0,F.JK)(a-1,i)):1===e&&t((0,F.JK)(i+1,a))}}},ye=function(){return function(e,t){var r=(0,M.$I)(t());e((0,F.Oy)(r))}},me=function(e){return(0,p.td)(e.map(T.S2))},he=function(e,t){return function(r,n){var a=(0,M.SA)(n(),e);r((0,F.RQ)(a.id,(0,o.jM)(a.parameters,(function(e){switch(a.type){case I.IU.GO_TO:var r=$(t.points[0],2);e.lon=r[0],e.lat=r[1];break;case I.IU.UPDATE_FLIGHT_AREA:e.flightArea.polygons[0].points=t.points}}))))}},ve=function(e){return function(t){var r,n=[],o=Z(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;a&&(0,I.SO)(a)&&n.push(a)}}catch(e){o.e(e)}finally{o.f()}t((0,F.Vh)(n))}},ge=function(){return function(e,t){var r=t();if(void 0!==(0,S.BB)(r)){var n=(0,U.ef)(r);e((0,O.mP)({job:{type:R.j,payload:n}}))}}},be=function(e){return e.type===I.IU.UPDATE_FLIGHT_AREA?(0,o.jM)(e,(function(e){var t,r=Z(e.parameters.flightArea.polygons);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.points=n.points.map(L.Yo)}}catch(e){r.e(e)}finally{r.f()}})):e},we=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).resume,t=void 0!==e&&e;return function(){var e=q(z().mark((function e(r,n){var o,a,c,l,u,s,p,m,h,v,g,b;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=n(),a=t?structuredClone((0,M.lE)(o)):{missionType:(0,M.tS)(o),fromUser:(0,M.ok)(o),fromContext:(0,M.a2)(o),valuesFromContext:{}},c=a.missionType,l=a.fromUser,u=a.fromContext,s=a.valuesFromContext,p=t?(0,i.A)(u,(function(e,t){return D.jK[t]===D.Pu.DYNAMIC})):u,D.R6.SELECTED_UAV_COORDINATE in p&&r((0,A.Bl)()),D.R6.SELECTED_COORDINATE in p&&(r((0,A.Bl)()),r((0,d.en)(k.lo.POINTS))),D.R6.SELECTED_POLYGON_FEATURE in p&&r((0,d.en)(k.lo.POLYGON)),D.R6.SELECTED_LINE_STRING_FEATURE in p&&r((0,d.en)(k.lo.LINE_STRING)),e.prev=7,Object.assign(s,(0,D.iH)(p,n)),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(7),r((0,f.f)("Error while setting parameters",e.t0)),e.abrupt("return");case 15:return m=V(V({},s),l),h=null,v=null,e.prev=18,e.next=21,j.A.execute.planMission({id:c,parameters:m});case 21:if(g=e.sent,h=g.name,v=g.items,Array.isArray(v)){e.next=26;break}throw new TypeError("Expected an array of mission items");case 26:e.next=31;break;case 28:e.prev=28,e.t1=e.catch(18),e.t1 instanceof x.F0?r((0,f.f)("Failed to plan mission on the server",e.t1)):r((0,f.f)("Error while invoking mission planner",e.t1));case 31:Array.isArray(v)&&(r((0,F.V7)(I.Pp.WAYPOINT)),r((0,F.CA)(h)),r(ve(v.map(be))),r((function(e,t){var r=t(),n=(0,S.BB)(r);if(n){var o=(0,S.fk)(r,n);e((0,F.FH)(1)),e((0,F.$q)([n])),o&&e((0,F.fH)([o]))}else{var a=(0,y.gZ)(k.lo.POINTS)(r);e((0,F.FH)(1)),e((0,F.$q)([a]));var i=$((0,y.je)(r,a).points[0],2),c=i[0],l=i[1];e((0,F.fH)([{lon:c,lat:l,agl:0,amsl:void 0}]))}})),r((0,F.$V)()),(0,M.ij)(o)&&"user"!==(null===(b=(0,M.TF)(o))||void 0===b?void 0:b.owner)&&r(ce()),r((0,F.RK)({missionType:c,fromUser:l,fromContext:u,valuesFromContext:s})),r((0,w.Ds)({message:"Mission planned successfully. Would you like to export it?",semantics:E.N.SUCCESS,buttons:[{label:"Export",action:xe()}],permanent:!0,topic:"export-suggestion"})));case 32:case"end":return e.stop()}}),e,null,[[7,11],[18,28]])})));return function(t,r){return e.apply(this,arguments)}}()},Ee=function(){return function(e,t){e(Ae()),e((0,F.V7)(I.Pp.UNKNOWN)),e((0,F.CA)(null)),e((0,F.RK)(null)),e(ve([])),e((0,F.FH)(0)),e((0,w.Ds)({message:"Previous mission cleared.",semantics:E.N.INFO,buttons:[{label:"Undo",action:Oe()}],permanent:!0,topic:"mission-cleared"}))}},Ae=function(){return function(e,t){e((0,F.z$)((0,M.VT)(t())))}},Se=function(e){var t=e.lastSuccessfulPlannerInvocationParameters,r=e.name,n=e.items,o=e.homePositions,a=e.progress,i=a.id,c=a.ratio;return function(e,a){var l,u;e((0,F.V7)(I.Pp.WAYPOINT)),e((0,F.CA)(r)),e(ve(n)),e((0,F.FH)(o.length)),e((0,F.fH)(o)),e((0,F.n2)(i)),e((0,F.NO)(c)),t&&(e((0,F.RK)(t)),e((0,F.Ky)(t.missionType)),e((0,F.gG)(t.fromUser)),e((l=t.fromContext,u=t.valuesFromContext,function(e,t){var r,n,o,a,i=t(),c=Z(null!==(r=l[D.R6.SELECTED_LINE_STRING_FEATURE])&&void 0!==r?r:[]);try{for(c.s();!(a=c.n()).done;){var s=a.value;e((0,d.$q)({type:k.lo.LINE_STRING,points:u[s].map(L.Yo),label:s,owner:"user"},["type","points"]))}}catch(e){c.e(e)}finally{c.f()}var f,p,y=null!==(n=l[D.R6.SELECTED_MARKER_FEATURE])&&void 0!==n?n:[];0===(0,S.Ev)(i).length&&y.push.apply(y,X(null!==(f=l[D.R6.SELECTED_UAV_COORDINATE])&&void 0!==f?f:[]).concat(X(null!==(p=l[D.R6.SELECTED_COORDINATE])&&void 0!==p?p:[])));var m,h=Z(y);try{for(h.s();!(m=h.n()).done;){var v=m.value;e((0,d.$q)({type:k.lo.POINTS,points:[(0,L.Yo)(u[v])],label:v,owner:"user"},["type","points"]))}}catch(e){h.e(e)}finally{h.f()}var g,b=Z(null!==(o=l[D.R6.SELECTED_POLYGON_FEATURE])&&void 0!==o?o:[]);try{for(b.s();!(g=b.n()).done;){var w=g.value;e((0,d.$q)({type:k.lo.POLYGON,points:u[w].points.map(L.Yo),holes:u[w].holes.map((function(e){return e.map(L.Yo)})),label:w,owner:"user"},["type","points","holes"]))}}catch(e){b.e(e)}finally{b.f()}})))}},Oe=function(){return function(e,t){e(Se((0,M.p0)(t()))),e((0,w.Ds)({topic:"mission-cleared"})),e((0,w.Te)("Mission restored successfully"))}},xe=function(){return function(e,t){var r=t(),o=(0,n.A)(new Date,"yyyy-MM-dd_HH-mm-ss"),a=(0,M.VT)(r),i={exportedAt:o,skybrushVersion:"v2.8.1-306-g2bd49b59"};(0,P.Gq)(JSON.stringify({meta:i,mission:a},null,2),"mission-export-".concat(o,".json"),{title:"Export mission data"}),e((0,w.Ds)({topic:"export-suggestion"})),e((0,w.Te)("Successfully exported mission"))}},je=function(e){return function(){var t=q(z().mark((function t(r,n){var o;return z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=JSON,t.next=4,(0,C.Qv)(e);case 4:t.t1=t.sent,o=t.t0.parse.call(t.t0,t.t1),r(Se(o.mission)),r((0,w.Te)("Successfully imported mission")),t.next=13;break;case 10:t.prev=10,t.t2=t.catch(0),r((0,w.Qg)("Error while importing mission: ".concat(t.t2)));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,r){return t.apply(this,arguments)}}()}},28068:(e,t,r)=>{"use strict";r.d(t,{j:()=>n});var n="missionItemUpload"},46972:(e,t,r)=>{"use strict";r.d(t,{Pu:()=>m,Qf:()=>y,R6:()=>d,iH:()=>v,jK:()=>h});r(52675),r(89463),r(2259),r(45700),r(23418),r(23792),r(62062),r(34782),r(89572),r(62010),r(2892),r(5506),r(26099),r(16034),r(27495),r(90906),r(38781),r(47764),r(62953);var n=r(85949),o=r(48190),a=r(2431),i=r(32),c=r(72819);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t,r){var n;return n=function(e,t){if("object"!=l(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==l(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d={EXCLUSION_ZONE_POLYGONS:"exclusionZonePolygons",NET_MISSION_END_RATIO:"netMissionEndRatio",NET_MISSION_START_RATIO:"netMissionStartRatio",SELECTED_COORDINATE:"selectedCoordinate",SELECTED_LINE_STRING_FEATURE:"selectedLineStringFeature",SELECTED_MARKER_FEATURE:"selectedMarkerFeature",SELECTED_POLYGON_FEATURE:"selectedPolygonFeature",SELECTED_UAV_COORDINATE:"selectedUAVCoordinate"},y=Object.values(d),m={DYNAMIC:"dynamic",STATIC:"static"},h=p(p(p(p(p(p(p(p({},d.EXCLUSION_ZONE_POLYGONS,m.DYNAMIC),d.NET_MISSION_END_RATIO,m.DYNAMIC),d.NET_MISSION_START_RATIO,m.DYNAMIC),d.SELECTED_COORDINATE,m.DYNAMIC),d.SELECTED_LINE_STRING_FEATURE,m.STATIC),d.SELECTED_MARKER_FEATURE,m.DYNAMIC),d.SELECTED_POLYGON_FEATURE,m.STATIC),d.SELECTED_UAV_COORDINATE,m.DYNAMIC);function v(e,t){for(var r={},n=0,o=Object.entries(e);n<o.length;n++){var a=u(o[n],2),i=a[0],c=a[1],l=A[i];l&&"function"==typeof l&&l(r,c,t)}return r}function g(e,t,r){"string"==typeof t&&(t=[t]);var n,o=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}(t);try{for(o.s();!(n=o.n()).done;){e[n.value]=r}}catch(e){o.e(e)}finally{o.f()}}function b(e,t,r){var n=r(),a=(0,o.BB)(n);if(!a)throw new Error("Exactly one UAV must be selected");var c=(0,o.fk)(n,a);if(!c)throw new Error("The selected UAV does not have a GPS position yet");g(e,t,(0,i.$S)(c))}var w=function(e){return function(t){var r=t(),o=(0,n.gZ)(e)(r);if(!o)throw new Error("Exactly one feature of type '".concat(e,"' must be selected on the map"));return(0,n.je)(r,o)}};function E(e,t,r){var n=w(a.lo.POINTS)(r);g(e,t,(0,i.Ek)(n.points[0]))}var A=p(p(p(p(p(p(p(p({},d.EXCLUSION_ZONE_POLYGONS,(function(e,t,r){var n=r();g(e,t,(0,c.QH)(n).map((function(e){var t=e.attributes;return{points:e.points.map(i.Ek),altitude:{min:null==t?void 0:t.minAltitude,max:null==t?void 0:t.maxAltitude}}})))})),d.NET_MISSION_END_RATIO,(function(e,t,r){var n=r();g(e,t,(0,c.LU)(n))})),d.NET_MISSION_START_RATIO,(function(e,t,r){var n=r();g(e,t,(0,c.B9)(n))})),d.SELECTED_COORDINATE,(function(e,t,r){try{b(e,t,r)}catch(n){try{E(e,t,r)}catch(e){throw new Error("Exactly one UAV or exactly one marker must be selected!")}}})),d.SELECTED_LINE_STRING_FEATURE,(function(e,t,r){g(e,t,w(a.lo.LINE_STRING)(r).points.map(i.Ek))})),d.SELECTED_MARKER_FEATURE,E),d.SELECTED_POLYGON_FEATURE,(function(e,t,r){var n=w(a.lo.POLYGON)(r);g(e,t,{points:n.points.map(i.Ek),holes:n.holes.map((function(e){return e.map(i.Ek)}))})})),d.SELECTED_UAV_COORDINATE,b)},72819:(e,t,r)=>{"use strict";r.d(t,{Cg:()=>ee,xg:()=>te,zY:()=>ye,Ol:()=>de,r5:()=>pe,xS:()=>Ee,XW:()=>De,WQ:()=>Me,fA:()=>W,LU:()=>Ue,QH:()=>ue,vT:()=>U,sV:()=>G,ng:()=>ne,GQ:()=>oe,TF:()=>ie,Md:()=>ae,lI:()=>ce,B9:()=>Ve,Gw:()=>z,LI:()=>se,p0:()=>Le,lE:()=>Ie,ae:()=>Se,XQ:()=>xe,cI:()=>Oe,VT:()=>He,u3:()=>Ne,SA:()=>R,OH:()=>L,jH:()=>N,m3:()=>D,Nw:()=>F,Yu:()=>ve,Lv:()=>ge,VZ:()=>B,Zz:()=>H,uu:()=>P,a2:()=>ke,tS:()=>Ce,ok:()=>Te,Xk:()=>C,$D:()=>Q,Ps:()=>Y,he:()=>q,V2:()=>$,$I:()=>_,Jg:()=>V,nU:()=>K,Rl:()=>Z,pW:()=>X,NF:()=>le,f4:()=>J,Dj:()=>re,Ee:()=>Be,hT:()=>je,C3:()=>Ae,vi:()=>I,V_:()=>me,ij:()=>Pe});r(52675),r(89463),r(2259),r(45700),r(28706),r(2008),r(50113),r(78350),r(23418),r(23792),r(48598),r(62062),r(34782),r(26910),r(30237),r(89572),r(62010),r(2892),r(83851),r(81278),r(79432),r(26099),r(27495),r(90906),r(38781),r(47764),r(23500),r(62953);var n=r(97859),o=r(23514),a=r(86452),i=r(21690),c=r(545),l=r(1081),u=r(92945),s=r(93279),f=r(85949),p=r(88356),d=r(61506),y=r(12209),m=r(23149);var h=r(53645),v=r(43247),g=r(32),b=r(28550),w=r(68528);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||k(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t,r){var n;return n=function(e,t){if("object"!=E(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==E(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||k(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){if(e){if("string"==typeof e)return T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?T(e,t):void 0}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var I=function(e,t){return t},C=function(e){return e.mission.type||y.Pp.UNKNOWN},P=function(e){return e.mission.name},L=function(e){return e.mission.items.order},_=(0,h.qr)(d.CF),N=function(e){return e.mission.items.byId},R=function(e,t){return e.mission.items.byId[t]},D=(0,l.createSelector)((function(e){return e.mission.items}),v.Im),M=(0,l.createSelector)(D,(function(e){return e.map((function(e,t){return{index:t,item:e}}))})),F=(0,l.createSelector)(M,(function(e,t){return t}),(function(e,t){return e.filter((function(e){return e.item.type===t}))})),U=function(e){return e.mission.homePositions},G=function(e){return e.mission.landingPositions},V=function(e){return e.mission.takeoffHeadings},B=function(e){return e.mission.mapping},H=function(e){var t=B(e),r=t&&Array.isArray(t)?t.length:0,o=[];o.push("# Mapping file generated at ".concat((new Date).toISOString()),"#","# showID droneID");for(var a=0;a<r;a++)o.push("".concat(a+1).concat((0,n.default)(t[a])?"":" ".concat(String(t[a]))));return o.push(""),o.join("\n")},W=(0,l.createSelector)(B,(function(e){return e?(0,i.A)(e.length).filter((function(t){return(0,n.default)(e[t])})):[]})),z=function(e){return e.mission.mappingEditor.indexBeingEdited},Y=(0,l.createSelector)(B,(function(e){return e.reduce((function(e,t,r){return(0,n.default)(t)||(e[t]=r),e}),{})})),K=(0,l.createSelector)(B,z,(function(e,t){return t>=0?e[t]:void 0})),q=(0,h.qr)(d.ff),$=function(e){return function(e){var t=q(e);return Array.isArray(t)?t.length:0}(e)<=5?q(e):w.Ml},Z=(0,l.createSelector)(B,(function(e){var t=(0,c.default)(e,n.default);return t.sort(),t})),X=function(e){return(0,c.default)(B(e),n.default)},J=(0,l.createSelector)(B,(function(e){return!!e&&!e.every(n.default)})),Q=function(e){return e.mission.preferredChannelIndex},ee=function(e){return e.mission.commandsAreBroadcast},te=(0,l.createSelector)(W,U,(function(e,t){return e.length>0&&t.some((function(e){return!(0,n.default)(e)}))})),re=function(e){return e.mission.mappingEditor.enabled},ne=function(e){return e.mission.geofenceAction||p.FU.KEEP_CURRENT};function oe(e){var t=ne(e);if(!(0,p.tw)(t))throw new Error("Invalid geofence action: "+String(t));return t}var ae=function(e){return e.mission.geofencePolygonId},ie=(0,l.createSelector)(ae,f.vz,(function(e,t){return t[e]})),ce=(0,l.createSelector)(ie,(function(e){return null==e?void 0:e.points})),le=(0,l.createSelector)(ae,f.vz,(function(e,t){return void 0!==e&&void 0!==t[e]})),ue=(0,l.createSelector)(f.VQ,(function(e){return e.filter((function(e){var t;return null===(t=e.attributes)||void 0===t?void 0:t.isExclusionZone}))})),se=(0,l.createSelector)(L,_,(function(e,t){var r=t.map((function(t){return e.indexOf(t)}));return[(0,a.A)(r),(0,o.A)(r)]})),fe=(0,l.createSelector)(se,_,(function(e,t){var r=j(e,2),n=r[0],o=r[1];return n>=0&&o===n+t.length-1})),pe=function(e){return(0,l.createSelector)(L,fe,se,(function(t,r,n){if(!r)return!1;var o=j(n,2),a=o[0],i=o[1];return e<0?a>=Math.abs(e):i+e<t.length}))},de=pe(-1),ye=pe(1),me=function(e){return e.mission.editorPanel.followScroll},he=function(e,t){return(0,l.createSelector)(D,(function(r){return r.map((function(r,n){return x(x({id:r.id,item:r},e,t(r)),"index",n)})).filter((function(t){return!(0,n.default)(t[e])}))}))},ve=he("area",y.lJ),ge=he("coordinate",y.K1),be=he("altitude",y.A0),we=(0,l.createSelector)(U,ge,ve,(function(e,t,r){return(0,b.HF)([].concat(O(e.filter((function(e){return!(0,n.default)(e)})).map((function(e){return[e.lon,e.lat]}))),O(t.map((function(e){var t=e.coordinate;return[t.lon,t.lat]}))),O(r.flatMap((function(e){return e.area.points})))))})),Ee=(0,l.createSelector)(we,(function(e){return e.map((function(e){return(0,g.Ur)(e)}))})),Ae=(0,l.createSelector)(we,ce,(function(e,t){return!!(Array.isArray(t)&&t.length>0&&Array.isArray(e)&&e.length>0)&&(t=(0,b.ko)(t),e=(0,b.ko)(e),(0,u.Ay)(t,e))})),Se=(0,l.createSelector)(U,ce,(function(e,t){var r;if(!t)return 0;var n=e.filter((function(e){return t=e,(0,m.A)(t)&&"lat"in t&&"number"==typeof t.lat&&"lon"in t&&"number"==typeof t.lon&&(!("amsl"in t)||"number"==typeof t.amsl)&&(!("ahl"in t)||"number"==typeof t.ahl)&&(!("agl"in t)||"number"==typeof t.agl);var t})).map((function(e){var t=e.lon,r=e.lat;return s.zx([t,r])})),a=t.map(s.zx),i=n.flatMap((function(e){return a.map((function(t){return(0,g.Q9)(e,t)}))}));return null!==(r=(0,o.A)(i))&&void 0!==r?r:0})),Oe=(0,l.createSelector)(U,ge,ve,(function(e,t,r){var n,a=j(e,1)[0];if(!a)return 0;var i=s.zx([a.lon,a.lat]);return null!==(n=(0,o.A)([].concat(O(t.map((function(e){var t=e.coordinate;return[t.lon,t.lat]}))),O(r.flatMap((function(e){return e.area.points})))).map((function(e){return(0,g.Q9)(i,s.zx(e))}))))&&void 0!==n?n:0})),xe=(0,l.createSelector)(be,(function(e){var t;return null!==(t=(0,o.A)(e.map((function(e){return e.altitude.value}))))&&void 0!==t?t:0})),je=function(e){return e.mission.plannerDialog.open},ke=function(e){return e.mission.plannerDialog.parameters.fromContext},Te=function(e){return e.mission.plannerDialog.parameters.fromUser},Ie=function(e){return e.mission.lastSuccessfulPlannerInvocationParameters},Ce=function(e){return e.mission.plannerDialog.selectedType},Pe=function(e){return e.mission.plannerDialog.applyGeofence},Le=function(e){return e.mission.lastClearedMissionData},_e=(0,l.createSelector)(U,D,(function(e,t){var r=j(e,1)[0],n=r&&{XY:s.zx([r.lon,r.lat]),Z:x(x(x({},g.Mb.HOME,r.agl),g.Mb.MSL,r.amsl),g.Mb.GROUND,r.agl)};try{return t.reduce((function(e,t){var r=t.type,o=t.parameters,a=e._altitudeReference,i=e._position,c=e._velocity,l=e.segments;return S(S({},e),{},{segments:[].concat(O(l),[{item:t}])},function(){var e=function(e){if(!i.XY)return{_position:S(S({},i),{},{XY:e})};var r=(0,g.Q9)(i.XY,e);return{_position:S(S({},i),{},{XY:e}),segments:[].concat(O(l),[{item:t,distance:r,velocity:c.XY}])}},u=function(e){var r=e.value,n=e.reference;if(!i.Z||a&&a!==n)return{_altitudeReference:n,_position:S(S({},i),{},{Z:x({},n,r)})};var o=Math.abs(i.Z[n]-r);return{_altitudeReference:n,_position:S(S({},i),{},{Z:x({},n,r)}),segments:[].concat(O(l),[{item:t,distance:o,velocity:c.Z}])}};switch(r){case y.IU.CHANGE_SPEED:var f,p;return{_velocity:{XY:null!==(f=o.velocityXY)&&void 0!==f?f:c.XY,Z:null!==(p=o.velocityZ)&&void 0!==p?p:c.Z}};case y.IU.TAKEOFF:case y.IU.CHANGE_ALTITUDE:return u(o.alt);case y.IU.LAND:return n?u({value:n.Z[a],reference:a}):{};case y.IU.GO_TO:return e(s.zx([o.lon,o.lat]));case y.IU.RETURN_TO_HOME:return n?e(n.XY):{}}}())}),{_altitudeReference:void 0,_position:{XY:null==n?void 0:n.XY,Z:null==n?void 0:n.Z},_velocity:{XY:0,Z:0},segments:[]}).segments}catch(e){return[]}})),Ne=(0,l.createSelector)(_e,(function(e){return e.filter((function(e){return Boolean(e.distance)})).reduce((function(e,t){var r=e.distance,n=e.duration;return{distance:r+t.distance,duration:n+(0,b.eY)(t.distance,t.velocity)}}),{distance:0,duration:0})})),Re=function(e){return e.mission.progress.currentItemId},De=(0,l.createSelector)(L,Re,(function(e,t){return e.indexOf(t)})),Me=function(e){return e.mission.progress.currentItemRatio},Fe=(0,l.createSelector)(D,(function(e){var t,r;return Number(null!==(t=null===(r=e.find((function(e){return"marker"===e.type&&"start"===e.parameters.marker})))||void 0===r||null===(r=r.parameters)||void 0===r?void 0:r.ratio)&&void 0!==t?t:0)})),Ue=(0,l.createSelector)(D,(function(e){var t,r;return Number(null!==(t=null===(r=e.find((function(e){return"marker"===e.type&&"end"===e.parameters.marker})))||void 0===r||null===(r=r.parameters)||void 0===r?void 0:r.ratio)&&void 0!==t?t:1)})),Ge=(0,l.createSelector)(_e,Re,Me,(function(e,t,r){var n=e.reduce((function(e,n){var o=n.item,a=o.id,i=o.type,c=o.parameters,l=n.distance,u=void 0===l?0:l,s=e._isDone,f=e._isNet,p=e.doneDistance,d=e.totalDistance,m=a===t;return S(S(S({},e),{},{_isDone:s&&!m},i===y.IU.MARKER&&("start"===c.marker?{_isNet:!0}:"end"===c.marker?{_isNet:!1}:{})),f&&{doneDistance:p+(m?u*r:s?u:0),totalDistance:d+u})}),{_isDone:Boolean(t),_isNet:!1,doneDistance:0,totalDistance:0}),o=n.doneDistance,a=n.totalDistance;return a>0?o/a:0})),Ve=(0,l.createSelector)(Fe,Ue,Ge,(function(e,t,r){return e+(t-e)*r})),Be=(0,l.createSelector)(Ve,(function(e){return e>0&&e<1})),He=(0,l.createSelector)(Ie,P,D,U,Re,Me,(function(e,t,r,n,o,a){return{lastSuccessfulPlannerInvocationParameters:e,name:t,items:r,homePositions:n,progress:{id:o,ratio:a}}}))},89536:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>S,ef:()=>E});r(52675),r(89463),r(66412),r(2259),r(78125),r(28706),r(23418),r(23792),r(62062),r(34782),r(62010),r(4731),r(60479),r(69085),r(40875),r(10287),r(26099),r(3362),r(27495),r(90906),r(38781),r(47764),r(23500),r(62953);var n=r(16535),o=r(27701),a=r(88356),i=r(75625),c=r(11086),l=r(20961),u=r(12209),s=r(32),f=r(28068),p=r(72819);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function y(){y=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),c=new L(n||[]);return o(i,"_invoke",{value:T(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",m="suspendedYield",h="executing",v="completed",g={};function b(){}function w(){}function E(){}var A={};u(A,i,(function(){return this}));var S=Object.getPrototypeOf,O=S&&S(S(_([])));O&&O!==r&&n.call(O,i)&&(A=O);var x=E.prototype=b.prototype=Object.create(A);function j(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==d(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function T(t,r,n){var o=p;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=I(c,n);if(l){if(l===g)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?v:m,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=v,n.method="throw",n.arg=u.arg)}}}function I(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,I(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function _(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(d(t)+" is not iterable")}return w.prototype=E,o(x,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:w,configurable:!0}),w.displayName=u(E,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,u(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},j(k.prototype),u(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new k(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},j(x),u(x,l,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=_,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:_(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function m(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function b(){var e;return e=y().mark((function e(t){var r,n,a,i,c;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.uavId,n=t.payload,a=(null!=n?n:{}).items,Array.isArray(a)&&0!==a.length){e.next=4;break}return e.abrupt("return");case 4:return i=l.A.createCancelToken(),(c=l.A.execute.uploadMission({uavId:r,data:n,format:"skybrush-live/mission-items"},{cancelToken:i}))[o.bO]=function(){return i.cancel({allowFailure:!0})},e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})),b=function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){g(a,n,o,i,c,"next",e)}function c(e){g(a,n,o,i,c,"throw",e)}i(void 0)}))},b.apply(this,arguments)}function w(e,t){switch(e.type){case u.IU.UPDATE_FLIGHT_AREA:return(0,n.jM)(e,(function(e){var t,r=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=h(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}(e.parameters.flightArea.polygons);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.points=n.points.map(s.Ek)}}catch(e){r.e(e)}finally{r.f()}}));case u.IU.UPDATE_GEOFENCE:return(0,n.jM)(e,(function(e){e.parameters.coordinateSystem="geodetic",e.parameters.geofence=A(t)}));case u.IU.UPDATE_SAFETY:return(0,n.jM)(e,(function(e){Object.assign(e.parameters.safety,(0,i.g9)(t))}));default:return e}}var E=function(e){return{version:1,name:(0,p.uu)(e),items:(0,p.m3)(e).map((function(t){return w(t,e)}))}},A=function(e){var t=(0,p.GQ)(e),r=(0,p.lI)(e),n=(0,p.QH)(e),o={version:1,enabled:!0,polygons:r?[{isInclusion:!0,points:r.map(s.Ek)}].concat(m(n.map((function(e){var t=e.attributes;return{isInclusion:!1,points:e.points.map(s.Ek),altitude:{min:null==t?void 0:t.minAltitude,max:null==t?void 0:t.maxAltitude}}})))):[],rallyPoints:[],maxAltitude:(0,i.Dp)(e),maxDistance:(0,i.zr)(e)};return t!==a.FU.KEEP_CURRENT&&(o.action=t),o};const S={executor:function(e){return b.apply(this,arguments)},scope:c.uw.SINGLE,title:"Upload mission items",type:f.j}},75625:(e,t,r)=>{"use strict";r.d(t,{Dp:()=>y,Lu:()=>c,aM:()=>l,g9:()=>s,i_:()=>u,m9:()=>p,qd:()=>f,zr:()=>d});var n=r(72819),o=r(37813),a=r(12209),i=r(21044),c=function(e){return e.safety.dialog.open},l=function(e){return e.safety.dialog.selectedTab},u=function(e){return e.safety.geofence},s=function(e){return e.safety.settings},f=function(e){switch((0,n.Xk)(e)){case a.Pp.SHOW:return(0,o.R6)(e);case a.Pp.WAYPOINT:return(0,n.cI)(e);default:return 0}},p=function(e){switch((0,n.Xk)(e)){case a.Pp.SHOW:return(0,o.EU)(e);case a.Pp.WAYPOINT:return(0,n.XQ)(e);default:return 0}},d=function(e){return function(e){var t=f(e),r=(0,n.ae)(e),o=u(e).horizontalMargin;return(0,i.d)(Math.max(t,r),o)}(e)},y=function(e){return function(e){var t=p(e),r=u(e).verticalMargin;return(0,i.P)(t,r)}(e)}},93213:(e,t,r)=>{"use strict";r.d(t,{$9:()=>G,D0:()=>v,IN:()=>b,JU:()=>P,KL:()=>N,Nq:()=>A,O2:()=>M,Tt:()=>g,UJ:()=>I,XE:()=>C,XP:()=>h,Y5:()=>f,Ye:()=>y,_O:()=>F,_r:()=>U,aw:()=>S,f1:()=>D,jG:()=>_,li:()=>d,my:()=>p,nG:()=>T,nm:()=>m,q9:()=>R,vD:()=>x,wR:()=>k,zk:()=>j});r(28706),r(26099);var n,o=r(97859),a=r(1081),i=r(51644),c=r(43247),l=r(14440),u=r(21279),s=r(69260),f=function(e){return e.servers.token||void 0},p=function(e){return e.servers.current.timeSync.clockSkew},d=(0,a.createSelector)((function(e){return e.servers.current.timeSync}),(function(e){var t=e.clockSkew,r=e.roundTripTime;return!(0,o.default)(t)&&!(0,o.default)(r)&&r<=l.f&&Math.abs(t)<=r/2?0:t})),y=function(e){return e.servers.current.timeSync.roundTripTime},m=function(e){return e.dialogs.serverSettings.protocol||s.Z.WS},h=function(e){return e.dialogs.serverSettings.hostName},v=function(e){return e.dialogs.serverSettings.port},g=((0,a.createSelector)((function(e){return e.dialogs.serverSettings}),(function(e){var t=e.hostName,r=e.port;return t?"".concat(t,":").concat(r):void 0})),(0,a.createSelector)((function(e){return e.dialogs.serverSettings}),(function(e){var t=e.hostName,r=e.port,n=e.isSecure;return t?"".concat(n?"https:":"http:","//").concat(t,":").concat(r):void 0}))),b=function(e){return e.servers.current},w=function(e){return e.servers.current.features},E=function(e){return e.servers.current.license},A=function(e){return e.servers.current.version},S=(0,a.createSelector)((function(e){return e.servers.detected}),c.Im),O=(0,a.createSelector)(b,(function(e){return e.state===i.KN.CONNECTED?e.authentication:u.uY})),x=(0,a.createSelector)(O,(function(e){return e.user})),j=(0,a.createSelector)(O,(function(e){return e.valid})),k=(0,a.createSelector)(x,Boolean),T=function(e){return e.servers.isAuthenticating},I=(0,a.createSelector)(b,(function(e){return e.state===i.KN.CONNECTED})),C=(0,a.createSelector)(b,(function(e){return e.state===i.KN.CONNECTING})),P=(0,a.createSelector)(O,(function(e){return e.methods&&e.methods.length>0})),L=function(e){return(0,a.createSelector)(w,(function(t){return void 0!==t[e]}))},_=L("virtual_uavs"),N=L("map_cache"),R=(n="pro",(0,a.createSelector)(E,(function(e){var t;return null==e||null===(t=e.features)||void 0===t?void 0:t.some((function(e){return e.type===n}))}))),D=(0,a.createSelector)(O,(function(e){return e.required})),M=function(e){return e.servers.current.timeSync.adjusting},F=function(e){return e.servers.current.timeSync.calculating},U=(0,a.createSelector)((function(e){return e.servers.current.timeSync}),(function(e){var t=e.clockSkew,r=e.roundTripTime;return!(0,o.default)(t)&&!(0,o.default)(r)&&Math.abs(t)>Math.max(r/2,l.X)})),G=function(e){return e.servers.timeSyncDialog.open}},36345:(e,t,r)=>{"use strict";r.d(t,{A:()=>N});r(52675),r(69085),r(79432);var n=r(5556),o=r.n(n),a=r(96540),i=r(69733),c=r(79244),l=r(47546),u=(r(89463),r(2259),r(45700),r(2008),r(23792),r(89572),r(2892),r(83851),r(81278),r(26099),r(47764),r(23500),r(62953),r(34164)),s=r(82096),f=r(55258),p=r(44539),d=r(26562),y=r(47530),m=r(51644),h=r(63175),v=r(48190);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e,t,r){var n;return n=function(e,t){if("object"!=g(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==g(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E.apply(this,arguments)}var A=h.Vs,S=(0,s.A)((function(e){return{row:{display:"flex",flexDirction:"row",flexWrap:"no-wrap",alignItems:"baseline",margin:e.spacing(0,-.5,.5,0),"& .muted":{color:e.palette.text.disabled}},uavIdCell:{display:"inline-block",fontWeight:"bold",overflow:"hidden"},pill:{display:"inline-block",margin:e.spacing(0,.5,0,0),verticalAlign:"text-top"},statusPill:{minWidth:88+e.spacing(.5),flex:1},modePill:{minWidth:48,flex:1},gpsPill:{minWidth:40,flex:1},batteryIndicator:{display:"inline-block",flex:1,fontFamily:e.typography.fontFamily,minWidth:48,textAlign:"left",padding:e.spacing(0,.75),whiteSpace:"noWrap"},altitudeLabel:{flex:1,textAlign:"center",whiteSpace:"noWrap",margin:e.spacing(0,1,0,0)},numSatellitesLabel:{flex:1,textAlign:"center",whiteSpace:"noWrap"}}}),{name:"DroneInfoTooltipContent"}),O=a.createElement("span",{className:"muted"},"\u2014"),x=function(e){var t=e.batteryFormatter,r=e.batteryStatus,n=e.details,o=e.gpsFix,i=e.heading,c=e.label,l=e.localPosition,s=e.mode,f=e.position,y=e.text,v=e.textSemantics,g=S(),b=o||{},w=b.type,x=b.numSatellites,j=l&&Array.isArray(l);return a.createElement(a.Fragment,null,a.createElement("div",{className:g.row},a.createElement("div",{className:g.uavIdCell},c),a.createElement("div",{className:g.batteryIndicator},a.createElement(p.A,E({formatter:t},r))),a.createElement("div",null,(0,h.d)(i,1,"\xb0",O))),a.createElement("div",{className:g.row},a.createElement(d.A,{inline:!0,className:(0,u.A)(g.pill,g.statusPill),status:v},n||y)),a.createElement("div",{className:g.row},a.createElement(d.A,{inline:!0,className:(0,u.A)(g.pill,g.modePill),status:"off"},s?(0,m.XV)(s):"----"),a.createElement(d.A,{inline:!0,hollow:!0,className:(0,u.A)(g.pill,g.gpsPill),status:(0,m.Jq)(w)},w?(0,m.Jj)(w):"\u2014")),a.createElement("div",{className:g.row},j?A(l):a.createElement(a.Fragment,null,a.createElement("div",{className:g.altitudeLabel},(0,h.d)(null==f?void 0:f.ahl,1," m",O),a.createElement("span",{className:"muted"},"\xa0","AHL")),a.createElement("div",{className:g.numSatellitesLabel},(0,h.d)(x,0,"",O),a.createElement("span",{className:"muted"},"\xa0","sats")))))};x.propTypes={batteryFormatter:o().instanceOf(f.K),batteryStatus:o().shape({cellCount:o().number,charging:o().bool,voltage:o().number,percentage:o().number}),details:o().string,gpsFix:o().shape({type:o().number,numSatellites:o().number}),heading:o().number,label:o().string,localPosition:o().arrayOf(o().number),mode:o().string,position:o().shape({ahl:o().number}),text:o().string,textSemantics:o().string};const j=(0,i.Ng)((function(){var e=(0,v.q5)();return function(t,r){var n=r.id,o=(0,v.Pz)(t,n);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({batteryFormatter:(0,y.sk)(t),gpsFix:null==o?void 0:o.gpsFix,heading:null==o?void 0:o.heading,label:n,localPosition:null==o?void 0:o.localPosition,missing:!o,mode:null==o?void 0:o.mode,position:null==o?void 0:o.position},e(t,r.id))}}))(x);var k=r(61506),T=r(5529),I=["featureId"];function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C.apply(this,arguments)}function P(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var L=a.memo((function(e){var t=e.featureId;return(0,k.wy)(t)?a.createElement(j,{id:(0,k.Xc)(t)}):null}));L.propTypes={featureId:o().string};var _=function(e){var t=e.featureId,r=P(e,I),n=function(e){return e&&(0,k.wy)(e)}(t);return a.createElement(l.W1,C({followCursor:!0,ignoreAttributes:!0,mouseOnly:!0,duration:0,placement:"right",plugins:[c.M],visible:n,content:n?a.createElement(L,{featureId:t}):null},r))};_.propTypes={featureId:o().string};const N=(0,i.Ng)((function(e){return{featureId:(0,T.O)(e)}}),{})(_)},5529:(e,t,r)=>{"use strict";function n(e){var t;return null===(t=e.session)||void 0===t?void 0:t.featureIdForTooltip}function o(e){var t;return null===(t=e.session)||void 0===t?void 0:t.broadcast}r.d(t,{O:()=>n,S:()=>o})},32087:(e,t,r)=>{"use strict";r.d(t,{Lm:()=>p,V$:()=>h,W8:()=>g,aU:()=>v,iD:()=>y,rZ:()=>b,sO:()=>d,xC:()=>m});r(52675),r(89463),r(2259),r(45700),r(2008),r(23792),r(89572),r(2892),r(83851),r(81278),r(79432),r(26099),r(47764),r(23500),r(62953);var n=r(97859),o=r(78468),a=r(47530),i=r(84864),c=r(42360);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){var n;return n=function(e,t){if("object"!=l(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==l(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=c.o.closeAppSettingsDialog,d=c.o.setAppSettingsDialogTab,y=c.o.showAppSettingsDialog,m=c.o.toggleAppSettingsDialog;function h(e){return function(t){t((0,i.uV)("display",{uavListFilters:(0,n.default)(e)||e===o.FA.DEFAULT?[]:[e]}))}}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.key,r=e.reverse;return function(e,n){var o=(0,a.S6)(n()),c={},l=!1;t&&"string"==typeof t&&t.length>0&&(c.key=t,l=!0),null!=r&&(c.reverse=Boolean(r),l=!0),l&&e((0,i.uV)("display",{uavListSortPreference:s(s({},o),c)}))}}function g(){return function(e,t){var r=(0,a.S6)(t());e((0,i.uV)("display",{uavListSortPreference:s(s({},r),{},{reverse:!r.reverse})}))}}function b(e,t){return function(r,n){var o=n().settings.uavs,a=o.fullChargeVoltage,c=o.lowVoltageThreshold,l=o.criticalVoltageThreshold;switch(e){case"criticalVoltageThreshold":l=t,c=Math.max(l,c),a=Math.max(c,a);break;case"lowVoltageThreshold":c=t,a=Math.max(c,a),l=Math.min(c,l);break;case"fullChargeVoltage":a=t,c=Math.min(a,c),l=Math.min(c,l)}r((0,i.uV)("uavs",{fullChargeVoltage:a,lowVoltageThreshold:c,criticalVoltageThreshold:l}))}}},47530:(e,t,r)=>{"use strict";r.d(t,{Ap:()=>x,Cu:()=>_,HI:()=>j,Mq:()=>I,QA:()=>g,S6:()=>T,W_:()=>C,Wb:()=>E,Xt:()=>h,bR:()=>k,bV:()=>w,d6:()=>R,fe:()=>m,gb:()=>b,jz:()=>N,ns:()=>L,sk:()=>v,x_:()=>P,xf:()=>A});r(52675),r(89463),r(2259),r(45700),r(2008),r(23418),r(23792),r(34782),r(89572),r(62010),r(2892),r(5506),r(83851),r(81278),r(79432),r(26099),r(27495),r(90906),r(38781),r(47764),r(23500),r(62953);var n=r(1081),o=r(56868),a=r(55258),i=r(13083),c=r(78421),l=r(28850);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){var n;return n=function(e,t){if("object"!=u(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==u(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=function(e){var t;return(null===(t=e.settings.display)||void 0===t?void 0:t.altitudeSummaryType)||c.Vk.AMSL},h=(0,n.createSelector)((function(e){return e.settings.uavs}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultBatteryCellCount,r=e.fullChargeVoltage,n=e.lowVoltageThreshold,o=e.criticalVoltageThreshold;return new i.F({defaultBatteryCellCount:t,voltageThresholds:{full:r,low:n,critical:o}})})),v=(0,n.createSelector)(h,(function(e){return e.settings.uavs}),(function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).preferredBatteryDisplayStyle,r=void 0===t?c.Ji.VOLTAGE:t;return new a.K({settings:e,style:r})})),g=function(e){return(e.settings.uavs.placementAccuracy||1e3)/1e3},b=function(e){return e.settings.uavs.takeoffHeadingAccuracy||20},w=function(e){var t=e.settings.threeD,r=t.scenery,n=t.lighting;return"day"===r?"light":"night"===r?"dark":"light"===n?"light":"dark"},E=function(e){var t=e.settings.threeD.scenery;return"day"===t||"night"===t?"outdoor":"indoor"===t?"indoor":"auto"===t?"auto":"outdoor"},A=(0,n.createSelector)((function(e){return e.settings.uavs}),(function(e){var t=e.warnThreshold,r=e.goneThreshold,n=e.forgetThreshold,o=e.autoRemove;return{goneThreshold:Math.max(1e3,1e3*r),warnThreshold:Math.max(1e3,1e3*t),forgetThreshold:o?Math.max(1e3,1e3*n):Number.POSITIVE_INFINITY}})),S=[],O={key:l.ur.DEFAULT,reverse:!1},x=function(e){var t;return(null===(t=e.settings.display)||void 0===t?void 0:t.uavListFilters)||S},j=function(e){return e.settings.display.uavListLayout},k=function(e){return"grid"===j(e)?"horizontal":"vertical"};function T(e){var t;return(null===(t=e.settings.display)||void 0===t?void 0:t.uavListSortPreference)||O}var I=function(e){var t;return!(null!==(t=e.settings.display)&&void 0!==t&&t.hideEmptyMissionSlots)},C=function(e){var t;return null===(t=e.settings.display)||void 0===t?void 0:t.showMissionIds},P=function(e){var t;return null===(t=e.settings.display)||void 0===t?void 0:t.experimentalFeaturesEnabled};function L(e,t,r){var n=function(e){var t;return(null===(t=e.settings.uavs)||void 0===t?void 0:t.uavOperationConfirmationStyle)||c.eB.NEVER}(e);switch(n){case c.eB.ALWAYS:return!0;case c.eB.ONLY_MULTIPLE:return r||Array.isArray(t)&&t.length>1;default:return!1}}var _=function(e){var t;return null===(t=e.settings.display)||void 0===t?void 0:t.hideInactiveSegmentsOnDarkLCD},N=function(e){var t;return null===(t=e.settings.display)||void 0===t?void 0:t.optimizeUIForTouch},R=(0,n.createSelector)((function(e){return e.settings.apiKeys}),(function(e){for(var t={},r=0,n=Object.entries(d(d({},o.A),e));r<n.length;r++){var a=s(n[r],2),i=a[0],c=a[1];t[String(i).toUpperCase()]=String(c||o.A[i])||""}return t}))},6659:(e,t,r)=>{"use strict";r.d(t,{Ck:()=>U,Ej:()=>Z,Eo:()=>H,Gk:()=>Q,I9:()=>K,Jj:()=>q,LL:()=>W,MZ:()=>$,Np:()=>X,fU:()=>N,gF:()=>J,gk:()=>Y,iZ:()=>D,mR:()=>G,mm:()=>V,qx:()=>F});r(52675),r(89463),r(66412),r(2259),r(45700),r(78125),r(2008),r(23418),r(23792),r(62062),r(34782),r(89572),r(62010),r(4731),r(60479),r(2892),r(25428),r(9868),r(69085),r(83851),r(81278),r(40875),r(79432),r(10287),r(26099),r(3362),r(27495),r(90906),r(38781),r(47764),r(23500),r(62953);var n=r(64601),o=r(77500),a=r(50791),i=r(74022),c=r(18803),l=r(44294),u=r(16535),s=r(26144),f=(r(53855),r(85949),r(53054)),p=r(23809),d=r(12857),y=r(15133),m=r(48190),h=r(25558),v=r(12209),g=r(32),b=r(28550),w=r(68528),E=r(60279),A=r(4452),S=r(37813),O=r(10876);function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function j(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e,t,r){var n;return n=function(e,t){if("object"!=x(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=x(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==x(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(){P=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new L(n||[]);return o(i,"_invoke",{value:k(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(_([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==x(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function k(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=T(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function T(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function _(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(x(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(j.prototype),u(j.prototype,c,(function(){return this})),t.AsyncIterator=j,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new j(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=_,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:_(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function L(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function _(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){L(a,n,o,i,c,"next",e)}function c(e){L(a,n,o,i,c,"throw",e)}i(void 0)}))}}var N=function(){return function(e){e((0,O.eD)(Date.now()))}},R=function(){return(0,h.G)(E.jp)},D=function(){return function(e){e((0,O.j8)()),e((0,p.V7)(v.Pp.UNKNOWN))}},M=function(){return function(e,t){var r=t(),n=(0,S.S6)(r),o=(0,S.on)(r),a=(0,S.sN)(r);e((0,p.V7)(v.Pp.SHOW)),e((0,p.fH)(n)),e((0,p.Rs)(o)),e((0,p.B5)(a))}},F=function(){return function(e,t){var r=t(),n=(0,S.JL)(r);if(0!==n.length){var o=(0,S.EG)(r);if(!o)throw new Error("Outdoor coordinate system not set up yet");e((0,f.uy)(n,v.Pp.SHOW,(0,c.A)(o.toLonLat.bind(o))))}else e((0,d.Ds)({message:"Could not calculate geofence coordinates.\n                    Did you load a show file?",semantics:y.N.ERROR,permanent:!0}))}},U=function(e){return function(t,r){var n=(0,S.wA)(r()),o=(0,g.Yn)(n,e);t(V({origin:o,setupMission:!0}))}},G=function(e,t){return function(r,n){var o=(0,g.Ur)((0,S.wA)(n())),a=new l.default(o);a.rotate((0,b.eh)(-e),t);var i,c=(0,g.Al)(a.flatCoordinates);r((0,O.eR)(c)),r((i=e,function(e,t){var r=(0,S.gQ)(t())+i;Number.isFinite(r)&&e(V({orientation:r.toFixed(1),setupMission:!0}))}))}},V=function(e){var t=e.origin,r=e.orientation,n=e.takeoffHeading,o=e.setupMission;return function(e){var a=!1;t&&(e((0,O.eR)(t)),a=!0),r&&(e((0,O.M8)(r)),a=!0),n&&(e((0,O.Jt)(n)),a=!0),a&&(e(R()),o&&e(M()))}},B=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).errorMessage,r=(0,w.vR)("show/loading",e,{minDelay:500});return function(e){return function(){var n=_(P().mark((function n(o,a){var c,l,u;return P().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=(0,i.A)((function(e){o({type:O.sH.type,payload:e})}),200),o((0,O.xP)(!1)),o(R()),n.prev=3,l=o(r(e,{dispatch:o,getState:a,onProgress:c})),n.next=7,l;case 7:u=n.sent,z(u.value.spec,o),n.next=17;break;case 12:n.prev=12,n.t0=n.catch(3),o((0,d.Ds)({message:t||"Failed to load show.",semantics:y.N.ERROR,permanent:!0})),o((0,O.xP)(!0));case 17:case"end":return n.stop()}}),n,null,[[3,12]])})));return function(e,t){return n.apply(this,arguments)}}()}},H=B(function(){var e=_(P().mark((function e(t){var r,n;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t&&t.path?"file://".concat(t.path):void 0,e.next=3,(0,s.loadCompiledShow)(t);case 3:return n=e.sent,e.abrupt("return",{spec:(0,u.CN)(n),url:r});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{errorMessage:"Failed to load show from the given file."}),W=B(function(){var e=_(P().mark((function e(t,r){var o,a,i;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.onProgress,e.next=3,(0,n.Ay)(t,{onDownloadProgress:function(e){e.totalBytes>0&&o(e.percent)}}).arrayBuffer();case 3:return a=e.sent,e.next=6,(0,s.loadCompiledShow)(a);case 6:return i=e.sent,e.abrupt("return",{spec:(0,u.CN)(i),url:t});case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),{errorMessage:"Failed to load show from the given URL."});function z(e,t){var r=(0,o.A)(e,"swarm.drones");t((0,p.FH)(r.length));var n=(0,o.A)(e,"environment");n.type&&t((0,O.Al)(n.type)),"indoor"===n.type&&t((0,O.eR)(null)),t(M()),t((0,O.Po)()),"indoor"===n.type&&t((0,O.U9)(A._9.AUTO))}function Y(){return function(){var e=_(P().mark((function e(t,r){var n,o,a,i,c,l;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=window.bridge.getFileAsBlob){e.next=4;break}return e.abrupt("return");case 4:if(!(o=(0,S.b8)(r()))){e.next=14;break}return e.next=8,n(o);case 8:return a=e.sent,i=a.buffer,c=a.props,l=new Blob([i]),Object.assign(l,c),e.abrupt("return",t(H(l)));case 14:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}var K=function(){return function(e){e((0,O.dQ)(Date.now()))}},q=function(){return function(e){e((0,O.c4)(Date.now()))}},$=function(e){return function(t,r){var n=(0,S.K3)(r());t((0,O.W3)([e,n[1]]))}},Z=function(e){return function(t,r){var n=(0,S.K3)(r());t((0,O.W3)([n[0],e]))}},X=function(e){return function(t,r){t((0,O.qH)(I(I({},(0,S.xL)(r())),{},{type:e}))),t(R())}},J=function(e){return function(t,r){var n=Number(e);Number.isFinite(n)&&n>=-1e4&&n<=1e4&&(t((0,O.qH)(I(I({},(0,S.xL)(r())),{},{value:n}))),t(R()))}},Q=function(){return function(e,t){var r,n=t(),o=[],i=j((0,m.T4)(n));try{for(i.s();!(r=i.n()).done;){var c=r.value,l=(0,m.fk)(n,c);l&&"number"==typeof l.amsl&&Number.isFinite(l.amsl)&&o.push(l.amsl)}}catch(e){i.e(e)}finally{i.f()}if(o.length>0){var u=(0,a.A)(o)/o.length;e(J(u.toFixed(1)))}}}},37813:(e,t,r)=>{"use strict";r.d(t,{Mj:()=>T,P_:()=>I,_0:()=>C,VP:()=>P,$8:()=>L,qG:()=>_,b8:()=>N,kh:()=>ge,AO:()=>G,sN:()=>ne,JL:()=>de,L_:()=>me,Kh:()=>V,Oy:()=>he,S6:()=>ve,SJ:()=>be,on:()=>Ee,EU:()=>Se,R6:()=>Ae,dK:()=>K,SZ:()=>ue,xL:()=>Y,Jn:()=>q,gQ:()=>X,wA:()=>Z,Z1:()=>Q,Nm:()=>ce,EG:()=>ie,K3:()=>oe,LP:()=>Te,I7:()=>je,Op:()=>Oe,Dy:()=>B,nX:()=>ke,dp:()=>Ie,Ok:()=>J,bY:()=>Ce,pp:()=>Pe,k2:()=>Le,ob:()=>_e,ku:()=>le,MM:()=>ee,MC:()=>re,ce:()=>se,sc:()=>fe,tS:()=>Ne,Rf:()=>R,fb:()=>D,El:()=>Re,oH:()=>De,_q:()=>ae,Mv:()=>F,yi:()=>M,ut:()=>Me,nk:()=>H,kP:()=>W,du:()=>U,WC:()=>Fe});r(52675),r(89463),r(2259),r(28706),r(33771),r(46449),r(23418),r(23792),r(62062),r(34782),r(93514),r(62010),r(25428),r(40150),r(87220),r(9868),r(26099),r(27495),r(90906),r(38781),r(47764),r(11392),r(62953);var n=r(29748),o=r(22315),a=r(40001),i=r(77500),c=r(29008),l=r(97859),u=r(23514),s=r(98047),f=r(1081),p=r(77455),d=r.n(p),y=r(92945),m=r(63829),h=r(72819),v=r(63175),g=r(32),b=r(28550),w=r(68528),E=r(60279),A=r(30911);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}var O=function(e){return function(e){return"object"===S(e)&&1===e.version&&"object"===S(e.setpoints)&&Array.isArray(e.setpoints)}(e)&&(e.setpoints.length>0||Boolean(e.autoYaw))};function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}var T=function(e){return Boolean(e.show.preflight.manualChecksSignedOffAt)},I=function(e){return Boolean(e.show.preflight.onboardChecksSignedOffAt)},C=function(e){return"synced"===e.show.start.syncStatusWithServer},P=function(e){var t=e.show.start.uavIds;return t?t.length:0},L=function(e){return e.show.lastLoadAttemptFailed},_=function(e){return"error"===e.show.start.syncStatusWithServer},N=(0,f.createSelector)((function(e){return e.show.sourceUrl}),(function(e){return e&&e.startsWith("file://")?e.slice(7):null})),R=function(e){return!(0,l.default)(Pe(e))},D=function(e){return e.show.changedSinceLoaded},M=function(e){return Boolean(e.show.start.authorized)},F=function(e){return M(e)&&C(e)},U=function(e){return Boolean(e.show.preflight.takeoffAreaApprovedAt)},G=function(e){var t=(0,i.A)(e,"show.data.settings");return"object"===k(t)?t:w.t0},V=function(e){var t=(0,i.A)(e,"show.data.swarm.drones");return Array.isArray(t)?t:w.Ml},B=function(e){return e.show.environment.type},H=function(e){return"indoor"===B(e)},W=function(e){return"outdoor"===B(e)},z=(0,f.createSelector)(V,(function(e){return e.some((function(e){var t=(0,i.A)(e,"settings.yawControl");return O(t)}))})),Y=function(e){return(0,i.A)(e,"show.environment.outdoor.altitudeReference")||E.n_},K=function(e){if(!W(e))return null;var t=Y(e);return t&&t.type===E.Mb.AMSL&&"number"==typeof t.value&&Number.isFinite(t.value)?t.value:null},q=function(e){return(0,i.A)(e,"show.environment.outdoor.coordinateSystem")},$=(0,f.createSelector)((function(e){return(0,i.A)(e,"show.environment.indoor.coordinateSystem")}),(function(e){return e?Number.parseFloat(e.orientation):0})),Z=(0,f.createSelector)(q,(function(e){return e.origin})),X=(0,f.createSelector)(q,(function(e){return Number.parseFloat(e.orientation)})),J=(0,f.createSelector)(H,$,X,(function(e,t,r){return e?t:r})),Q=function(e){return(0,i.A)(e,"show.environment.outdoor.takeoffHeading")||E.ay},ee=(0,f.createSelector)(H,(function(e){return(0,i.A)(e,"show.environment.indoor.takeoffHeading")||E.ay}),Q,(function(e,t,r){return e?t:r})),te=function(e){var t=("object"===k(e)?e:E.ay).value;return("string"==typeof t?Number.parseFloat(t):"number"==typeof t?t:0)%360},re=function(e){var t=ee(e);return te(t)},ne=(0,f.createSelector)(ee,J,(function(e,t){var r=("object"===k(e)?e:E.ay).type,n=te(e);switch(r){case E.us.NONE:return;case E.us.ABSOLUTE:return n;case E.us.RELATIVE:return(t+n)%360;default:return}})),oe=(0,f.createSelector)((function(e){var t;return null===(t=e.show.environment)||void 0===t||null===(t=t.indoor)||void 0===t||null===(t=t.room)||void 0===t?void 0:t.firstCorner}),(function(e){var t;return null===(t=e.show.environment)||void 0===t||null===(t=t.indoor)||void 0===t||null===(t=t.room)||void 0===t?void 0:t.secondCorner}),(function(e,t){return[e||[-E.EZ.width/2,-E.EZ.depth/2,0],t||[E.EZ.width/2,E.EZ.depth/2,E.EZ.height]]})),ae=function(e){var t;return H(e)&&(null===(t=e.show.environment.indoor)||void 0===t||null===(t=t.room)||void 0===t?void 0:t.visible)},ie=(0,f.createSelector)(q,(function(e){return e&&e.origin?new g.f9(e):void 0})),ce=(0,f.createSelector)(ie,(function(e){return e?function(t){if(!(0,l.default)(t)){var r=x(t,3),n=r[0],o=r[1],a=r[2],i=x(e.toLonLat([n,o]),2);return{lon:i[0],lat:i[1],amsl:void 0,ahl:a}}}:void 0})),le=(0,f.createSelector)(H,(function(e){return e?c.default:void 0})),ue=(0,f.createSelector)(V,(function(e){return e.length})),se=(0,f.createSelector)(V,(function(e){return e.map((function(e){var t=(0,i.A)(e,"settings.trajectory");return(0,A.U9)(t)?t:void 0}))})),fe=d()(se,ce,h.vi,(function(e,t,r){if(void 0!==t){var n=e[r];return(0,A.U9)(n)?(0,A.WC)(n,{includeControlPoints:!0}).map(t):void 0}}))({keySelector:h.vi}),pe=(0,f.createSelector)(se,(function(e){return e.map(A.R9)})),de=(0,f.createSelector)(pe,(function(e){return(0,b.HF)(e.flat())})),ye=function(e,t){return t?e.map(t):Array.from({length:e.length}).fill(void 0)},me=(0,f.createSelector)(de,ce,(function(e,t){return t?e.map(t):[]})),he=(0,f.createSelector)(se,(function(e){return e.map(A.HG)})),ve=(0,f.createSelector)(he,ce,ye),ge=(0,f.createSelector)(ve,(function(e){var t=x((0,b.l7)(e.map((function(e){return[e.lon,e.lat]}))),2);return{lon:t[0],lat:t[1]}})),be=(0,f.createSelector)(h.lI,ie,(function(e,t){return Array.isArray(e)&&t&&t.fromLonLat?e.map((function(e){return t.fromLonLat(e)})):void 0})),we=(0,f.createSelector)(se,(function(e){return e.map(A.bQ)})),Ee=(0,f.createSelector)(we,ce,ye),Ae=(0,f.createSelector)(se,(function(e){return(0,u.A)(e.map(A.ZW))||0})),Se=(0,f.createSelector)(se,(function(e){return(0,u.A)(e.map(A.K0))||0})),Oe=(0,f.createSelector)(se,(function(e){var t=(0,s.A)(e,A.QM);return t?(0,A.QM)(t):0})),xe=(0,f.createSelector)(Oe,v.a3),je=(0,f.createSelector)(ue,xe,Se,z,(function(e,t,r,n){return"".concat(e," drones, ").concat(t,", max AHL ").concat(r.toFixed(1),"m")+(n?", yaw controlled":"")})),ke=function(e){var t=e.show.progress;return"number"==typeof t?100*t:null},Te=function(e){var t;return null!==(t=e.show.start.clock)&&void 0!==t?t:null},Ie=(0,f.createSelector)((function(e){return e.show.data}),(function(e){return(e&&"object"===k(e.meta)?e.meta:null)||{}})),Ce=function(e){return e.show.start.method},Pe=function(e){var t=e.show.start,r=t.clock,n=t.timeOnClock,o=t.utcTime,a=(0,l.default)(r)?o:n;return(0,l.default)(a)||Number.isNaN(a)?null:a},Le=(0,f.createSelector)(Te,Pe,(function(e,t){return(0,l.default)(e)?t?(0,o.A)((0,a.A)(t)):void 0:e===m.v.MTC?t?(0,v.aD)(t,{padHours:!0})+" MTC":void 0:(0,v.aD)(t,{padHours:!0})+" on clock ".concat(e)})),_e=(0,f.createSelector)(Ie,ue,(function(e,t){return e.title||"Show with ".concat(t," drones")})),Ne=function(e){return Boolean(e.show.data)},Re=function(e){return Boolean((0,i.A)(e,"show.environment.outdoor.coordinateSystem.origin"))},De=function(e){return e.show.loading},Me=(0,f.createSelector)(me,h.lI,(function(e,t){return e&&(e=e.map((function(e){return[e.lon,e.lat]}))),!!(Array.isArray(t)&&t.length>0&&Array.isArray(e)&&e.length>0)&&(t=(0,b.ko)(t),e=(0,b.ko)(e),(0,y.Ay)(t,e))}));function Fe(e){var t=(0,n.A)(new Date,"yyyy-MM-dd_HH-mm-ss"),r=N(e),o=r?r.lastIndexOf("/"):-1,a=r&&o>=0?r.slice(o+1):r,i=a?a.lastIndexOf("."):-1,c=a&&i>0?a.slice(0,i):a;return c&&c.length>0?"".concat(c,"_mapping_").concat(t,".txt"):"mapping_".concat(t,".txt")}},30911:(e,t,r)=>{"use strict";r.d(t,{HG:()=>s,K0:()=>d,QM:()=>m,R9:()=>u,U9:()=>h,WC:()=>y,ZW:()=>p,bQ:()=>f});r(52675),r(89463),r(2259),r(23418),r(23792),r(62062),r(34782),r(62010),r(26099),r(27495),r(90906),r(38781),r(47764),r(62953);var n=r(98047),o=r(28550);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e){return(0,o.HF)(y(e))}function s(e){return h(e)?e.points[0][1]:void 0}function f(e){return h(e)?e.points[e.points.length-1][1]:void 0}function p(e){if(!h(e))return 0;var t=e.points,r=void 0===t?[]:t;if(0===r.length)return 0;var a=r[0][1],i=function(e){var t=e[1];return(0,o.CX)(t,a)},c=(0,n.A)(r,i);return c?i(c):0}function d(e){if(h(e)){var t=e.points,r=void 0===t?[]:t,o=(0,n.A)(r,(function(e){return e[1][2]}));return o?o[1][2]:0}}function y(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).includeControlPoints,r=void 0!==t&&t;if(!h(e))return[];var n=e.points,o=void 0===n?[]:n;if(r){var a,l=[],u=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=c(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw a}}}}(o);try{for(u.s();!(a=u.n()).done;){var s=a.value;s.length>2&&Array.isArray(s[2])&&l.push.apply(l,i(s[2])),l.push(s[1])}}catch(e){u.e(e)}finally{u.f()}return l}return o.map((function(e){return e[1]}))}function m(e){if(!h(e))return 0;var t=e.points,r=e.takeoffTime;if(!(t.length>0))return 0;var n=t[t.length-1];return Array.isArray(n)&&n.length>1?n[0]+(r||0):void 0}var h=function(e){return"object"===a(e)&&1===e.version&&"object"===a(e.points)&&Array.isArray(e.points)&&e.points.length>0}},12857:(e,t,r)=>{"use strict";r.d(t,{Ds:()=>a,Qg:()=>i,Te:()=>c});var n=r(43326),o=r(15133),a=function(e){return function(t,r){(0,n.k)("string"==typeof e?{message:e}:e)}};function i(e){return a({message:e,semantics:o.N.ERROR})}function c(e){return a({message:e,semantics:o.N.SUCCESS})}},11104:(e,t,r)=>{"use strict";r.d(t,{I:()=>g,Q:()=>v});r(52675),r(89463),r(2259),r(45700),r(2008),r(23418),r(23792),r(62062),r(34782),r(89572),r(62010),r(2892),r(25428),r(9868),r(83851),r(81278),r(79432),r(26099),r(27495),r(90906),r(38781),r(47764),r(23500),r(62953);var n=r(6746),o=r(12857),a=r(48190),i=r(37796),c=r(32),l=r(39064),u=r(6615);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){var n;return n=function(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==s(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e){return"number"==typeof e.amsl&&Number.isFinite(e.amsl)},v=function(e){var t=e.coords,r=e.uavIds;return function(e,o){var c=o(),l=function(e){return(0,a.fk)(c,e)},s=r.filter(l).map(l),f=s.length;if(!(f<=0)){var p=1===f?s[0].ahl:(0,n.A)(s.filter(h),"amsl"),d=Number.isFinite(p)?p:0,y=1===f&&d?"ahl":"amsl",m=(0,i.MH)(c);e((0,u.Yq)({coords:m(t),mode:y,altitude:Number(d.toFixed(1))}))}}},g=function(e){return function(t,r){var n=(0,c.EK)(e.coords),i=r(),s=(0,a.YZ)(i);if(n)if(0===s.length)t((0,o.Qg)("Selection is empty"));else{var p=Number(e.altitude),d={lat:n[1],lon:n[0]};if(Number.isFinite(p))if("agl"===e.mode)d.agl=p;else if("ahl"===e.mode)d.ahl=p;else if("amsl"===e.mode)d.amsl=p;else if("relative"===e.mode&&Math.abs(p)>.01){var m=y({},d);d=function(e){var t=(0,a.fk)(i,e);return t&&t.amsl?y(y({},m),{},{amsl:t.amsl+p}):t&&t.ahl?y(y({},m),{},{ahl:t.ahl+p}):t&&t.agl?y(y({},m),{},{agl:t.agl+p}):void 0}}if("function"==typeof d){var h,v=f(s);try{for(v.s();!(h=v.n()).done;){var g=h.value,b=d(g);b&&(0,l.hU)([g],{target:b})}}catch(e){v.e(e)}finally{v.f()}}else(0,l.hU)(s,{target:d})}else t((0,o.Qg)("Coordinate format invalid"));t((0,u.ic)())}}},84859:(e,t,r)=>{"use strict";r.d(t,{Bl:()=>h,Bt:()=>p,KY:()=>m,Ph:()=>d,VD:()=>y});r(52675),r(89463),r(2259),r(28706),r(2008),r(23418),r(23792),r(62062),r(34782),r(62010),r(26099),r(27495),r(90906),r(38781),r(47764),r(62953);var n=r(97859),o=r(545),a=r(34902),i=r(9383),c=r(61506),l=r(53645),u=r(48190);function s(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p=function(e){return function(){e.length>0&&i.Ay.removeUAVsByIds(e)}},d=function(){return function(e,t){var r=(0,u.I6)(t());r.length>0&&e(p(r))}},y=function(){return function(e,t){var r=(0,u.YZ)(t()).filter(Boolean);r.length>0&&e(p(r))}},m=function(e){return(0,a.td)((Array.isArray(e)?e:[]).filter((function(e){return!(0,n.default)(e)})).map((function(e){return(0,c.ZO)(e)})))},h=function(){return function(e,t){var r=t(),n=(0,u.Ev)(r);if(Array.isArray(n)&&1===n.length){var i=(0,o.default)((0,l.Lo)(r),c.wy);e((0,a.td)([].concat(s(i),[(0,c.ZO)(n[0])])))}}}},48190:(e,t,r)=>{"use strict";r.d(t,{BB:()=>te,Ev:()=>C,I6:()=>oe,Lz:()=>Y,O6:()=>K,O9:()=>z,OJ:()=>$,OX:()=>R,Pz:()=>_,T4:()=>X,TX:()=>B,Ty:()=>ie,WF:()=>Q,WW:()=>J,X6:()=>pe,YZ:()=>ee,Yd:()=>V,aq:()=>fe,fR:()=>ue,fk:()=>N,gd:()=>L,jE:()=>ce,jd:()=>ae,kX:()=>re,mP:()=>M,q5:()=>se,sj:()=>ne,u$:()=>q,uC:()=>D,yl:()=>de,ys:()=>ye,zG:()=>le});r(52675),r(89463),r(2259),r(2008),r(23418),r(23792),r(62062),r(34782),r(62010),r(2892),r(25843),r(9868),r(5506),r(26099),r(16034),r(27495),r(90906),r(38781),r(47764),r(62953);var n=r(76618),o=r(97859),a=r(84045),i=r(30679),c=r(52490),l=r(77455),u=r.n(l),s=r(1081),f=r(94800),p=r(72819),d=r(47530),y=r(37813),m=r(30911),h=r(65360),v=r(7168),g=r(92193),b=r(61506),w=r(32722),E=r(53645),A=r(28550),S=r(68528),O=r(56084);function x(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||T(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||T(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=T(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function T(e,t){if(e){if("string"==typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var C=function(e){return e.uavs.order},P=function(e,t){return t},L=function(e){return e.uavs.byId},_=function(e,t){return e.uavs.byId[t]},N=function(e,t){var r=_(e,t);return r?r.position:void 0},R=function(e,t){var r=_(e,t);return r?r.localPosition:void 0},D=function(e,t){var r=_(e,t);return r?r.heading:void 0},M=function(e){var t=X(e).map((function(t){return D(e,t)})).filter((function(e){return"number"==typeof e}));return(0,A.hw)(t)},F=u()(p.Ps,p.vT,P,(function(e,t,r){var n=e[r];if(void 0!==n)return t[n]}))({keySelector:P}),U=u()(p.Ps,y.Oy,P,(function(e,t,r){var n=e[r];if(void 0!==n)return t[n]}))({keySelector:P}),G=u()(p.Ps,p.Jg,P,(function(e,t,r){var n=e[r];if(void 0!==n)return t[n]}))({keySelector:P}),V=(u()(p.Ps,y.ce,P,(function(e,t,r){var n=e[r];if(void 0!==n){var o=t[n];return(0,m.U9)(o)?(0,m.WC)(o,{includeControlPoints:!0}):void 0}}))({keySelector:P}),u()(p.Ps,y.ce,y.ku,P,(function(e,t,r,n){var o=e[n];if(void 0!==r&&void 0!==o){var a=t[o];return(0,m.U9)(a)?(0,m.WC)(a,{includeControlPoints:!0}).map(r):void 0}}))({keySelector:P})),B=u()(p.Ps,y.ce,y.Nm,P,(function(e,t,r,n){var o=e[n];if(void 0!==r&&void 0!==o){var a=t[o];return(0,m.U9)(a)?(0,m.WC)(a,{includeControlPoints:!0}).map(r):void 0}}))({keySelector:P}),H=u()(F,N,(function(e,t){if(!(0,o.default)(e))return(0,o.default)(t)?Number.POSITIVE_INFINITY:(0,c.Yf)([e.lon,e.lat],[t.lon,t.lat])}))({keySelector:P}),W=u()(U,R,(function(e,t){if(!(0,o.default)(e))return(0,o.default)(t)?Number.POSITIVE_INFINITY:(0,A.CX)(e,t)}))({keySelector:P}),z=function(e){var t,r=(0,p.VZ)(e),n={},a=(0,y.nk)(e)?W:H,i=k(r);try{for(i.s();!(t=i.n()).done;){var c=t.value;(0,o.default)(c)||!_(e,c)?n[c]=void 0:n[c]=a(e,c)}}catch(e){i.e(e)}finally{i.f()}return n},Y=(0,s.createSelector)(z,d.QA,(function(e,t){return Object.entries(e).reduce((function(e,r){var n=j(r,2),o=n[0];return n[1]>t&&e.push(o),e}),[])})),K=function(e){for(var t=z(e),r=-1,n=0,a=Object.values(t);n<a.length;n++){var i=a[n];!(0,o.default)(i)&&i>r&&(r=i)}return r<0?void 0:r},q=u()(G,D,(function(e,t){if(void 0!==e&&void 0!==t)return(e-t+540)%360-180}))({keySelector:P}),$=u()(_,(function(e){return(0,g.px)((e?e.light:0)||0)}))({keySelector:P}),Z=function(e){return function(t){return C(t).filter((function(r){var n=_(t,r);return n&&n.age===e}))}},X=Z(w.O.ACTIVE),J=(0,s.createSelector)((function(e){var t,r={},n=k((0,p.VZ)(e));try{for(n.s();!(t=n.n()).done;){var a=t.value;(0,o.default)(a)?r[a]=void 0:r[a]=q(e,a)}}catch(e){n.e(e)}finally{n.f()}return r}),d.gb,(function(e,t){return Object.entries(e).reduce((function(e,r){var n=j(r,2),a=n[0],i=n[1];return!(0,o.default)(i)&&Math.abs(i)>t&&e.push(a),e}),[])})),Q=(0,s.createSelector)(p.VZ,L,(function(e,t){return e.filter((function(e){var r;if((0,o.default)(e))return!1;var n=null===(r=t[e])||void 0===r?void 0:r.age;return(0,o.default)(n)||"gone"===n}))})),ee=(0,E.qr)(b.Xc),te=(0,s.createSelector)(ee,(function(e){return 1===e.length?e[0]:void 0})),re=(0,s.createSelector)(ee,(function(e){return 1===e.length?e:S.Ml})),ne=function(e){return function(e){var t=ee(e);return Array.isArray(t)?t.length:0}(e)<=5?ee(e):S.Ml},oe=Z(w.O.GONE),ae=(0,s.createSelector)(p.Ps,C,(function(e,t){return t.filter((function(t){return(0,o.default)(e[t])}))})),ie=(0,s.createSelector)(p.Ps,p.Rl,L,(function(e,t,r){var o,a=[],c=k(t);try{for(c.s();!(o=c.n()).done;){var l=o.value,u=r[l];if(u){var s,f=k(u.errors);try{for(f.s();!(s=f.n()).done;){var p=s.value;p!==v.A.ON_GROUND&&a.push([p,[l,e[l]||null]])}}catch(e){f.e(e)}finally{f.f()}}}}catch(e){c.e(e)}finally{c.f()}return(0,i.A)(Object.entries((0,n.A)(a,(function(e){return e[0]}))),(function(e){var t=j(e,2),r=t[0];t[1];return Number.parseInt(r,10)})).map((function(e){var t=j(e,2);return{code:t[0],uavIdsAndIndices:t[1].map((function(e){return e[1]}))}}))})),ce=(0,s.createSelector)(p.Rl,L,(function(e,t){var r,n,o,a=k(e);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(n=t[i],o=void 0,o=(n||{}).errors,Array.isArray(o)&&!(o.length<=0)&&(1!==o.length||o[0]!==v.A.ON_GROUND))return!1}}catch(e){a.e(e)}finally{a.f()}return!0}));function le(e){var t=-1;if(e.errors&&e.errors.length>0&&(t=(0,h.V)(e.errors))>=h.AI.WARNING)return(0,h.O0)(t);if(e.age===w.O.GONE)return f.n.OFF;if(e.age===w.O.INACTIVE)return f.n.WARNING;var r=Math.max.apply(Math,x(e.errors));return r===v.A.RETURN_TO_HOME?f.n.RTH:r===v.A.ON_GROUND?f.n.SUCCESS:t>=h.AI.INFO?(0,h.O0)(t):f.n.SUCCESS}function ue(e){var t,r,n,o,a=0;if(e)if(e.errors&&e.errors.length>0){a=Math.max.apply(Math,x(e.errors));var i=(0,h.kx)(a);n=v.A.abbreviate(a),o=a===v.A.RETURN_TO_HOME?f.n.RTH:a===v.A.ON_GROUND?f.n.SUCCESS:(0,h.O0)(i)}else e.position&&Math.abs(e.position.ahl)>=.3?(n="airborne",r="".concat(e.position.ahl.toFixed(2),"m"),o=f.n.SUCCESS):(n="ready",o=f.n.SUCCESS);else t=void 0,n="missing",o=f.n.WARNING;return o!==f.n.SUCCESS&&o!==f.n.INFO||(e.age===w.O.GONE?("ready"!==n&&a!==v.A.ON_GROUND||(n="gone"),o=f.n.OFF):e.age===w.O.INACTIVE&&("ready"!==n&&a!==v.A.ON_GROUND||(n="no telem"),o=f.n.WARNING)),e&&(t=le(e)),{status:t,details:r||n,gone:!!e&&(e.age===w.O.GONE||e.age===w.O.INACTIVE),text:n,textSemantics:o,batteryStatus:e?e.battery:void 0}}var se=function(){return(0,O.D)(_,ue)},fe=(0,s.createSelector)(C,L,(function(e,t){return(0,a.A)(e,[function(e){return Math.max.apply(Math,x(t[e].errors.filter((function(e){return(0,h.kx)(e)>0}))))}],["desc"])})),pe=function(e){return e.uavs.panel.followMapSelection},de=function(e){return e.uavs.panel.selectedTab},ye=function(e){return e.uavs.panel.selectedUAVId}},11086:(e,t,r)=>{"use strict";r.d(t,{Qb:()=>l,iF:()=>a,lb:()=>c,po:()=>i,uw:()=>n});var n={ALL:"all",MISSION:"mission",SINGLE:"single"},o={};function a(e){var t;return null!==(t=o[e])&&void 0!==t?t:null}function i(e){var t,r;return null!==(t=null===(r=a(e))||void 0===r?void 0:r.title)&&void 0!==t?t:"Upload data"}function c(e){var t,r;return null!==(t=null===(r=a(e))||void 0===r?void 0:r.scope)&&void 0!==t?t:n.ALL}function l(e){var t=null==e?void 0:e.type;if("string"!=typeof t||0===t.length)throw new Error("Job specification does not have a type");if(o[t])throw new Error("Upload job type ".concat(t," is already registered"));if(!e.executor)throw new Error("Job specification does not have an executor");return o[t]=e,function(){delete o[t]}}},67005:(e,t,r)=>{"use strict";r.d(t,{D8:()=>u,JU:()=>s,Po:()=>l,j8:()=>c,sl:()=>i});r(52675),r(89463),r(2259),r(23418),r(23792),r(34782),r(62010),r(26099),r(27495),r(90906),r(38781),r(47764),r(62953);var n=r(52351);function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){l=!0,i=e},f:function(){try{c||null==r.return||r.return()}finally{if(l)throw i}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=function(e){return{type:e}};function c(e){var t=i("ASYNC-CANCEL");return t.ids=(0,n.A)(e),t}function l(e,t){var r=i("ASYNC-RESUME");if(r.ids=(0,n.A)(e),void 0!==t){r.values={};var a,c=o(e);try{for(c.s();!(a=c.n()).done;){var l=a.value;void 0!==t[l]&&(r.values[l]=t[l])}}catch(e){c.e(e)}finally{c.f()}}return r}function u(e,t,r,n){var o=i("OBJ-CMD");return o.ids=e,o.command=t,void 0!==r&&(o.args=r),void 0!==n&&(o.kwds=n),o}function s(e,t,r){var o=i("PRM-SET");return o.ids=(0,n.A)(e),o.name=String(t),o.value=r,o}},21151:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>We,AL:()=>Ie});r(52675),r(89463),r(66412),r(2259),r(45700),r(78125),r(28706),r(2008),r(23418),r(74423),r(23792),r(34782),r(54554),r(89572),r(62010),r(33110),r(4731),r(36033),r(60479),r(2892),r(5506),r(83851),r(81278),r(40875),r(79432),r(10287),r(26099),r(3362),r(60825),r(27495),r(90906),r(38781),r(31415),r(21699),r(47764),r(90744),r(23500),r(62953);var n=r(39622),o=r(23149),a=r(43561),i=r(97313),c=r(21358),l=r(72030),u=r(67005),s=r(92193),f=r(62619),p=(r(16034),r(77500)),d=r(62315),y=r(30679),m=r(63614),h=r.n(m),v=r(32),g=r(88276),b=r(6284);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,x(n.key),n)}}function O(e,t,r){return t&&S(e.prototype,t),r&&S(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function x(e){var t=function(e,t){if("object"!=w(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==w(t)?t:t+""}function j(){j=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new L(n||[]);return o(i,"_invoke",{value:T(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var A=Object.getPrototypeOf,S=A&&A(A(_([])));S&&S!==r&&n.call(S,i)&&(E=S);var O=b.prototype=v.prototype=Object.create(E);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==w(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function T(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=I(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function I(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,I(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function _(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(w(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(k.prototype),u(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new k(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=_,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:_(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function k(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function T(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){k(a,n,o,i,c,"next",e)}function c(e){k(a,n,o,i,c,"throw",e)}i(void 0)}))}}function I(e,t){return C.apply(this,arguments)}function C(){return(C=T(j().mark((function e(t,r){var n,o;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,"string"==typeof r&&(r=[r],n=!0),Array.isArray(r)&&!r.some((function(e){return"string"!=typeof e}))){e.next=4;break}throw new Error("Invalid ID array:"+JSON.stringify(r));case 4:return e.next=6,t.sendMessage({type:"BCN-PROPS",ids:r});case 6:if(o=e.sent,!n){e.next=11;break}return e.abrupt("return",(0,s.FA)(o,r[0],{key:"result",error:"Failed to retrieve basic properties of beacon: ".concat(r[0])}));case 11:return e.abrupt("return",o.body.result);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t){return L.apply(this,arguments)}function L(){return(L=T(j().mark((function e(t,r){var n;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,b.r)(r),e.next=3,t.sendMessage({type:"EXT-CFG",ids:[r]});case 3:return n=e.sent,e.abrupt("return",(0,s.FA)(n,r,{error:"Failed to retrieve configuration for extension: ".concat(r)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return N.apply(this,arguments)}function N(){return(N=T(j().mark((function e(t){var r;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendMessage({type:"LCN-INF"});case 2:return r=e.sent,e.abrupt("return",r.body&&"LCN-INF"===r.body.type&&"object"===w(r.body.license)?r.body.license:void 0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,t,r){return D.apply(this,arguments)}function D(){return D=T(j().mark((function e(t,r,n){var o,a,i,c=arguments;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=(c.length>3&&void 0!==c[3]?c[3]:{}).onProgress,r&&"string"==typeof r){e.next=3;break}throw new Error("Expected non-empty UAV ID");case 3:if(n&&"string"==typeof n){e.next=5;break}throw new Error("Expected non-empty log ID");case 5:return e.prev=5,e.next=8,t.startAsyncOperationForSingleId(r,{type:"LOG-DATA",logId:n,uavId:r},{idProp:null,onProgress:o,single:!0});case 8:a=e.sent,e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(5),i=(0,g.Nw)(e.t0),new Error("Failed to retrieve log ".concat(n," for UAV ").concat(r,": ").concat(i));case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e,null,[[5,11]])}))),D.apply(this,arguments)}function M(e,t){return F.apply(this,arguments)}function F(){return(F=T(j().mark((function e(t,r){var n,o;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&"string"==typeof r){e.next=2;break}throw new Error("Expected non-empty UAV ID");case 2:return e.prev=2,e.next=5,t.startAsyncOperationForSingleId(r,{type:"LOG-INF"});case 5:n=e.sent,e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),o=(0,g.Nw)(e.t0),new Error("Failed to retrieve log list for UAV ".concat(r,": ").concat(o));case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}function U(e,t){return G.apply(this,arguments)}function G(){return(G=T(j().mark((function e(t,r){var n;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendMessage({type:"X-MSN-TYPE-SCHEMA",ids:[r]});case 2:if(!(n=e.sent).body||"X-MSN-TYPE-SCHEMA"!==n.body.type||"object"!==w(n.body.items)||"object"!==w(n.body.items[r])){e.next=7;break}return e.abrupt("return",n.body.items[r]);case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){return B.apply(this,arguments)}function B(){return B=T(j().mark((function e(t){var r,n,o,a,i,c=arguments;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(c.length>1&&void 0!==c[1]?c[1]:{}).features,e.next=4,t.sendMessage({type:"X-MSN-TYPE-LIST"});case 4:if(!(r=e.sent).body||"X-MSN-TYPE-LIST"!==r.body.type){e.next=16;break}if(!((o=(0,p.A)(r,"body.ids")||[]).length>0)){e.next=14;break}return e.next=10,t.sendMessage({type:"X-MSN-TYPE-INF",ids:o});case 10:return r=e.sent,a=(0,p.A)(r,"body.items")||{},i=Object.values(a).filter((function(e){return!Array.isArray(n)||n.some((function(t){return e.features.includes(t)}))})),e.abrupt("return",(0,y.A)(i,["name","id"]));case 14:e.next=17;break;case 16:return e.abrupt("return",[]);case 17:case"end":return e.stop()}}),e)}))),B.apply(this,arguments)}function H(e,t){return W.apply(this,arguments)}function W(){return(W=T(j().mark((function e(t,r){var n,o;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&"string"==typeof r){e.next=2;break}throw new Error("Expected non-empty UAV ID");case 2:return e.next=4,t.sendMessage({type:"UAV-PREFLT",ids:[r]});case 4:if(o=e.sent,"UAV-PREFLT"!==(null===(n=o.body)||void 0===n?void 0:n.type)||!o.body.result||!o.body.result[r]){e.next=7;break}return e.abrupt("return",o.body.result[r]);case 7:throw new Error("Unexpected response for preflight status query");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){return Y.apply(this,arguments)}function Y(){return(Y=T(j().mark((function e(t){var r,n,o,a,i,c,l;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendMessage({type:"X-RTK-LIST"});case 2:if(!(r=e.sent).body||"X-RTK-LIST"!==r.body.type){e.next=14;break}if(!((n=(0,p.A)(r,"body.ids")||[]).length>0)){e.next=12;break}return e.next=8,t.sendMessage({type:"X-RTK-INF",ids:n});case 8:for(r=e.sent,o=(0,p.A)(r,"body.preset")||{},a=0,i=Object.entries(o);a<i.length;a++)c=E(i[a],2),l=c[0],c[1].id=l;return e.abrupt("return",(0,y.A)(Object.values(o),["title","id"]));case 12:e.next=15;break;case 14:return e.abrupt("return",[]);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e){return q.apply(this,arguments)}function q(){return(q=T(j().mark((function e(t){var r;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendMessage({type:"X-RTK-SURVEY"});case 2:return r=e.sent,e.abrupt("return",r.body&&"X-RTK-SURVEY"===r.body.type&&r.body.settings?(0,d.default)(r.body.settings,["accuracy","duration"]):{});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e){return Z.apply(this,arguments)}function Z(){return(Z=T(j().mark((function e(t){var r;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendMessage({type:"X-RTK-STAT"});case 2:if(!(r=e.sent).body||"X-RTK-STAT"!==r.body.type){e.next=5;break}return e.abrupt("return",{antenna:r.body.antenna,messages:r.body.messages,cnr:r.body.cnr,survey:r.body.survey});case 5:throw new Error("Unexpected response for RTK subsystem status query");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e){return J.apply(this,arguments)}function J(){return(J=T(j().mark((function e(t){var r;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendMessage({type:"X-RTK-SOURCE"});case 2:if(!(r=e.sent).body||"X-RTK-SOURCE"!==r.body.type){e.next=5;break}return e.abrupt("return",(0,p.A)(r,"body.id"));case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e){return ee.apply(this,arguments)}function ee(){return(ee=T(j().mark((function e(t){var r,n;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendMessage({type:"SHOW-CFG"});case 2:if(r=e.sent,!(n=(0,p.A)(r,"body.configuration"))||"object"!==w(n)){e.next=6;break}return e.abrupt("return",n);case 6:throw new Error("No show configuration returned");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e,t){return re.apply(this,arguments)}function re(){return(re=T(j().mark((function e(t,r){var n;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(r)&&!(r.length<2)){e.next=2;break}throw new Error("Invalid position");case 2:return e.next=4,t.sendMessage({type:"WTH-AT",position:(0,v.Ek)(r)});case 4:if(!(n=e.sent).body||"WTH-AT"!==n.body.type){e.next=7;break}return e.abrupt("return",n.body.weather);case 7:throw new Error("Unexpected response for weather query");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ne=h()(function(){var e=T(j().mark((function e(t){var r;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendMessage("EXT-LIST");case 2:return r=e.sent,e.abrupt("return",r.body);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{maxAge:5e3,promise:!0});function oe(e,t){return ae.apply(this,arguments)}function ae(){return(ae=T(j().mark((function e(t,r){var n;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(t);case 2:if(n=e.sent,!Array.isArray((0,p.A)(n,"loaded"))){e.next=5;break}return e.abrupt("return",n.loaded.includes(r));case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ie=O((function e(t){var r,n,o,a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,o={getBasicBeaconProperties:I,getConfigurationOfExtension:P,getFlightLog:R,getFlightLogList:M,getLicenseInformation:_,getMissionTypes:V,getMissionTypeSchemas:U,getPreflightStatus:H,getRTKPresets:z,getRTKStatus:$,getRTKSurveySettings:K,getSelectedRTKPresetId:X,getShowConfiguration:Q,getWeatherInformation:te,isExtensionLoaded:oe,listExtensions:ne},(n=x(n="_queries"))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o;for(var i=function(){var e=E(l[c],2),r=e[0],n=e[1];a[r]=function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return n.apply(void 0,[t].concat(r))}},c=0,l=Object.entries(this._queries);c<l.length;c++)i()}));function ce(e){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce(e)}function le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?le(Object(r),!0).forEach((function(t){ge(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function se(e){return function(e){if(Array.isArray(e))return ye(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||de(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||de(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=de(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function de(e,t){if(e){if("string"==typeof e)return ye(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ye(e,t):void 0}}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function me(){me=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==ce(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(ce(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function he(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function ve(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){he(a,n,o,i,c,"next",e)}function c(e){he(a,n,o,i,c,"throw",e)}i(void 0)}))}}function ge(e,t,r){return(t=Ee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function be(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ee(n.key),n)}}function we(e,t,r){return t&&be(e.prototype,t),r&&be(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ee(e){var t=function(e,t){if("object"!=ce(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ce(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ce(t)?t:t+""}function Ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Se(e,t,r){return t=Te(t),function(e,t){if(t&&("object"===ce(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,je()?Reflect.construct(t,r||[],Te(e).constructor):t.apply(e,r))}function Oe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ke(e,t)}function xe(e){var t="function"==typeof Map?new Map:void 0;return xe=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return function(e,t,r){if(je())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,t);var o=new(e.bind.apply(e,n));return r&&ke(o,r.prototype),o}(e,arguments,Te(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ke(r,e)},xe(e)}function je(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(je=function(){return!!e})()}function ke(e,t){return ke=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ke(e,t)}function Te(e){return Te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Te(e)}function Ie(e){var t=e&&e.length>0?e.split(/\s+/):[""];return{command:t[0],args:t.slice(1),kwds:{}}}function Ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.A)(e)||(e=(0,u.sl)(e)),{"$fw.version":"1.0",id:(0,a.Ak)(8),body:e}}var Pe=function(e){function t(e){return Ae(this,t),Se(this,t,[e||"Message hub emitter changed while waiting for a response"])}return Oe(t,e),we(t)}(xe(Error)),Le=function(e){function t(e){return Ae(this,t),Se(this,t,[e||"No emitter was associated to the message hub"])}return Oe(t,e),we(t)}(xe(Error)),_e=function(e){function t(e){var r;return Ae(this,t),(r=Se(this,t,["Response to message ".concat(e," timed out")])).messageId=e,r.userMessage="Response timed out",r.hideStackTrace=!0,r.isTimeout=!0,r}return Oe(t,e),we(t)}(xe(Error)),Ne=function(e){function t(e){var r;return Ae(this,t),(r=Se(this,t)).receipt=e,r.message="Response to command ".concat(e," timed out"),r.userMessage="Response timed out",r.hideStackTrace=!0,r}return Oe(t,e),we(t)}(xe(Error)),Re=function(e){function t(e){var r;return Ae(this,t),(r=Se(this,t,[e])).message+=" (no response from target)",r.userMessage+=" (no response from target)",r.hideStackTrace=!0,r}return Oe(t,e),we(t)}(Ne),De=function(e){function t(e){var r;return Ae(this,t),(r=Se(this,t,[e])).message+=" (no response from server)",r.userMessage+=" (no response from server)",r.hideStackTrace=!0,r}return Oe(t,e),we(t)}(Ne),Me=function(e){function t(e,r){var n;return Ae(this,t),(n=Se(this,t,[r||"Cancellation of operation ".concat(e," failed")])).receipt=e,n}return Oe(t,e),we(t)}(xe(Error)),Fe=function(){return we((function e(t){var r=this;Ae(this,e),ge(this,"cancel",ve(me().mark((function e(){var t,n,o,a=arguments;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(a.length>0&&void 0!==a[0]?a[0]:{}).allowFailure,r._hub){e.next=3;break}throw new Error("This token is not activated yet");case 3:if(r._receipt){e.next=5;break}throw new Error("This token has already been used");case 5:return n=r._receipt,e.prev=6,e.next=9,r._hub._sendCancellationRequest([n]);case 9:o=e.sent,e.next=16;break;case 12:e.prev=12,e.t0=e.catch(6),o=[n];case 16:if(!(!t&&o&&Object.keys(o).length>0)){e.next=18;break}throw new Me(n);case 18:case"end":return e.stop()}}),e,null,[[6,12]])})))),this._hub=t,this._receipt=void 0}),[{key:"_activate",value:function(e,t){if(this._hub!==e)throw new Error("Cancel token is owned by a different hub");if(!t)throw new Error("Receipt ID must not be empty");if(this._receipt)throw new Error("This token is already activated");this._receipt=t}}])}(),Ue=function(){return we((function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.timeout,a=void 0===o?5:o,c=n.onTimeout;Ae(this,e),ge(this,"_onTimeout",(function(){r.reject(new _e(r.messageId)),r._timeoutCallback&&r._timeoutCallback(r.receipt)})),this._messageId=t,this._deferred=(0,i.A)(),a>0?(this._timeoutId=setTimeout(this._onTimeout,1e3*a),this._timeoutCallback=c):(this._timeoutId=void 0,this._timeoutCallback=void 0)}),[{key:"messageId",get:function(){return this._messageId}},{key:"resolve",value:function(e){this._clearTimeoutIfNeeded(),this._deferred.resolve(e)}},{key:"reject",value:function(e){this._clearTimeoutIfNeeded(),this._deferred.reject(e)}},{key:"wait",value:(e=ve(me().mark((function e(){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._deferred.promise);case 1:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})},{key:"_clearTimeoutIfNeeded",value:function(){this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=void 0,this._timeoutCallback=void 0)}}]);var e}(),Ge=function(){return we((function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.timeout,a=void 0===o?5:o,c=n.onProgress,l=n.onResume,u=n.onTimeout;Ae(this,e),ge(this,"processResponseMessageBody",(function(e){var t=e.error,n=e.result;r._clearTimeoutIfNeeded(),void 0!==t?r._deferred.reject(new Error(t)):void 0!==n?r._deferred.resolve(n):r._deferred.reject(new Error("Malformed response was provided by the server"))})),ge(this,"processStatusUpdateMessageBody",(function(e){var t=e.progress,n=e.suspended,o=void 0!==n&&n;r._restartTimeoutIfNeeded(),(t||o)&&r._progressCallback&&r._progressCallback({progress:t,suspended:o,resume:r._resumeCallback})})),ge(this,"_onTimeout",(function(){r._timeoutCallback&&r._timeoutCallback(r.receipt),r._deferred.reject(new De(r.receipt))})),this._receipt=t,this._deferred=(0,i.A)(),this._progressCallback=c,this._resumeCallback=l,a>0?(this._timeoutInMsec=1e3*a,this._timeoutId=setTimeout(this._onTimeout,this._timeoutInMsec),this._timeoutCallback=u):(this._timeoutInMsec=void 0,this._timeoutId=void 0,this._timeoutCallback=void 0)}),[{key:"receipt",get:function(){return this._receipt}},{key:"serverSideTimeout",value:function(){this._clearTimeoutIfNeeded(),this._deferred.reject(new Re(this.receipt))}},{key:"wait",value:(e=ve(me().mark((function e(){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._deferred.promise);case 1:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})},{key:"_clearTimeoutIfNeeded",value:function(){void 0!==this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=void 0,this._timeoutCallback=void 0)}},{key:"_restartTimeoutIfNeeded",value:function(){this._clearTimeoutIfNeeded(),void 0!==this._timeoutInMsec&&(this._timeoutId=setTimeout(this._onTimeout,this._timeoutInMsec))}}]);var e}(),Ve=function(){return we((function e(t){Ae(this,e),this._hub=void 0,this._setHub(t)}),[{key:"hub",get:function(){return this._hub}},{key:"_onAttachedToHub",value:function(){}},{key:"_onDetachingFromHub",value:function(){throw new Error("You may not detach this object from its message hub")}},{key:"_setHub",value:function(e){e!==this._hub&&(this._hub&&this._onDetachingFromHub(),this._hub=e,this._hub&&this._onAttachedToHub())}}])}(),Be=function(e){function t(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60;return Ae(this,t),ge(r=Se(this,t,[e]),"_onResponseTimedOut",function(){var e=ve(me().mark((function e(t){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,r._hub._sendCancellationRequest([t]);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()),r.timeout=n,r._pendingOperations={},r._earlyResponses={},r}return Oe(t,e),we(t,[{key:"_onAttachedToHub",value:function(){this._hub.registerNotificationHandlers({"ASYNC-RESP":this._onResponseReceived.bind(this),"ASYNC-ST":this._onStatusUpdateReceived.bind(this),"ASYNC-TIMEOUT":this._onTimeoutReceived.bind(this),"OBJ-CMD":this._onResponseReceived.bind(this)})}},{key:"cancelAll",value:function(e){for(var t=this._pendingOperations,r=0,n=Object.keys(t);r<n.length;r++){var o=t[n[r]];o&&o.reject(e)}this._pendingOperations={},this._earlyResponses={}}},{key:"handleMultiAsyncResponseForSingleId",value:(r=ve(me().mark((function e(t,r){var n,o,a,i,c,l,u,f,p,d=this,y=arguments;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=(n=y.length>2&&void 0!==y[2]?y[2]:{}).cancelToken,a=n.noThrow,i=n.onProgress,c=n.timeout,l=(0,s.v$)(t,r),u=l.receipt,f=l.result,!u){e.next=23;break}return p=new Ge(u,{timeout:"number"==typeof c&&c>0?c:this.timeout,onProgress:i,onResume:function(e){return d._sendSingleResumeRequest(u,e)},onTimeout:this._onResponseTimedOut}),o&&o._activate(this._hub,u),this._earlyResponses[u]&&(p.processResponseMessageBody(this._earlyResponses[u]),delete this._earlyResponses[u]),this._pendingOperations[u]=p,e.prev=7,e.next=10,p.wait();case 10:return e.abrupt("return",e.sent);case 13:if(e.prev=13,e.t0=e.catch(7),!a){e.next=17;break}return e.abrupt("return",e.t0);case 17:throw e.t0;case 18:return e.prev=18,delete this._pendingOperations[u],e.finish(18);case 21:e.next=24;break;case 23:return e.abrupt("return",f);case 24:case"end":return e.stop()}}),e,this,[[7,13,18,21]])}))),function(e,t){return r.apply(this,arguments)})},{key:"_onResponseReceived",value:function(e){var t=e.body.id,r=this._pendingOperations[t];r?r.processResponseMessageBody(e.body):this._earlyResponses[t]=e.body}},{key:"_onStatusUpdateReceived",value:function(e){var t=e.body.id,r=this._pendingOperations[t];r&&r.processStatusUpdateMessageBody(e.body)}},{key:"_onTimeoutReceived",value:function(e){var t,r=pe(e.body.ids);try{for(r.s();!(t=r.n()).done;){var n=t.value,o=this._pendingOperations[n];o&&o.serverSideTimeout()}}catch(e){r.e(e)}finally{r.f()}}},{key:"_sendSingleResumeRequest",value:function(e,t){return void 0!==t?this.hub._sendResumeRequest([e],ge({},e,t)):this.hub._sendResumeRequest([e])}}]);var r}(Ve),He=function(e){function t(e){var r;return Ae(this,t),(r=Se(this,t,[e]))._subscriptions=new Map,r._subscriptionsOnServer=null,r._subscriptionUpdateInProgress=null,r}return Oe(t,e),we(t,[{key:"requestSubscriptionUpdates",value:(a=ve(me().mark((function e(){var t,r,n;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._hub){e.next=4;break}return this._subscriptionsOnServer=null,e.abrupt("return");case 4:if(this._hub.canSend()){e.next=7;break}return this._subscriptionsOnServer=null,e.abrupt("return");case 7:return e.prev=7,e.next=10,this._hub.sendMessage("DEV-LISTSUB");case 10:r=e.sent,e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(7),e.abrupt("return");case 17:if(n=null===(t=r)||void 0===t||null===(t=t.body)||void 0===t?void 0:t.paths,Array.isArray(n)){e.next=21;break}throw this._subscriptionsOnServer=null,new Error("DEV-LISTSUB expected to return an array of paths");case 21:return this._subscriptionsOnServer=new Set(n),e.next=24,this._updateSubscriptions();case 24:case"end":return e.stop()}}),e,this,[[7,13]])}))),function(){return a.apply(this,arguments)})},{key:"subscribe",value:(o=ve(me().mark((function e(t,r){var n,o,a,i=this;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=!this._subscriptions.has(t))&&this._subscriptions.set(t,[]),(o=this._subscriptions.get(t)).push(r),e.prev=4,!n){e.next=8;break}return e.next=8,this._updateSubscriptions();case 8:e.next=16;break;case 10:throw e.prev=10,e.t0=e.catch(4),(a=o.indexOf(r))>=0&&o.splice(a,1),this._subscriptions.get(t)===o&&0===o.length&&this._subscriptions.delete(t),e.t0;case 16:return e.abrupt("return",(function(){return i.unsubscribe(t,r)}));case 17:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(e,t){return o.apply(this,arguments)})},{key:"unsubscribe",value:(n=ve(me().mark((function e(t,r){var n,o;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._subscriptions.has(t)){e.next=2;break}return e.abrupt("return");case 2:if(n=this._subscriptions.get(t),!((o=n.indexOf(r))>=0)){e.next=9;break}return n.splice(o,1),0===n.length&&this._subscriptions.delete(t),e.next=9,this._updateSubscriptions();case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"_onAttachedToHub",value:function(){this._hub&&(this._hub.registerNotificationHandlers({"DEV-INF":this._onDeviceTreeNodeValuesChanged.bind(this)}),this.requestSubscriptionUpdates())}},{key:"_onDeviceTreeNodeValuesChanged",value:function(e){for(var t=0,r=Object.entries(e.body.values);t<r.length;t++){var n=fe(r[t],2),o=n[0],a=n[1];this._handleUpdatedValueOfDeviceTreeNode(o,a)}}},{key:"_handleUpdatedValueOfDeviceTreeNode",value:function(e,t){var r=this._subscriptions.get(e);if(r){var n,o=pe(r);try{for(o.s();!(n=o.n()).done;){(0,n.value)(t)}}catch(e){o.e(e)}finally{o.f()}}}},{key:"_updateSubscriptions",value:(r=ve(me().mark((function e(){var t,r,n,o,a,c,l,u,s,f,p,d,y,m,h,v,g,b,w,E,A,S,O,x=this;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._subscriptionUpdateInProgress){e.next=6;break}return e.next=3,this._subscriptionUpdateInProgress.promise;case 3:return e.next=5,this._updateSubscriptions();case 5:return e.abrupt("return");case 6:if(null!==this._subscriptionsOnServer){e.next=9;break}return e.abrupt("return");case 9:t=[],r=[],n=!1,o=pe(this._subscriptions.keys());try{for(o.s();!(a=o.n()).done;)c=a.value,this._subscriptionsOnServer.has(c)||t.push(c)}catch(e){o.e(e)}finally{o.f()}l=pe(this._subscriptionsOnServer.values(S));try{for(l.s();!(u=l.n()).done;)s=u.value,this._subscriptions.has(s)||r.push(s)}catch(e){l.e(e)}finally{l.f()}if(0!==r.length||0!==t.length){e.next=18;break}return e.abrupt("return");case 18:if(this._hub){e.next=21;break}return e.abrupt("return");case 21:if(this._subscriptionUpdateInProgress=(0,i.A)(),!(r.length>0)){e.next=28;break}return e.next=25,this._hub.sendMessage({type:"DEV-UNSUB",paths:r});case 25:null!=(d=e.sent)&&null!==(f=d.body)&&void 0!==f&&f.error&&(n=!0),null!=d&&null!==(p=d.body)&&void 0!==p&&p.success&&(y=this._subscriptionsOnServer).deleteAll.apply(y,se(d.body.success));case 28:if(!(t.length>0)){e.next=39;break}return e.next=31,this._hub.sendMessage({type:"DEV-SUB",paths:t,lazy:!0});case 31:if(v=e.sent,null!==(m=v)&&void 0!==m&&null!==(m=m.body)&&void 0!==m&&m.error&&(n=!0),null===(h=v)||void 0===h||null===(h=h.body)||void 0===h||!h.success){e.next=39;break}return(g=this._subscriptionsOnServer).addAll.apply(g,se(v.body.success)),e.next=37,this._hub.sendMessage({type:"DEV-INF",paths:null===(b=v)||void 0===b||null===(b=b.body)||void 0===b?void 0:b.success});case 37:for(v=e.sent,w=0,E=Object.entries(v.body.values);w<E.length;w++)A=fe(E[w],2),S=A[0],O=A[1],this._handleUpdatedValueOfDeviceTreeNode(S,O);case 39:n&&setTimeout((function(){return x._updateSubscriptions()}),5e3),this._subscriptionUpdateInProgress.resolve(),this._subscriptionUpdateInProgress=null;case 42:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})}]);var r,n,o,a}(Ve),We=function(){return we((function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;Ae(this,e),this.emitter=t,this.timeout=r,this._notificationHandlers={},this._pendingResponses={},this._waitUntilReadyDeferred=void 0,this._executor=void 0,this._query=void 0,this._onMessageTimedOut=this._onMessageTimedOut.bind(this),this._asyncOperationManager=new Be(this),this._deviceTreeSubscriptionManager=new He(this)}),[{key:"emitter",get:function(){return this._emitter},set:function(e){if(this._emitter!==e){var t=new Pe;this._asyncOperationManager.cancelAll(t),this.cancelAllPendingResponses(),this._emitter=e,this._emitter&&this._waitUntilReadyDeferred&&(this._waitUntilReadyDeferred.resolve(),this._waitUntilReadyDeferred=void 0)}}},{key:"execute",get:function(){return this._executor||(this._executor=new f.BB(this)),this._executor}},{key:"query",get:function(){return this._query||(this._query=new ie(this)),this._query}},{key:"cancelAllPendingResponses",value:function(){for(var e=this._pendingResponses,t=0,r=Object.keys(e);t<r.length;t++){var n=e[r[t]];n&&n.reject(new Pe)}}},{key:"canSend",value:function(){return Boolean(this._emitter)}},{key:"createCancelToken",value:function(){return new Fe(this)}},{key:"processIncomingMessage",value:function(e){var t=e.refs;if(t){var r=this._pendingResponses[t];r&&r.resolve(e)}else{var n=e.body?e.body.type:void 0,o=this._notificationHandlers[n];if(o){var a,i=pe(o);try{for(i.s();!(a=i.n()).done;){(0,a.value)(e)}}catch(e){i.e(e)}finally{i.f()}}}}},{key:"registerNotificationHandler",value:function(e,t){(0,n.A)(this._notificationHandlers,e)||(this._notificationHandlers[e]=[]),this._notificationHandlers[e].push(t)}},{key:"registerNotificationHandlers",value:function(e){for(var t=0,r=Object.keys(e);t<r.length;t++){var n=r[t];this.registerNotificationHandler(n,e[n])}}},{key:"unregisterNotificationHandler",value:function(e,t){if(!(0,n.A)(this._notificationHandlers,e)||!this._notificationHandlers[e].includes(t))throw new Error("Unable to unregister handler from ".concat(e,". Handler doesn\u2019t exist."));this._notificationHandlers[e].splice(this._notificationHandlers[e].indexOf(t))}},{key:"unregisterNotificationHandlers",value:function(e){for(var t=0,r=Object.keys(e);t<r.length;t++){var n=r[t];this.unregisterNotificationHandler(n,e[n])}}},{key:"sendCommandRequest",value:(y=ve(me().mark((function e(t,r){var n,o,a,i,c,l;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.uavId,o=t.command,a=t.args,i=t.kwds,c=(0,u.D8)([n],o,a,i),e.next=4,this.sendMessage(c);case 4:return l=e.sent,e.abrupt("return",this._asyncOperationManager.handleMultiAsyncResponseForSingleId(l,n,r));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return y.apply(this,arguments)})},{key:"sendMessage",value:(d=ve(me().mark((function e(){var t,r,n,o,a=arguments;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:{},this._emitter){e.next=4;break}throw new Le;case 4:return r=Ce(t),n=r.id,o=new Ue(n,{timeout:this.timeout,onTimeout:this._onMessageTimedOut}),this._emitter("fw",r),this._pendingResponses[n]=o,e.prev=9,e.next=12,o.wait();case 12:return e.abrupt("return",e.sent);case 13:return e.prev=13,delete this._pendingResponses[r.id],e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[9,,13,16]])}))),function(){return d.apply(this,arguments)})},{key:"sendNotification",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._emitter&&this._emitter("fw",Ce(e))}},{key:"subscribe",value:(p=ve(me().mark((function e(t,r){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._deviceTreeSubscriptionManager.subscribe(t,r));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return p.apply(this,arguments)})},{key:"startAsyncOperation",value:(a=ve(me().mark((function e(t){var r,n;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.type){e.next=3;break}throw new Error("Message must have a type");case 3:return e.next=5,this.sendMessage(t);case 5:return n=e.sent,e.abrupt("return",this._processMultiAsyncOperationResponse(n,r));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"startAsyncOperationForSingleId",value:(o=ve(me().mark((function e(t,r){var n,o,a,i,c,l,u,s,f,p,d,y,m,h,v,g=arguments;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=g.length>2&&void 0!==g[2]?g[2]:{},o=r.ids,a=r.type,i=n.idProp,c=n.onProgress,l=n.single,u=void 0!==l&&l,a){e.next=5;break}throw new Error("Message must have a type");case 5:if(!o||Array.isArray(o)){e.next=7;break}throw new Error("Message must not have an ids key");case 7:return(0,b.p)(t),null!==i&&(r[i||(u?"id":"ids")]=[t]),e.next=11,this.sendMessage(r);case 11:if(s=e.sent,u){for(f=ue({},s),p=0,d=["error","result","receipt"];p<d.length;p++)y=d[p],Object.prototype.hasOwnProperty.call(s.body,y)&&(f.body[y]=ge({},t,s.body[y]));s=f}return m=c?u?function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return c.apply(void 0,r)}:c:void 0,e.next=16,this._processMultiAsyncOperationResponse(s,a,{onProgress:m});case 16:if(h=e.sent,!Object.prototype.hasOwnProperty.call(h,t)){e.next=26;break}if(!((v=h[t])instanceof Error)){e.next=23;break}throw v;case 23:return e.abrupt("return",v);case 24:e.next=27;break;case 26:throw new Error("Server did not return a response for ID ".concat(t));case 27:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"waitUntilReady",value:function(e){return void 0!==this._emitter?Promise.resolve():(void 0===this._waitUntilReadyDeferred&&(this._waitUntilReadyDeferred=(0,i.A)()),e&&e>0?(0,l.Ay)(this._waitUntilReadyDeferred.promise,e):this._waitUntilReadyDeferred.promise)}},{key:"_onMessageTimedOut",value:function(e){}},{key:"_processMultiAsyncOperationResponse",value:(r=ve(me().mark((function e(t,r){var n,o,a,i,l,u,s,f,p,d,y,m,h=this,v=arguments;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(v.length>2&&void 0!==v[2]?v[2]:{}).onProgress,t){e.next=5;break}throw new Error("Response should not be empty");case 5:if(t.body){e.next=9;break}throw new Error("Response has no body");case 9:if("ACK-NAK"!==t.body.type){e.next=13;break}throw new Error("Execution rejected by server; reason: ".concat(t.body.reason||"unknown"));case 13:if(t.body.type===r){e.next=17;break}throw new Error("Response has an unexpected type: ".concat(t.body.type,", expected ").concat(r));case 17:for(o=t.body,a=o.error,i=o.result,l=o.receipt,u=ue({},i),s=0,f=Object.keys(a||[]);s<f.length;s++)p=f[s],u[p]=new Error(String(a[p]));d=me().mark((function e(){var r;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=m[y];try{u[r]=h._asyncOperationManager.handleMultiAsyncResponseForSingleId(t,r,{onProgress:function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return n.apply(void 0,[r].concat(t))},noThrow:!0})}catch(e){u[r]=e}case 2:case"end":return e.stop()}}),e)})),y=0,m=Object.keys(l||[]);case 23:if(!(y<m.length)){e.next=28;break}return e.delegateYield(d(),"t0",25);case 25:y++,e.next=23;break;case 28:return e.abrupt("return",(0,c.A)(u));case 29:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)})},{key:"_sendCancellationRequest",value:(t=ve(me().mark((function e(t){var r,n,o,a,i;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,u.j8)(t),e.next=3,this.sendMessage(r);case 3:if(n=e.sent,o=(0,s.U2)(n),a=o.body,!((i=a.error)&&Object.keys(i).length>0)){e.next=10;break}return e.abrupt("return",i);case 10:return e.abrupt("return",{});case 11:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"_sendResumeRequest",value:(e=ve(me().mark((function e(t,r){var n,o,a,i,c;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,u.Po)(t,r),e.next=3,this.sendMessage(n);case 3:if(o=e.sent,a=(0,s.U2)(o),i=a.body,!((c=i.error)&&Object.keys(c).length>0)){e.next=10;break}return e.abrupt("return",c);case 10:return e.abrupt("return",{});case 11:case"end":return e.stop()}}),e,this)}))),function(t,r){return e.apply(this,arguments)})}]);var e,t,r,o,a,p,d,y}()},62619:(e,t,r)=>{"use strict";r.d(t,{BB:()=>Z,F0:()=>K});r(52675),r(89463),r(66412),r(2259),r(45700),r(78125),r(28706),r(2008),r(23418),r(23792),r(34782),r(89572),r(62010),r(4731),r(36033),r(60479),r(2892),r(5506),r(83851),r(81278),r(40875),r(79432),r(10287),r(26099),r(3362),r(60825),r(27495),r(90906),r(38781),r(47764),r(23500),r(62953);var n=r(67005),o=r(92193),a=r(6284),i=r(88276);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(){s=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function p(e,t,r,n){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),c=new L(n||[]);return o(i,"_invoke",{value:T(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var y="suspendedStart",m="suspendedYield",h="executing",v="completed",g={};function b(){}function w(){}function E(){}var A={};f(A,i,(function(){return this}));var S=Object.getPrototypeOf,O=S&&S(S(_([])));O&&O!==r&&n.call(O,i)&&(A=O);var x=E.prototype=b.prototype=Object.create(A);function j(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(o,a,i,l){var u=d(e[o],e,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==c(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,l)}))}l(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function T(t,r,n){var o=y;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=I(c,n);if(l){if(l===g)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===y)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=d(t,r,n);if("normal"===u.type){if(o=n.done?v:m,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=v,n.method="throw",n.arg=u.arg)}}}function I(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,I(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function _(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(c(t)+" is not iterable")}return w.prototype=E,o(x,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:w,configurable:!0}),w.displayName=f(E,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},j(k.prototype),f(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new k(p(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},j(x),f(x,u,"Generator"),f(x,i,(function(){return this})),f(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=_,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:_(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t,r){return(t=h(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function m(e,t,r){return t&&y(e.prototype,t),r&&y(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t,r){return t=A(t),function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,w()?Reflect.construct(t,r||[],A(e).constructor):t.apply(e,r))}function b(e){var t="function"==typeof Map?new Map:void 0;return b=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return function(e,t,r){if(w())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,t);var o=new(e.bind.apply(e,n));return r&&E(o,r.prototype),o}(e,arguments,A(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),E(r,e)},b(e)}function w(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(w=function(){return!!e})()}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function S(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function O(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){S(a,n,o,i,c,"next",e)}function c(e){S(a,n,o,i,c,"throw",e)}i(void 0)}))}}function x(e,t,r){return j.apply(this,arguments)}function j(){return(j=O(s().mark((function e(t,r,n){var i,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,a.r)(r),e.next=3,t.sendMessage({type:"EXT-SETCFG",ids:d({},r,n)});case 3:return i=e.sent,c=(0,o.FA)(i,r,{error:"Failed to retrieve configuration for extension: ".concat(r)}),e.abrupt("return",Boolean(c));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t){return T.apply(this,arguments)}function T(){return(T=O(s().mark((function e(t,r){var n,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,a.r)(r),e.next=3,t.sendMessage({type:"EXT-RELOAD",ids:[r]});case 3:return n=e.sent,i=(0,o.FA)(n,r,{error:"Failed to reload extension: ".concat(r)}),e.abrupt("return",Boolean(i));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t){return C.apply(this,arguments)}function C(){return(C=O(s().mark((function e(t,r){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.startAsyncOperationForSingleId(r,{type:"UAV-RST"});case 3:e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(0),n=(0,i.Nw)(e.t0),new Error("Failed to reset UAV ".concat(r,": ").concat(n));case 9:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function P(e,t){return L.apply(this,arguments)}function L(){return(L=O(s().mark((function e(t,r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendMessage({type:"X-DBG-RESP",data:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e,t){return N.apply(this,arguments)}function N(){return(N=O(s().mark((function e(t,r){var o,a,c,l,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.uavId,a=r.name,c=r.value,l=(0,n.JU)(o,a,c),e.prev=2,e.next=5,t.startAsyncOperationForSingleId(o,l);case 5:e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(2),u=(0,i.Nw)(e.t0),new Error("Failed to set parameter ".concat(a," on UAV ").concat(o,": ").concat(u));case 11:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}function R(e,t){return D.apply(this,arguments)}function D(){return(D=O(s().mark((function e(t,r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendMessage({type:"X-RTK-SOURCE",id:r});case 2:if("ACK-ACK"===e.sent.body.type){e.next=5;break}throw new Error("Failed to set new RTK correction source");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,t){return F.apply(this,arguments)}function F(){return(F=O(s().mark((function e(t,r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendMessage({type:"SHOW-SETCFG",configuration:r});case 2:if("ACK-ACK"===e.sent.body.type){e.next=5;break}throw new Error("Failed to set new show configuration on the server");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e,t){return G.apply(this,arguments)}function G(){return(G=O(s().mark((function e(t,r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendMessage({type:"SHOW-SETLIGHTS",configuration:r});case 2:if("ACK-ACK"===e.sent.body.type){e.next=5;break}throw new Error("Failed to set new light configuration on the server");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e,t){return B.apply(this,arguments)}function B(){return(B=O(s().mark((function e(t,r){var n,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.accuracy,o=r.duration,e.next=3,t.sendMessage({type:"X-RTK-SURVEY",settings:{accuracy:n,duration:o}});case 3:if("ACK-ACK"===e.sent.body.type){e.next=6;break}throw new Error("Failed to start RTK survey on the server");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e,t,r){return W.apply(this,arguments)}function W(){return(W=O(s().mark((function e(t,r,n){var o,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.uavId,c=r.data,(0,a.p)(o),e.prev=2,e.next=5,t.sendCommandRequest({uavId:o,command:"__show_upload",kwds:{show:c}},u({timeout:300},n));case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(2),new Error((0,i.Nw)(e.t0.message||e.t0,"Failed to upload show data to UAV ".concat(o)));case 10:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}function z(e,t,r){return Y.apply(this,arguments)}function Y(){return(Y=O(s().mark((function e(t,r,n){var o,c,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.uavId,c=r.data,l=r.format,(0,a.p)(o),e.prev=2,e.next=5,t.sendCommandRequest({uavId:o,command:"__mission_upload",args:[c,l]},u({timeout:300},n));case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(2),new Error((0,i.Nw)(e.t0.message||e.t0,"Failed to upload mission to UAV ".concat(o)));case 10:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}var K=function(e){function t(e){var r;return v(this,t),(r=g(this,t,[e])).name="ServerPlanError",r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(t,e),m(t)}(b(Error));function q(e,t){return $.apply(this,arguments)}function $(){return($=O(s().mark((function e(t,r){var n,o,a,i,c,l,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.id,o=r.parameters,e.next=3,t.sendMessage({type:"X-MSN-PLAN",id:n,parameters:o});case 3:if(a=e.sent,i=a.body,c=i.type,l=i.result,"X-MSN-PLAN"===c){e.next=7;break}throw new K(a.body.reason);case 7:if("skybrush-live/mission-items"===(null==l?void 0:l.format)){e.next=9;break}throw new Error("Mission plan has an unknown format: ".concat(null==l?void 0:l.format));case 9:if(1===(null==(u=l.payload)?void 0:u.version)&&Array.isArray(u.items)){e.next=12;break}throw new Error("Mission plan response must be in version 1 format");case 12:return e.abrupt("return",u);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Z=m((function e(t){var r=this;v(this,e),d(this,"_operations",{configureExtension:x,planMission:q,reloadExtension:k,resetUAV:I,sendDebugMessage:P,setParameter:_,setRTKCorrectionsSource:R,setShowConfiguration:M,setShowLightConfiguration:U,startRTKSurvey:V,uploadDroneShow:H,uploadMission:z});for(var n=function(){var e=f(a[o],2),n=e[0],i=e[1];r[n]=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return i.apply(void 0,[t].concat(r))}},o=0,a=Object.entries(this._operations);o<a.length;o++)n()}))},92193:(e,t,r)=>{"use strict";r.d(t,{FA:()=>p,L4:()=>c,U2:()=>s,px:()=>l,v$:()=>f});r(52675),r(89463),r(2259),r(23792),r(26099),r(47764),r(62953);var n=r(2520),o=r.n(n),a=r(77500);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function c(e){var t=(63488&e)>>11,r=(2016&e)>>5,n=31&e;return(t<<3)+(t>>2)<<16|(r<<2)+(r>>4)<<8|(n<<3)+(n>>2)}function l(e){return o()(c(e||0)).string()}var u={"LOG-DATA":!0,"LOG-INF":!0,"OBJ-CMD":!0,"PRM-GET":!0,"PRM-SET":!0,"UAV-CALIB":!0,"UAV-FLY":!0,"UAV-HALT":!0,"UAV-HOVER":!0,"UAV-LAND":!0,"UAV-MOTOR":!0,"UAV-RST":!0,"UAV-RTH":!0,"UAV-SIGNAL":!0,"UAV-TAKEOFF":!0,"UAV-TEST":!0,"UAV-WAKEUP":!0};function s(e){var t=(e||{}).body,r=(t||{}).type;if(!r)throw new Error("Received message has no type");if("ACK-NAK"===r)throw new Error(t.reason||"ACK-NAK received; no reason given");return e}function f(e,t){var r=s(e).body,n=r.type;if(u[n]){var o=r.error,a=r.receipt,i=r.result;if(o&&void 0!==o[t])throw new Error(r.error[t]||"Failed to execute command");if(i&&void 0!==i[t])return{result:i[t]};if(a&&void 0!==a[t])return{receipt:a[t]};throw new Error("Server did not provide a response or receipt for the command")}throw new Error("".concat(n," messages do not contain receipts"))}function p(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=(0,a.A)(e,"body.error");if("object"===i(n)&&void 0!==n[t]){if("string"==typeof n[t])throw new TypeError(n[t]);var o=r.error;throw new Error(o||"Failed to retrieve result for ID ".concat(t," from response"))}var c=r.key,l=void 0===c?"status":c,u=(0,a.A)(e,"body."+l);if("object"===i(u)&&void 0!==u[t])return u[t];throw new Error("No result for ID ".concat(t," but no error either; this should not have happened."))}},20961:(e,t,r)=>{"use strict";r.d(t,{A:()=>N});r(52675),r(89463),r(2259),r(23418),r(23792),r(34782),r(62010),r(26099),r(27495),r(90906),r(38781),r(47764),r(62953);var n=r(66401),o=r(69733),a=(r(66412),r(78125),r(28706),r(11745),r(33110),r(4731),r(60479),r(40875),r(10287),r(3362),r(21489),r(48140),r(81630),r(72170),r(75044),r(69539),r(31694),r(89955),r(33206),r(44496),r(66651),r(12887),r(19369),r(66812),r(8995),r(31575),r(36072),r(88747),r(28845),r(29423),r(57301),r(373),r(86614),r(41405),r(33684),r(91706),r(96847),r(23500),r(13293));function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function c(){c=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},l=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function p(e,t,r,n){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),c=new L(n||[]);return o(i,"_invoke",{value:T(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var y="suspendedStart",m="suspendedYield",h="executing",v="completed",g={};function b(){}function w(){}function E(){}var A={};f(A,l,(function(){return this}));var S=Object.getPrototypeOf,O=S&&S(S(_([])));O&&O!==r&&n.call(O,l)&&(A=O);var x=E.prototype=b.prototype=Object.create(A);function j(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(o,a,c,l){var u=d(e[o],e,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==i(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,c,l)}),(function(e){r("throw",e,c,l)})):t.resolve(f).then((function(e){s.value=e,c(s)}),(function(e){return r("throw",e,c,l)}))}l(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function T(t,r,n){var o=y;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=I(c,n);if(l){if(l===g)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===y)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=d(t,r,n);if("normal"===u.type){if(o=n.done?v:m,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=v,n.method="throw",n.arg=u.arg)}}}function I(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,I(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function _(t){if(t||""===t){var r=t[l];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(i(t)+" is not iterable")}return w.prototype=E,o(x,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:w,configurable:!0}),w.displayName=f(E,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},j(k.prototype),f(k.prototype,u,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new k(p(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},j(x),f(x,s,"Generator"),f(x,l,(function(){return this})),f(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=_,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:_(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function l(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){l(a,n,o,i,c,"next",e)}function c(e){l(a,n,o,i,c,"throw",e)}i(void 0)}))}}function s(e){var t,r,n,o,a,i=e.length;for(t="",r=0;r<i;)switch((n=e[r++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=String.fromCharCode(n);break;case 12:case 13:o=e[r++],t+=String.fromCharCode((31&n)<<6|63&o);break;case 14:o=e[r++],a=e[r++],t+=String.fromCharCode((15&n)<<12|(63&o)<<6|63&a)}return t}function f(e){for(var t=[],r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t.push(n):n<2048?t.push(192|n>>6,128|63&n):n<55296||n>=57344?t.push(224|n>>12,128|n>>6&63,128|63&n):(r++,n=65536+((1023&n)<<10|1023&e.charCodeAt(r)),t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return new Uint8Array(t)}function p(){return(p=u(c().mark((function e(t,r){var n,o,i,l,u,p,d;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(t||{}).data){e.next=3;break}return e.abrupt("return");case 3:for(i=a.o4.toUint8Array(n),o=0;o<i.length;o++)i[o]^=85;if(0!==(l=s(i)).length){e.next=8;break}return e.abrupt("return");case 8:if(0!==(u=l.indexOf(" "))){e.next=13;break}p="err Invalid command",e.next=22;break;case 13:if(!(u<0)){e.next=19;break}return e.next=16,y(l);case 16:p=e.sent,e.next=22;break;case 19:return e.next=21,y(l.slice(0,u),l.slice(u+1));case 21:p=e.sent;case 22:if(!r){e.next=29;break}for(d=f(p),o=0;o<d.length;o++)d[o]^=85;return e.next=27,r(a.o4.fromUint8Array(d));case 27:e.next=30;break;case 29:case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d={};function y(e,t){return m.apply(this,arguments)}function m(){return(m=u(c().mark((function e(t,r){var n,o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d[t],a=!1,e.prev=2,!n){e.next=9;break}return e.next=6,n(r);case 6:o=e.sent,e.next=10;break;case 9:throw new Error("no such command");case 10:a=!0,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),o=e.t0.toString();case 16:return e.prev=16,o=JSON.stringify(o),e.finish(16);case 19:return e.abrupt("return","".concat(a?"ok":"err"," ").concat(o));case 20:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})))).apply(this,arguments)}var h=r(21151),v=r(94153),g=r(38365),b=r(84664),w=r(34809),E=r(30070);var A=r(19413),S=r(12857),O=r(51644),x=r(15133);function j(e){switch((e||"").toLowerCase()){case O.AI.ERROR:case O.AI.CRITICAL:return x.N.ERROR;case O.AI.WARNING:return x.N.WARNING;case O.AI.INFO:return x.N.INFO;default:return x.N.DEFAULT}}x.N.SUCCESS,x.N.ERROR,x.N.WARNING,x.N.INFO,x.N.DEFAULT;var k=r(9383),T=r(23287);function I(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var P=T.Ay.dispatch,L=T.Ay.getState,_=new h.Ay;_.registerNotificationHandlers({"BCN-INF":function(e){return(0,v.o0)(e.body,P,L)},"CLK-INF":function(e){return(0,g.i)(e.body,P)},"CONN-DEL":function(e){return(0,w.s)(e.body,P)},"CONN-INF":function(e){return(0,w.q)(e.body,P)},"DOCK-INF":function(e){return(0,b.$)(e.body,P)},"OBJ-DEL":function(e){return function(e,t){var r=e.ids;Array.isArray(r)&&0!==r.length&&t((0,E.D)(r))}(e.body,P)},"SYS-CLOSE":function(e){e.body&&e.body.reason&&P((0,S.Qg)(e.body.reason))},"SYS-MSG":function(e){e.body&&Array.isArray(e.body.items)&&(0,o.vA)((function(){var t,r=I(e.body.items);try{for(r.s();!(t=r.n()).done;){var o=t.value;(0,n.A)(o.sender)?P((0,S.Ds)({message:o.message,semantics:j(o.severity)})):P((0,A.k9)({message:o.message,uavId:o.sender,severity:o.severity}))}}catch(e){r.e(e)}finally{r.f()}}))},"UAV-INF":function(e){return k.Ay.handleUAVInformationMessage(e.body,P)},"X-DBG-REQ":function(e){return function(e,t){return p.apply(this,arguments)}(e.body,_.execute.sendDebugMessage)}});const N=_},94153:(e,t,r)=>{"use strict";r.d(t,{d2:()=>f,k8:()=>l,o0:()=>s});r(62010);var n=r(97859),o=r(69592),a=r(59116),i=r(96034),c=r(41420),l=function(e){return e&&Array.isArray(e)&&(0!==e[0]||0!==e[1])?{lat:e[0]/1e7,lon:e[1]/1e7,amsl:(0,n.default)(e[2])?null:e[2]/1e3,ahl:(0,n.default)(e[3])?null:e[3]/1e3,agl:(0,n.default)(e[4])?null:e[4]/1e3}:null},u=function(e){return e&&"number"==typeof e?e/10:null};function s(e,t){var r=(0,a.A)(e.status,(function(e){var t=e.id,r=e.active,n=e.heading,a=e.position;return(0,i.A)({id:t,position:l(a),heading:u(n),active:r},o.A)}));t((0,c.EX)(r))}function f(e,t){var r=(0,a.A)(e.result,(function(e){var t=e.id,r=e.name;return(0,i.A)({id:t,name:r},o.A)}));t((0,c.EX)(r))}},38365:(e,t,r)=>{"use strict";r.d(t,{i:()=>l});var n=r(69592),o=r(59116),a=r(96034),i=r(73342),c=r(56278);function l(e,t){var r=(0,o.A)(e.status,(function(e){return(0,a.A)({id:e.id,epoch:(0,c.Ab)(e.epoch),referenceTime:e.retrievedAt,running:e.running,ticks:e.ticks,ticksPerSecond:e.ticksPerSecond||1},n.A)}));t((0,i.u)(r))}},34809:(e,t,r)=>{"use strict";r.d(t,{q:()=>l,s:()=>c});r(52675),r(89463);var n=r(69592),o=r(59116),a=r(96034),i=r(52556);function c(e,t){t((0,i.FV)(e.ids))}function l(e,t){var r=(0,o.A)(e.status,(function(e){return(0,a.A)({id:e.id,name:e.description,state:e.status,stateChangedAt:e.timestamp},n.A)}));t((0,i.L3)(r))}},84664:(e,t,r)=>{"use strict";r.d(t,{$:()=>l});var n=r(69592),o=r(59116),a=r(96034),i=r(41591),c=r(94153);function l(e,t){var r=(0,o.A)(e.status,(function(e){var t=e.id,r=e.position;return(0,a.A)({id:t,position:(0,c.k8)(r)},n.A)}));t((0,i.z5)(r))}},49648:(e,t,r)=>{"use strict";r.d(t,{Iy:()=>T,JB:()=>A,lB:()=>S,o3:()=>j});r(52675),r(89463),r(2259),r(78350),r(23418),r(23792),r(62062),r(34782),r(30237),r(62010),r(26099),r(27495),r(90906),r(38781),r(47764),r(23500),r(62953);var n=r(66401),o=r(97859),a=r(18803),i=r(69733),c=r(11338),l=r(85448),u=r(53855),s=r(53054),f=r(6659),p=r(32),d=r(28550),y=r(2431),m=r(61506);function h(e,t){return E(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||b(e,t)||g()}function v(e){return E(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||g()}function g(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e,t){if(e){if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E(e){if(Array.isArray(e))return e}function A(e){if((0,o.default)(e))return!1;var t=e.getId();return(0,m.GK)(t)||(0,m.D4)(t)}function S(e){if((0,o.default)(e))return!1;var t=e.getId();return(0,m.GK)(t)||(0,m.TT)(t)||(0,m.aP)(t)||(0,m.D4)(t)}var O=function(e){return e.map((0,a.A)(p.Al))};function x(e){var t=e.getType(),r=e.getCoordinates();switch(t){case"Point":return[{type:y.lo.POINTS,points:O([r])}];case"Circle":var n=e.getCenter();return[{type:y.lo.CIRCLE,points:O([n,[n[0]+e.getRadius(),n[1]]])}];case"LineString":return[{type:y.lo.LINE_STRING,points:O(r)}];case"Polygon":return(0,p.Sx)(r.map(O)).map((function(e){return e.map((function(e){return e.slice(0,-1)}))})).map((function(e){var t=v(e),r=t[0],n=t.slice(1);return{type:y.lo.POLYGON,points:r,holes:n}}));case"MultiPolygon":return e.getPolygons().flatMap(x);default:throw new Error("Unsupported feature geometry type: "+t)}}function j(e){return x(e.getGeometry())}function k(e,t){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=o.event,i=o.type,p={},y=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=b(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}(e);try{var g=function(){var e=r.value,n=e.getId(),o=(0,m.hy)(n);if(o){var u=v(j(e)),y=u[0],g=u.slice(1);return p[o]=y,g.forEach((function(e){t((0,l.g5)(o,e))})),0}var b=(0,m.Xf)(n);if(b){if(b===m.aU+"$x"||b===m.aU+"$y"){var w=h(j(e),1)[0],E=b===m.aU+"$y",A=e.getGeometry().getCoordinates(),S=w.points[0],O=90-(0,d.xW)(Math.atan2(A[1][1]-A[0][1],A[1][0]-A[0][0]));E&&(O+=90),t((0,c._F)({position:S,angle:O}))}return 0}if((0,m.Mc)(n)===m.gP)return"transform"===i&&("move"===a.subType&&a.delta?t((0,f.Ck)(a.delta)):"rotate"===a.subType&&a.angleDelta&&a.origin&&t((0,f.mR)((0,d.xW)(-a.angleDelta),a.origin))),0;var x=(0,m.CF)(n);return x?(t((0,s.Lz)(x,j(e)[0])),0):void 0};for(y.s();!(r=y.n()).done;)g()}catch(e){y.e(e)}finally{y.f()}(0,n.A)(p)||t((0,u.oP)(p))}var T=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];(0,i.vA)((function(){k.apply(void 0,t)}))}},37796:(e,t,r)=>{"use strict";r.d(t,{ED:()=>S,MH:()=>A,Re:()=>E,Xm:()=>O,ap:()=>j});r(52675),r(89463),r(2259),r(45700),r(23418),r(23792),r(34782),r(89572),r(62010),r(2892),r(26099),r(27495),r(90906),r(38781),r(47764),r(25440),r(42762),r(62953);var n=r(38316),o=r.n(n),a=r(1081),i=r(78421),c=r(63175),l=r(32),u=r(36549);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t,r){var n;return n=function(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==s(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var y=/\.?0+([\xb0\u2032\u2033'"]?)$/,m=(0,l.YG)({digits:2,unit:c.sg}),h=(0,l.Hc)({digits:2,unit:c.sg}),v=(0,l.YG)({digits:7,reverse:!0,separator:" ",unit:"\xb0"}),g=f(f(f(f(f(f({},i.Sq.DEGREES,(function(e){var t=p(e,2),r=t[0],n=t[1];return o()(r,n,!0).format("Xdd",{decimalPlaces:7})})),i.Sq.DEGREES_MINUTES,(function(e){var t=p(e,2),r=t[0],n=t[1];return o()(r,n,!0).format("XDDmm",{decimalPlaces:4})})),i.Sq.DEGREES_MINUTES_SECONDS,(function(e){var t=p(e,2),r=t[0],n=t[1];return o()(r,n,!0).format("XDDMMss",{decimalPlaces:3})})),i.Sq.SIGNED_DEGREES,v),i.Sq.SIGNED_DEGREES_MINUTES,(function(e){var t=p(e,2),r=t[0],n=t[1];return o()(r,n,!0).format("-DDmm",{decimalPlaces:4})})),i.Sq.SIGNED_DEGREES_MINUTES_SECONDS,(function(e){var t=p(e,2),r=t[0],n=t[1];return o()(r,n,!0).format("-DDMMss",{decimalPlaces:3})})),b=f(f(f(f(f(f({},i.Sq.DEGREES,(function(e){return o()(e,0,!0).format("Xdd",{decimalPlaces:7,latLonSeparator:"|"}).split("|")[1].replace(y,"$1")})),i.Sq.DEGREES_MINUTES,(function(e){return o()(e,0,!0).format("XDDmm",{decimalPlaces:4,latLonSeparator:"|"}).split("|")[1].replace(y,"$1")})),i.Sq.DEGREES_MINUTES_SECONDS,(function(e){return o()(e,0,!0).format("XDDMMss",{decimalPlaces:3,latLonSeparator:"|"}).split("|")[1].replace(y,"$1")})),i.Sq.SIGNED_DEGREES,(function(e){return v([e,0]).split(" ")[1].replace(y,"$1")})),i.Sq.SIGNED_DEGREES_MINUTES,(function(e){return o()(e,0,!0).format("-DDmm",{decimalPlaces:4,latLonSeparator:"|"}).split("|")[1].replace(y,"$1")})),i.Sq.SIGNED_DEGREES_MINUTES_SECONDS,(function(e){return o()(e,0,!0).format("-DDMMss",{decimalPlaces:3,latLonSeparator:"|"}).split("|")[1].replace(y,"$1")})),w=f(f(f(f(f(f({},i.Sq.DEGREES,(function(e){return o()(0,e,!0).format("Xdd",{decimalPlaces:7,latLonSeparator:"|"}).split("|")[0].replace(y,"$1")})),i.Sq.DEGREES_MINUTES,(function(e){return o()(0,e,!0).format("XDDmm",{decimalPlaces:4,latLonSeparator:"|"}).split("|")[0].replace(y,"$1")})),i.Sq.DEGREES_MINUTES_SECONDS,(function(e){return o()(0,e,!0).format("XDDMMss",{decimalPlaces:3,latLonSeparator:"|"}).split("|")[0].replace(y,"$1")})),i.Sq.SIGNED_DEGREES,(function(e){return v([0,e]).split(" ")[0].trim().replace(y,"$1")})),i.Sq.SIGNED_DEGREES_MINUTES,(function(e){return o()(0,e,!0).format("-DDmm",{decimalPlaces:4,latLonSeparator:"|"}).split("|")[0].replace(y,"$1")})),i.Sq.SIGNED_DEGREES_MINUTES_SECONDS,(function(e){return o()(0,e,!0).format("-DDMMss",{decimalPlaces:3,latLonSeparator:"|"}).split("|")[0].replace(y,"$1")})),E=function(e){return e.settings.display.coordinateFormat},A=(0,a.createSelector)(E,(function(e){return g[e]||v})),S=(0,a.createSelector)(E,(function(e){return w[e]||w[i.Sq.SIGNED_DEGREES]})),O=(0,a.createSelector)(E,(function(e){return b[e]||b[i.Sq.SIGNED_DEGREES]})),x=((0,a.createSelector)(u.dk,(function(e){if(void 0!==e)return function(t){return m(e.fromLonLat(t))}})),(0,a.createSelector)(u.dk,(function(e){if(void 0!==e)return function(t){return h((0,l.q8)(e.fromLonLat(t)))}})),(0,a.createSelector)(u.dk,(function(e){if(void 0!==e)return function(t){var r=e.fromLonLat(t);return m(r)+"<br/>"+h((0,l.q8)(r))}}))),j=(0,a.createSelector)(A,x,(function(e,t){return function(r){var n=e(r);return void 0===t?n:n+"<br/>"+t(r)}}))},72233:(e,t,r)=>{"use strict";r.d(t,{Kk:()=>l,bB:()=>c,nk:()=>u});r(74423),r(62062),r(21699);var n=r(59116),o=r(1081),a=r(93213),i=r(23354),c=function(e){return e.map.layers},l=(0,o.createSelector)(c,a.UJ,a.q9,(function(e,t,r){var o=e.order,a=e.byId;return{order:o,byId:t?(0,n.A)(a,(function(e){return i.q5.includes(e.type)&&!r?{id:e.id,type:i.mb.UNAVAILABLE,label:e.label}:e})):a}})),u=function(e){return(0,o.createSelector)(l,(function(t){return t.byId[e]}))}},36549:(e,t,r)=>{"use strict";r.d(t,{Gk:()=>i,Qr:()=>s,Ts:()=>c,Z9:()=>u,dk:()=>a,mB:()=>l});r(62062),r(87220);var n=r(1081),o=r(32),a=(0,n.createSelector)((function(e){return e.map.origin}),(function(e){return e.position?new o.f9({origin:e.position,orientation:e.angle,type:e.type}):void 0})),i=function(e){return e.map.view.position},c=(0,n.createSelector)((function(e){return e.map.view.angle}),Number.parseFloat),l=(0,n.createSelector)((function(e){return e.map.origin.angle}),Number.parseFloat),u=function(e){return"neu"===e.map.origin.type},s=function(e){return Array.isArray(e.map.origin.position)}},17558:(e,t,r)=>{"use strict";r.d(t,{Mc:()=>u,Rk:()=>i,Xw:()=>c,mg:()=>l});r(2008),r(34782),r(26099);var n=r(1081),o=r(43247),a=r(72233),i=(0,n.createSelector)((function(e){return e.connections}),o.Im),c=(0,n.createSelector)(a.Kk,o.Im),l=(0,n.createSelector)(c,(function(e){return e.slice().reverse()})),u=(0,n.createSelector)(c,(function(e){return e.filter((function(e){var t;return null===(t=e.visible)||void 0===t||t}))}))},53645:(e,t,r)=>{"use strict";r.d(t,{Lo:()=>l,qr:()=>u});r(74423),r(62062),r(21699);var n=r(97859),o=r(545),a=r(50071),i=r(1081),c=r(61506),l=function(e){return e.map.selection},u=function(e){return(0,i.createSelector)(l,(function(t){return(0,o.default)(t.map(e),n.default)}))},s=new a.default([],{unique:!0});(0,i.createSelector)(l,(function(e){return s.clear(),s.extend(e),s})),u(c.Xf)},98999:(e,t,r)=>{"use strict";r.d(t,{Ak:()=>y,J5:()=>d,K$:()=>w,Lp:()=>v,aU:()=>m,eg:()=>b,i7:()=>h});r(52675),r(89463),r(2259),r(45700),r(2008),r(23792),r(62062),r(34782),r(89572),r(2892),r(25428),r(9868),r(83851),r(81278),r(79432),r(26099),r(47764),r(23500),r(62953);var n=r(38967),o=r(70915),a=r(32);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var c=["margin"],l=["rotation","zoom"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){var n;return n=function(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==i(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var d=new n.MiniSignal,y=new n.MiniSignal,m=new n.MiniSignal,h=new n.MiniSignal,v=new n.MiniSignal;function g(e){return Array.isArray(e)&&e.length>=2?e.slice(0,2):[e.lon,e.lat]}function b(e,t){var r=s({margin:16,duration:500},t),n=r.margin,i=p(r,c),l=(0,o.Tr)(e.map((function(e){return(0,a.Ur)(g(e))}))),u=n&&n>0?(0,o.r)(l,n):l;v.dispatch(u,i)}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.rotation,n=t.zoom,o=s({duration:500},p(t,l)),a=g(e);if(Array.isArray(a)&&a.length>=2){var i={center:{lon:a[0],lat:a[1]}};Number.isFinite(r)&&(i.rotation=Number(r).toFixed(1)),Number.isFinite(n)&&(i.zoom=Number(n).toFixed(1)),h.dispatch(i,o)}}},23287:(e,t,r)=>{"use strict";r.d(t,{si:()=>lt,Ay:()=>ft,qj:()=>at,de:()=>rt,fq:()=>st});r(52675),r(89463),r(66412),r(2259),r(45700),r(78125),r(28706),r(2008),r(23792),r(34782),r(89572),r(62010),r(4731),r(60479),r(2892),r(83851),r(81278),r(40875),r(79432),r(10287),r(26099),r(3362),r(47764),r(23500),r(62953),r(3296),r(27208),r(48408);var n=r(30038),o=r(68238),a=r(59984),i=r(74167),c=r(73790),l=r.n(c),u=r(65738),s=r(89610),f=r(97313),p=r(98091),d=r(64784),y=r(27701),m=r(41385),h=r(74811),v=r(73807),g=r(93213),b=r(49957),w=r(32087),E=r(10876),A=r(21460),S=r(16122),O=r(42360),x=r(7882),j=r(67163),k=r(42605),T=r(11693),I=r(48332),C=r(98275),P=r(37095),L=r(35654),_=r(23715),N=r(12152),R=r(69009),D=r(41420),M=r(73342),F=r(52556),U=r(43247);const G=U.Tg,{actions:V,reducer:B}=(0,n.Z0)({name:"datasets",initialState:G,reducers:{removeDatasets(e,t){(0,U.Zj)(e,t.payload)}}}),{removeDatasets:H}=V,W=B;var z=r(82050),Y=r(41591),K=r(59767),q=r(45480),$=r(38595),Z=r(37748),X=r(41891),J=r(18791),Q=r(60377),ee=r(14833),te=r(53855),re=r(99861),ne=r(11338),oe=r(34902),ae=r(60276),ie=r(48034);const ce=(0,o.HY)({layers:re.Ay,origin:ne.Ay,selection:oe.Ay,tools:ae.Ay,view:ie.A});var le=r(19413),ue=r(23809),se=r(39777),fe=r(35476),pe=r(79259),de=r(40349),ye=r(21279),me=r(92523),he=r(84864),ve=r(61035),ge=r(10247),be=r(72863),we=r(16457),Ee=r(25558),Ae=r(6615),Se=r(89626),Oe=r(56319);const xe=(0,o.HY)({appSettings:O.A,authentication:x.A,deauthentication:j.A,dockDetails:k.Ay,error:T.A,featureEditor:I.A,layerSettings:C.Ay,prompt:P.Ay,savedLocationEditor:L.A,serverSettings:_.Ay,uavDetails:N.Ay}),je=(0,o.HY)({alert:R.Ay,beacons:D.Ay,clocks:M.Ay,connections:F.Ay,datasets:W,detachablePanels:z.Ay,dialogs:xe,docks:Y.Ay,features:te.Ay,fieldNotes:K.A,hotkeys:q.Ay,lcdClock:$.Ay,licenseInfo:X.Ay,lightControl:J.Ay,localServer:Z.Ay,log:Q.Ay,logDownload:we.Ay,map:ce,mapCaching:ee.Ay,measurement:v.Ay,messages:le.Ay,mission:ue.Ay,parameters:se.Ay,preflight:fe.Ay,rtk:b.Ay,safety:pe.Ay,savedLocations:de.A,servers:ye.Ay,session:me.Ay,settings:he.Ay,show:E.Ay,sidebar:ve.A,threeD:ge.Ay,tour:be.Ay,uavs:A.Ay,uavControl:Ae.Ay,upload:Ee.Ay,versionCheck:Se.Ay,weather:Oe.Ay,workbench:S.Ay});var ke=r(16535),Te=r(4575);function Ie(e){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(e)}function Ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(r),!0).forEach((function(t){Le(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Le(e,t,r){var n;return n=function(e,t){if("object"!=Ie(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ie(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ie(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _e={2:(0,ke.Ay)((function(e){e.settings.uavs=Pe(Pe({},e.settings.uavs),{},{defaultBatteryCellCount:Te.Fu,fullChargeVoltage:Te.r0,lowVoltageThreshold:Te.X8,criticalVoltageThreshold:Te.Wq})}))};const Ne=(0,m.createMigrate)(_e);var Re=r(39622),De=r(41470),Me=r(51869);function Fe(e){return Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fe(e)}function Ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(r),!0).forEach((function(t){Ve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ve(e,t,r){var n;return n=function(e,t){if("object"!=Fe(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Fe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Fe(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Be(e){return function(){var t=e.apply(void 0,arguments);return"number"==typeof a.A.session.maxLengthInSeconds&&a.A.session.maxLengthInSeconds>0&&(t=Ge(Ge({},t),{},{session:Ge(Ge({},t.session),{},{expiresAt:Date.now()+1e3*a.A.session.maxLengthInSeconds})})),t}}var He=Be((function(e,t,r){for(var n=arguments.length,o=new Array(n>3?n-3:0),a=3;a<n;a++)o[a-3]=arguments[a];if(e&&"object"===Fe(e)){var i=function e(t,r){for(var n,o=(0,De.A)(r,(function(e,r){return!((n=t[r])&&(0,Re.A)(n,"byId"));var n})),a=0,i=Object.keys(o);a<i.length;a++){var c=i[a];null!==(n=o[c])&&"object"===Fe(n)&&!Array.isArray(n)&&(0,Re.A)(t,c)&&(o[c]=e(t[c],o[c]))}return o}(e,r);return Me.A.apply(void 0,[e,i,i].concat(o))}return Me.A.apply(void 0,[e,t,r].concat(o))})),We=Be((function(e,t,r){return r})),ze=r(59116),Ye=r(87443),Ke=r.n(Ye);function qe(e){return qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qe(e)}function $e(){$e=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==qe(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(qe(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function Ze(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Xe(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Ze(a,n,o,i,c,"next",e)}function c(e){Ze(a,n,o,i,c,"throw",e)}i(void 0)}))}}var Je={key:"flockwave-client",storage:window.bridge?window.bridge.createStateStore():l(),version:2,migrate:Ne,stateReconciler:He,blacklist:["alert","beacons","clocks","connections","datasets","detachablePanels","docks","localServer","log","logDownload","messages","rtk","servers","session","snackbar","uavs","weather"],throttle:1e3,transforms:[(0,h.HI)("dialogs",["appSettings","featureEditor","layerSettings","messages","savedLocationEditor","serverSettings"]),(0,h.MI)("hotkeys",["pendingUAVId"]),(0,h.HI)("licenseInfo",["dialog"]),(0,h.MI)("mission",["landingPositions","takeoffHeadings","lastClearedMissionData"]),(0,h.MI)("preflight",["checked"]),(0,h.HI)("show",["environment"]),(0,h.HI)("upload",["settings"]),(0,h.MI)("threeD",["camera","tooltip","sceneId"])]},Qe=new URL(window.location.href);(a.A.ephemeral||Qe.searchParams&&Qe.searchParams.get("pristine"))&&(Je.stateReconciler=We);var et=(0,p.A)({simple:300}),tt=(0,d.Qo)({promiseTypeDelimiter:"Promise",promiseTypeSuffixes:["Pending","Fulfilled","Rejected"]}),rt=(0,y.Ay)(),nt=(0,n.U1)({reducer:(0,m.persistReducer)(Je,je),middleware:function(e){return e({immutableCheck:!1,serializableCheck:{isSerializable:function(e){return(0,n.$i)(e)||(0,s.default)(e)||(0,i.A)(e)||(0,u.A)(e)},ignoredActions:[String(E.Z7),String(S.Q2)],ignoredPaths:["show.data","workbench"]}}).concat(et,tt,rt)},devTools:!1}),ot=(0,f.A)(),at=(0,m.persistStore)(nt,null,ot.resolve);function it(){return ct.apply(this,arguments)}function ct(){return(ct=Xe($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",at.purge());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lt(){return ut.apply(this,arguments)}function ut(){return(ut=Xe($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure? All settings will be lost.")){e.next=4;break}return e.next=3,it();case 3:window.location.reload();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var st=function(){return ot.promise};window.bridge&&(window.bridge.provideActions((0,o.zH)({showAppSettingsDialog:w.iD},nt.dispatch)),window.bridge.provideSubscriptions(function(e,t){return(0,ze.A)(e,(function(e){return function(r){return t.subscribe(Ke()((function(){return e(t.getState())}))(r))}}))}({shouldPreventSleepMode:g.UJ},nt)));const ft=nt},78707:(e,t,r)=>{"use strict";r.d(t,{C2:()=>l,Qv:()=>u,g6:()=>c});r(52675),r(89463),r(66412),r(2259),r(78125),r(23792),r(34782),r(62010),r(4731),r(60479),r(40875),r(10287),r(26099),r(3362),r(47764),r(23500),r(62953);function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){o=function(){return t};var e,t={},r=Object.prototype,a=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},c="function"==typeof Symbol?Symbol:{},l=c.iterator||"@@iterator",u=c.asyncIterator||"@@asyncIterator",s=c.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function p(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),c=new L(n||[]);return i(a,"_invoke",{value:T(e,r,c)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var y="suspendedStart",m="suspendedYield",h="executing",v="completed",g={};function b(){}function w(){}function E(){}var A={};f(A,l,(function(){return this}));var S=Object.getPrototypeOf,O=S&&S(S(_([])));O&&O!==r&&a.call(O,l)&&(A=O);var x=E.prototype=b.prototype=Object.create(A);function j(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(o,i,c,l){var u=d(e[o],e,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==n(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,c,l)}),(function(e){r("throw",e,c,l)})):t.resolve(f).then((function(e){s.value=e,c(s)}),(function(e){return r("throw",e,c,l)}))}l(u.arg)}var o;i(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}})}function T(t,r,n){var o=y;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=I(c,n);if(l){if(l===g)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===y)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=d(t,r,n);if("normal"===u.type){if(o=n.done?v:m,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=v,n.method="throw",n.arg=u.arg)}}}function I(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,I(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function _(t){if(t||""===t){var r=t[l];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(a.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=E,i(x,"constructor",{value:E,configurable:!0}),i(E,"constructor",{value:w,configurable:!0}),w.displayName=f(E,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},j(k.prototype),f(k.prototype,u,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new k(p(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},j(x),f(x,s,"Generator"),f(x,l,(function(){return this})),f(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=_,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var l=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:_(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function a(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}var i=function(e){return function(){var t,r=(t=o().mark((function t(r){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){var n=new FileReader;n.addEventListener("load",(function(){t(n.result)})),n["readAs".concat(e)](r)})));case 1:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function c(e){a(i,n,o,c,l,"next",e)}function l(e){a(i,n,o,c,l,"throw",e)}c(void 0)}))});return function(e){return r.apply(this,arguments)}}()},c=i("ArrayBuffer"),l=i("DataURL"),u=i("Text")},76209:(e,t,r)=>{"use strict";r.d(t,{Gq:()=>h,iA:()=>p,sd:()=>y});r(52675),r(89463),r(66412),r(2259),r(78125),r(23792),r(34782),r(62010),r(4731),r(60479),r(40875),r(79432),r(10287),r(26099),r(3362),r(47764),r(23500),r(62953);var n=r(4213);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var a=["maxSize"];function i(){i=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},c="function"==typeof Symbol?Symbol:{},l=c.iterator||"@@iterator",u=c.asyncIterator||"@@asyncIterator",s=c.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function p(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),c=new L(n||[]);return a(i,"_invoke",{value:T(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var y="suspendedStart",m="suspendedYield",h="executing",v="completed",g={};function b(){}function w(){}function E(){}var A={};f(A,l,(function(){return this}));var S=Object.getPrototypeOf,O=S&&S(S(_([])));O&&O!==r&&n.call(O,l)&&(A=O);var x=E.prototype=b.prototype=Object.create(A);function j(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,i,c,l){var u=d(e[a],e,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==o(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,c,l)}),(function(e){r("throw",e,c,l)})):t.resolve(f).then((function(e){s.value=e,c(s)}),(function(e){return r("throw",e,c,l)}))}l(u.arg)}var i;a(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function T(t,r,n){var o=y;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=I(c,n);if(l){if(l===g)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===y)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=d(t,r,n);if("normal"===u.type){if(o=n.done?v:m,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=v,n.method="throw",n.arg=u.arg)}}}function I(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,I(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function _(t){if(t||""===t){var r=t[l];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(o(t)+" is not iterable")}return w.prototype=E,a(x,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:w,configurable:!0}),w.displayName=f(E,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},j(k.prototype),f(k.prototype,u,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new k(p(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},j(x),f(x,s,"Generator"),f(x,l,(function(){return this})),f(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=_,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:_(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function c(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function l(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){l(a,n,o,i,c,"next",e)}function c(e){l(a,n,o,i,c,"throw",e)}i(void 0)}))}}function s(){return f.apply(this,arguments)}function f(){return f=u(i().mark((function e(){var t,r,n,o,l,u,s,f=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(r=f.length>0&&void 0!==f[0]?f[0]:{}).maxSize,o=c(r,a),l=(null===(t=window)||void 0===t?void 0:t.bridge)||{},!(u=l.readBufferFromFile)){e.next=9;break}return e.next=5,u({maxSize:n,dialogOptions:o});case 5:return s=e.sent,e.abrupt("return",new Blob([s],{type:"application/octet-stream"}));case 9:throw new Error("Not supported in the browser");case 10:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function p(e){return d.apply(this,arguments)}function d(){return(d=u(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t);case 2:return r=e.sent,e.abrupt("return",r.text());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t){return m.apply(this,arguments)}function m(){return m=u(i().mark((function e(t,r){var o,a,c,l,u=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=u.length>2&&void 0!==u[2]?u[2]:{},c=(null===(o=window)||void 0===o?void 0:o.bridge)||{},!(l=c.writeBufferToFile)){e.next=12;break}return e.t0=l,e.next=6,t.arrayBuffer();case 6:return e.t1=e.sent,e.t2=r,e.t3=a,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 12:return e.abrupt("return",(0,n.saveAs)(t,r));case 13:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function h(e,t,r){return y(new Blob([e],{type:"text/plain;charset=utf-8"}),t,r)}},63101:(e,t,r)=>{"use strict";r.d(t,{$b:()=>u,Ay:()=>y,LW:()=>p,x1:()=>f});r(52675),r(89463),r(2259),r(45700),r(23792),r(89572),r(2892),r(26099),r(47764),r(62953);var n=r(5953),o=r(60377),a=r(51644),i=r(23287);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t,r){var n;return n=function(e,t){if("object"!=c(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==c(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u={DEBUG:0,INFO:10,WARNING:20,ERROR:30,FATAL:40},s=l(l(l(l(l({},u.DEBUG,n.Ay.off),u.INFO,(0,n.M7)(a.AI.INFO)),u.WARNING,(0,n.M7)(a.AI.WARNING)),u.ERROR,(0,n.M7)(a.AI.ERROR)),u.FATAL,(0,n.M7)(a.AI.FATAL));function f(e){return e<=u.DEBUG?s[u.DEBUG]:e<=u.INFO?s[u.INFO]:e<=u.WARNING?s[u.WARNING]:e<=u.ERROR?s[u.ERROR]:e<=u.FATAL?s[u.FATAL]:n.Ay.off}function p(e){return"CRITICAL"===e&&(e="FATAL"),u[e]||"DEBUG"}function d(e){var t=function(t,r){i.Ay.dispatch((0,o.fp)({level:t,message:String(r),module:e}))};this.debug=t.bind(this,u.DEBUG),this.error=t.bind(this,u.ERROR),this.info=t.bind(this,u.INFO),this.log=this.info,this.warn=t.bind(this,u.WARNING),this.assert=function(e,t){e||this.debug(t)}.bind(this)}const y=function(e){return new d(String(e||""))}},39064:(e,t,r)=>{"use strict";r.d(t,{CZ:()=>I,HM:()=>T,Y_:()=>_,Ys:()=>P,bf:()=>N,dg:()=>D,fd:()=>R,hU:()=>F,jF:()=>C,kZ:()=>L,xM:()=>B});r(28706),r(52675),r(89463),r(66412),r(2259),r(45700),r(78125),r(2008),r(23792),r(34782),r(89572),r(62010),r(4731),r(60479),r(2892),r(83851),r(81278),r(40875),r(79432),r(10287),r(26099),r(3362),r(47764),r(23500),r(62953);var n=r(90),o=r(65738),a=r(97859),i=r(59116),c=r(92866),l=r(93334),u=r(47530),s=r(12857),f=r(15133),p=r(20961),d=r(23287),y=r(63101);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}var h=["target"];function v(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function g(){g=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),c=new L(n||[]);return o(i,"_invoke",{value:T(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",h="completed",v={};function b(){}function w(){}function E(){}var A={};u(A,i,(function(){return this}));var S=Object.getPrototypeOf,O=S&&S(S(_([])));O&&O!==r&&n.call(O,i)&&(A=O);var x=E.prototype=b.prototype=Object.create(A);function j(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==m(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function T(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=I(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?h:d,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function I(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,I(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function _(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(m(t)+" is not iterable")}return w.prototype=E,o(x,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:w,configurable:!0}),w.displayName=u(E,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,u(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},j(k.prototype),u(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new k(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},j(x),u(x,l,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=_,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:_(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e,t,r){var n;return n=function(e,t){if("object"!=m(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==m(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}var S=(0,y.Ay)("messaging"),O=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.reportSuccess,i=void 0===a||a,l=r.reportFailure,u=void 0===l||l;t=(0,c.A)(t);var p,y,m=(0,n.A)(t,o.A).true||0,h=t.length-m;m&&u?(y=f.N.ERROR,p=h>1?"".concat(e," sent for ").concat(h," UAVs, failed for ").concat(m):h?"".concat(e," sent for one UAV, failed for ").concat(m):m>1?"".concat(e," failed for ").concat(m," UAVs"):"".concat(e," failed")):i&&(y=f.N.SUCCESS,h>1?p="".concat(e," sent for ").concat(h," UAVs"):h&&(p="".concat(e," sent successfully"))),p&&d.Ay.dispatch((0,s.Ds)({message:p,semantics:y}))},x=function(e,t,r){var n,o=(e||"an unknown command").toLowerCase();return r?"Are you sure you want to broadcast ".concat(o," to all UAVs?"):(n=Array.isArray(t)&&0!==t.length?1===t.length?" on UAV ".concat(t[0]):" on ".concat(t.length," UAVs"):"","Are you sure you want to execute ".concat(o).concat(n,"?"))},j=function(e){var t=e.type,r=e.name,n=e.mapper,o=void 0===n?void 0:n,a=e.reportFailure,i=void 0===a||a,c=e.reportSuccess,s=void 0===c||c,f=e.skipConfirmation,y=void 0!==f&&f;return function(){var e,n=(e=g().mark((function e(n,a){var c,f,m,h;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,f=o?o(a):a,m=Boolean(null==f||null===(c=f.transport)||void 0===c?void 0:c.broadcast),y||!(0,u.ns)(d.Ay.getState(),n,m)){e.next=10;break}return e.next=7,d.Ay.dispatch((0,l.dk)(x(r,n,m),{title:"Confirmation needed"}));case 7:if(e.sent){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,p.A.startAsyncOperation(w({type:t,ids:n},f));case 12:h=e.sent,O(r,h,{reportFailure:i,reportSuccess:s}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),S.error("".concat(r,": ").concat(String(e.t0)));case 20:case"end":return e.stop()}}),e,null,[[0,16]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){A(a,n,o,i,c,"next",e)}function c(e){A(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e,t){return n.apply(this,arguments)}}()},k=j({type:"UAV-SIGNAL",name:"Light signal command",mapper:function(e){return w({signals:["light"],duration:5e3},e)},reportSuccess:!1,skipConfirmation:!0}),T=j({type:"UAV-SIGNAL",name:"Light signal command",mapper:function(e){return w({signals:["light"],duration:5e3},e)},reportSuccess:!1,reportFailure:!1,skipConfirmation:!0}),I=j({type:"UAV-TAKEOFF",name:"Takeoff command"}),C=j({type:"UAV-LAND",name:"Landing command"}),P=j({type:"UAV-HOVER",name:"Position hold command"}),L=j({type:"UAV-RTH",name:"Return to home command"}),_=j({type:"UAV-HALT",name:"Shutdown command"}),N=j({type:"UAV-RST",name:"Reset command"}),R=j({type:"UAV-SLEEP",name:"Low-power mode command"}),D=j({type:"UAV-WAKEUP",name:"Resume from low-power mode command"}),M=j({type:"UAV-FLY",name:"Fly to target command",mapper:function(e){var t=e.target;return{target:[Math.round(1e7*t.lat),Math.round(1e7*t.lon),(0,a.default)(t.amsl)?null:Math.round(1e3*t.amsl),(0,a.default)(t.ahl)?null:Math.round(1e3*t.ahl),(0,a.default)(t.agl)?null:Math.round(1e3*t.agl)]}},skipConfirmation:!0}),F=function(e,t){var r=t.target,n=v(t,h);if((0,a.default)(r))throw new Error("No target given in arguments");var o=r.lat,i=r.lon,c=r.amsl,l=r.ahl,u=r.agl;if(!(0,a.default)(c)&&!(0,a.default)(l)&&!(0,a.default)(u))throw new Error("only one of AMSL, AHL and AGL may be given");var s=n;return(0,a.default)(c)?(0,a.default)(l)?(0,a.default)(u)?s.target={lat:o,lon:i}:s.target={lat:o,lon:i,agl:u}:s.target={lat:o,lon:i,ahl:l}:s.target={lat:o,lon:i,amsl:c},M(e,s)},U=j({type:"UAV-MOTOR",name:"Motor off command",mapper:function(e){return w(w({},e),{},{start:!1})}}),G=j({type:"UAV-MOTOR",name:"Motor on command",mapper:function(e){return w(w({},e),{},{start:!0})}}),V={flashLight:k,shutdown:_,land:C,holdPosition:P,reset:N,returnToHome:L,sleep:R,takeOff:I,turnMotorsOff:U,turnMotorsOn:G,wakeUp:D};function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getTargetedUAVIds,r=e.getTransportOptions;if("function"!=typeof t)throw new TypeError("getTargetedUAVIds() must be a function");return(0,i.A)(V,(function(e){return function(){return function(n,o){var a,i=o(),c=t(i),l={};r&&(l.transport=r(i),0===(null===(a=l.transport)||void 0===a?void 0:a.channel)&&delete l.transport.channel);e(c,l)}}}))}},34023:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});r(16034);var n=r(5556),o=r.n(n),a=r(51644);const i={angle:o().number,coordinate:o().shape({lat:o().number.isRequired,lon:o().number.isRequired}),preflightCheckResult:o().oneOf(Object.values(a.DR)),severity:o().oneOf(Object.values(a.AI))}},5876:(e,t,r)=>{"use strict";r.d(t,{HS:()=>Zi,zg:()=>Ji,VE:()=>Qi,Uz:()=>Xi});r(52675),r(89463),r(2259),r(23792),r(69085),r(26099),r(47764),r(62953),r(45700),r(89572),r(2892);var n,o=r(96540),a=r(23832),i=(r(62062),r(24662)),c=r(5556),l=r.n(c),u=r(69733),s=r(1081),f=r(81709),p=r(15776),d=r(94422),y=r(52706),m=r(99861),h=r(42095),v=r(93213),g=r(47530),b=r(56868);!function(e){let t,r,n,o,a;!function(e){e.AERIAL_WITH_LABELS="bingMaps.aerialWithLabels",e.ROAD="bingMaps.road"}(t=e.BING||(e.BING={})),function(e){e.DEFAULT="googleMaps.default",e.SATELLITE="googleMaps.satellite",e.ROADS="googleMaps.roads"}(r=e.GOOGLE||(e.GOOGLE={})),function(e){e.SATELLITE="mapbox.satellite",e.STATIC="mapbox.static",e.VECTOR="mapbox.vector"}(n=e.MAPBOX||(e.MAPBOX={})),function(e){e.BASIC="maptiler.basic",e.HYBRID="maptiler.hybrid",e.SATELLITE="maptiler.satellite",e.STREETS="maptiler.streets"}(o=e.MAPTILER||(e.MAPTILER={})),e.NEXTZEN="nextzen",e.OSM="osm",function(e){e.TERRAIN="stamen.terrain",e.TONER="stamen.toner",e.WATERCOLOR="stamen.watercolor"}(a=e.STAMEN||(e.STAMEN={}))}(n||(n={}));const w=[n.OSM,n.STAMEN.TERRAIN];b.A.MAPBOX&&w.push(n.MAPBOX.STATIC,n.MAPBOX.SATELLITE),b.A.MAPTILER&&w.push(n.MAPTILER.BASIC,n.MAPTILER.SATELLITE,n.MAPTILER.HYBRID);const E={mapbox:['\xa9 <a href="https://www.mapbox.com/map-feedback/">Mapbox</a>','\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap contributors</a>'],maptiler:['\xa9 <a href="https://www.maptiler.com/copyright/">Maptiler</a>','\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap contributors</a>'],nextzen:"Map data &copy; OpenStreetMap contributors, Who's On First, Natural Earth, and openstreetmapdata.com",stamen:['Map tiles by <a href="https://stamen.com/" target="_blank">Stamen Design</a>, under <a href="https://creativecommons.org/licenses/by/3.0/" target="_blank">CC BY 3.0</a>.','&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors']},A={[n.BING.AERIAL_WITH_LABELS]:{label:"Bing Maps (aerial with labels)"},[n.BING.ROAD]:{label:"Bing Maps (road)"},[n.GOOGLE.DEFAULT]:{label:"Google Maps"},[n.GOOGLE.SATELLITE]:{label:"Google Maps (satellite)"},[n.GOOGLE.ROADS]:{label:"Google Maps (roads)"},[n.MAPBOX.STATIC]:{label:"Mapbox",attributions:E.mapbox},[n.MAPBOX.SATELLITE]:{label:"Mapbox satellite",attributions:E.mapbox},[n.MAPBOX.VECTOR]:{label:"Mapbox vector",attributions:E.mapbox},[n.MAPTILER.BASIC]:{label:"Maptiler",attributions:E.maptiler},[n.MAPTILER.HYBRID]:{label:"Maptiler hybrid",attributions:E.maptiler},[n.MAPTILER.SATELLITE]:{label:"Maptiler satellite",attributions:E.maptiler},[n.MAPTILER.STREETS]:{label:"Maptiler streets",attributions:E.maptiler},[n.NEXTZEN]:{label:"Nextzen",attributions:E.nextzen},[n.OSM]:{label:"OpenStreetMap"},[n.STAMEN.TERRAIN]:{label:"Stamen terrain",attributions:E.stamen},[n.STAMEN.TONER]:{label:"Stamen toner",attributions:E.stamen},[n.STAMEN.WATERCOLOR]:{label:"Stamen watercolor",attributions:E.stamen}};function S(e){const t=A[e];return t?t.label:"unknown"}var O=r(13628),x=r(953),j=r(29276),k=r(81426),T=r(3407);r(76214);var I=function(){var e=new O.default({color:""}),t=new x.default({color:"",width:1}),r=new j.default({fill:e}),n=new j.default({fill:e,stroke:t}),o=new j.default({stroke:t}),a=new j.default({text:new k.default({text:"",fill:e,stroke:t})}),i={};function c(e){var t=i[e];return t||(t=new j.default({image:new T.A({src:"https://unpkg.com/@mapbox/maki@4.0.0/icons/"+e+"-15.svg",imgSize:[15,15],crossOrigin:"anonymous"})}),i[e]=t),t}var l=[];return function(i,u){var s=0,f=i.get("layer"),p=i.get("class"),d=i.get("type"),y=i.get("scalerank"),m=i.get("labelrank"),h=i.get("admin_level"),v=i.get("maritime"),g=i.get("disputed"),b=i.get("maki"),w=i.getGeometry().getType();if("landuse"===f)switch(p){case"park":e.setColor("#d8e8c8"),l[s++]=r;break;case"cemetery":e.setColor("#e0e4dd"),l[s++]=r;break;case"hospital":e.setColor("#fde"),l[s++]=r;break;case"school":e.setColor("#f0e8f8"),l[s++]=r;break;case"wood":e.setColor("rgb(233,238,223)"),l[s++]=r}else"waterway"===f&&"river"!==p&&"stream"!==p&&"canal"!==p||"waterway"===f&&"river"===p?(t.setColor("#a0c8f0"),t.setWidth(1),l[s++]=o):"waterway"!==f||"stream"!==p&&"canal"!==p?"water"===f?(e.setColor("#a0c8f0"),l[s++]=r):"aeroway"===f&&"Polygon"===w?(e.setColor("rgb(242,239,235)"),l[s++]=r):"aeroway"===f&&"LineString"===w&&u<=76.43702828517625?(t.setColor("#f0ede9"),t.setWidth(1),l[s++]=o):"building"===f?(e.setColor("#f2eae2"),t.setColor("#dfdbd7"),t.setWidth(1),l[s++]=n):"tunnel"===f&&"motorway_link"===p?(t.setColor("#e9ac77"),t.setWidth(1),l[s++]=o):"tunnel"===f&&"service"===p?(t.setColor("#cfcdca"),t.setWidth(1),l[s++]=o):"tunnel"!==f||"street"!==p&&"street_limited"!==p?"tunnel"===f&&"main"===p&&u<=1222.99245256282||"tunnel"===f&&"motorway"===p?(t.setColor("#e9ac77"),t.setWidth(1),l[s++]=o):"tunnel"===f&&"path"===p?(t.setColor("#cba"),t.setWidth(1),l[s++]=o):"tunnel"===f&&"major_rail"===p?(t.setColor("#bbb"),t.setWidth(2),l[s++]=o):"road"===f&&"motorway_link"===p?(t.setColor("#e9ac77"),t.setWidth(1),l[s++]=o):"road"!==f||"street"!==p&&"street_limited"!==p||"LineString"!==w?"road"===f&&"main"===p&&u<=1222.99245256282||"road"===f&&"motorway"===p&&u<=4891.96981025128?(t.setColor("#e9ac77"),t.setWidth(1),l[s++]=o):"road"===f&&"path"===p?(t.setColor("#cba"),t.setWidth(1),l[s++]=o):"road"===f&&"major_rail"===p?(t.setColor("#bbb"),t.setWidth(2),l[s++]=o):"bridge"===f&&"motorway_link"===p||"bridge"===f&&"motorway"===p?(t.setColor("#e9ac77"),t.setWidth(1),l[s++]=o):"bridge"===f&&"service"===p?(t.setColor("#cfcdca"),t.setWidth(1),l[s++]=o):"bridge"!==f||"street"!==p&&"street_limited"!==p?"bridge"===f&&"main"===p&&u<=1222.99245256282?(t.setColor("#e9ac77"),t.setWidth(1),l[s++]=o):"bridge"===f&&"path"===p?(t.setColor("#cba"),t.setWidth(1),l[s++]=o):"bridge"===f&&"major_rail"===p?(t.setColor("#bbb"),t.setWidth(2),l[s++]=o):"admin"===f&&h>=3&&0===v||"admin"===f&&2===h&&0===g&&0===v||"admin"===f&&2===h&&1===g&&0===v?(t.setColor("#9e9cab"),t.setWidth(1),l[s++]=o):"admin"===f&&h>=3&&1===v||"admin"===f&&2===h&&1===v?(t.setColor("#a0c8f0"),t.setWidth(1),l[s++]=o):"country_label"===f&&1===y?(a.getText().setText(i.get("name_en")),a.getText().setFont('bold 11px "Open Sans", "Arial Unicode MS"'),e.setColor("#334"),t.setColor("rgba(255,255,255,0.8)"),t.setWidth(2),l[s++]=a):"country_label"===f&&2===y&&u<=19567.87924100512?(a.getText().setText(i.get("name_en")),a.getText().setFont('bold 10px "Open Sans", "Arial Unicode MS"'),e.setColor("#334"),t.setColor("rgba(255,255,255,0.8)"),t.setWidth(2),l[s++]=a):"country_label"===f&&3===y&&u<=9783.93962050256?(a.getText().setText(i.get("name_en")),a.getText().setFont('bold 9px "Open Sans", "Arial Unicode MS"'),e.setColor("#334"),t.setColor("rgba(255,255,255,0.8)"),t.setWidth(2),l[s++]=a):"country_label"===f&&4===y&&u<=4891.96981025128?(a.getText().setText(i.get("name_en")),a.getText().setFont('bold 8px "Open Sans", "Arial Unicode MS"'),e.setColor("#334"),t.setColor("rgba(255,255,255,0.8)"),t.setWidth(2),l[s++]=a):"marine_label"===f&&1===m&&"Point"===w||"marine_label"===f&&2===m&&"Point"===w?(a.getText().setText(i.get("name_en")),a.getText().setFont('italic 11px "Open Sans", "Arial Unicode MS"'),e.setColor("#74aee9"),t.setColor("rgba(255,255,255,0.8)"),t.setWidth(1),l[s++]=a):"marine_label"===f&&3===m&&"Point"===w?(a.getText().setText(i.get("name_en")),a.getText().setFont('italic 10px "Open Sans", "Arial Unicode MS"'),e.setColor("#74aee9"),t.setColor("rgba(255,255,255,0.8)"),t.setWidth(1),l[s++]=a):"marine_label"===f&&4===m&&"Point"===w?(a.getText().setText(i.get("name_en")),a.getText().setFont('italic 9px "Open Sans", "Arial Unicode MS"'),e.setColor("#74aee9"),t.setColor("rgba(255,255,255,0.8)"),t.setWidth(1),l[s++]=a):"place_label"===f&&"city"===d&&u<=1222.99245256282?(a.getText().setText(i.get("name_en")),a.getText().setFont('11px "Open Sans", "Arial Unicode MS"'),e.setColor("#333"),t.setColor("rgba(255,255,255,0.8)"),t.setWidth(1),l[s++]=a):"place_label"===f&&"town"===d&&u<=305.748113140705?(a.getText().setText(i.get("name_en")),a.getText().setFont('9px "Open Sans", "Arial Unicode MS"'),e.setColor("#333"),t.setColor("rgba(255,255,255,0.8)"),t.setWidth(1),l[s++]=a):"place_label"===f&&"village"===d&&u<=38.21851414258813?(a.getText().setText(i.get("name_en")),a.getText().setFont('8px "Open Sans", "Arial Unicode MS"'),e.setColor("#333"),t.setColor("rgba(255,255,255,0.8)"),t.setWidth(1),l[s++]=a):"place_label"===f&&u<=19.109257071294063&&("hamlet"===d||"suburb"===d||"neighbourhood"===d)?(a.getText().setText(i.get("name_en")),a.getText().setFont('bold 9px "Arial Narrow"'),e.setColor("#633"),t.setColor("rgba(255,255,255,0.8)"),t.setWidth(1),l[s++]=a):("poi_label"===f&&u<=19.109257071294063&&1===y&&"marker"!==b||"poi_label"===f&&u<=9.554628535647032&&2===y&&"marker"!==b||"poi_label"===f&&u<=4.777314267823516&&3===y&&"marker"!==b||"poi_label"===f&&u<=2.388657133911758&&4===y&&"marker"!==b||"poi_label"===f&&u<=1.194328566955879&&y>=5&&"marker"!==b)&&(l[s++]=c(b)):(t.setColor("#cfcdca"),t.setWidth(1),l[s++]=o):(t.setColor("#cfcdca"),t.setWidth(1),l[s++]=o):(t.setColor("#cfcdca"),t.setWidth(1),l[s++]=o):(t.setColor("#a0c8f0"),t.setWidth(1),l[s++]=o);return l.length=s,l}}();var C=function(e){var t=e.layer,r=e.onLayerSourceChanged,n=w.map((function(e){return o.createElement(p.A,{key:e,value:e,label:S(e),style:{marginTop:5},control:o.createElement(d.A,null)})}));return o.createElement(y.A,{key:"baseProperties",name:"source.base",value:t.parameters.source,onChange:r},n)};C.propTypes={layer:l().object,onLayerSourceChanged:l().func};var P=(0,u.Ng)(null,(function(e,t){return{onLayerSourceChanged:function(r,n){e((0,m.At)({layerId:t.layerId,source:n}))}}}))(C),L=new i.A,_=function(e){var t=e.children,r=e.type,a=e.zIndex;switch(r){case n.MAPBOX.VECTOR:case n.NEXTZEN:return o.createElement(f.qd.VectorTile,{declutter:!0,style:I,zIndex:a},t);default:return o.createElement(f.qd.Tile,{zIndex:a},t)}};_.propTypes={children:l().node,type:l().string,zIndex:l().number};var N=function(e){var t=e.apiKeys,r=e.tileLoadFunction,a=e.type,i=function(e){const t=A[e],r=null==t?void 0:t.attributions;return Array.isArray(r)?r:r?[r]:[]}(a);switch(a){case n.MAPBOX.STATIC:return o.createElement(f.sP.XYZ,{attributions:i,tilePixelRatio:2,tileSize:512,tileLoadFunction:r,url:"https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/512/{z}/{x}/{y}@2x?access_token=".concat(t.MAPBOX)});case n.MAPBOX.SATELLITE:return o.createElement(f.sP.XYZ,{attributions:i,tilePixelRatio:2,tileSize:512,tileLoadFunction:r,url:"https://api.mapbox.com/v4/mapbox.satellite/{z}/{x}/{y}@2x.jpg90?access_token=".concat(t.MAPBOX)});case n.MAPBOX.VECTOR:return o.createElement(f.sP.VectorTile,{attributions:i,format:L,tileLoadFunction:r,url:"https://{a-d}.tiles.mapbox.com/v4/mapbox.mapbox-streets-v8/{z}/{x}/{y}.vector.pbf?access_token=".concat(t.MAPBOX)});case n.MAPTILER.BASIC:return o.createElement(f.sP.XYZ,{tileLoadFunction:r,tilePixelRatio:2,tileSize:512,url:"https://api.maptiler.com/maps/basic/{z}/{x}/{y}@2x.png?key=".concat(t.MAPTILER)});case n.MAPTILER.HYBRID:return o.createElement(f.sP.XYZ,{tileLoadFunction:r,tilePixelRatio:2,tileSize:512,url:"https://api.maptiler.com/maps/hybrid/{z}/{x}/{y}@2x.jpg?key=".concat(t.MAPTILER)});case n.MAPTILER.SATELLITE:return o.createElement(f.sP.XYZ,{tileLoadFunction:r,tileSize:512,url:"https://api.maptiler.com/tiles/satellite-v2/{z}/{x}/{y}.jpg?key=".concat(t.MAPTILER)});case n.MAPTILER.STREETS:return o.createElement(f.sP.XYZ,{tileLoadFunction:r,tilePixelRatio:2,tileSize:512,url:"https://api.maptiler.com/maps/streets/{z}/{x}/{y}@2x.png?key=".concat(t.MAPTILER)});case n.NEXTZEN:return o.createElement(f.sP.VectorTile,{attributions:i,format:L,maxZoom:16,tileLoadFunction:r,url:"https://tile.nextzen.org/tilezen/vector/v1/512/all/{z}/{x}/{y}.mvt?api_key=".concat(t.NEXTZEN)});case n.OSM:return o.createElement(f.sP.OSM,{tileLoadFunction:r,url:"https://{a-c}.tile.skybrush.io/osm/{z}/{x}/{y}.png"});case n.STAMEN.TERRAIN:return o.createElement(f.sP.StadiaMaps,{tileLoadFunction:r,layerName:"stamen_terrain"});case n.STAMEN.TONER:return o.createElement(f.sP.StadiaMaps,{tileLoadFunction:r,layerName:"stamen_toner"});case n.STAMEN.WATERCOLOR:return o.createElement(f.sP.StadiaMaps,{tileLoadFunction:r,layerName:"stamen_watercolor"});case n.GOOGLE.DEFAULT:return o.createElement(f.sP.XYZ,{tileLoadFunction:r,url:"https://mt1.google.com/vt/lyrs=r&x={x}&y={y}&z={z}"});case n.GOOGLE.SATELLITE:return o.createElement(f.sP.XYZ,{tileLoadFunction:r,url:"https://mt1.google.com/vt/lyrs=y&x={x}&y={y}&z={z}"});case n.BING.AERIAL_WITH_LABELS:return o.createElement(f.sP.BingMaps,{apiKey:t.BING,imagerySet:"AerialWithLabels",maxZoom:19});case n.BING.ROAD:return o.createElement(f.sP.BingMaps,{apiKey:t.BING,imagerySet:"Road"});default:return null}};function R(e,t){e.getImage().src=t}N.propTypes={apiKeys:l().object,tileLoadFunction:l().func,type:l().string};var D=(0,s.createSelector)(h.j,v.KL,v.Tt,(function(e,t,r){return e&&t?function(e){return function(t,r){R(t,"".concat(e,"/map-cache/_?url=")+encodeURIComponent(r))}}(r):R})),M=(0,u.Ng)((function(e){return{apiKeys:(0,g.d6)(e),tileLoadFunction:D(e)}}),{})(N),F=function(e){var t=e.layer,r=e.zIndex;return o.createElement(_,{type:t.parameters.source,zIndex:r},o.createElement(M,{type:t.parameters.source}))};F.propTypes={layer:l().object,zIndex:l().number};r(74423),r(54554),r(79432),r(21699);var U=r(27733);const G=r.p+"c66c82627760fafe63c6.png",V=r.p+"19ad6093d71a16f981a5.png";var B=r(5953),H=r(45940),W=r(32),z=r(61506),Y=r(23354),K=r(44294),q=r(86936),$=r(28550);const Z=e=>new O.default({color:e}),X=(e,t=1,r=[])=>new x.default({color:e,width:t,lineDash:r}),J=e=>X(e,5),Q=e=>X(e,2),ee=e=>X(e,1),te=ee("black"),re=(Q("black"),J("black"),ee("rgba(0, 0, 0, 0.6)")),ne=Q("rgba(0, 0, 0, 0.6)"),oe=(J("rgba(0, 0, 0, 0.6)"),ee("white"),Q("white")),ae=J("white"),ie=e=>X(e,5,[5,10]),ce=e=>X(e,5,[1,10]),le=e=>X(e,2,[1,5]);function ue(e,t){return r=>{const n=r.getGeometry(),o=null==n?void 0:n.getCoordinates();if(!o||o.length<2)return new j.default;const{displacement:a,position:i,rotation:c}=(()=>{switch(t){case"start":return{displacement:[0,5],position:o.at(0),rotation:(0,$.dc)(o.at(0),o.at(1))};case"end":return{displacement:[0,-10],position:o.at(-1),rotation:(0,$.dc)(o.at(-2),o.at(-1))};default:throw new Error(`Expected 'start' or 'end', received: ${String(t)}`)}})();return new j.default({geometry:new K.default(i),image:new q.A({points:3,fill:Z(e),rotateWithView:!0,radius:10,scale:[.75,1],rotation:c,displacement:a})})}}var se=["selected","value"];function fe(){return fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fe.apply(this,arguments)}function pe(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var de=new j.default({image:new T.A({src:G})}),ye=new j.default({image:new T.A({src:V})}),me=[B.m_.error,B.m_.success].map((function(e){return new j.default({image:new U.A({displacement:[0,2],fill:Z(e),stroke:re,radius:6})})})),he=o.memo((function(e){var t=e.selected,r=e.value,n=pe(e,se),a=r.id,i=r.position,c=r.active;if(!i)return null;var l=function(e,t,r){var n=[de];return t&&n.splice(0,0,ye),null!=r&&n.push(me[r?1:0]),n.push(new j.default({text:new k.default({font:"12px sans-serif",offsetY:18,placement:"point",text:e,textAlign:"center"})})),n}((0,H.op)(r),t,c);return o.createElement(f.Xj,fe({id:(0,z.LM)(a),style:l},n),o.createElement(f.N4.Point,{coordinates:(0,W.Ur)([i.lon,i.lat])}))}));function ve(e){e&&(0,Y.Uz)(e.layer)}he.propTypes={selected:l().bool,value:l().shape({id:l().string,position:l().shape({lat:l().number.required,lon:l().number.required}),heading:l().number,active:l().bool})};var ge=function(e){var t=e.beacons,r=e.selectedBeaconIds,n=e.zIndex;return o.createElement(f.qd.Vector,{ref:ve,updateWhileAnimating:!0,updateWhileInteracting:!0,zIndex:n},o.createElement(f.sP.Vector,null,t.map((function(e){return o.createElement(he,{key:e.id,value:e,selected:r.includes(e.id)})}))))};ge.propTypes={beacons:l().arrayOf(l().object).isRequired,selectedBeaconIds:l().arrayOf(l().string).isRequired,zIndex:l().number};var be=(0,u.Ng)((function(e){return{beacons:(0,H.le)(e),selectedBeaconIds:(0,H.iE)(e)}}),null)(ge),we=r(42821),Ee=["selected","value"];function Ae(){return Ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ae.apply(this,arguments)}function Se(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Oe=o.memo((function(e){var t=e.selected,r=e.value,n=Se(e,Ee),a=r.id,i=r.position;if(!i)return null;var c=function(e,t){return[new j.default({image:new q.A({points:4,fill:Z([255,136,0,t?1:.5]),stroke:t?ne:re,radius:10,rotation:Math.PI/4})}),new j.default({text:new k.default({font:"12px sans-serif",offsetY:18,placement:"point",text:e,textAlign:"center"})})]}(a,t);return o.createElement(f.Xj,Ae({id:(0,z.Kg)(a),style:c},n),o.createElement(f.N4.Point,{coordinates:(0,W.Ur)([i.lon,i.lat])}))}));function xe(e){e&&(0,Y.Uz)(e.layer)}Oe.propTypes={selected:l().bool,value:l().shape({id:l().string,position:l().shape({lat:l().number.required,lon:l().number.required})})};var je=function(e){var t=e.docks,r=e.selectedDockIds,n=e.zIndex;return o.createElement(f.qd.Vector,{ref:xe,updateWhileAnimating:!0,updateWhileInteracting:!0,zIndex:n},o.createElement(f.sP.Vector,null,t.map((function(e){return o.createElement(Oe,{key:e.id,value:e,selected:r.includes(e.id)})}))))};je.propTypes={docks:l().arrayOf(l().object).isRequired,selectedDockIds:l().arrayOf(l().string).isRequired,zIndex:l().number};var ke=(0,u.Ng)((function(e){return{docks:(0,we.Q)(e),selectedDockIds:(0,we.z)(e)}}),null)(je),Te=(r(23418),r(62010),r(83851),r(81278),r(27495),r(90906),r(38781),r(23500),r(2008),r(46449),r(34782),r(93514),r(2520)),Ie=r.n(Te),Ce=r(18803),Pe=r(30503),Le=r(2871),_e=r(34142),Ne=r(63486),Re=r(85949),De=r(13297),Me=r(72819),Fe=r(12857),Ue=r(2431),Ge=r(46928),Ve=r(19023);function Be(e){return Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Be(e)}var He=["feature","isSelected","isGeofence","shouldFill","shouldShowPoints","suggestedColor"];function We(){return We=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},We.apply(this,arguments)}function ze(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Ye(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ze(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(r),!0).forEach((function(t){$e(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $e(e,t,r){var n;return n=function(e,t){if("object"!=Be(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Be(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Be(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ze(e,t){if(e){if("string"==typeof e)return Xe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xe(e,t):void 0}}function Xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Je=function(e){var t=e.points,r=e.type,n=t.map((0,Ce.A)(W.Ur));switch(r){case Ue.lo.CIRCLE:if(n.length>=2){var a=n[0],i=(0,$.CX)(n[0],n[1]);return o.createElement(f.N4.Circle,{center:a,radius:i})}return null;case Ue.lo.POINTS:return n.length>1?o.createElement(f.N4.MultiPoint,{coordinates:n}):o.createElement(f.N4.Point,{coordinates:n[0]});case Ue.lo.LINE_STRING:return o.createElement(f.N4.LineString,{coordinates:n});case Ue.lo.POLYGON:var c;(0,$.hR)(n);var l,u=(null!==(c=e.holes)&&void 0!==c?c:[]).map((function(e){return e.map((0,Ce.A)(W.Ur))})),s=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Ze(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}(u);try{for(s.s();!(l=s.n()).done;){var p=l.value;(0,$.hR)(p)}}catch(e){s.e(e)}finally{s.f()}return o.createElement(f.N4.Polygon,{coordinates:n,holes:u});default:return null}},Qe=new j.default({stroke:ae}),et=$e($e({},Ue.UQ.THIN_OUTLINE,oe),Ue.UQ.THICK_OUTLINE,ae),tt=function(e){return new Pe.default(e.getGeometry().getCoordinates())},rt=function(e){return new Pe.default(e.getGeometry().getCoordinates().flat())},nt=function(e,t){return new j.default({image:new U.A(qe(qe({},e&&{stroke:oe}),{},{fill:Z(t),radius:5})),geometry:rt})},ot=function(e,t){var r,n,o=t.isGeofence,a=void 0!==o&&o,i=t.isSelected,c=void 0!==i&&i,l=t.shouldShowPoints,u=t.suggestedColor,s=t.shouldFill,f=e.color,p=e.filled,d=e.label,y=e.labelStyle,m=e.measure,h=e.showPoints,v=e.type,g=Ie()(null!=f?f:u),b=[];switch(v){case Ue.lo.POINTS:b.push(new j.default({image:new U.A(qe(qe({},c&&{stroke:oe}),{},{fill:Z(g.rgb().array()),radius:6}))}));break;case Ue.lo.LINE_STRING:c&&b.push(Qe),b.push(new j.default({stroke:(a?ie:Q)(g.rgb().array())})),(null!=h?h:l)&&b.push(function(e,t){return new j.default({image:new U.A(qe(qe({},e&&{stroke:oe}),{},{fill:Z(t),radius:5})),geometry:tt})}(c,g.rgb().array()));break;case Ue.lo.POLYGON:b.push(new j.default({stroke:le(g.rgb().array()),geometry:function(e){var t=Ye(e.getGeometry().getCoordinates()).slice(1);return new Le.A(t.map((function(e){return[e]})))},zIndex:1})),(null!=h?h:l)&&b.push(nt(c,g.rgb().array()));default:!(null!=p?p:s)||null!=e&&null!==(r=e.attributes)&&void 0!==r&&r.isExclusionZone||b.push(new j.default({fill:Z(g.fade(c?.5:.75).rgb().array())})),null!=e&&null!==(n=e.attributes)&&void 0!==n&&n.isExclusionZone&&b.push(new j.default({fill:new Ne.A({pattern:"hatch",color:g.fade(c?.5:.75).rgb().array(),size:10,spacing:20,angle:45}),zIndex:1})),c&&b.push(Qe),b.push(new j.default({stroke:(a?ie:Q)(g.rgb().array()),geometry:function(e){if(v===Ue.lo.POLYGON){var t=e.getGeometry().getCoordinates()[0];return new _e.default([t])}return e.getGeometry()}}))}return d&&d.length>0&&y!==Ue.UQ.HIDDEN&&b.push(new j.default({text:new k.default({font:"12px sans-serif",offsetY:v===Ue.lo.POINTS?16:0,placement:v===Ue.lo.LINE_STRING?"line":"point",stroke:et[y],text:d,textAlign:"center",textBaseline:v===Ue.lo.LINE_STRING?"bottom":"middle"})})),m&&b.push(new j.default({text:new k.default({font:"12px sans-serif",offsetY:v===Ue.lo.LINE_STRING?3:15,placement:"lineString"===v?"line":"point",stroke:et[y],text:"(".concat((0,W.TQ)(e),")"),textAlign:"center",textBaseline:v===Ue.lo.LINE_STRING?"top":"middle"})})),b},at=function(e){var t=e.feature,r=e.isSelected,n=e.isGeofence,a=e.shouldFill,i=e.shouldShowPoints,c=e.suggestedColor,l=ze(e,He);return o.createElement(f.Xj,We({id:(0,z.Du)(t.id),style:ot(t,{isGeofence:n,isSelected:r,shouldFill:a,shouldShowPoints:i,suggestedColor:c})},l),Je(t))};at.propTypes={feature:l().object.isRequired,isGeofence:l().bool,isSelected:l().bool,shouldFill:l().bool,shouldShowPoints:l().bool,suggestedColor:l().string};var it=(0,u.Ng)((function(e,t){var r=t.feature;return{isGeofence:(0,Me.Md)(e)===r.id,isSelected:(0,Re.sU)(e).includes(r.id),shouldFill:(0,De.Vl)(e,r.id),shouldShowPoints:(0,De.zj)(e,r.id),suggestedColor:(0,De.MJ)(e,r.id)}}))(at);function ct(e){e&&((0,Y.m_)(e.layer),(0,Y.Uz)(e.layer))}var lt=function(e){var t=e.features,r=e.onError,n=e.onFeatureModificationStarted,a=e.onFeaturesModified,i=e.selectedTool,c=e.zIndex;return o.createElement(f.qd.Vector,{ref:ct,updateWhileAnimating:!0,updateWhileInteracting:!0,zIndex:c},o.createElement(f.sP.Vector,null,t.filter((function(e){return e.visible})).map((function(e){return o.createElement(it,{key:e.id,feature:e})})),i===Ve.NL.CUT_HOLE?o.createElement(f.vY.CutHole,{abortCondition:Ge.Fm,onError:r,onCutStart:n,onCutEnd:a}):null))};lt.propTypes={selectedTool:l().string,zIndex:l().number,features:l().arrayOf(l().object).isRequired,onError:l().func,onFeatureModificationStarted:l().func,onFeaturesModified:l().func};var ut=(0,u.Ng)((function(e){return{features:(0,Re.VQ)(e)}}),(function(e){return{onError:function(t){e((0,Fe.Qg)(t))}}}))(lt),st=(r(28706),r(33110),r(40875),r(10287),r(60825),r(1694)),ft=r(11365),pt=r(36896),dt=r(96746),yt=r(72572),mt=r(10233);function ht(e){return ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ht(e)}function vt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(r),!0).forEach((function(t){Ot(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xt(n.key),n)}}function wt(e,t,r){return t=At(t),function(e,t){if(t&&("object"===ht(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Et()?Reflect.construct(t,r||[],At(e).constructor):t.apply(e,r))}function Et(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Et=function(){return!!e})()}function At(e){return At=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},At(e)}function St(e,t){return St=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},St(e,t)}function Ot(e,t,r){return(t=xt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xt(e){var t=function(e,t){if("object"!=ht(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ht(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ht(t)?t:t+""}var jt=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ot(r=wt(this,t,[e]),"_registerClickawayHandlerIfNeeded",(function(){var e=r._isMounted&&r.state.open;e&&!r._clickawayHandlerRegistered?(document.addEventListener("click",r._handleClickAway,!0),r._clickawayHandlerRegistered=!0):!e&&r._clickawayHandlerRegistered&&(document.removeEventListener("click",r._handleClickAway,!0),r._clickawayHandlerRegistered=!1)})),Ot(r,"_togglePicker",(function(){r.setState((function(e){return{open:!e.open}}))})),Ot(r,"_handleChange",(function(e){var t,n={r:(t=e.rgb).r,g:t.g,b:t.b,alpha:t.a};r.setState({color:n}),r.props.onChange&&r.props.onChange(n)})),Ot(r,"_handleClickAway",(function(e){r._pickerContainerRef.current&&!r._pickerContainerRef.current.contains(e.target)&&(r._togglePicker(),e.preventDefault(),e.stopPropagation())})),r._clickawayHandlerRegistered=!1,r._isMounted=!1,r._pickerContainerRef=o.createRef(),r.state={open:!1,color:e.value||e.defaultValue||{r:255,g:255,b:255,alpha:1}},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&St(e,t)}(t,e),r=t,(n=[{key:"componentDidMount",value:function(){this._isMounted=!0,this._registerClickawayHandlerIfNeeded()}},{key:"componentDidUpdate",value:function(){this._registerClickawayHandlerIfNeeded()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this._registerClickawayHandlerIfNeeded()}},{key:"render",value:function(){var e,t={position:"absolute",overflow:"hidden",zIndex:"2",transition:"height 0.3s",height:this.state.open?298:0},r=this.state.color;return o.createElement("div",{ref:this._pickerContainerRef,className:"popup-color-picker"},o.createElement("div",{className:"popup-color-picker-button",style:gt(gt({},this.props.style),{},{backgroundColor:Ie()(r).rgb().string()}),onClick:this._togglePicker}),o.createElement("div",{className:"popup-color-picker-dropdown",style:t},o.createElement(mt.Xq,{color:(e=r,{r:e.r,g:e.g,b:e.b,a:e.alpha}),onChange:this._handleChange})))}}])&&bt(r.prototype,n),a&&bt(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(o.Component);Ot(jt,"propTypes",{defaultValue:l().object,onChange:l().func,style:l().object,value:l().object});var kt=function(e,t){try{return Ie()(e)}catch(e){return Ie()(t)}};r(33771);function Tt(e){return Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tt(e)}function It(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?It(Object(r),!0).forEach((function(t){Pt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):It(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pt(e,t,r){var n;return n=function(e,t){if("object"!=Tt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Tt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Tt(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Lt={small:10,medium:15,large:20};function _t(e){return _t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_t(e)}function Nt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ht(n.key),n)}}function Dt(e,t,r){return t&&Rt(e.prototype,t),r&&Rt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mt(e,t,r){return t=Ut(t),function(e,t){if(t&&("object"===_t(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ft()?Reflect.construct(t,r||[],Ut(e).constructor):t.apply(e,r))}function Ft(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ft=function(){return!!e})()}function Ut(e){return Ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ut(e)}function Gt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vt(e,t)}function Vt(e,t){return Vt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vt(e,t)}function Bt(e,t,r){return(t=Ht(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ht(e){var t=function(e,t){if("object"!=_t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=_t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_t(t)?t:t+""}var Wt=function(e){function t(){var e;Nt(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return Bt(e=Mt(this,t,[].concat(n)),"state",{strokeWidth:e.props.layer.parameters.strokeWidth,data:JSON.stringify(e.props.layer.parameters.data,null,2)}),Bt(e,"_handleStrokeColorChange",(function(t){e.props.setLayerParameters({strokeColor:t})})),Bt(e,"_handleFillColorChange",(function(t){e.props.setLayerParameters({fillColor:t})})),Bt(e,"_handleStrokeWidthChange",(function(t){e.setState({strokeWidth:t.target.value})})),Bt(e,"_handleDataChange",(function(t){e.setState({data:t.target.value})})),Bt(e,"_handleClick",(function(){e.props.setLayerParameters({strokeWidth:(0,st.A)(e.state.strokeWidth)});try{var t=JSON.parse(e.state.data);e.props.setLayerParameters({data:t}),e.props.showMessage({message:"GeoJSON imported successfully.",semantics:"success"})}catch(t){e.props.showMessage({message:"Invalid GeoJSON data.",semantics:"error"})}})),e}return Gt(t,e),Dt(t,[{key:"render",value:function(){var e=this.props.layer.parameters,t=e.fillColor,r=e.strokeColor;return o.createElement(pt.A,null,o.createElement(pt.A,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},o.createElement(pt.A,null,o.createElement("span",null,"Stroke color: "),o.createElement(jt,{value:r,onChange:this._handleStrokeColorChange})),o.createElement(pt.A,null,o.createElement("span",null,"Fill color: "),o.createElement(jt,{value:t,onChange:this._handleFillColorChange})),o.createElement(yt.A,{style:{marginLeft:2},label:"Stroke width",type:"number",min:"1",max:"100",value:this.state.strokeWidth,variant:"filled",onChange:this._handleStrokeWidthChange})),o.createElement(pt.A,{pt:2},o.createElement(yt.A,{multiline:!0,fullWidth:!0,label:"GeoJSON data",placeholder:"GeoJSON",maxRows:10,value:this.state.data,variant:"filled",onChange:this._handleDataChange})),o.createElement(pt.A,{textAlign:"center",pt:2},o.createElement(dt.A,{variant:"contained",color:"primary",onClick:this._handleClick},"Update layer")))}}])}(o.Component);Bt(Wt,"propTypes",{layer:l().object,setLayerParameters:l().func,showMessage:l().func});var zt=(0,u.Ng)(null,(function(e,t){return{setLayerParameters:function(r){e((0,m.K_)(t.layerId,r))},showMessage:function(t){e((0,Fe.Ds)(t))}}}))(Wt);zt.propTypes={layerId:l().string};var Yt=function(e){function t(e){var r;return Nt(this,t),(r=Mt(this,t,[e]))._assignSourceRef=r._assignSourceRef.bind(r),r._sourceRef=void 0,r.geojsonFormat=new ft.A,r._updateFeaturesFromProps(e),r}return Gt(t,e),Dt(t,[{key:"componentDidUpdate",value:function(){this._updateFeaturesFromProps(this.props)}},{key:"_assignSourceRef",value:function(e){if(this._sourceRef!==e){if(this._sourceRef)this._sourceRef.source.clear();this._sourceRef=e,this._sourceRef&&this._updateFeaturesFromProps(this.props)}}},{key:"_parseFeatures",value:function(e){try{return this.geojsonFormat.readFeatures(e,{featureProjection:"EPSG:3857"})}catch(e){return[]}}},{key:"_updateFeaturesFromProps",value:function(e){var t=this._parseFeatures(e.data);if(this._sourceRef){var r=this._sourceRef.source;r.clear(),r.addFeatures(t)}}},{key:"render",value:function(){return o.createElement(f.sP.Vector,{ref:this._assignSourceRef})}}])}(o.Component),Kt=function(e){var t=e.layer,r=e.zIndex,n=o.useMemo((function(){var e=t.parameters,r=e.strokeWidth,n=kt(e.strokeColor,B.Ay.main),o=kt(e.fillColor,Ie()(B.Ay.main).alpha(.5)),a={stroke:n.rgb().hex(),"stroke-opacity":n.alpha(),"stroke-width":r,fill:o.rgb().hex(),"fill-opacity":o.alpha()};return function(e){var t=e.getProperties();return!t["marker-symbol"]&&e.getGeometry()instanceof K.default&&(t["marker-symbol"]="marker"),function(e,t){var r=Ct(Ct({"fill-opacity":.6,"stroke-opacity":1,"stroke-width":2},t),e),n=void 0!==r.stroke,o=void 0!==r.fill,a=void 0!==r.title,i=r["marker-size"]||r["marker-symbol"]||r["marker-color"],c=n?Ie()(r.stroke||"#555555").alpha(r["stroke-opacity"]):void 0,l=o?Ie()(r.fill||"#555555").alpha(r["fill-opacity"]):void 0,u=r.title,s={},f=0;if(c&&(s.stroke=new x.default({color:c.array(),width:Number(r["stroke-width"])})),l&&(s.fill=new O.default({color:l.array()})),i){var p=Ie()(r["marker-color"]||"#7e7e7e"),d=r["marker-size"]||"medium";f=void 0!==Lt[d]?Lt[d]:Lt.medium,s.image=new U.A({fill:new O.default({color:p.array()}),stroke:new x.default({color:p.blacken(.5)}),radius:f/2})}return a&&(s.text=new k.default({text:u,font:"normal 14px Arial",fill:new O.default({color:"#ffffff"}),stroke:new x.default({color:"#000000",width:2})})),a&&f>0&&s.text.setOffsetY(f+2),new j.default(s)}(t,a)}}),[t]);return o.createElement("div",null,o.createElement(f.qd.Vector,{zIndex:r,style:n},o.createElement(Yt,{data:t.parameters.data})))};Kt.propTypes={layer:l().object,zIndex:l().number};var qt=r(56424);var $t=r(37796),Zt=r(78421),Xt=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new k.default({font:"14px 'Fira Sans',Calibri,sans-serif",textBaseline:"bottom",fill:new O.default({color:e?"rgba(255, 255, 255, 1)":"rgba(0,0,0,1)"}),stroke:new x.default({color:e?"rgba(0, 0, 0, 1)":"rgba(255,255,255,1)",width:3})})},Jt=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new k.default({font:"14px 'Fira Sans',Calibri,sans-serif",textAlign:"end",fill:new O.default({color:e?"rgba(255, 255, 255, 1)":"rgba(0,0,0,1)"}),stroke:new x.default({color:e?"rgba(0, 0, 0, 1)":"rgba(255,255,255,1)",width:3})})},Qt={light:Xt(),dark:Xt(!0)},er={light:Jt(),dark:Jt(!0)},tr=[90,45,30,20,10,5,2,1,.5,20/60,10/60,5/60,2/60,1/60,30/3600,20/3600,10/3600,5/3600,2/3600,1/3600],rr=[90,45,30,20,10,5,2,1,.5,20/60,10/60,5/60,2/60,1/60,1/120,1/300,1/600,1/1200,1/6e3],nr=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001];function or(e){switch((0,$t.Re)(e)){case Zt.Sq.DEGREES:case Zt.Sq.SIGNED_DEGREES:return nr;case Zt.Sq.DEGREES_MINUTES:case Zt.Sq.SIGNED_DEGREES_MINUTES:return rr;default:return tr}}var ar=function(e){e.layer;var t=e.zIndex,r=(0,qt.A)("(prefers-color-scheme: dark)"),n=(0,u.d4)($t.ED),a=(0,u.d4)($t.Xm),i=(0,u.d4)(or);return o.createElement(f.qd.Graticule,{showLabels:!0,intervals:i,latLabelFormatter:n,latLabelStyle:er[r?"dark":"light"],lonLabelFormatter:a,lonLabelStyle:Qt[r?"dark":"light"],zIndex:t})};ar.propTypes={layer:l().object,zIndex:l().number};r(66412),r(78125),r(4731),r(60479),r(3362);var ir,cr=r(83869),lr=r(28646),ur=r.n(lr),sr=r(86717),fr=r(52490),pr=r(69312),dr=r(85784),yr=r(64054),mr=r(38306),hr=r(84630),vr=r(64794),gr=r(40827),br=r(50256),wr=r(20961),Er=function(e,t,r,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,r):o?o.value=r:t.set(e,r),r},Ar=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class Sr{constructor(e){ir.set(this,void 0),e instanceof Map?Er(this,ir,new Map([...e.entries()].map((([e,t])=>[JSON.stringify(e),t]))),"f"):Array.isArray(e)?Er(this,ir,new Map(e),"f"):Er(this,ir,new Map,"f")}set(e,t){return Ar(this,ir,"f").set(JSON.stringify(e),t)}has(e){return Ar(this,ir,"f").has(JSON.stringify(e))}get(e){return Ar(this,ir,"f").get(JSON.stringify(e))}get data(){return Ar(this,ir,"f")}get size(){return Ar(this,ir,"f").size}*keys(){for(const e of Ar(this,ir,"f").keys())yield JSON.parse(e)}*[(ir=new WeakMap,Symbol.iterator)](){for(const[e,t]of Ar(this,ir,"f"))yield[JSON.parse(e),t]}}function Or(e){return Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Or(e)}function xr(){xr=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==Or(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(Or(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function jr(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function kr(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){jr(a,n,o,i,c,"next",e)}function c(e){jr(a,n,o,i,c,"throw",e)}i(void 0)}))}}function Tr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||Pr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ir(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Pr(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Cr(e){return function(e){if(Array.isArray(e))return Lr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Pr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pr(e,t){if(e){if("string"==typeof e)return Lr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Lr(e,t):void 0}}function Lr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Br(n.key),n)}}function Rr(e,t,r){return t&&Nr(e.prototype,t),r&&Nr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dr(e,t,r){return t=Fr(t),function(e,t){if(t&&("object"===Or(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Mr()?Reflect.construct(t,r||[],Fr(e).constructor):t.apply(e,r))}function Mr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Mr=function(){return!!e})()}function Fr(e){return Fr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fr(e)}function Ur(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gr(e,t)}function Gr(e,t){return Gr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Gr(e,t)}function Vr(e,t,r){return(t=Br(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Br(e){var t=function(e,t){if("object"!=Or(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Or(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Or(t)?t:t+""}var Hr=function(e){return ur()(e).format({mantissa:3})},Wr={linear:{name:"Linear",function:function(e){return e}},logarithmic:{name:"Logarithmic",function:function(e){return Math.log(e)}}},zr=function(e){function t(e){var r;return _r(this,t),Vr(r=Dr(this,t,[e]),"_showSubscriptionDialog",(function(){r._refs.subscriptionDialog.current.showDialog()})),Vr(r,"_handleHueChange",(function(e){r.setState(Vr({},e.target.id,(0,st.A)(e.target.value)))})),Vr(r,"_handleColoringFunctionChange",(function(e){r.setState({coloringFunction:e.target.value})})),Vr(r,"_handleClick",(function(){r.props.setLayerParameters({threshold:(0,st.A)(r._refs.threshold.current.value),coloringFunction:r.state.coloringFunction,minValue:(0,st.A)(r._refs.minValue.current.value),maxValue:(0,st.A)(r._refs.maxValue.current.value),minHue:r.state.minHue,maxHue:r.state.maxHue,minDistance:(0,st.A)(r._refs.minDistance.current.value)})})),Vr(r,"_clearData",(function(){window.localStorage.removeItem("".concat(r.props.layerId,"_data")),r._refs.minValue.current.value=0,r.props.setLayerParameters({minValue:0}),r._refs.maxValue.current.value=0,r.props.setLayerParameters({maxValue:0})})),r.state={coloringFunction:e.layer.parameters.coloringFunction,minHue:e.layer.parameters.minHue,maxHue:e.layer.parameters.maxHue},r._refs=Object.assign.apply(Object,[{}].concat(Cr(["subscriptionDialog","threshold","minValue","maxValue","minHue","maxHue","minDistance"].map((function(e){return Vr({},e,o.createRef())}))))),r._setAutoScale=function(e,t){r.props.setLayerParameters({autoScale:t})},r._setSnapToGrid=function(e,t){r.props.setLayerParameters({snapToGrid:t})},r}return Ur(t,e),Rr(t,[{key:"render",value:function(){var e=this.props.setLayerParameter,t=this.props.layer.parameters,r=this.state,n=r.minHue,a=r.maxHue,i={marginRight:10,width:125};return o.createElement("div",null,o.createElement(br.A,{ref:this._refs.subscriptionDialog,subscriptions:t.subscriptions,setSubscriptions:(0,cr.A)(e,"subscriptions"),unit:t.unit,setUnit:(0,cr.A)(e,"unit")}),o.createElement(dt.A,{variant:"contained",style:{marginBottom:"10px"},onClick:this._showSubscriptionDialog},"Edit subscriptions"),o.createElement("br",null),o.createElement(dr.A,{row:!0},o.createElement(yt.A,{inputRef:this._refs.threshold,style:i,label:"Threshold",type:"number",defaultValue:Hr(t.threshold)}),o.createElement(pr.A,{style:{width:"125px"}},o.createElement(mr.A,{htmlFor:"selectedChannel"},"Coloring function"),o.createElement(gr.A,{value:this.state.coloringFunction,onChange:this._handleColoringFunctionChange},Object.keys(Wr).map((function(e){return o.createElement(hr.A,{key:e,value:e},Wr[e].name)}))))),o.createElement(dr.A,{row:!0},o.createElement(yt.A,{inputRef:this._refs.minValue,style:i,label:"Minimum value",type:"number",defaultValue:Hr(t.minValue)}),o.createElement(yt.A,{inputRef:this._refs.maxValue,style:i,label:"Maximum value",type:"number",defaultValue:Hr(t.maxValue)}),o.createElement(p.A,{label:"Autoscale",control:o.createElement(vr.A,{checked:t.autoScale,onChange:this._setAutoScale})})),o.createElement("div",{style:{padding:"24px 0"}},o.createElement("input",{ref:this._refs.minHue,id:"minHue",type:"range",min:"0",max:"360",style:{width:"100px",verticalAlign:"middle"},value:n,onChange:this._handleHueChange}),o.createElement("div",{style:{display:"inline-block",width:"300px",height:"25px",margin:"5px",verticalAlign:"middle",background:"linear-gradient(-90deg,\n              hsla(".concat(a,", 70%, 50%, 0.75),\n              hsla(").concat(n,", 70%, 50%, 0.75)\n            )"),borderRadius:"10px",boxShadow:"0px 0px 3px 0px black"}}),o.createElement("input",{ref:this._refs.maxHue,id:"maxHue",type:"range",min:"0",max:"360",style:{width:"100px",verticalAlign:"middle"},value:a,onChange:this._handleHueChange})),o.createElement(dr.A,{row:!0},o.createElement(yt.A,{inputRef:this._refs.minDistance,label:"Min distance",style:i,InputProps:{endAdornment:o.createElement(yr.A,{position:"end"},"m")},type:"number",defaultValue:Hr(t.minDistance)}),o.createElement(p.A,{label:"Snap to grid",control:o.createElement(vr.A,{checked:t.snapToGrid,onChange:this._setSnapToGrid})})),o.createElement(dr.A,{row:!0,style:{paddingTop:10}},o.createElement(dt.A,{onClick:this._handleClick},"Update parameters"),o.createElement(dt.A,{color:"secondary",onClick:this._clearData},"Clear data")))}}])}(o.Component);Vr(zr,"propTypes",{layer:l().object,layerId:l().string,setLayerParameter:l().func,setLayerParameters:l().func});var Yr=(0,u.Ng)(null,(function(e,t){return{setLayerParameters:function(r){e((0,m.K_)(t.layerId,r))},setLayerParameter:function(r,n){e((0,m.K_)(t.layerId,Vr({},r,n)))}}}))(zr),Kr=function(e){function t(e){var r;return _r(this,t),Vr(r=Dr(this,t,[e]),"_assignSourceRef",(function(e){r._sourceRef!==e&&(r._sourceRef&&r._sourceRef.source.clear(),r._sourceRef=e,r._sourceRef&&r._drawFromStoredData())})),Vr(r,"_getStoredData",(function(){return window.localStorage.getItem(r.props.storageKey)||window.localStorage.setItem(r.props.storageKey,"[]"),new Sr(JSON.parse(window.localStorage.getItem(r.props.storageKey)))})),Vr(r,"_setStoredData",(function(e){window.localStorage.setItem(r.props.storageKey,JSON.stringify(Cr(e.data)))})),Vr(r,"_drawFromStoredData",(function(){var e=(r._sourceRef||{}).source;if(e){e.clear(),r.features=new Sr;var t,n=Ir(r._getStoredData());try{for(n.s();!(t=n.n()).done;){var o=Tr(t.value,2),a=o[0],i=o[1];r.features.set(a,r._drawPointFromData(Object.assign({value:i},a)))}}catch(e){n.e(e)}finally{n.f()}}})),Vr(r,"_trySubscribe",function(){var e=kr(xr().mark((function e(t){return xr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wr.A.waitUntilReady();case 2:wr.A.sendMessage({type:"DEV-SUB",paths:t});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Vr(r,"_tryUnsubscribe",function(){var e=kr(xr().mark((function e(t){return xr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wr.A.waitUntilReady();case 2:wr.A.sendMessage({type:"DEV-UNSUB",paths:t});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Vr(r,"_processData",(function(e,t){var n,o,a=r.props.parameters.minDistance;if(r.props.parameters.snapToGrid){var i=(0,W.Al)((0,W.Ur)([t.lon,t.lat]).map((function(e){return Math.round(e/a)*a})));t.lon=i[0],t.lat=i[1];var c={lon:t.lon,lat:t.lat};if(e.has(c))return t.value=(e.get(c)+t.value)/2,e.set(c,t.value),void(r.features.get(c).measuredValue=t.value)}else{var l,u=Ir(e.keys());try{for(u.s();!(l=u.n()).done;){var s=l.value;if(n=s,o=t,(0,fr.Yf)([n.lon,n.lat],[o.lon,o.lat])<a)return t.value=(e.get(s)+t.value)/2,e.set(s,t.value),void(r.features.get(s).measuredValue=t.value)}}catch(e){u.e(e)}finally{u.f()}}var f={lon:t.lon,lat:t.lat};e.set(f,t.value),r.features.set(f,r._drawPointFromData(t))})),Vr(r,"_processNotification",(function(e){var t=r._getStoredData();for(var n in e.body.values)if(r.props.parameters.subscriptions.includes(n)&&null!==e.body.values[n].value){var o=e.body.values[n];r._processData(t,o),r.props.parameters.autoScale&&(o.value>r.props.parameters.threshold&&(o.value<r.props.parameters.minValue||0===r.props.parameters.minValue&&0===r.props.parameters.maxValue)&&r.props.setLayerParameters({minValue:o.value}),o.value>r.props.parameters.maxValue&&r.props.setLayerParameters({maxValue:o.value}))}r._setStoredData(t),r.features.size!==t.size&&r._drawFromStoredData()})),Vr(r,"_makePoint",(function(e){return new sr.default({geometry:new K.default((0,W.Ur)(e))})})),Vr(r,"_drawPointFromData",(function(e){var t=r._makePoint([e.lon,e.lat]);t.measuredValue=e.value;var n=(r._sourceRef||{}).source;return n&&n.addFeature(t),t})),r._sourceRef=void 0,r.features=new Sr,r}return Ur(t,e),Rr(t,[{key:"componentDidMount",value:function(){this._trySubscribe(this.props.parameters.subscriptions),wr.A.registerNotificationHandler("DEV-INF",this._processNotification)}},{key:"componentDidUpdate",value:function(){this._drawFromStoredData()}},{key:"componentWillUnmount",value:function(){this._tryUnsubscribe(this.props.parameters.subscriptions),wr.A.unregisterNotificationHandler("DEV-INF",this._processNotification)}},{key:"render",value:function(){return o.createElement(f.sP.Vector,{ref:this._assignSourceRef})}}])}(o.Component);Vr(Kr,"propTypes",{storageKey:l().string,parameters:l().object,setLayerParameters:l().func});var qr=function(e){function t(e){var r;return _r(this,t),(r=Dr(this,t,[e]))._colorForValue=r._colorForValue.bind(r),r.styleFunction=r.styleFunction.bind(r),r}return Ur(t,e),Rr(t,[{key:"_colorForValue",value:function(e){var t=this.props.layer.parameters,r=t.threshold,n=t.coloringFunction,o=t.minValue,a=t.maxValue,i=t.minHue,c=t.maxHue,l=Wr[n].function,u=l(e),s=l(o),f=l(a);return e<r?"hsla(0, 100%, 100%, 0.5)":"hsla(".concat(i+(f>s?(u-s)/(f-s):0)*(c-i),", 70%, 50%, 0.5)")}},{key:"styleFunction",value:function(e,t){var r=.9/t+1.5;return function(e,t){return new j.default({image:new U.A({fill:new O.default({color:e}),radius:t})})}(this._colorForValue(e.measuredValue),r)}},{key:"render",value:function(){var e=this.props.layer.parameters,t=e.minValue,r=e.maxValue,n=e.unit||"";return o.createElement("div",null,o.createElement(f.qd.Vector,{zIndex:this.props.zIndex,style:this.styleFunction},o.createElement(Kr,{storageKey:"".concat(this.props.layerId,"_data"),parameters:this.props.layer.parameters,setLayerParameters:this.props.setLayerParameters})),o.createElement("div",{id:"heatmapScale",style:{background:"linear-gradient(\n              hsla(".concat(this.props.layer.parameters.maxHue,", 70%, 50%, 0.75),\n              hsla(").concat(this.props.layer.parameters.minHue,", 70%, 50%, 0.75)\n            )"),borderRadius:"5px"}},o.createElement("span",null,"".concat(Hr(r)," ").concat(n)),o.createElement("span",null,"".concat(Hr((r+t)/2)," ").concat(n)),o.createElement("span",null,"".concat(Hr(t)," ").concat(n))))}}])}(o.Component);Vr(qr,"propTypes",{layer:l().object,layerId:l().string,zIndex:l().number,setLayerParameters:l().func});var $r=(0,u.Ng)(null,(function(e,t){return{setLayerParameters:function(r){e((0,m.K_)(t.layerId,r))}}}))(qr),Zr=(r(48598),r(50791)),Xr=r(92866),Jr=r(61597);function Qr(e){return Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qr(e)}function en(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sn(n.key),n)}}function rn(e,t,r){return t&&tn(e.prototype,t),r&&tn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nn(e,t,r){return t=an(t),function(e,t){if(t&&("object"===Qr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,on()?Reflect.construct(t,r||[],an(e).constructor):t.apply(e,r))}function on(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(on=function(){return!!e})()}function an(e){return an=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},an(e)}function cn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ln(e,t)}function ln(e,t){return ln=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ln(e,t)}function un(e,t,r){return(t=sn(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sn(e){var t=function(e,t){if("object"!=Qr(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Qr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Qr(t)?t:t+""}var fn=function(e){function t(e){var r;return en(this,t),un(r=nn(this,t,[e]),"_assignCenterField",(function(e){r._inputFields.center=e})),un(r,"_assignRadiusField",(function(e){r._inputFields.radius=e})),un(r,"_assignSizeField",(function(e){r._inputFields.size=e})),un(r,"_handleClick",(function(){r.props.setLayerParameters({center:r._inputFields.center.value.split(",").map(st.A),size:(0,st.A)(r._inputFields.size.value),radius:(0,st.A)(r._inputFields.radius.value)})})),r._inputFields={},r}return cn(t,e),rn(t,[{key:"render",value:function(){var e=this.props.layer.parameters,t=e.center,r=e.size,n=e.radius,a=t?t.join(", "):"";return o.createElement("div",null,o.createElement(yt.A,{style:{paddingRight:"1em"},inputRef:this._assignCenterField,label:"Center of the grid",placeholder:"Center (comma separated)",defaultValue:a}),o.createElement(yt.A,{style:{paddingRight:"1em"},inputRef:this._assignSizeField,label:"Size of the grid",placeholder:"Size",defaultValue:String(r)}),o.createElement(yt.A,{style:{paddingRight:"1em"},inputRef:this._assignRadiusField,label:"Radius of one cell",placeholder:"Radius",defaultValue:String(n)}),o.createElement("br",null),"\xa0",o.createElement("br",null),o.createElement(dt.A,{onClick:this._handleClick},"Update hex grid"))}}])}(o.Component);un(fn,"propTypes",{layer:l().object,setLayerParameters:l().func});var pn=(0,u.Ng)(null,(function(e,t){return{setLayerParameters:function(r){e((0,m.K_)(t.layerId,r))}}}))(fn),dn=function(e){function t(){var e;en(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return un(e=nn(this,t,[].concat(n)),"_assignSourceRef",(function(t){if(e._sourceRef!==t){if(e._sourceRef)e._sourceRef.source.clear();e._sourceRef=t}})),e}return cn(t,e),rn(t,[{key:"componentDidUpdate",value:function(){if(this._sourceRef){var e=this._sourceRef.source;this._drawHexagonsFromProps(this.props,e)}}},{key:"render",value:function(){return o.createElement(f.sP.Vector,{ref:this._assignSourceRef})}},{key:"_getCorners",value:function(e,t){return[30,90,150,210,270,330,30].map(Jr.eh).map((function(r){return(0,W.Ur)([e[0]+t*Math.sin(r),e[1]+t*Math.cos(r)])}))}},{key:"_getHexagon",value:function(e,t){return new sr.default({geometry:new _e.default([this._getCorners(e,t)])})}},{key:"_drawHexagonsFromProps",value:function(e,t){for(var r,n=e.center,o=e.size,a=e.radius,i={},c=-o;c<=o;c++)for(var l=Math.max(-o,-o-c);l<=Math.min(o,o-c);l++){var u="".concat(c,",").concat(l);i[u]=this._getHexagon([n[0]+1.5*a*c,n[1]-a*Math.sqrt(3)*(.5*c+l)],a),i[u].setId(u)}t.clear(),t.addFeatures((0,Xr.A)(i));for(var s=0,f=Object.keys(i);s<f.length;s++){var p=f[s],d=p.split(",").map(st.A),y=(0,Zr.A)(d.map(Math.abs))/(2*o+1)*115;i[p].setStyle((r="hsla(".concat(y,", 70%, 50%, 0.5)"),new j.default({fill:new O.default({color:r})})))}}}])}(o.PureComponent),yn=function(e){var t=e.layer,r=e.zIndex,n=t.parameters,a=n.center,i=n.size,c=n.radius;return o.createElement("div",null,o.createElement(f.qd.Vector,{zIndex:r},o.createElement(dn,{center:a,size:i,radius:c})),o.createElement("div",{id:"heatmapScale"},o.createElement("span",null,"100%"),o.createElement("span",null,"50%"),o.createElement("span",null,"0%")))};yn.propTypes={layer:l().object,zIndex:l().number};var mn=yn,hn=(r(9868),r(90952)),vn=r(84596),gn=r(20281),bn=r(23119),wn=r(22488),En=r(93107),An=r(24840),Sn=r(36549),On=r(78707),xn=r(54371);function jn(e){return jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jn(e)}function kn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Tn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kn(Object(r),!0).forEach((function(t){In(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function In(e,t,r){var n;return n=function(e,t){if("object"!=jn(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=jn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==jn(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cn(){Cn=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(P([])));A&&A!==r&&n.call(A,i)&&(w=A);var S=b.prototype=v.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==jn(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=k(c,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(jn(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new x(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function Pn(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Ln(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Pn(a,n,o,i,c,"next",e)}function c(e){Pn(a,n,o,i,c,"throw",e)}i(void 0)}))}}var _n=function(e){var t=e.active,r=e.save,n=(0,vn.A)(t);return n&&n!==t&&setTimeout(r,0),null};_n.propTypes={active:l().string,save:l().func};var Nn=function(){var e=Ln(Cn().mark((function e(t){return Cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var r=new window.Image;r.addEventListener("load",(function(){e({width:r.naturalWidth,height:r.naturalHeight})})),r.src=t})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Rn=function(e){var t=e.layer.parameters,r=e.mapViewCenterPosition,n=e.selectImage,a=e.updateTransform,i=(0,o.useRef)(),c=(0,o.useCallback)((function(){i.current&&i.current.click()}),[]);(0,o.useEffect)((function(){t.transform.position||a(Tn(Tn({},t.transform),{},{position:{lon:r[0].toFixed(6),lat:r[1].toFixed(6)}}))}));var l=(0,o.useCallback)((function(){(0,An.Wp)("ImageTransformEditor")}),[]);return o.createElement(hn.lV,{initialValues:Tn({},t.transform),onSubmit:a},(function(e){var r=e.handleSubmit;return o.createElement("form",{id:"ImageTransformEditor",onSubmit:r},o.createElement(hn.Pc,{subscription:{active:!0,values:!0},component:_n,save:l}),o.createElement(pt.A,{display:"flex",flexDirection:"row"},t.image.name?o.createElement("img",{src:t.image.data,style:{width:"100%",minWidth:"0",height:"10em",objectFit:"contain"}}):o.createElement(wn.A,{variant:"rect",width:"100%",height:"10em",onClick:c}),o.createElement(pt.A,{p:.75}),o.createElement(pt.A,{textAlign:"center",margin:"auto",width:"100%"},o.createElement(En.A,{ref:i,filter:["image/*"],variant:"contained",startIcon:o.createElement(bn.A,null),onSelected:n},"Select"),o.createElement(pt.A,{p:.75}),t.image.name?o.createElement(o.Fragment,null,o.createElement("span",null,t.image.name),o.createElement("br",null),o.createElement("span",{style:{fontStyle:"italic"}},t.image.dimensions.width,"\xa0\xd7\xa0",t.image.dimensions.height,"\xa0px")):"Please select an image!")),o.createElement(pt.A,{display:"flex",flexDirection:"row"},o.createElement(An.r2,{fullWidth:!0,margin:"dense",name:"position.lat",label:"Latitude of center"}),o.createElement(pt.A,{p:.75}),o.createElement(An.Ob,{fullWidth:!0,margin:"dense",name:"position.lon",label:"Longitude of center"})),o.createElement(pt.A,{display:"flex",flexDirection:"row"},o.createElement(An.DS,{fullWidth:!0,margin:"dense",name:"angle",label:"Angle"}),o.createElement(pt.A,{p:.75}),o.createElement(An.A_,{fullWidth:!0,type:"number",inputProps:{step:.1},fieldProps:{validate:(0,xn.fj)([xn.mw,xn.E2,xn.yj])},InputProps:{endAdornment:o.createElement(yr.A,{position:"end"},"cm/px")},margin:"dense",name:"scale",label:"Scale",variant:"filled"})),o.createElement("input",{hidden:!0,type:"submit"}))}))};Rn.propTypes={layer:l().object,mapViewCenterPosition:l().arrayOf(l().number),selectImage:l().func,updateTransform:l().func};var Dn=(0,u.Ng)((function(e){return{mapViewCenterPosition:(0,Sn.Gk)(e)}}),(function(e,t){return{selectImage:function(r){return Ln(Cn().mark((function n(){var o;return Cn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,On.C2)(r);case 2:return o=n.sent,n.t0=e,n.t1=m.K_,n.t2=t.layerId,n.t3=o,n.t4=r.name,n.next=10,Nn(o);case 10:n.t5=n.sent,n.t6={data:n.t3,name:n.t4,dimensions:n.t5},n.t7={image:n.t6},n.t8=(0,n.t1)(n.t2,n.t7),(0,n.t0)(n.t8);case 15:case"end":return n.stop()}}),n)})))()},updateTransform:function(r){var n={position:{lon:Number(r.position.lon),lat:Number(r.position.lat)},angle:Number(r.angle),scale:Number(r.scale)};e((0,m.K_)(t.layerId,{transform:n}))}}}))(Rn),Mn=function(e){var t=e.layer.parameters,r=t.image,n=t.transform,a=n.position,i=n.angle,c=n.scale,l=e.zIndex;return a?o.createElement(f.qd.GeoImage,{zIndex:l},o.createElement(f.sP.GeoImage,{url:r.data,imageCenter:(0,W.Ur)([a.lon,a.lat]),imageRotate:(0,$.eh)(i),imageScale:c/(0,gn.hO)("EPSG:3857",100,(0,W.Ur)([a.lon,a.lat]))})):null};Mn.propTypes={layer:l().object,zIndex:l().number};var Fn=Mn,Un=(r(18107),r(50113),r(78350),r(30237),r(25843),r(67357),r(95115),r(55698)),Gn=r(81368),Vn=r(41811),Bn=r(63614),Hn=r.n(Bn),Wn=r(6933),zn=r(19371),Yn=r(37813),Kn=r(48190),qn=r(12209),$n=r(53645),Zn=r(45056),Xn=r(63175),Jn=r(34023),Qn=r(545),eo=new j.default({stroke:Q(B.Ay.plannedTrajectory)});function to(e){return e?(t=e.map((function(e){return(0,W.Ur)([e.lon,e.lat])})),(0,Qn.default)(t,(function(e,r){return r>0&&e[0]===t[r-1][0]&&e[1]===t[r-1][1]}))):void 0;var t}var ro=function(e){return[eo,ue(B.Ay.plannedTrajectory,"start")(e),ue(B.Ay.plannedTrajectory,"end")(e)]},no=function(e){var t=e.source,r=e.trajectory,n=e.uavId,a=(0,o.useMemo)((function(){return to(r)}),[r]);return a?o.createElement(f.Xj,{id:(0,z.O3)(n),source:t,style:ro},o.createElement(f.N4.LineString,{coordinates:a})):null};no.propTypes={source:l().any,trajectory:l().arrayOf(Jn.A.coordinate),uavId:l().string};const oo=(0,u.Ng)((function(e,t){var r=t.uavId;return{trajectory:(0,Kn.TX)(e,r)}}),{})(no);var ao=function(e){var t=e.source,r=e.trajectory,n=e.missionIndex,a=(0,o.useMemo)((function(){return to(r)}),[r]);return a?o.createElement(f.Xj,{id:(0,z.O3)(n),source:t,style:ro},o.createElement(f.N4.LineString,{coordinates:a})):null};ao.propTypes={source:l().any,trajectory:l().arrayOf(Jn.A.coordinate),missionIndex:l().string};const io=(0,u.Ng)((function(e,t){var r=t.missionIndex;return{trajectory:(0,Yn.sc)(e,r)}}),{})(ao),co=r.p+"b024253d6f05fb4c5b5b.svg",lo=r.p+"7f14249f87c6b5995e3f.svg",uo=r.p+"a1dd466ef5fec4212608.svg";var so=["layer","zIndex"];function fo(e){return fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fo(e)}function po(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function yo(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=ho(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function mo(e){return function(e){if(Array.isArray(e))return vo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ho(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ho(e,t){if(e){if("string"==typeof e)return vo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vo(e,t):void 0}}function vo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function go(e,t,r){var n;return n=function(e,t){if("object"!=fo(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=fo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==fo(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var bo=function(e){var t=e.layer,r=e.setLayerParameters,n=t.parameters||{},a=n.showConvexHull,i=n.showOrigin,c=n.showHomePositions,l=n.showLandingPositions,u=n.showMissionItems,s=n.showMissionOrigin,f=n.showTrajectoriesOfSelection,d=function(e){return function(t){return r(go({},e,t.target.checked))}};return o.createElement(dr.A,null,o.createElement(p.A,{control:o.createElement(zn.A,{checked:Boolean(i),value:"showOrigin",onChange:d("showOrigin")}),label:"Show map origin"}),o.createElement(p.A,{control:o.createElement(zn.A,{checked:Boolean(s),value:"showMissionOrigin",onChange:d("showMissionOrigin")}),label:"Show mission origin"}),o.createElement(p.A,{control:o.createElement(zn.A,{checked:Boolean(c),value:"showHomePositions",onChange:d("showHomePositions")}),label:"Show home positions"}),o.createElement(p.A,{control:o.createElement(zn.A,{checked:Boolean(l),value:"showLandingPositions",onChange:d("showLandingPositions")}),label:"Show landing positions"}),(0,Zn.jI)("showControl")&&o.createElement(o.Fragment,null,o.createElement(p.A,{control:o.createElement(zn.A,{checked:Boolean(a),value:"showConvexHull",onChange:d("showConvexHull")}),label:"Show convex hull of trajectories"}),o.createElement(p.A,{control:o.createElement(zn.A,{checked:Boolean(f),value:"showTrajectoriesOfSelection",onChange:d("showTrajectoriesOfSelection")}),label:"Show trajectories of selected drones"})),(0,Zn.jI)("missionEditor")&&o.createElement(p.A,{control:o.createElement(zn.A,{checked:Boolean(u),value:"showMissionItems",onChange:d("showMissionItems")}),label:"Show mission items"}))};bo.propTypes={layer:l().object,setLayerParameters:l().func};var wo=(0,u.Ng)(null,(function(e,t){return{setLayerParameters:function(r){e((0,m.K_)(t.layerId,r))}}}))(bo);function Eo(e){e&&((0,Y.m_)(e.layer),(0,Y.Uz)(e.layer))}var Ao,So=X(B.Ay.axes.x,2),Oo=X(B.Ay.axes.y,2),xo=Z(B.Ay.markers.origin),jo=new q.A({fill:Z(B.Ay.markers.takeoff),points:3,radius:6,stroke:te}),ko=new q.A({fill:Z(B.Ay.markers.landing),points:3,radius:6,rotation:Math.PI,stroke:te}),To=function(e,t){return[new j.default({geometry:function(e){var t=e.getGeometry().getFirstCoordinate();return new K.default(t)},image:new U.A({fill:xo,radius:8,stroke:e?ae:oe})}),new j.default({stroke:"x"===t?So:Oo})]},Io=function(e,t){var r=(0,z.JT)(e.getId()),n={image:jo};return t<.4&&(n.text=new k.default({font:"12px sans-serif",offsetY:12,text:(0,Xn.J8)(Number.parseInt(r,10)),textAlign:"center"})),new j.default(n)},Co=function(e,t){var r=(0,z.p$)(e.getId()),n={image:ko};return t<.4&&(n.text=new k.default({font:"12px sans-serif",offsetY:-12,text:(0,Xn.J8)(Number.parseInt(r,10)),textAlign:"center"})),new j.default(n)},Po=Hn()((function(e,t,r){return function(n){var o=n.get("index"),a={image:new T.A({src:co,anchor:[.5,.95],color:r?B.Ay.selectedMissionItem:t?B.Ay.doneMissionItem:e?B.Ay.currentMissionItem:B.Ay.missionItem,rotateWithView:!1,snapToPixel:!1}),text:new k.default({font:"12px sans-serif",offsetY:-17,text:void 0!==o?String(o+1):"?",textAlign:"center"})};if(r){var i={image:new T.A({src:lo,anchor:[.5,.95],rotateWithView:!1,snapToPixel:!1})};return[new j.default(i),new j.default(a)]}return new j.default(a)}})),Lo=(0,Vn.A)((function(e){return new j.default({image:new T.A({src:uo,rotateWithView:!0,rotation:(0,$.eh)(e),snapToPixel:!1})})})),_o=new j.default({stroke:Q(B.Ay.convexHull)}),No=new j.default({stroke:ae}),Ro=new j.default({stroke:(Ao=B.Ay.flightArea,X(Ao,2,[5,7.5]))}),Do=new j.default({stroke:oe}),Mo=function(e){return nt(e,B.Ay.flightArea)},Fo=new j.default({stroke:J(B.Ay.doneMissionItem)}),Uo=new j.default({stroke:Q(B.Ay.missionItem)}),Go=function(e){return[new j.default({stroke:ce(B.Ay.auxiliaryMissionItem)}),ue(B.Ay.auxiliaryMissionItem,"start")(e),ue(B.Ay.auxiliaryMissionItem,"end")(e)]},Vo=(0,z.cE)(z.gP),Bo=(0,z.Ru)(z.aU),Ho=(0,z.O3)(z.IP),Wo=(0,z.Ru)(z.Ws),zo=function(e,t,r){if(null!=e&&e[0]&&(null==t?void 0:t.length)>0){var n=function(e,t,r,n){return o.createElement(f.Xj,{key:t,id:e,style:Go},o.createElement(f.N4.LineString,{coordinates:[(0,W.Ur)([r.lon,r.lat]),(0,W.Ur)([n.lon,n.lat])]}))};return[{id:"start",index:-1}].concat(mo(r.map((function(e){var t=e.index;return{id:e.item.id,index:t}})))).flatMap((function(r){var o,a=r.id,i=r.index,c=(o=i,{before:t.findLast((function(e){return e.index<o})),after:t.find((function(e){return e.index>o}))}),l=c.before,u=c.after;return[].concat(mo(l?[n("auxiliaryMissionLineString_".concat(a,"_before"),"".concat(Ho,"Aux_").concat(a,"_before"),l.coordinate,e[0])]:[]),mo(u?[n("auxiliaryMissionLineString_".concat(a,"_after"),"".concat(Ho,"Aux_").concat(a,"_after"),e[0],u.coordinate)]:[]))}))}return[]},Yo=function(e){var t=e.convexHull,r=e.coordinateSystemType,n=e.currentItemIndex,a=e.currentItemRatio,i=e.homePositions,c=e.landingPositions,l=e.mapOrigin,u=e.missionItemsWithAreas,s=e.missionItemsWithCoordinates,p=e.missionOrientation,d=e.missionOrigin,y=e.missionSlotIdsForTrajectories,m=e.orientation,h=e.returnToHomeItems,v=e.selectedTool,g=e.selection,b=e.uavIdsForTrajectories;return o.createElement(f.sP.Vector,null,[].concat(function(e){return Array.isArray(e)?e.map((function(e,t){var r="land.".concat(t);if(!e)return null;var n=(0,z.lm)(t),a=(0,W.Ur)([e.lon,e.lat]);return o.createElement(f.Xj,{key:r,id:n,style:Co},o.createElement(f.N4.Point,{coordinates:a}))})).filter(Boolean):[]}(c),function(e){return Array.isArray(e)?e.map((function(e,t){var r="home.".concat(t);if(!e)return null;var n=(0,z.VV)(t),a=(0,W.Ur)([e.lon,e.lat]);return o.createElement(f.Xj,{key:r,id:n,style:Io},o.createElement(f.N4.Point,{coordinates:a}))})).filter(Boolean):[]}(i),function(e,t,r,n){if(t){var a=(0,W.Ur)(t),i=50/(0,gn.hO)("EPSG:3857",1,a),c=[0,"nwu"===e?i:-i],l=[i,0],u=n.includes(Bo+"$x")||n.includes(Bo+"$y");return Wn.e$(l,(0,$.eh)(90-r)),Wn.e$(c,(0,$.eh)(90-r)),Wn.WQ(c,a),Wn.WQ(l,a),[o.createElement(f.Xj,{key:"mapOrigin.x",id:Bo+"$x",style:To(u,"x")},o.createElement(f.N4.LineString,{coordinates:[a,l]})),o.createElement(f.Xj,{key:"mapOrigin.y",id:Bo+"$y",style:To(u,"y")},o.createElement(f.N4.LineString,{coordinates:[a,c]}))]}return[]}(r,l,m,g),function(e,t,r){var n;return null!==(n=null==e?void 0:e.map((function(e){var n,a=e.id,i=e.area,c=null==i||null===(n=i.points)||void 0===n?void 0:n.map((0,Ce.A)(W.Ur));(0,$.hR)(c);var l=(0,z.S2)(a),u=t.includes(l);return o.createElement(f.Xj,{key:"missionFlightArea",id:l,style:[].concat(mo(u?[Do]:[]),[Ro],mo(r===Ve.NL.EDIT_FEATURE?[Mo(u)]:[]))},o.createElement(f.N4.Polygon,{coordinates:c}))})))&&void 0!==n?n:[]}(u,g,v),function(e,t,r,n){return r?r.map((function(r){var a=r.index,i=r.id,c=r.coordinate,l=a===e,u=a<e||a===e&&1===t,s=(0,z.S2)(i),p=n.includes(s),d=(0,W.Ur)([c.lon,c.lat]);return o.createElement(f.Xj,{key:s,id:s,properties:{index:a},style:Po(l,u,p)},o.createElement(f.N4.Point,{coordinates:d}))})):[]}(n,a,s,g),function(e,t,r){if(!r)return[];var n=function(t){return t.index<e},a=(0,Gn.A)(r,n),i=(0,Un.A)(r,n);if(a.length+i.length>1){var c=a.map((function(e){var t=e.coordinate;return(0,W.Ur)([t.lon,t.lat])})),l=i.map((function(e){var t=e.coordinate;return(0,W.Ur)([t.lon,t.lat])}));if(a.length>0&&i.length>0){var u,s=null!==(u=i[0].index===e?t:0)&&void 0!==u?u:0,p=c.at(-1),d=l.at(0),y=[p[0]*(1-s)+d[0]*s,p[1]*(1-s)+d[1]*s];c.push(y),l.unshift(y)}return[o.createElement(f.Xj,{key:"doneMissionItemLineString",id:"".concat(Ho,"Done"),style:Fo},o.createElement(f.N4.LineString,{coordinates:c})),o.createElement(f.Xj,{key:"todoMissionItemLineString",id:"".concat(Ho,"Todo"),style:Uo},o.createElement(f.N4.LineString,{coordinates:l}))]}}(n,a,s),zo(i,s,h),function(e,t){return t?[o.createElement(f.Xj,{key:"missionOrigin",id:Wo,properties:{skipSelection:!0},style:Lo(e)},o.createElement(f.N4.Point,{coordinates:(0,W.Ur)(t)}))]:[]}(p,d),function(e,t){if(e){var r=e.map((function(e){return(0,W.Ur)([e.lon,e.lat])}));(0,$.hR)(r);var n=t.includes(Vo);return[o.createElement(f.Xj,{key:"missionConvexHull",id:Vo,style:[].concat(mo(n?[No]:[]),[_o])},o.createElement(f.N4.Polygon,{coordinates:r}))]}return[]}(t,g),function(e,t){var r=[];if(Array.isArray(t)&&t.length>0){var n,a=yo(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;r.push(o.createElement(oo,{key:"trajectory.".concat(i),uavId:i}))}}catch(e){a.e(e)}finally{a.f()}}if(Array.isArray(e)&&e.length>0){var c,l=yo(e);try{for(l.s();!(c=l.n()).done;){var u=c.value;r.push(o.createElement(io,{key:"trajectory.s".concat(u),missionIndex:u}))}}catch(e){l.e(e)}finally{l.f()}}return r}(y,b)))};Yo.propTypes={convexHull:l().arrayOf(Jn.A.coordinate),coordinateSystemType:l().oneOf(["neu","nwu"]),currentItemIndex:l().number,currentItemRatio:l().number,homePositions:l().arrayOf(Jn.A.coordinate),landingPositions:l().arrayOf(Jn.A.coordinate),mapOrigin:l().arrayOf(l().number),missionItemsWithAreas:l().arrayOf(l().object),missionItemsWithCoordinates:l().arrayOf(l().object),missionOrientation:Jn.A.angle,missionOrigin:l().arrayOf(l().number),missionSlotIdsForTrajectories:l().arrayOf(l().string),orientation:Jn.A.angle,returnToHomeItems:l().arrayOf(l().object),selection:l().arrayOf(l().string),uavIdsForTrajectories:l().arrayOf(l().string)},Yo.defaultProps={orientation:0};var Ko=function(e){e.layer;var t=e.zIndex,r=po(e,so);return o.createElement(f.qd.Vector,{ref:Eo,updateWhileAnimating:!0,updateWhileInteracting:!0,zIndex:t},o.createElement(Yo,r))};Ko.propTypes={layer:l().object,zIndex:l().number};var qo=(0,u.Ng)((function(e,t){var r,n,o,a,i,c,l,u,s,f=t.layer;return{convexHull:null!=f&&null!==(r=f.parameters)&&void 0!==r&&r.showConvexHull?(0,Yn.L_)(e):void 0,coordinateSystemType:e.map.origin.type,currentItemIndex:(0,Me.XW)(e),currentItemRatio:(0,Me.WQ)(e),homePositions:null!=f&&null!==(n=f.parameters)&&void 0!==n&&n.showHomePositions?(0,Me.vT)(e):void 0,landingPositions:null!=f&&null!==(o=f.parameters)&&void 0!==o&&o.showLandingPositions?(0,Me.sV)(e):void 0,mapOrigin:(null==f||null===(a=f.parameters)||void 0===a?void 0:a.showOrigin)&&e.map.origin.position,missionItemsWithAreas:null!=f&&null!==(i=f.parameters)&&void 0!==i&&i.showMissionItems?(0,Me.Yu)(e):void 0,missionItemsWithCoordinates:null!=f&&null!==(c=f.parameters)&&void 0!==c&&c.showMissionItems?(0,Me.Lv)(e):void 0,missionOrigin:null!=f&&null!==(l=f.parameters)&&void 0!==l&&l.showMissionOrigin?(0,Yn.wA)(e):void 0,missionOrientation:(0,Yn.gQ)(e),missionSlotIdsForTrajectories:null!=f&&null!==(u=f.parameters)&&void 0!==u&&u.showTrajectoriesOfSelection?(0,Me.V2)(e):void 0,orientation:(0,Sn.mB)(e),returnToHomeItems:(0,Me.Nw)(e,qn.IU.RETURN_TO_HOME),selection:(0,$n.Lo)(e),uavIdsForTrajectories:null!=f&&null!==(s=f.parameters)&&void 0!==s&&s.showTrajectoriesOfSelection?(0,Kn.sj)(e):void 0}}),{})(Ko);function $o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Zo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xo(e){return Xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xo(e)}function Jo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ea(e,t,r){var n;return n=function(e,t){if("object"!=Xo(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Xo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Xo(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ta=(0,r(63101).Ay)("OwnLocationLayer"),ra=function(e){var t=e.layer.parameters,r=t.showAccuracy,n=t.showOrientation,a=e.setLayerParameters,i=function(e){return function(t){return a(ea({},e,t.target.checked))}};return o.createElement(dr.A,null,o.createElement(p.A,{control:o.createElement(zn.A,{checked:r,value:"showAccuracy",onChange:i("showAccuracy")}),label:"Show accuracy"}),o.createElement(p.A,{control:o.createElement(zn.A,{checked:n,value:"showOrientation",onChange:i("showOrientation")}),label:"Show orientation"}))};ra.propTypes={layer:l().object,setLayerParameters:l().func};var na=(0,u.Ng)(null,(function(e,t){return{setLayerParameters:function(r){e((0,m.K_)(t.layerId,r))}}}))(ra),oa=function(e){var t=e.layer.parameters,r=t.showAccuracy,n=t.showOrientation,a=e.zIndex,i=Jo((0,o.useState)(null),2),c=i[0],l=i[1],u=(0,o.useCallback)((function(e){l(e.target.getPosition())}),[l]),s=(0,o.useMemo)((function(){return new j.default({image:new U.A({radius:8,fill:new O.default({color:"#00AEEF"}),stroke:new x.default({color:"#fff",width:2})})})}),[]),p=Jo((0,o.useState)(null),2),d=p[0],y=p[1],m=(0,o.useCallback)((function(e){y(e.target.getAccuracyGeometry().getLinearRing(0).getCoordinates())}),[y]),h=(0,o.useMemo)((function(){return new j.default({fill:new O.default({color:"rgba(255, 255, 255, 0.35)"}),stroke:new x.default({color:"#00AEEF",width:2})})}),[]),v=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).absolute,t=void 0!==e&&e,r=$o((0,o.useState)(null),2),n=r[0],a=r[1];return(0,o.useEffect)((function(){var e=t?"deviceorientationabsolute":"deviceorientation";return window.addEventListener(e,a),function(){window.removeEventListener(e,a)}}),[t]),n}({absolute:!0}),g=(0,o.useMemo)((function(){return new j.default({image:new q.A({points:3,fill:new O.default({color:"#00AEEF"}),stroke:new x.default({color:"#fff",width:2}),rotateWithView:!0,radius:8,scale:[.75,1],rotation:v?(0,$.eh)(-v.alpha):0,displacement:[0,11]})})}),[v]),b=(0,o.useCallback)((function(e){ta.warn("Error while getting position: ".concat(e.message))}),[]);return o.createElement(f.qd.Vector,{updateWhileAnimating:!0,updateWhileInteracting:!0,zIndex:a},o.createElement(f.LT,{changePosition:u,changeAccuracyGeometry:m,projection:"EPSG:3857",error:b}),o.createElement(f.sP.Vector,null,r&&d?o.createElement(f.Xj,{id:"own-location-accuracy",style:h},o.createElement(f.N4.Polygon,{coordinates:d})):null,n&&c?o.createElement(f.Xj,{id:"own-location-orientation",style:g},o.createElement(f.N4.Point,{coordinates:c})):null,c?o.createElement(f.Xj,{id:"own-location-position",style:s},o.createElement(f.N4.Point,{coordinates:c})):null))};oa.propTypes={layer:l().object,zIndex:l().number};var aa=r(8728);function ia(e){return ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ia(e)}function ca(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function la(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ha(n.key),n)}}function ua(e,t,r){return t&&la(e.prototype,t),r&&la(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sa(e,t,r){return t=pa(t),function(e,t){if(t&&("object"===ia(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,fa()?Reflect.construct(t,r||[],pa(e).constructor):t.apply(e,r))}function fa(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(fa=function(){return!!e})()}function pa(e){return pa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pa(e)}function da(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ya(e,t)}function ya(e,t){return ya=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ya(e,t)}function ma(e,t,r){return(t=ha(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ha(e){var t=function(e,t){if("object"!=ia(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ia(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ia(t)?t:t+""}var va=function(e){function t(e){var r;ca(this,t),ma(r=sa(this,t,[e]),"_onLayersChanged",(function(e){r.setState({layers:e.target.value})})),ma(r,"_onUrlChanged",(function(e){r.setState({url:e.target.value})})),ma(r,"_handleClick",(function(){var e=r.state,t=e.layers,n=e.url;r.props.setLayerParameters({layers:t,url:n}),r.props.showMessage("Layer settings saved successfully.")}));var n=e.layer.parameters,o=n.layers,a=n.url;return r.state={layers:o||"",url:a||""},r}return da(t,e),ua(t,[{key:"render",value:function(){var e=Y.XM.map((function(e){return o.createElement(hr.A,{key:e,value:e},e.toUpperCase())})),t=this.props,r=t.changeTileServerType,n=t.layer,a=this.state,i=a.url,c=a.layers,l=n.parameters;return o.createElement("div",null,o.createElement(pr.A,{fullWidth:!0},o.createElement(mr.A,{htmlFor:"tile-server-type"},"Tile server type"),o.createElement(gr.A,{value:l.type,input:o.createElement(aa.A,{id:"tile-server-type"}),onChange:r},e)),o.createElement(yt.A,{fullWidth:!0,label:"Tile server URL",margin:"normal",value:i,onChange:this._onUrlChanged}),l.type===Y.Aq.XYZ?o.createElement("div",null,o.createElement("small",null,"Use ",o.createElement("code",null,"{x}"),", ",o.createElement("code",null,"{y}"),",",o.createElement("code",null,"{-y}")," and ",o.createElement("code",null,"{z}")," in the server URL template for the x and y coordinates and the zoom level. Use tokens like",o.createElement("code",null,"{a-c}")," to denote multiple servers handling the same tileset.")):o.createElement(yt.A,{fullWidth:!0,label:"Layers",margin:"normal",placeholder:"Layers to show (comma-separated)",value:c,onChange:this._onLayersChanged}),o.createElement("div",{style:{textAlign:"center",paddingTop:"1em"}},o.createElement(dt.A,{onClick:this._handleClick},"Save settings")))}}])}(o.Component);ma(va,"propTypes",{layer:l().object.isRequired,changeTileServerType:l().func,setLayerParameters:l().func,showMessage:l().func});var ga=(0,u.Ng)(null,(function(e,t){return{changeTileServerType:function(r){e((0,m.K_)(t.layerId,{type:r.target.value}))},setLayerParameters:function(r){e((0,m.K_)(t.layerId,r))},showMessage:function(t){e((0,Fe.Ds)(t))}}}))(va),ba=function(e){function t(){return ca(this,t),sa(this,t,arguments)}return da(t,e),ua(t,[{key:"render",value:function(){var e=this._sourceFromParameters(this.props.layer.parameters);return o.createElement("div",null,o.createElement(f.qd.Tile,{zIndex:this.props.zIndex},e))}},{key:"_sourceFromParameters",value:function(e){var t=e.type,r=e.url,n=e.layers;switch(t){case Y.Aq.WMS:return o.createElement(f.sP.TileWMS,{url:r,params:{LAYERS:n,TILED:!0}});case Y.Aq.XYZ:return o.createElement(f.sP.XYZ,{url:r});case Y.Aq.TILE_CACHE:var a=(r&&r.length>0&&"/"===r.charAt(r.length-1)?r:r+"/")+"1.0.0/"+n+"/{z}/{x}/{-y}.png";return o.createElement(f.sP.XYZ,{url:a});default:return[]}}}])}(o.Component);ma(ba,"propTypes",{layer:l().object,zIndex:l().number});var wa=ba,Ea=r(48166),Aa=r(44757),Sa=r(42531),Oa=r(60764),xa=r(12239),ja=r(29008),ka=r(38967);function Ta(e){return Ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ta(e)}function Ia(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Pa(n.key),n)}}function Ca(e,t,r){return(t=Pa(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pa(e){var t=function(e,t){if("object"!=Ta(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ta(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ta(t)?t:t+""}var La=function(){return e=function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ca(this,"createOrUpdateFeatureById",(function(e,t){t=n.projection?n.projection(t):t;var r=n.getFeatureById(e)||n._createFeatureById(e,t);return r.getGeometry().setCoordinates(t),r})),Ca(this,"_createFeatureById",(function(e,t){var r=new K.default(t),o=n._featureFactory?n._featureFactory(e,r):new sr.default(r),a=n._featureIdFunction(e);return o.setId(a),n._featuresByObjectId[e]=o,n._vectorSource&&n._vectorSource.addFeature(o),n.featureAdded.dispatch(o),o})),Ca(this,"getFeatureById",(function(e){return n._featuresByObjectId[e]})),Ca(this,"getFeatureArray",(function(){return(0,Xr.A)(n._featuresByObjectId)})),Ca(this,"removeAllFeatures",(function(){n._vectorSource&&n._vectorSource.clear(),n._featuresByObjectId={}})),Ca(this,"removeFeatureById",(function(e){var t=n.getFeatureById(e);return t&&n._vectorSource&&n._vectorSource.removeFeature(t),delete n._featuresByObjectId[e],t})),this._featuresByObjectId={},this._featureFactory=void 0,this._featureIdFunction=ja.default,this._vectorSource=t,this.projection=r,this.featureAdded=new ka.MiniSignal,this.featureRemoved=new ka.MiniSignal},(t=[{key:"featureFactory",get:function(){return this._featureFactory},set:function(e){this._featureFactory=e}},{key:"featureIdFunction",get:function(){return this._featureIdFunction},set:function(e){this._featureIdFunction=e}},{key:"vectorSource",get:function(){return this._vectorSource},set:function(e){var t=this;this._vectorSource!==e&&(this._vectorSource&&this._vectorSource.clear(),this._vectorSource=e,this._vectorSource&&(0,xa.A)(this._featuresByObjectId,(function(e){return t._vectorSource.addFeature(e)})))}}])&&Ia(e.prototype,t),r&&Ia(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}();const _a=r.p+"c56587927ae56c9f1fda.png",Na=r.p+"aa4f81a03c0266969f2f.png",Ra=r.p+"dbf5668680c9e570435b.png",Da=r.p+"fd785e824996906d5f26.png",Ma=r.p+"da17a5e486c03be05d7f.png";var Fa=r(51644);function Ua(e){return Ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ua(e)}function Ga(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ya(n.key),n)}}function Va(e,t,r){return t=Ha(t),function(e,t){if(t&&("object"===Ua(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ba()?Reflect.construct(t,r||[],Ha(e).constructor):t.apply(e,r))}function Ba(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ba=function(){return!!e})()}function Ha(e){return Ha=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ha(e)}function Wa(e,t){return Wa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Wa(e,t)}function za(e,t,r){return(t=Ya(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ya(e){var t=function(e,t){if("object"!=Ua(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ua(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ua(t)?t:t+""}var Ka=za(za(za(za({},Fa.AI.INFO,Na),Fa.AI.WARNING,Ra),Fa.AI.ERROR,Da),Fa.AI.CRITICAL,Da),qa=function(e){function t(e,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Va(this,t,[r]))._selected=!1,n._color="",n._labelColor="",n._heading=0,n._status=null,n.uavId=e,n._setupStyle(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wa(e,t)}(t,e),r=t,n=[{key:"heading",get:function(){return this._heading},set:function(e){if(this._heading!==e&&(this._heading=e,this._iconImage)){var t=this._headingToRotation();this._iconImage.setRotation(t),this._selectionImage.setRotation(t)}}},{key:"selected",get:function(){return this._selected},set:function(e){this._selected!==e&&(this._selected=e,this._setupStyle())}},{key:"color",get:function(){return this._color},set:function(e){this._color!==e&&(this._color=e,this._setupStyle())}},{key:"labelColor",get:function(){return this._labelColor},set:function(e){this._labelColor!==e&&(this._labelColor=e,this._setupStyle())}},{key:"status",get:function(){return this._status},set:function(e){this._status!==e&&(this._status=e,this._setupStyle())}},{key:"_setupStyle",value:function(){var e=[],t=new T.A({rotateWithView:!0,rotation:this._headingToRotation(),snapToPixel:!1,src:Ka[this._status]||_a});this._iconImage=t;var r=new j.default({image:t});e.push(r);var n=new T.A({rotateWithView:!0,rotation:this._headingToRotation(),snapToPixel:!1,src:Ma});this._selectionImage=n;var o=new j.default({image:n});this._selected&&e.splice(0,0,o);var a=new j.default({text:new k.default({fill:new O.default({color:this._labelColor&&this._labelColor.length>0?this._labelColor:"black"}),font:"12px sans-serif",offsetY:24,text:this.uavId||"undefined",textAlign:"center"})});e.push(a),this.setStyle(e)}},{key:"_headingToRotation",value:function(e){return void 0===e&&(e=this._heading),(0,$.eh)(e%360)}}],n&&Ga(r.prototype,n),o&&Ga(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(sr.default),$a=r(20240);function Za(e){return Za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Za(e)}function Xa(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Ja(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ja(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Ja(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qa(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ai(n.key),n)}}function ei(e,t,r){return t=ri(t),function(e,t){if(t&&("object"===Za(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ti()?Reflect.construct(t,r||[],ri(e).constructor):t.apply(e,r))}function ti(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ti=function(){return!!e})()}function ri(e){return ri=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ri(e)}function ni(e,t){return ni=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ni(e,t)}function oi(e,t,r){return(t=ai(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ai(e){var t=function(e,t){if("object"!=Za(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Za(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Za(t)?t:t+""}var ii=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),oi(r=ei(this,t,[e]),"_assignSourceRef",(function(e){e!==r._sourceRef&&(r._sourceRef&&(r._featureManager.vectorSource=void 0),r._sourceRef=e,r._sourceRef&&(r._featureManager.vectorSource=e.source))})),oi(r,"_onFeatureAdded",(function(e){e.selected=(0,Sa.A)(r.props.selection,e.getId())})),oi(r,"_onFlockMaybeChanged",(function(e,t){e!==t&&(e&&(e.uavsUpdated.detach(r.eventBindings.uavsUpdated),delete r.eventBindings.uavsUpdated,e.uavsRemoved.detach(r.eventBindings.uavsRemoved),delete r.eventBindings.uavsRemoved,r._featureManager.removeAllFeatures()),t&&(r.eventBindings.uavsUpdated=t.uavsUpdated.add(r._onUAVsUpdated),r.eventBindings.uavsRemoved=t.uavsRemoved.add(r._onUAVsRemoved),r._onUAVsUpdated(t.getAllUAVs())))})),oi(r,"_onSelectionMaybeChanged",(function(e,t){if(r._sourceRef){var n,o=r._sourceRef.source,a=o.getFeatureById.bind(o),i=Xa((0,Aa.A)(t,e).map(a).filter(Boolean));try{for(i.s();!(n=i.n()).done;){n.value.selected=!0}}catch(e){i.e(e)}finally{i.f()}var c,l=Xa((0,Aa.A)(e,t).map(a).filter(Boolean));try{for(l.s();!(c=l.n()).done;){c.value.selected=!1}}catch(e){l.e(e)}finally{l.f()}}})),oi(r,"_onLabelColorMaybeChanged",(function(e,t){if(e!==t){var n,o=Xa(r._featureManager.getFeatureArray());try{for(o.s();!(n=o.n()).done;){n.value.labelColor=t}}catch(e){o.e(e)}finally{o.f()}}})),oi(r,"_onUAVsRemoved",(function(e){var t,n=Xa(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;r._featureManager.removeFeatureById(o.id)}}catch(e){n.e(e)}finally{n.f()}})),oi(r,"_onUAVsUpdated",(function(e){var t,n=Xa(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;if(0!==o.lon||0!==o.lat){var a=r._featureManager.createOrUpdateFeatureById(o.id,[o.lon,o.lat]);void 0!==o.heading&&(a.heading=o.heading),a.status=(0,Kn.zG)(o),a.labelColor=r.props.labelColor}}}catch(e){n.e(e)}finally{n.f()}})),r._sourceRef=void 0,r._featureManager=new La,r._featureManager.featureFactory=function(e,t){return new qa(e,t)},r._featureManager.featureIdFunction=z.ZO,r._featureManager.featureAdded.add(r._onFeatureAdded),r.eventBindings={},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ni(e,t)}(t,e),r=t,(n=[{key:"componentDidUpdate",value:function(e){this._onFlockMaybeChanged(e.flock,this.props.flock),this._onSelectionMaybeChanged(e.selection,this.props.selection),this._onLabelColorMaybeChanged(e.labelColor,this.props.labelColor),this._featureManager.projection=this.props.projection}},{key:"componentDidMount",value:function(){this.props.layer&&((0,Y.Uz)(this.props.layer),(0,Y.eS)(this.props.layer)),this._featureManager.projection=this.props.projection,this._onFlockMaybeChanged(void 0,this.props.flock),this._onSelectionMaybeChanged(void 0,this.props.selection)}},{key:"componentWillUnmount",value:function(){this._onFlockMaybeChanged(this.props.flock,void 0),this._onSelectionMaybeChanged(this.props.selection,void 0),this._featureManager.projection=void 0}},{key:"render",value:function(){return o.createElement(f.sP.Vector,{ref:this._assignSourceRef})}}])&&Qa(r.prototype,n),a&&Qa(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(o.Component);oi(ii,"propTypes",{flock:l().instanceOf($a.A),labelColor:l().string,layer:l().instanceOf(Oa.default),projection:l().func,selection:l().arrayOf(l().string).isRequired});const ci=(0,f.ou)(ii);var li=r(40122),ui=r(9383),si=function(e){var t=e.layer,r=e.setLayerParameters,n=(t.parameters||{}).labelColor,a=(0,o.useCallback)((function(e){r({labelColor:e.hex})}),[r]);return o.createElement(o.Fragment,null,o.createElement(Ea.A,null,"Label color"),o.createElement(li.A,{color:n||"#000000",onChangeComplete:a}))};si.propTypes={layer:l().object,setLayerParameters:l().func};var fi=(0,u.Ng)(null,(function(e,t){return{setLayerParameters:function(r){e((0,m.K_)(t.layerId,r))}}}))(si),pi=function(e){var t=e.layer,r=e.projection,n=e.selection,a=e.zIndex;return o.createElement(f.qd.Vector,{updateWhileAnimating:!0,updateWhileInteracting:!0,zIndex:a},o.createElement(ci,{selection:n,labelColor:t.parameters.labelColor,flock:ui.Ay,projection:r}))};pi.propTypes={layer:l().object,zIndex:l().number,selection:l().arrayOf(l().string).isRequired,projection:l().func},pi.defaultProps={projection:W.Ur};var di=(0,u.Ng)((function(e){return{selection:(0,$n.Lo)(e)}}),{})(pi),yi=(r(25428),r(11217));function mi(e){return mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mi(e)}function hi(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return vi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vi(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function vi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ti(n.key),n)}}function Ei(e,t,r){return t&&wi(e.prototype,t),r&&wi(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ai(e,t,r){return t=Oi(t),function(e,t){if(t&&("object"===mi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Si()?Reflect.construct(t,r||[],Oi(e).constructor):t.apply(e,r))}function Si(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Si=function(){return!!e})()}function Oi(e){return Oi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Oi(e)}function xi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ji(e,t)}function ji(e,t){return ji=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ji(e,t)}function ki(e,t,r){return(t=Ti(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ti(e){var t=function(e,t){if("object"!=mi(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=mi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mi(t)?t:t+""}var Ii=function(e){function t(){var e;bi(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return ki(e=Ai(this,t,[].concat(n)),"_onColorChanged",(function(t){e.props.setLayerParameters({trailColor:t.hex})})),ki(e,"_onTrailLengthChanged",(function(t){var r=(0,st.A)(t.target.value);r>0&&Number.isFinite(r)&&e.props.setLayerParameters({trailLength:r})})),ki(e,"_onTrailWidthChanged",(function(t){var r=(0,st.A)(t.target.value);r>0&&r<20&&e.props.setLayerParameters({trailWidth:r})})),e}return xi(t,e),Ei(t,[{key:"render",value:function(){var e=this.props.layer,t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gi(Object(r),!0).forEach((function(t){ki(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({trailColor:B.Ay.main,trailLength:10,trailWidth:2},e.parameters),r=t.trailColor,n=t.trailLength,a=t.trailWidth;return o.createElement("div",null,o.createElement(yt.A,{style:{paddingRight:"1em",width:150},label:"Trail length",placeholder:"Samples",type:"number",value:n,onChange:this._onTrailLengthChanged}),o.createElement(yt.A,{style:{paddingRight:"1em",width:150},label:"Trail width",placeholder:"Pixels",type:"number",value:a,onChange:this._onTrailWidthChanged}),o.createElement("div",{style:{paddingTop:"0.5em"}},o.createElement(li.A,{color:null!=r?r:B.Ay.main,onChangeComplete:this._onColorChanged})))}}])}(o.Component);ki(Ii,"propTypes",{layer:l().object,setLayerParameters:l().func});var Ci=(0,u.Ng)(null,(function(e,t){return{setLayerParameters:function(r){e((0,m.K_)(t.layerId,r))}}}))(Ii),Pi=function(e){function t(e){var r;return bi(this,t),ki(r=Ai(this,t,[e]),"_assignSourceRef",(function(e){e!==r._sourceRef&&(r._sourceRef&&r._sourceRef.source.clear(),r._sourceRef=e,r._sourceRef&&r._sourceRef.source.addFeatures(r.features))})),ki(r,"_handleUpdate",(function(e){var t,n=hi(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;o._id in r.lineStringsById?r.lineStringsById[o._id].appendCoordinate((0,W.Ur)([o.lon,o.lat])):(r.lineStringsById[o._id]=new yi.default([(0,W.Ur)([o.lon,o.lat])]),r._registerNewFeature(new sr.default(r.lineStringsById[o._id])));for(;r.lineStringsById[o._id].getCoordinates().length>r.props.trailLength;)r.lineStringsById[o._id].setCoordinates(r.lineStringsById[o._id].getCoordinates().slice(1))}}catch(e){n.e(e)}finally{n.f()}})),ki(r,"_registerNewFeature",(function(e){r._updateFeatureStyle(e),r.features.push(e),r._sourceRef&&r._sourceRef.source.addFeature(e)})),ki(r,"_updateFeatureStyle",(function(e){e.setStyle(new j.default({stroke:X(r.props.trailColor,r.props.trailWidth)}))})),r.features=[],r.lineStringsById={},r._sourceRef=void 0,ui.Ay.uavsUpdated.add(r._handleUpdate),r}return xi(t,e),Ei(t,[{key:"componentDidUpdate",value:function(){if(this._sourceRef){var e,t=hi(this._sourceRef.source.getFeatures());try{for(t.s();!(e=t.n()).done;){var r=e.value;this._updateFeatureStyle(r)}}catch(e){t.e(e)}finally{t.f()}}}},{key:"render",value:function(){return o.createElement(f.sP.Vector,{ref:this._assignSourceRef})}}])}(o.Component);ki(Pi,"propTypes",{trailLength:l().number,trailColor:l().string,trailWidth:l().number});var Li=function(e){var t=e.layer,r=e.zIndex;return o.createElement(f.qd.Vector,{updateWhileAnimating:!0,updateWhileInteracting:!0,zIndex:r},o.createElement(Pi,{trailLength:t.parameters.trailLength,trailColor:t.parameters.trailColor,trailWidth:t.parameters.trailWidth}))};Li.propTypes={layer:l().object,zIndex:l().number};var _i=Li,Ni=(r(31415),r(20426)),Ri=r(67520),Di=r(27606),Mi=r(54392),Fi=r(17558);function Ui(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Gi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gi(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Gi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Vi=function(e){var t,r=[],n=new Set((0,Fi.Xw)(e).map((function(e){return e.type}))),o=Ui(Y.RJ);try{for(o.s();!(t=o.n()).done;){var a=t.value;!(0,Y.Xt)(a)&&n.has(a)||r.push(a)}}catch(e){o.e(e)}finally{o.f()}return r},Bi=function(e){var t=e.enabledLayerTypes,r=e.layerTypes,n=e.onLayerTypeSelected,a=r.map((function(e){var r=t.includes(e);return o.createElement(Di.A,{key:e,item:!0,xs:8,sm:4},o.createElement(Ni.A,{style:{cursor:r?"pointer":"auto",height:"100%",userSelect:"none",opacity:r?1:.54},elevation:r?1:0,variant:r?"outlined":"elevation",onClick:r?function(){return n(e)}:null},o.createElement(Ri.A,{avatar:(0,Y.AT)(e),title:(0,Y.Pr)(e),style:{paddingLeft:16,paddingRight:16,height:"100%"}})))}));return o.createElement(pt.A,{display:"flex",flexDirection:"column"},o.createElement(Mi.A,{gutterBottom:!0,variant:"subtitle1",component:"p"},"Pick a layer type"),o.createElement(Di.A,{container:!0,flex:"1",alignItems:"stretch",justifyContent:"flex-start",spacing:2},a))};Bi.propTypes={layer:l().object,layerId:l().string,layerTypes:l().arrayOf(l().string),enabledLayerTypes:l().arrayOf(l().string),onLayerTypeSelected:l().func};var Hi,Wi,zi=(0,u.Ng)((function(e){return{layerTypes:Y.RJ,enabledLayerTypes:Vi(e)}}),(function(e,t){return{onLayerTypeSelected:function(r){e((0,m.QG)(t.layerId,r))}}}))(Bi),Yi=(0,u.Ng)(null,{})((function(){return null}));function Ki(e){return Ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ki(e)}function qi(){return qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qi.apply(this,arguments)}function $i(e,t,r){var n;return n=function(e,t){if("object"!=Ki(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ki(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ki(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Zi=($i($i($i($i($i($i($i($i($i($i(Hi={},Y.mb.BASE,P),Y.mb.GEOJSON,zt),Y.mb.HEATMAP,Yr),Y.mb.HEXGRID,pn),Y.mb.IMAGE,Dn),Y.mb.MISSION_INFO,wo),Y.mb.OWN_LOCATION,na),Y.mb.TILE_SERVER,ga),Y.mb.UAVS,fi),Y.mb.UAV_TRACE,Ci),$i($i(Hi,Y.mb.UNAVAILABLE,(function(){return o.createElement("div",{key:"_hint",style:{position:"relative",height:48}},o.createElement(a.A,{text:"This layer is unavailable under the license of the currently connected server."}))})),Y.mb.UNTYPED,zi)),Xi=function(e,t){if(!(e.type in Zi))throw new Error("Cannot render settings for nonexistent layer type (".concat(e.type,")."));var r=Zi[e.type];return o.createElement(r,{key:"".concat(t,"_settings"),layer:e,layerId:t})},Ji=($i($i($i($i($i($i($i($i($i($i(Wi={},Y.mb.BASE,F),Y.mb.BEACONS,be),Y.mb.DOCKS,ke),Y.mb.FEATURES,ut),Y.mb.GEOJSON,Kt),Y.mb.GRATICULE,ar),Y.mb.HEATMAP,$r),Y.mb.HEXGRID,mn),Y.mb.IMAGE,Fn),Y.mb.MISSION_INFO,qo),$i($i($i($i($i(Wi,Y.mb.OWN_LOCATION,oa),Y.mb.TILE_SERVER,wa),Y.mb.UAVS,di),Y.mb.UAV_TRACE,_i),Y.mb.UNTYPED,Yi)),Qi=function(e,t){if(!(e.type in Ji))throw new Error("Nonexistent layer type (".concat(e.type,") cannot be rendered."));var r=Ji[e.type];return o.createElement(r,qi({key:"".concat(e.id,"_rendered")},t,{layer:e,layerId:e.id}))}},7125:(e,t,r)=>{"use strict";r.d(t,{A:()=>A});var n=r(31601),o=r.n(n),a=r(76314),i=r.n(a),c=r(4417),l=r.n(c),u=new URL(r(84525),r.b),s=new URL(r(15911),r.b),f=new URL(r(46465),r.b),p=new URL(r(49947),r.b),d=new URL(r(44131),r.b),y=new URL(r(67309),r.b),m=i()(o()),h=l()(u),v=l()(s),g=l()(f),b=l()(p),w=l()(d),E=l()(y);m.push([e.id,`@font-face {\n  font-family: 'DSEG14-Classic';\n  src: url(${h}) format('woff2'),\n  url(${v}) format('woff'),\n  url(${g}) format('truetype');\n  font-weight: normal;\n  font-style: normal;\n}\n\n@font-face {\n  font-family: 'DSEG7-Classic';\n  src: url(${b}) format('woff2'),\n  url(${w}) format('woff'),\n  url(${E}) format('truetype');\n  font-weight: normal;\n  font-style: normal;\n}\n`,""]);const A=m},48909:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var n=r(31601),o=r.n(n),a=r(76314),i=r.n(a)()(o());i.push([e.id,'/**\n * CSS styling for <kbd> tags.\n *\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 Auth0, Inc. <support@auth0.com> (http://auth0.com)\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the "Software"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nkbd {\n  font-family: \'Fira Sans\', Arial, sans-serif;\n  display: inline-block;\n  border-radius: 3px;\n  padding: 0px 4px;\n  box-shadow: 1px 1px 1px #777;\n  margin: 2px;\n  background: #eee;\n  font-weight: normal;\n  color: #555;\n  cursor: pointer;\n\n  /* Prevent selection */\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\nkbd:hover, kbd:hover * {\n  color: black;\n  /* box-shadow: 1px 1px 1px #333; */\n}\nkbd:active, kbd:active * {\n  color: black;\n  box-shadow: 1px 1px 0px #ddd inset;\n}\n\nkbd kbd {\n  padding: 0px;\n  margin: 0 1px;\n  box-shadow: 0px 0px 0px black;\n  vertical-align: baseline;\n  background: none;\n}\n\nkbd kbd:hover {\n  box-shadow: 0px 0px 0px black;\n}\n\nkbd:active kbd {\n  box-shadow: 0px 0px 0px black;\n  background: none;\n}\n\n/* Deep blue */\nkbd.deep-blue, .deep-blue kbd {\n  background: steelblue;\n  color: #eee;\n}\n\nkbd.deep-blue:hover, kbd.deep-blue:hover *, .deep-blue kbd:hover {\n  color: white;\n}\n\n/* Dark apple */\nkbd.dark-apple, .dark-apple kbd {\n  background: black;\n  color: #ddd;\n}\n\nkbd.dark-apple:hover, kbd.dark-apple:hover *, .dark-apple kbd:hover {\n  color: white;\n}\n\n/* Type writer */\nkbd.type-writer, .type-writer kbd {\n  border-radius: 10px;\n  background: #333;\n  color: white;\n}\n',""]);const c=i},14024:(e,t,r)=>{"use strict";r.d(t,{A:()=>h});var n=r(31601),o=r.n(n),a=r(76314),i=r.n(a),c=r(4417),l=r.n(c),u=new URL(r(54244),r.b),s=new URL(r(31746),r.b),f=new URL(r(73970),r.b),p=i()(o()),d=l()(u),y=l()(s),m=l()(f);p.push([e.id,`@font-face {\n  font-family: 'Proggy Vector';\n  src: url(${d}) format('woff2'),\n  url(${y}) format('woff'),\n  url(${m}) format('truetype');\n  font-weight: normal;\n  font-style: normal;\n}\n`,""]);const h=p},30263:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var n=r(31601),o=r.n(n),a=r(76314),i=r.n(a)()(o());i.push([e.id,'/*!\n * "Fork me on GitHub" CSS ribbon v0.2.3 | MIT License\n * https://github.com/simonwhitaker/corner-ribbon-css\n*/\n.corner-ribbon {\n  width: 12.1em;\n  height: 12.1em;\n  position: absolute;\n  overflow: hidden;\n  top: 0;\n  right: 0;\n  z-index: 9999;\n  pointer-events: none;\n  font-size: 13px;\n  text-decoration: none;\n  text-indent: -999999px;\n}\n.corner-ribbon.fixed {\n  position: fixed;\n}\n.corner-ribbon:hover,\n.corner-ribbon:active {\n  background-color: rgba(0, 0, 0, 0);\n}\n.corner-ribbon:before,\n.corner-ribbon:after {\n  /* The right and left classes determine the side we attach our banner to */\n  position: absolute;\n  display: block;\n  width: 15.38em;\n  height: 1.54em;\n  top: 3.23em;\n  right: -3.23em;\n  -webkit-box-sizing: content-box;\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n  -webkit-transform: rotate(45deg);\n  -moz-transform: rotate(45deg);\n  -ms-transform: rotate(45deg);\n  -o-transform: rotate(45deg);\n  transform: rotate(45deg);\n}\n.corner-ribbon:before {\n  content: \'\';\n  /* Add a bit of padding to give some substance outside the "stitching" */\n  padding: 0.38em 0;\n  /* Set the base colour */\n  background-color: #a00;\n  /* Set a gradient: transparent black at the top to almost-transparent black at the bottom */\n  background-image: -webkit-gradient(linear, left top, left bottom, from(rgba(0, 0, 0, 0)), to(rgba(0, 0, 0, 0.15)));\n  background-image: -webkit-linear-gradient(top, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.15));\n  background-image: -moz-linear-gradient(top, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.15));\n  background-image: -ms-linear-gradient(top, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.15));\n  background-image: -o-linear-gradient(top, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.15));\n  background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.15));\n  /* Add a drop shadow */\n  -webkit-box-shadow: 0 0.15em 0.23em 0 rgba(0, 0, 0, 0.5);\n  -moz-box-shadow: 0 0.15em 0.23em 0 rgba(0, 0, 0, 0.5);\n  box-shadow: 0 0.15em 0.23em 0 rgba(0, 0, 0, 0.5);\n  pointer-events: auto;\n}\n.corner-ribbon:after {\n  /* Set the text from the data-ribbon attribute */\n  content: attr(data-ribbon);\n  /* Set the text properties */\n  color: #fff;\n  line-height: 1.54em;\n  text-decoration: none;\n  text-shadow: 0 -0.08em rgba(0, 0, 0, 0.5);\n  text-align: center;\n  text-indent: 0;\n  /* Set the layout properties */\n  padding: 0.15em 0;\n  margin: 0.15em 0;\n  /* Add "stitching" effect */\n  border-width: 0.08em 0;\n  border-style: dotted;\n  border-color: #fff;\n  border-color: rgba(255, 255, 255, 0.7);\n}\n.corner-ribbon.left-top,\n.corner-ribbon.left-bottom {\n  right: auto;\n  left: 0;\n}\n.corner-ribbon.left-bottom,\n.corner-ribbon.right-bottom {\n  top: auto;\n  bottom: 0;\n}\n.corner-ribbon.left-top:before,\n.corner-ribbon.left-top:after,\n.corner-ribbon.left-bottom:before,\n.corner-ribbon.left-bottom:after {\n  right: auto;\n  left: -3.23em;\n}\n.corner-ribbon.left-bottom:before,\n.corner-ribbon.left-bottom:after,\n.corner-ribbon.right-bottom:before,\n.corner-ribbon.right-bottom:after {\n  top: auto;\n  bottom: 3.23em;\n}\n.corner-ribbon.left-top:before,\n.corner-ribbon.left-top:after,\n.corner-ribbon.right-bottom:before,\n.corner-ribbon.right-bottom:after {\n  -webkit-transform: rotate(-45deg);\n  -moz-transform: rotate(-45deg);\n  -ms-transform: rotate(-45deg);\n  -o-transform: rotate(-45deg);\n  transform: rotate(-45deg);\n}\n',""]);const c=i},25252:(e,t,r)=>{"use strict";r.d(t,{A:()=>O});var n=r(31601),o=r.n(n),a=r(76314),i=r.n(a),c=r(4417),l=r.n(c),u=new URL(r(26945),r.b),s=new URL(r(3995),r.b),f=new URL(r(85690),r.b),p=new URL(r(52195),r.b),d=new URL(r(8268),r.b),y=new URL(r(14141),r.b),m=new URL(r(66947),r.b),h=i()(o()),v=l()(u),g=l()(s),b=l()(f),w=l()(p),E=l()(d),A=l()(y),S=l()(m);h.push([e.id,`html,\nbody {\n  width: 100%;\n  height: 100%;\n}\nbody {\n  font-family: 'Fira Sans', Arial, sans-serif;\n  padding: 0px;\n  margin: 0px;\n  overflow: hidden;\n}\n/* Replace default monospaced font */\npre,\ncode {\n  font-family: 'Proggy Vector', 'Menlo', 'Consolas', 'DejaVu Sans Mono', 'Courier New', 'Courier', monospace;\n}\n/* Autocomplete highlights */\nmark {\n  background-color: yellow;\n  color: black;\n}\n/* Vertical centering */\n.vertical-center {\n  position: relative;\n  top: 50%;\n  -webkit-transform: perspective(1px) translateY(-50%);\n  -ms-transform: perspective(1px) translateY(-50%);\n  transform: perspective(1px) translateY(-50%);\n}\n/* Horizontal centering */\n.horizontal-center {\n  text-align: center;\n}\n/* Full (vertical + horizontal) centering */\n.full-center {\n  position: relative;\n  top: 50%;\n  -webkit-transform: perspective(1px) translateY(-50%);\n  -ms-transform: perspective(1px) translateY(-50%);\n  transform: perspective(1px) translateY(-50%);\n  text-align: center;\n}\n/* Mixin for styling boxes with drop shadows */\n/* Shadow settings for bottom bars commonly used on same panels */\n.bottom-bar {\n  box-shadow: rgba(0, 0, 0, 0.3) 0 -10px 10px -10px;\n  z-index: 10;\n}\n/* Drag proxy for the workbench */\n.drag-proxy {\n  height: 100%;\n  background: repeating-linear-gradient(-45deg, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0) 10px, rgba(0, 0, 0, 0.15) 10px, rgba(0, 0, 0, 0.15) 20px);\n}\n/* Root container for React */\n#root {\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n/* Main workbench area of the root container */\n#workbench {\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n/* Footer in which the lower buttons are placed */\n#footer {\n  width: 100%;\n  position: absolute;\n  bottom: 0;\n  padding: 20px;\n}\n/* Map in the background of the main screen */\n#map {\n  width: 100%;\n  height: 100%;\n}\n/* Special styling for Material-UI lists that are placed within a\n * Dialog and whose left edge lines up with the left edge of the dialog. */\n.dialog-sidebar {\n  padding: 0 !important;\n  min-width: 240px;\n}\n/* Styling for selected list items in Material-UI */\n.selected-list-item {\n  color: #2196f3;\n  box-shadow: 5px 0px #2196f3 inset;\n}\n/* Autosuggestion lists */\n.react-autosuggest__suggestions-list {\n  list-style-type: none;\n  padding-left: 0;\n}\n/* Error panels */\n.error-panel {\n  background: #f4f4f4;\n  box-sizing: border-box;\n  display: flex;\n  flex-flow: column nowrap;\n  font-size: 14px;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  top: 0;\n  opacity: 0.5;\n  padding: 0 24px;\n  position: absolute;\n  text-align: center;\n  width: 100%;\n}\n.error-panel .error-icon {\n  padding-bottom: 12px;\n}\n.error-panel .button-bar {\n  padding-top: 24px;\n}\n.error-panel .button-bar button {\n  padding: 6px;\n  margin: 0 12px;\n}\n/* Widgets placed over the map */\n.widget {\n  position: absolute !important;\n  min-width: 48px;\n  min-height: 48px;\n  /* Title of widget */\n  /* Action bar of the widget (overlaid on top of it) */\n}\n.widget .title {\n  font-size: 10pt;\n  font-weight: bold;\n  text-transform: uppercase;\n  line-height: 24px;\n  height: 24px;\n}\n.widget .widget-action-bar {\n  position: absolute;\n  right: 0px;\n  top: 0px;\n  transition: opacity 0.2s;\n  opacity: 0;\n}\n.widget:hover .widget-action-bar {\n  opacity: 1;\n}\n/* Add OpenLayers styling to the main map view. These selectors need to be more\n * specific than the ones in ol.css because ol.css is lazy-loaded when the\n * map is mounted, and we don't want it to override any of our styles */\n#main-map-view {\n  /* Styling for OpenLayers controls */\n  /* OpenLayers scale line should have a half-transparent "box styling" */\n  /* OpenLayers attribution widget should be in the lower right corner\n  * by default */\n}\n#main-map-view .ol-control {\n  background-color: #ffffff;\n  color: rgba(0, 0, 0, 0.87);\n  padding: 0 !important;\n  border-radius: 2px !important;\n  box-shadow: rgba(0, 0, 0, 0.117647) 0px 1px 6px, rgba(0, 0, 0, 0.117647) 0px 1px 4px;\n}\n#main-map-view .ol-control button {\n  background-color: #ffffff;\n  color: rgba(0, 0, 0, 0.87);\n  margin: 0px;\n  /* to fit the Material design better */\n  width: 24px;\n  /* 24px because Material buttons are 48px */\n  height: 24px;\n}\n#main-map-view .ol-control button:hover,\n#main-map-view .ol-control button:focus {\n  background-color: #ffffff;\n  color: rgba(0, 0, 0, 0.87);\n}\n#main-map-view .ol-control.ol-full-screen {\n  right: auto;\n  top: 64px;\n  left: 8px;\n}\n#main-map-view .ol-control.ol-overviewmap {\n  bottom: 4em;\n}\n#main-map-view .ol-control.ol-rotate {\n  top: 4em;\n  right: auto;\n  left: 2.5em;\n}\n#main-map-view .ol-control.ol-zoomslider {\n  top: 4em;\n}\n#main-map-view .ol-control.ol-zoom-extent {\n  top: 4em;\n}\n#main-map-view .ol-scale-line {\n  background-color: #ffffff;\n  color: rgba(0, 0, 0, 0.87);\n  padding: 0 !important;\n  border-radius: 2px !important;\n  box-shadow: rgba(0, 0, 0, 0.117647) 0px 1px 6px, rgba(0, 0, 0, 0.117647) 0px 1px 4px;\n  bottom: 8px;\n  left: 8px;\n}\n#main-map-view .ol-scale-line-inner {\n  border-color: rgba(0, 0, 0, 0.87);\n  color: rgba(0, 0, 0, 0.87);\n}\n.key-control .tool-select #main-map-view .ol-viewport,\n.key-meta .tool-select #main-map-view .ol-viewport {\n  /* Path should be relative to LESS file otherwise it won't work in Electron */\n  cursor: url(${v}) 4 4, auto;\n}\n.key-shift .tool-select #main-map-view .ol-viewport {\n  cursor: url(${g}) 4 4, auto;\n}\n.key-alt .tool-select #main-map-view .ol-viewport {\n  cursor: url(${b}) 4 4, auto;\n}\n.tool-zoom #main-map-view .ol-viewport {\n  cursor: url(${w}) 9 9, auto;\n}\n.key-shift .tool-zoom #main-map-view .ol-viewport {\n  cursor: url(${E}) 9 9, auto;\n}\n.tool-pan #main-map-view .ol-viewport {\n  cursor: url(${A}) 12 12, auto;\n}\n.key-control .tool-pan #main-map-view .ol-viewport,\n.key-meta .tool-pan #main-map-view .ol-viewport {\n  cursor: url(${v}) 4 4, auto;\n}\n.key-shift .tool-pan #main-map-view .ol-viewport {\n  cursor: url(${w}) 9 9, auto;\n}\n.key-shift.key-alt .tool-pan #main-map-view .ol-viewport {\n  cursor: url(${S}) 12 12, auto;\n}\n#main-map-view .ol-dragbox,\n#main-map-view .ol-dragzoom {\n  background-color: rgba(0, 136, 255, 0.25);\n  border: 1px solid #08f;\n}\n#main-map-view .ol-attribution {\n  background-color: #ffffff;\n  color: rgba(0, 0, 0, 0.87);\n  padding: 0 !important;\n  border-radius: 2px !important;\n  box-shadow: rgba(0, 0, 0, 0.117647) 0px 1px 6px, rgba(0, 0, 0, 0.117647) 0px 1px 4px;\n  left: 8px;\n  bottom: 32px;\n  right: unset;\n}\n#main-map-view .ol-attribution ul {\n  color: rgba(0, 0, 0, 0.54);\n}\n#main-map-view .ol-attribution ul a,\n#main-map-view .ol-attribution ul a:hover,\n#main-map-view .ol-attribution ul a:active,\n#main-map-view .ol-attribution ul a:visited {\n  color: rgba(0, 0, 0, 0.87);\n  text-decoration: none;\n  text-shadow: none;\n}\n#main-map-view .ol-attribution.ol-uncollapsible {\n  border: 0 !important;\n  border-radius: 0 !important;\n  left: 0px;\n  bottom: 0px;\n  right: 0px;\n  max-width: unset;\n}\n#main-map-view .ol-mouse-position {\n  background-color: #ffffff;\n  color: rgba(0, 0, 0, 0.87);\n  padding: 0 !important;\n  border-radius: 2px !important;\n  box-shadow: rgba(0, 0, 0, 0.117647) 0px 1px 6px, rgba(0, 0, 0, 0.117647) 0px 1px 4px;\n  top: auto;\n  right: 8px;\n  bottom: 8px;\n  padding: 10px !important;\n  min-width: 175px;\n  text-align: right;\n}\n/* Styling for the heatmap scale */\n#heatmapScale {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  position: absolute;\n  left: 8px;\n  bottom: 30px;\n  width: 28px;\n  height: 200px;\n}\n#heatmapScale span {\n  background-color: rgba(200, 200, 200, 0.75);\n  position: relative;\n  left: 40px;\n  margin-right: auto;\n  padding: 2px;\n  white-space: nowrap;\n  border-top-right-radius: 3px;\n  border-bottom-right-radius: 3px;\n}\n#heatmapScale span:after {\n  display: block;\n  content: '';\n  position: absolute;\n  left: -12px;\n  top: 0px;\n  border-style: solid;\n  border-width: 12px 12px 12px 0;\n  border-color: transparent rgba(200, 200, 200, 0.75);\n}\n/* Styling for popup color pickers */\n.popup-color-picker {\n  display: inline-block;\n  vertical-align: middle;\n}\n.popup-color-picker .popup-color-picker-button {\n  min-height: 3ex;\n  width: 3em;\n  border: 1px solid rgba(0, 0, 0, 0.35);\n  cursor: pointer;\n}\n.popup-color-picker .popup-color-picker-dropdown {\n  background-color: #ffffff;\n  color: rgba(0, 0, 0, 0.87);\n  padding: 0 !important;\n  border-radius: 2px !important;\n  box-shadow: rgba(0, 0, 0, 0.117647) 0px 1px 6px, rgba(0, 0, 0, 0.117647) 0px 1px 4px;\n}\n/* Styling for the UAV count monitor */\n.coloredContainer span {\n  opacity: 0;\n  letter-spacing: -10px;\n  transition: letter-spacing 0.5s, opacity 0.2s;\n}\n.coloredContainer:hover span {\n  opacity: 1;\n  letter-spacing: normal;\n}\n/* Tour customization */\n.reactour__close {\n  transform: scale(150%);\n}\n/* Color picker customization */\n.swatches-picker.borderless > div > div:first-child {\n  background: transparent !important;\n  box-shadow: none !important;\n}\n/* Markdown editor customization for the "Field notes" panel */\n.EasyMDEContainer {\n  height: 100%;\n}\n.EasyMDEContainer .CodeMirror {\n  height: 100% !important;\n  border: none !important;\n  padding: 4px !important;\n}\n.EasyMDEContainer .CodeMirror .CodeMirror-scroll {\n  min-height: unset !important;\n}\n.EasyMDEContainer .CodeMirror .cm-link {\n  color: #4fadf8 !important;\n}\n`,""]);const O=h},20391:(e,t,r)=>{"use strict";r.d(t,{A:()=>p});var n=r(31601),o=r.n(n),a=r(76314),i=r.n(a),c=r(4417),l=r.n(c),u=new URL(r(23201),r.b),s=i()(o()),f=l()(u);s.push([e.id,`.tippy-box[data-theme~='dark-border'] {\n  background-color: #222;\n  background-clip: padding-box;\n  border: 1px solid rgba(128, 124, 120, 0.15);\n  color: white;\n  box-shadow: 0 4px 14px -2px rgba(0, 8, 16, 0.4);\n}\n.tippy-box[data-theme~='dark-border'] > .tippy-backdrop {\n  background-color: #222;\n}\n.tippy-box[data-theme~='dark-border'] > .tippy-arrow:after,\n.tippy-box[data-theme~='dark-border'] > .tippy-svg-arrow:after {\n  content: '';\n  position: absolute;\n  z-index: -1;\n}\n.tippy-box[data-theme~='dark-border'] > .tippy-arrow:after {\n  border-color: transparent;\n  border-style: solid;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='top'] > .tippy-arrow:before {\n  border-top-color: #222;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='top'] > .tippy-arrow:after {\n  border-top-color: rgba(0, 8, 16, 0.2);\n  border-width: 7px 7px 0;\n  top: 17px;\n  left: 1px;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='top'] > .tippy-svg-arrow > svg {\n  top: 16px;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='top'] > .tippy-svg-arrow:after {\n  top: 17px;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='bottom'] > .tippy-arrow:before {\n  border-bottom-color: #222;\n  bottom: 16px;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='bottom'] > .tippy-arrow:after {\n  border-bottom-color: rgba(0, 8, 16, 0.2);\n  border-width: 0 7px 7px;\n  bottom: 17px;\n  left: 1px;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='bottom'] > .tippy-svg-arrow > svg {\n  bottom: 16px;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='bottom'] > .tippy-svg-arrow:after {\n  bottom: 17px;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='left'] > .tippy-arrow:before {\n  border-left-color: #222;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='left'] > .tippy-arrow:after {\n  border-left-color: rgba(0, 8, 16, 0.2);\n  border-width: 7px 0 7px 7px;\n  left: 17px;\n  top: 1px;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='left'] > .tippy-svg-arrow > svg {\n  left: 11px;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='left'] > .tippy-svg-arrow:after {\n  left: 12px;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='right'] > .tippy-arrow:before {\n  border-right-color: #222;\n  right: 16px;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='right'] > .tippy-arrow:after {\n  border-width: 7px 7px 7px 0;\n  right: 17px;\n  top: 1px;\n  border-right-color: rgba(0, 8, 16, 0.2);\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='right'] > .tippy-svg-arrow > svg {\n  right: 11px;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='right'] > .tippy-svg-arrow:after {\n  right: 12px;\n}\n.tippy-box[data-theme~='dark-border'] > .tippy-svg-arrow {\n  fill: #222;\n}\n.tippy-box[data-theme~='dark-border'] > .tippy-svg-arrow:after {\n  background-image: url(${f});\n  background-size: 16px 6px;\n  width: 16px;\n  height: 6px;\n}\n`,""]);const p=s},19354:(e,t,r)=>{"use strict";r.d(t,{A:()=>m});var n=r(31601),o=r.n(n),a=r(76314),i=r.n(a),c=r(18932),l=r(81855),u=r(82030),s=r(4417),f=r.n(s),p=new URL(r(44552),r.b),d=i()(o());d.i(c.A),d.i(l.A),d.i(u.A);var y=f()(p);d.push([e.id,`/* Styling for the global workbench component, currently implemented\n * using golden-layout */\n/* Make the panels scrollable */\nbody .lm_content {\n  overflow-y: auto;\n  background-color: white;\n}\n/* Fix the background color of the panel bodies and the tabs */\nbody .lm_header .lm_tab {\n  background-color: #ddd;\n}\nbody .lm_header .lm_tab.lm_active {\n  background-color: white;\n}\n/* Prevent selection in the panel titles */\n.lm_title {\n  user-select: none;\n}\n/* Settings button */\n.lm_controls .lm_settings {\n  background-image: url(${y});\n}\n/* Icon styling in workbench-related components */\n.wb-icon {\n  display: inline-block;\n  position: relative;\n  vertical-align: middle;\n  width: 48px;\n  height: 48px;\n  padding: 12px;\n  box-sizing: border-box;\n}\n.wb-module {\n  padding: 0 !important;\n  white-space: nowrap;\n}\n.wb-module .wb-module-label {\n  margin-right: 15px;\n  white-space: nowrap;\n}\n/* Horizontal separators in sidebar */\n#sidebar hr {\n  width: 100%;\n  height: 1px;\n  margin: 0.25em 0;\n  border: none;\n  background: #424242;\n  box-shadow: 0 -1px 4px rgba(0, 0, 0, 0.65);\n}\n/* Vertical separators in header */\n#header-inner > hr {\n  align-self: stretch;\n  width: 1px;\n  margin: 0 0.25em;\n  border: none;\n  background: #424242;\n  box-shadow: -1px 0 4px rgba(0, 0, 0, 0.65);\n}\n.wb-modification-indicator {\n  font-size: 10px;\n  text-align: center;\n  user-select: none;\n}\n/* Perspective switching in header */\n.wb-perspective-bar {\n  background: linear-gradient(to right, transparent 0%, rgba(0, 0, 0, 0.25) 80%, rgba(0, 0, 0, 0.4) 100%);\n  flex: 1;\n  justify-content: left;\n  border-right: 1px solid #424242;\n  border-bottom: 1px solid #424242;\n  overflow-x: auto;\n}\n.wb-perspective-bar-item {\n  margin: 0 !important;\n}\n.wb-perspective-bar button {\n  border-bottom: 3px solid transparent;\n  border-radius: 0;\n  font-size: 14px !important;\n  /* consistent with sidebar */\n  height: 100%;\n  background: unset;\n  box-shadow: unset;\n  padding: 7px 8px 4px 8px;\n  /* padding higher at the top to compensate for border at bottom */\n}\n.wb-perspective-bar .wb-perspective-selected button {\n  background: linear-gradient(to bottom, transparent 0%, rgba(0, 0, 0, 0.25) 100%);\n  border-bottom: 3px solid #03a9f4;\n  /* Material UI lightBlue[500] */\n}\n.wb-perspective-bar button:hover {\n  /* styling same as for GenericHeaderButton */\n  background: linear-gradient(to bottom, #06c 0%, #25a 100%);\n  border-bottom: 3px solid #03a9f4;\n  /* Material UI lightBlue[500] */\n}\n/* Disable draggable splitters for fixed layouts */\n.workbench-fixed .lm_splitter,\n.workbench-fixed .lm_tab {\n  pointer-events: none;\n}\n`,""]);const m=d},94746:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var n=r(85072),o=r.n(n),a=r(97825),i=r.n(a),c=r(77659),l=r.n(c),u=r(55056),s=r.n(u),f=r(10540),p=r.n(f),d=r(41113),y=r.n(d),m=r(7125),h={};h.styleTagTransform=y(),h.setAttributes=s(),h.insert=l().bind(null,"head"),h.domAPI=i(),h.insertStyleElement=p();o()(m.A,h);const v=m.A&&m.A.locals?m.A.locals:void 0},4180:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var n=r(85072),o=r.n(n),a=r(97825),i=r.n(a),c=r(77659),l=r.n(c),u=r(55056),s=r.n(u),f=r(10540),p=r.n(f),d=r(41113),y=r.n(d),m=r(48909),h={};h.styleTagTransform=y(),h.setAttributes=s(),h.insert=l().bind(null,"head"),h.domAPI=i(),h.insertStyleElement=p();o()(m.A,h);const v=m.A&&m.A.locals?m.A.locals:void 0},49721:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var n=r(85072),o=r.n(n),a=r(97825),i=r.n(a),c=r(77659),l=r.n(c),u=r(55056),s=r.n(u),f=r(10540),p=r.n(f),d=r(41113),y=r.n(d),m=r(14024),h={};h.styleTagTransform=y(),h.setAttributes=s(),h.insert=l().bind(null,"head"),h.domAPI=i(),h.insertStyleElement=p();o()(m.A,h);const v=m.A&&m.A.locals?m.A.locals:void 0},12208:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var n=r(85072),o=r.n(n),a=r(97825),i=r.n(a),c=r(77659),l=r.n(c),u=r(55056),s=r.n(u),f=r(10540),p=r.n(f),d=r(41113),y=r.n(d),m=r(25252),h={};h.styleTagTransform=y(),h.setAttributes=s(),h.insert=l().bind(null,"head"),h.domAPI=i(),h.insertStyleElement=p();o()(m.A,h);const v=m.A&&m.A.locals?m.A.locals:void 0},24504:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var n=r(85072),o=r.n(n),a=r(97825),i=r.n(a),c=r(77659),l=r.n(c),u=r(55056),s=r.n(u),f=r(10540),p=r.n(f),d=r(41113),y=r.n(d),m=r(20391),h={};h.styleTagTransform=y(),h.setAttributes=s(),h.insert=l().bind(null,"head"),h.domAPI=i(),h.insertStyleElement=p();o()(m.A,h);const v=m.A&&m.A.locals?m.A.locals:void 0},20987:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var n=r(85072),o=r.n(n),a=r(97825),i=r.n(a),c=r(77659),l=r.n(c),u=r(55056),s=r.n(u),f=r(10540),p=r.n(f),d=r(41113),y=r.n(d),m=r(19354),h={};h.styleTagTransform=y(),h.setAttributes=s(),h.insert=l().bind(null,"head"),h.domAPI=i(),h.insertStyleElement=p();o()(m.A,h);const v=m.A&&m.A.locals?m.A.locals:void 0},56868:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(65606);const o={BING:n.env.SKYBRUSH_BING_API_KEY,MAPBOX:n.env.SKYBRUSH_MAPBOX_API_KEY,MAPTILER:n.env.SKYBRUSH_MAPTILER_API_KEY,NEXTZEN:n.env.SKYBRUSH_NEXTZEN_API_KEY}},5953:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>m,Jy:()=>s,M7:()=>y,VM:()=>l.colorForStatus,m_:()=>p});var n=r(2520),o=r(59116),a=r(1670),i=r(59275),c=r(586),l=r(4181),u=r(51644);const s=Object.assign(Object.assign({},l.Colors),{main:a.A[500],geofence:i.A[700],convexHull:"#fc0",flightArea:"#0c4",plannedTrajectory:"#08f",missionItem:"#0cf",auxiliaryMissionItem:"#f80",currentMissionItem:"#0fc",doneMissionItem:"#0f8",selectedMissionItem:"#fc0",positionHold:c.A.A400}),f=e=>"object"==typeof e?(0,o.A)(e,f):Object.freeze(n(e).rgb().array()),p=f(s),d=new Map([[u.AI.CRITICAL,s.seriousWarning],[u.AI.DEBUG,s.off],[u.AI.ERROR,s.error],[u.AI.INFO,s.info],[u.AI.WARNING,s.warning]]),y=e=>d.has(e)?d.get(e):s.missing,m=s},94800:(e,t,r)=>{"use strict";r.d(t,{M:()=>a,n:()=>n.Status});var n=r(4181);const o={[n.Status.CRITICAL]:100,[n.Status.ERROR]:90,[n.Status.WARNING]:80,[n.Status.MISSING]:70,[n.Status.RTH]:60,[n.Status.SKIPPED]:50,[n.Status.NEXT]:40,[n.Status.INFO]:30,[n.Status.SUCCESS]:20,[n.Status.WAITING]:10,[n.Status.OFF]:0},a=e=>o[e]},69009:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>u,Vj:()=>l,cB:()=>i,y5:()=>c});var n=r(30038);const{actions:o,reducer:a}=(0,n.Z0)({name:"alert",initialState:{muted:!1,count:0},reducers:{dismissAlerts(e){e.count=0},setMuted(e,t){e.muted=t.payload},triggerAlert(e){e.count+=1}}}),{dismissAlerts:i,setMuted:c,triggerAlert:l}=o,u=a},41420:(e,t,r)=>{"use strict";r.d(t,{IE:()=>f,Ay:()=>y,EX:()=>d});var n=r(30038),o=r(30070),a=r(43247);function i(e,t,r){const n=e.byId[t];n?Object.assign(n,r):(e.byId[t]=Object.assign({id:t,position:void 0,heading:void 0,active:!1},r),e.order.push(t))}var c=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};const l=a.Tg,{actions:u,reducer:s}=(0,n.Z0)({name:"beacons",initialState:l,reducers:{clearBeaconList(e){(0,a.d5)(e)},setBeaconState(e,t){var r=t.payload,{id:n}=r;i(e,n,c(r,["id"]))},setBeaconStateMultiple(e,{payload:t}){for(const[r,n]of Object.entries(t))i(e,r,n)}},extraReducers(e){e.addCase(o.D,((e,t)=>{(0,a.dE)(e,t.payload)}))}}),{clearBeaconList:f,setBeaconState:p,setBeaconStateMultiple:d}=u,y=s},73342:(e,t,r)=>{"use strict";r.d(t,{At:()=>s,Ay:()=>d,u:()=>p});var n=r(30038),o=r(43247),a=r(91841),i=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};const c=o.Tg,{actions:l,reducer:u}=(0,n.Z0)({name:"clocks",initialState:c,reducers:{clearClockList(e){(0,o.d5)(e)},setClockState(e,t){var r=t.payload,{id:n}=r,o=i(r,["id"]);(0,a.Yc)(e,n,o)},setClockStateMultiple(e,{payload:t}){for(const[r,n]of Object.entries(t))(0,a.Yc)(e,r,n)}}}),{clearClockList:s,setClockState:f,setClockStateMultiple:p}=l,d=u},63829:(e,t,r)=>{"use strict";var n;r.d(t,{v:()=>n}),function(e){e.SYSTEM="system",e.LOCAL="__local__",e.MISSION="mission",e.MTC="mtc",e.SHOW="show",e.END_OF_SHOW="end_of_show"}(n||(n={}))},91841:(e,t,r)=>{"use strict";r.d(t,{$t:()=>m,Ag:()=>s,KK:()=>y,Px:()=>d,SQ:()=>u,Yc:()=>h,b0:()=>p,bj:()=>f});var n=r(29748),o=r(89610),a=r(63175),i=r(63829);const c={[i.v.SYSTEM]:{label:"Server clock",abbreviation:"SRV",affectedByClockSkew:!0},[i.v.LOCAL]:{label:"Client clock",abbreviation:"Time"},[i.v.MISSION]:{label:"Mission clock",abbreviation:"MSN",signed:!0,affectedByClockSkew:!0},[i.v.MTC]:{label:"MIDI timecode",abbreviation:"MTC"},[i.v.SHOW]:{label:"Drone show clock",abbreviation:"SHOW",signed:!0,affectedByClockSkew:!0},[i.v.END_OF_SHOW]:{label:"Time until end of show",abbreviation:"END",signed:!0,affectedByClockSkew:!0}},l=e=>Object.values(i.v).includes(e);function u({id:e}){return l(e)?c[e].abbreviation:"CLK"}function s({id:e}){return l(e)?c[e].label:`Clock \u2019${e}\u2019`}function f(e,t,r){const{epoch:c,ticksPerSecond:l}=t,{format:u=t.format}=r;let s=e/l;if(Number.isNaN(c))return t.id===String(i.v.MTC)?(s=Math.floor(s)+e%l/100,(0,a.aD)(s,{padHours:!0,precision:2})):l<=1?(0,a.aD)(s,{padHours:!0}):(0,a.aD)(s,{padHours:!0,precision:1});const f=new Date(1e3*(c+s));return(0,o.default)(u)?u(f):(0,n.A)(f,null!=u?u:"HH:mm:ss")}function p(e,t){const{referenceTime:r=0,running:n,ticks:o,ticksPerSecond:a}=e;return o+(n?(t-r)/1e3:0)*a}function d(e){return e&&e.ticksPerSecond>1?Math.max(1e3/e.ticksPerSecond,100):1e3}function y(e){return Boolean(l(null==e?void 0:e.id)&&c[e.id].affectedByClockSkew)}function m(e){return Boolean(l(null==e?void 0:e.id)&&c[e.id].signed)}function h(e,t,r){const n=e.byId[t];n?Object.assign(n,r):(e.byId[t]=Object.assign({id:t,running:!1,ticks:0},r),e.order.push(t))}},52556:(e,t,r)=>{"use strict";r.d(t,{mN:()=>s,Ay:()=>d,FV:()=>f,L3:()=>p});var n=r(30038),o=r(43247),a=r(51644);function i(e,t,r){var n;const{byId:o,order:i}=e;o[t]=Object.assign(Object.assign({},null!==(n=o[t])&&void 0!==n?n:(e=>({id:e,name:e,state:a.KN.DISCONNECTED,stateChangedAt:void 0}))(t)),r),i.includes(t)||i.push(t)}const c=o.Tg,{actions:l,reducer:u}=(0,n.Z0)({name:"connections",initialState:c,reducers:{clearConnectionList(e){(0,o.d5)(e)},removeConnectionsByIds(e,t){(0,o.Zj)(e,t.payload)},updateConnections(e,t){for(const[r,n]of Object.entries(t.payload))i(e,r,n)}}}),{clearConnectionList:s,removeConnectionsByIds:f,updateConnections:p}=l,d=u},82050:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>l,kX:()=>c,yv:()=>i});var n=r(30038);const{actions:o,reducer:a}=(0,n.Z0)({name:"detachablePanels",initialState:{detachedPanels:[]},reducers:{attachPanel(e,{payload:t}){const r=e.detachedPanels.indexOf(t);-1!==r&&e.detachedPanels.splice(r,1)},detachPanel(e,{payload:t}){e.detachedPanels.push(t)}}}),{attachPanel:i,detachPanel:c}=o,l=a},42605:(e,t,r)=>{"use strict";r.d(t,{Gj:()=>s,Ay:()=>y,eR:()=>p,RA:()=>d,E9:()=>u,vz:()=>f});var n,o=r(30038),a=r(68528);!function(e){e.LIVE_CAM="liveCam",e.SCHEDULE="schedule",e.STATUS="status",e.STORAGE="storage"}(n||(n={}));const i={open:!1,selectedDockId:void 0,selectedTab:n.STATUS},{actions:c,reducer:l}=(0,o.Z0)({name:"dock-details",initialState:i,reducers:{openDockDetailsDialog(e,{payload:t}){e.selectedDockId=t,e.open=!0},closeDockDetailsDialog:(0,a.kP)((e=>{e.open=!1})),setSelectedTabInDockDetailsDialog(e,{payload:t}){e.selectedTab=t}}}),{openDockDetailsDialog:u,closeDockDetailsDialog:s,setSelectedTabInDockDetailsDialog:f}=c,p=e=>e.dialogs.dockDetails.selectedDockId,d=e=>e.dialogs.dockDetails.selectedTab,y=l},41591:(e,t,r)=>{"use strict";r.d(t,{v1:()=>f,Ay:()=>y,z5:()=>d});var n=r(30038),o=r(30070),a=r(43247);function i(e,t,r){const n=e.byId[t];n?Object.assign(n,r):(e.byId[t]=Object.assign({id:t,position:void 0},r),e.order.push(t))}var c=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};const l=a.Tg,{actions:u,reducer:s}=(0,n.Z0)({name:"docks",initialState:l,reducers:{clearDockList(e){(0,a.d5)(e)},setDockState(e,t){var r=t.payload,{id:n}=r;i(e,n,c(r,["id"]))},setDockStateMultiple(e,{payload:t}){for(const[r,n]of Object.entries(t))i(e,r,n)}},extraReducers(e){e.addCase(o.D,((e,t)=>{(0,a.dE)(e,t.payload)}))}}),{clearDockList:f,setDockState:p,setDockStateMultiple:d}=u,y=s},11693:(e,t,r)=>{"use strict";r.d(t,{A:()=>i,o:()=>c});var n=r(30038),o=r(68528);const a={message:void 0,open:!1},{reducer:i,actions:c}=(0,n.Z0)({name:"error-handling",initialState:a,reducers:{closeErrorDialog:(0,o.kP)((e=>{e.open=!1})),showErrorMessage:{prepare:(e,t)=>({payload:t instanceof Error?`${e}: \n`+String(t):e}),reducer(e,t){e.message=t.payload,e.open=!0}}}})},59767:(e,t,r)=>{"use strict";r.d(t,{A:()=>l,L:()=>c});var n=r(30038);const o={contents:"\nYou can use Markdown syntax to format your notes, such as **bold**, _italic_ or ~~strikethrough~~.\nSee https://quickref.me/markdown for a quick reference guide to Markdown syntax.\n    ".trim()},{actions:a,reducer:i}=(0,n.Z0)({name:"field-notes",initialState:o,reducers:{updateFieldNotes(e,{payload:t}){e.contents=t}}}),{updateFieldNotes:c}=a,l=i},45480:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>f,Xe:()=>u,il:()=>l,p:()=>c,ul:()=>s});var n=r(30038),o=r(68528);const{actions:a,reducer:i}=(0,n.Z0)({name:"hotkeys",initialState:{dialogVisible:!1,pendingUAVId:""},reducers:{setPendingUAVId(e,t){e.pendingUAVId=t.payload},startPendingUAVIdTimeout(){},showHotkeyDialog:(0,o.kP)((e=>{e.dialogVisible=!0})),closeHotkeyDialog:(0,o.kP)((e=>{e.dialogVisible=!1}))}}),{closeHotkeyDialog:c,showHotkeyDialog:l,setPendingUAVId:u,startPendingUAVIdTimeout:s}=a,f=i},38595:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>p,Br:()=>f,VG:()=>u,e_:()=>l,vf:()=>s});var n=r(30038),o=r(43247),a=r(72648);const{actions:i,reducer:c}=(0,n.Z0)({name:"lcd-clock",initialState:{byId:{server:{id:"server",clockId:"system",preset:0},show:{id:"show",clockId:"show",preset:1}},order:["server","show"]},reducers:{addClockDisplay(e,t){const{clockId:r,preset:n}=t.payload,i=(0,a.KN)(r,e.order);(0,o.$$)(e,{id:i,clockId:r,preset:n})},removeClockDisplay(e,t){(0,o.T$)(e,t.payload)},setClockIdForClockDisplay(e,t){const{id:r,clockId:n}=t.payload,o=e.byId[r];o&&(o.clockId=n)},setPresetIndexForClockDisplay(e,t){const{id:r,preset:n}=t.payload,o=e.byId[r];o&&(o.preset=n)}}}),{addClockDisplay:l,removeClockDisplay:u,setClockIdForClockDisplay:s,setPresetIndexForClockDisplay:f}=i,p=c},41891:(e,t,r)=>{"use strict";r.d(t,{$u:()=>l,Ay:()=>u,Kx:()=>c});var n=r(30038),o=r(68528);const{actions:a,reducer:i}=(0,n.Z0)({name:"licenseInfo",initialState:{dialog:{open:!1}},reducers:{closeLicenseInfoDialog:(0,o.kP)((e=>{e.dialog.open=!1})),showLicenseInfoDialog:(0,o.kP)((e=>{e.dialog.open=!0}))}}),{closeLicenseInfoDialog:c,showLicenseInfoDialog:l}=a,u=i},18791:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>l,eY:()=>c,wW:()=>i});var n=r(30038);const{actions:o,reducer:a}=(0,n.Z0)({name:"lightControl",initialState:{active:!1,color:"#ffffff"},reducers:{setColor(e,t){"string"==typeof t.payload&&(e.color=t.payload)},setLightControlActive(e,t){e.active=Boolean(t.payload)}}}),{setColor:i,setLightControlActive:c}=o,l=a},37748:(e,t,r)=>{"use strict";r.d(t,{$F:()=>l,Ay:()=>p,Ld:()=>s,ON:()=>u,Rk:()=>f});var n=r(30038),o=r(68528);const a={pathScan:{scanning:!1,result:void 0,error:void 0},running:!1},{actions:i,reducer:c}=(0,n.Z0)({name:"localServer",initialState:a,reducers:{notifyLocalServerExecutableSearchStarted(e){e.pathScan.scanning=!0,e.pathScan.result=void 0,e.pathScan.error=void 0},notifyLocalServerExecutableSearchFinished(e,t){e.pathScan.scanning=!1,e.pathScan.result=t.payload,e.pathScan.error=void 0},notifyLocalServerExecutableSearchFailed(e,t){e.pathScan.scanning=!1,e.pathScan.result=void 0,e.pathScan.error=t.payload},startLocalServerExecutableSearch:(0,o.kP)((e=>{e.pathScan.result=void 0,e.pathScan.error=void 0}))}}),{notifyLocalServerExecutableSearchStarted:l,notifyLocalServerExecutableSearchFinished:u,notifyLocalServerExecutableSearchFailed:s,startLocalServerExecutableSearch:f}=i,p=c},60377:(e,t,r)=>{"use strict";r.d(t,{Af:()=>s,Ay:()=>f,fp:()=>c});var n=r(97859),o=r(30038);const{actions:a,reducer:i}=(0,o.Z0)({name:"log",initialState:{highestUnseenMessageLevel:-1,items:[],nextId:0,panelVisible:!1},reducers:{addLogItem(e,t){const{auxiliaryId:r,message:o,module:a,level:i,timestamp:c}=t.payload,l={id:e.nextId,timestamp:(0,n.default)(c)?Date.now():c,message:null!=o?o:"",module:null!=a?a:"",level:null!=i?i:0,auxiliaryId:null!=r?r:""};e.items.push(l),e.nextId+=1,e.panelVisible||void 0===i||(e.highestUnseenMessageLevel=Math.max(e.highestUnseenMessageLevel,i))},clearLogItems(e){e.items=[],e.highestUnseenMessageLevel=-1},deleteLogItem(e,t){const r=t.payload,n=e.items.findIndex((e=>e.id===r));n>=0&&e.items.splice(n,1)},updateLogPanelVisibility(e,t){e.panelVisible=Boolean(t.payload),e.panelVisible&&(e.highestUnseenMessageLevel=-1)}}}),{addLogItem:c,clearLogItems:l,deleteLogItem:u,updateLogPanelVisibility:s}=a,f=i},14833:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>s,_k:()=>c,n5:()=>u,ne:()=>l});var n=r(30038),o=r(68528);const{actions:a,reducer:i}=(0,n.Z0)({name:"mapCaching",initialState:{dialog:{open:!1},enabled:!1},reducers:{closeMapCachingDialog:(0,o.kP)((e=>{e.dialog.open=!1})),showMapCachingDialog:(0,o.kP)((e=>{e.dialog.open=!0})),setMapCachingEnabled(e,t){e.enabled=Boolean(t.payload)}}}),{closeMapCachingDialog:c,showMapCachingDialog:l,setMapCachingEnabled:u}=a,s=i},48332:(e,t,r)=>{"use strict";r.d(t,{A:()=>a,o:()=>i});var n=r(30038);const o={dialogVisible:!1,featureId:void 0,selectedTab:r(49116).bA.GENERAL},{reducer:a,actions:i}=(0,n.Z0)({name:"feature-editor",initialState:o,reducers:{closeFeatureEditorDialog(e){e.dialogVisible=!1},showFeatureEditorDialog(e,t){e.dialogVisible=!0,e.featureId=t.payload},setFeatureEditorDialogTab(e,t){e.selectedTab=t.payload}}})},53855:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>b,Hk:()=>s,Ig:()=>d,Jh:()=>y,Te:()=>h,Ui:()=>g,ai:()=>m,ci:()=>p,oP:()=>v,sO:()=>u,tl:()=>f});var n=r(30038),o=r(43247);const a=[void 0,!0,!1],i=e=>a[(a.indexOf(e)+1)%a.length],{actions:c,reducer:l}=(0,n.Z0)({name:"features",initialState:{byId:{},order:[]},reducers:{addFeatureById(e,t){const{id:r,feature:n}=t.payload,{points:a,type:i}=n;if(!r)throw new Error("Feature must have an ID");if(!i)throw new Error("Feature must have a type");if(!a||0===a.length)throw new Error("Feature must have at least one point");if(e.byId[r])throw new Error("Feature ID is already taken");const c=Object.assign(Object.assign({visible:!0},structuredClone(n)),{id:r});t.featureId=r,(0,o.$$)(e,c)},removeFeaturesByIds(e,t){(0,o.Zj)(e,t.payload)},renameFeature(e,t){const{id:r,name:n}=t.payload,o=e.byId[r];void 0===o||(o.label=n)},setFeatureColor(e,t){const{id:r,color:n}=t.payload,o=e.byId[r];void 0===o||(o.color=n)},updateFeatureAttributes(e,t){const{id:r,attributes:n}=t.payload,o=e.byId[r];void 0===o||(o.attributes=Object.assign(Object.assign({},o.attributes),n))},toggleFeatureFillVisible(e,t){const{id:r}=t.payload,n=e.byId[r];void 0===n||(n.filled=i(n.filled))},toggleFeatureMeasurementVisible(e,t){const{id:r}=t.payload,n=e.byId[r];void 0===n||(n.measure=i(n.measure))},toggleFeaturePointsVisible(e,t){const{id:r}=t.payload,n=e.byId[r];void 0===n||(n.showPoints=i(n.showPoints))},updateFeaturePropertiesByIds(e,t){for(const[r,n]of Object.entries(t.payload)){const t=e.byId[r];t&&Object.assign(t,n)}},updateFeatureVisibility(e,t){const{id:r,visible:n}=t.payload,o=e.byId[r];void 0===o||(o.visible=Boolean(n))}}}),{addFeatureById:u,removeFeaturesByIds:s,renameFeature:f,setFeatureColor:p,toggleFeatureFillVisible:d,toggleFeatureMeasurementVisible:y,toggleFeaturePointsVisible:m,updateFeatureAttributes:h,updateFeaturePropertiesByIds:v,updateFeatureVisibility:g}=c,b=l},49116:(e,t,r)=>{"use strict";var n;r.d(t,{Ui:()=>a,bA:()=>n,sV:()=>o}),function(e){e.GENERAL="general",e.ATTRIBUTES="attributes",e.POINTS="points"}(n||(n={}));const o=[n.GENERAL,n.ATTRIBUTES],a={[n.GENERAL]:"General",[n.ATTRIBUTES]:"Attributes",[n.POINTS]:"Points"}},98275:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>f,JQ:()=>s,Mj:()=>u});var n=r(30038),o=r(99861),a=r(68528);const i={dialogVisible:!1,selectedLayer:void 0},{actions:c,reducer:l}=(0,n.Z0)({name:"layer-settings-dialog",initialState:i,reducers:{showLayerSettingsDialog(e,{payload:t}){e.dialogVisible=!0,e.selectedLayer=t},closeLayerSettingsDialog:(0,a.kP)((e=>{e.dialogVisible=!1}))},extraReducers(e){e.addCase(o.e5,((e,t)=>{e.selectedLayer===t.payload&&(e.dialogVisible=!1,e.selectedLayer=void 0)}))}}),{showLayerSettingsDialog:u,closeLayerSettingsDialog:s}=c,f=l},99861:(e,t,r)=>{"use strict";r.d(t,{At:()=>v,Ay:()=>E,IJ:()=>h,Jq:()=>d,K_:()=>b,QG:()=>y,Sr:()=>w,VE:()=>p,e5:()=>m});var n=r(18042),o=r(74722),a=r(30038),i=r(23354),c=r(43247),l=r(72648);const u={byId:{base:(0,i.Kd)("base",i.mb.BASE,"Base map"),graticule:(0,i.Kd)("graticule",i.mb.GRATICULE,"Graticule"),beacons:(0,i.Kd)("beacons",i.mb.BEACONS,"Beacons"),features:(0,i.Kd)("features",i.mb.FEATURES,"Features"),home:(0,i.Kd)("home",i.mb.MISSION_INFO,"Mission info"),uavs:(0,i.Kd)("uavs",i.mb.UAVS,"UAVs")},order:["base","graticule","beacons","features","home","uavs"]},{reducer:s,actions:f}=(0,a.Z0)({name:"layers",initialState:u,reducers:{addLayer:{prepare:(e,t)=>({payload:{name:e,type:t}}),reducer(e,t){let{name:r}=t.payload;const{type:a}=t.payload;if(!a&&!r)for(const[r,n]of Object.entries(e.byId))if(!n.type||n.type===i.mb.UNTYPED)return void(t.id=r);if(!r){const t=(0,o.A)(e.byId,(e=>e.label));r=(0,l.OM)("New layer",t)}const c=Object.keys(e.byId),u=(0,l.KN)((0,n.A)(r),c),s=(0,i.Kd)(u,a,"");t.id=u,e.byId[u]=s,e.order.push(u)}},adjustLayerZIndex:{prepare:(e,t)=>({payload:{id:e,delta:t}}),reducer(e,t){const{id:r,delta:n}=t.payload,{order:o}=e,a=o.indexOf(r),i=a<0?-1:Math.max(0,Math.min(a+n,o.length-1));return a>=0&&i>=0&&(o.splice(a,1),o.splice(i,0,r)),e}},changeLayerType:{prepare:(e,t)=>({payload:{id:e,type:t}}),reducer(e,t){const{id:r,type:n}=t.payload,a=e.byId[r];if(void 0===a);else if(a.type===i.mb.UNTYPED){const t=(0,o.A)(e.byId,(e=>e.label)),r=(0,l.OM)((0,i.Pr)(n),t),c=a.label,u=""===c?r:c;Object.assign(a,{type:n,label:u,parameters:(0,i.ci)(n),visible:!0})}return e}},removeLayer(e,{payload:t}){(0,c.T$)(e,t)},renameLayer:{prepare:(e,t)=>({payload:{id:e,name:t}}),reducer(e,t){const{id:r,name:n}=t.payload,o=e.byId[r];void 0===o||(o.label=n)}},selectMapSource(e,t){const{layerId:r,source:n}=t.payload,o=e.byId[r];void 0===o||(o.parameters.source=n)},setLayerParameterById:{prepare:(e,t,r)=>({payload:{layerId:e,parameter:t,value:r}}),reducer(e,t){const{layerId:r,parameter:n,value:o}=t.payload,a=e.byId[r];void 0===a||(a.parameters[n]=o)}},setLayerParametersById:{prepare:(e,t)=>({payload:{layerId:e,parameters:t}}),reducer(e,t){const{layerId:r,parameters:n}=t.payload,o=e.byId[r];void 0===o||Object.assign(o.parameters,n)}},toggleLayerVisibility(e,{payload:t}){const r=e.byId[t];void 0===r||(r.visible=!r.visible)}}}),{addLayer:p,adjustLayerZIndex:d,changeLayerType:y,removeLayer:m,renameLayer:h,selectMapSource:v,setLayerParameterById:g,setLayerParametersById:b,toggleLayerVisibility:w}=f,E=s},11338:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>p,Zv:()=>s,dK:()=>u,Pg:()=>f,_F:()=>l});var n,o=r(30038);!function(e){e.NEU="neu",e.NWU="nwu"}(n||(n={}));const a={position:[18.915125,47.486305],angle:"59",type:n.NWU},{reducer:i,actions:c}=(0,o.Z0)({name:"map/origin",initialState:a,reducers:{updateFlatEarthCoordinateSystem(e,t){const{angle:r,position:n,type:o}=t.payload;void 0!==n&&(e.position=n),void 0!==r&&(e.angle=r),void 0!==o&&(e.type=o)}}}),{updateFlatEarthCoordinateSystem:l}=c;function u(e){return l({position:e})}function s(e){return l({angle:e})}function f(e){return l({type:e})}const p=i},34902:(e,t,r)=>{"use strict";r.d(t,{Dh:()=>y,wr:()=>m,Ay:()=>w,D$:()=>h,lC:()=>v,td:()=>g,CY:()=>b});var n=r(43525),o=r(30038),a=r(53855),i=r(23809),c=r(61506),l=r(44757),u=r(41343),s=r(9383);function f(e,t,r=[]){const n=(0,l.A)(e,r);return t&&t.length>0?(n.splice(0,0,...t),(0,u.A)(n)):n}const{actions:p,reducer:d}=(0,o.Z0)({name:"map/selection",initialState:[],reducers:{addToSelection:(e,t)=>f(e,t.payload),clearSelection(e){e.length=0},removeFromSelection:(e,t)=>f(e,[],t.payload),selectAllUAVs:()=>f([],Object.keys(s.Ay._uavsById).map(c.ZO)),setSelection:(e,t)=>f([],t.payload),toggleInSelection:(e,t)=>f([],(0,n.A)(e,t.payload))},extraReducers(e){e.addCase(a.Hk,((e,t)=>f(e,[],t.payload.map(c.Du).filter(Boolean)))),e.addCase(i.Oy,((e,t)=>f(e,[],t.payload.map(c.S2).filter(Boolean))))}}),{addToSelection:y,clearSelection:m,removeFromSelection:h,selectAllUAVs:v,setSelection:g,toggleInSelection:b}=p,w=d},60276:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>u,_6:()=>l,_y:()=>c});var n=r(30038);const o={selectedTool:r(19023).NL.SELECT},{reducer:a,actions:i}=(0,n.Z0)({name:"map/tools",initialState:o,reducers:{setSelectedTool(e,t){e.selectedTool=t.payload}}}),{setSelectedTool:c}=i,l=e=>e.map.tools.selectedTool,u=a},48034:(e,t,r)=>{"use strict";r.d(t,{A:()=>l,c:()=>c});var n=r(30038),o=r(32);const{actions:a,reducer:i}=(0,n.Z0)({name:"map/view",initialState:{position:[18.915125,47.486305],angle:"0",zoom:17},reducers:{updateMapViewSettings(e,t){const{angle:r,position:n,zoom:a}=t.payload;e.position=n,e.angle=(0,o.n0)(r),e.zoom=Math.max(Math.min(a,20),0)}}}),{updateMapViewSettings:c}=a,l=i},73807:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>b,GY:()=>p,Pl:()=>f,Q3:()=>m,RQ:()=>h,Xu:()=>y,eV:()=>d,jr:()=>g,np:()=>s,po:()=>v});var n=r(57231),o=r(30038),a=r(43247),i=r(68528);const c={averagingResults:a.Tg,averagingDialog:{open:!1,selectedUAVIds:[]}},{actions:l,reducer:u}=(0,o.Z0)({name:"measurement",initialState:c,reducers:{closeAveragingDialog:(0,i.kP)((e=>{e.averagingDialog.open=!1})),showAveragingDialog:(0,i.kP)((e=>{e.averagingDialog.open=!0})),setSelectedUAVIdsForAveragingMeasurement(e,t){e.averagingDialog.selectedUAVIds=[...t.payload]},startAveragingUAVCoordinateById(e,t){const r=t.payload;(0,a.ch)(e.averagingResults,{id:r,startedAt:Date.now(),lastSampleAt:void 0,numSamples:0,extraSamplingTime:0,sampling:!0,mean:{lat:0,lon:0,amsl:0,ahl:0},sqDiff:{lat:0,lon:0,amsl:0,ahl:0}})},pauseAveragingUAVCoordinatesByIds(e,t){const r=t.payload,n=e.averagingResults;for(const e of r){const t=n.byId[e];t&&"number"==typeof t.startedAt&&(t.sampling=!1,t.extraSamplingTime+=Date.now()-t.startedAt,t.startedAt=void 0,t.lastSampleAt=void 0)}},restartAveragingUAVCoordinatesByIds(e,t){const r=t.payload,n=e.averagingResults;for(const e of r){const t=n.byId[e];t&&(n.byId[e]=Object.assign(Object.assign({},t),{startedAt:Date.now(),lastSampleAt:void 0,numSamples:0,extraSamplingTime:0,sampling:!0,mean:{lat:0,lon:0,amsl:0,ahl:0},sqDiff:{lat:0,lon:0,amsl:0,ahl:0}}))}},resumeAveragingUAVCoordinatesByIds(e,t){const r=t.payload;for(const t of r){const r=e.averagingResults.byId[t];r&&(r.sampling=!0,r.startedAt=Date.now())}},stopAveragingUAVCoordinatesByIds(e,t){const r=t.payload;(0,a.Zj)(e.averagingResults,r),e.averagingDialog.selectedUAVIds=(0,n.A)(e.averagingDialog.selectedUAVIds,e.averagingResults.order)},updateAveragingByIds(e,t){for(const[r,n]of Object.entries(t.payload)){const t=e.averagingResults.byId[r];t&&(t.mean=Object.assign(Object.assign({},t.mean),n.mean),t.sqDiff=Object.assign(Object.assign({},t.sqDiff),n.sqDiff),void 0!==n.numSamples&&(t.numSamples=n.numSamples),void 0!==n.lastSampleAt&&(t.lastSampleAt=n.lastSampleAt))}}}}),{closeAveragingDialog:s,pauseAveragingUAVCoordinatesByIds:f,restartAveragingUAVCoordinatesByIds:p,resumeAveragingUAVCoordinatesByIds:d,setSelectedUAVIdsForAveragingMeasurement:y,showAveragingDialog:m,startAveragingUAVCoordinateById:h,stopAveragingUAVCoordinatesByIds:v,updateAveragingByIds:g}=l,b=u},19413:(e,t,r)=>{"use strict";r.d(t,{tS:()=>s,k9:()=>l,hv:()=>u,PT:()=>f,Ay:()=>d,kt:()=>p});var n=r(30038),o=r(51644);function a(e,t,r,n){const o=Object.assign({id:e.nextMessageId++},t);if(void 0!==n){const t=e.byId[n];t&&(t.responseId=o.id)}e.byId[o.id]=o;let a=e.uavIdsToMessageIds[r];return a||(a=[],e.uavIdsToMessageIds[r]=a),a.push(o.id),o.id}const{actions:i,reducer:c}=(0,n.Z0)({name:"messages",initialState:{byId:{},commandHistory:[],uavIdsToMessageIds:{},nextMessageId:1},reducers:{addErrorMessage(e,t){const{message:r,refs:n,uavId:i}=t.payload,c=a(e,{type:o.Go.ERROR,date:Date.now(),body:r},i,n);t.messageId=c},addInboundMessage(e,t){const{message:r,refs:n,severity:i,uavId:c}=t.payload,l=a(e,{type:o.Go.INBOUND,author:c,date:Date.now(),raw:!0,recipient:"Operator",severity:i,body:r},c,n);t.messageId=l},addOutboundMessage(e,t){const{message:r,uavId:n}=t.payload;if(!n)return;const i=a(e,{type:o.Go.OUTBOUND,author:"Operator",date:Date.now(),responseId:void 0,recipient:n,body:r,percentage:void 0,status:void 0,suspended:!1},n);t.messageId=i,e.commandHistory.at(-1)!==r&&e.commandHistory.push(r)},clearMessagesOfUAVById(e,t){var r;const{payload:n}=t,o=null!==(r=e.uavIdsToMessageIds[n])&&void 0!==r?r:[];for(const t of o)delete e.byId[t];delete e.uavIdsToMessageIds[n]},updateProgressByMessageId(e,t){const{messageId:r,progress:n,suspended:o}=t.payload,a=e.byId[r];a&&"object"==typeof n&&("number"==typeof n.percentage&&(a.percentage=Number(Math.max(0,Math.min(n.percentage,100)).toFixed(1))),void 0!==n.message&&(a.message=String(n.message)),void 0!==o&&(a.suspended=Boolean(o)))}}}),{addInboundMessage:l,addOutboundMessage:u,addErrorMessage:s,clearMessagesOfUAVById:f,updateProgressByMessageId:p}=i,d=c},23809:(e,t,r)=>{"use strict";r.d(t,{Vh:()=>Z,B:()=>y,su:()=>m,Wy:()=>h,Xg:()=>v,MH:()=>g,$V:()=>w,XF:()=>E,Ay:()=>X,hH:()=>A,JK:()=>S,Oy:()=>O,Wb:()=>x,$q:()=>j,I9:()=>k,CE:()=>T,dJ:()=>I,kl:()=>C,z$:()=>P,RK:()=>L,FH:()=>_,CA:()=>N,r1:()=>R,Gy:()=>D,Ky:()=>M,gG:()=>F,V7:()=>U,c8:()=>G,OX:()=>V,re:()=>B,FQ:()=>H,n2:()=>W,NO:()=>z,fH:()=>Y,Rs:()=>K,RQ:()=>q,B5:()=>$});var n=r(97859),o=r(30038),a=r(53855),i=r(88356),c=r(12209),l=r(43247),u=r(68528);function s(e,t){const r=t.length;if(r<e){const n=t.concat();return n.length=e,n.fill(null,r),n}return t.slice(0,e)}const f={type:c.Pp.UNKNOWN,mapping:[],homePositions:[],landingPositions:[],takeoffHeadings:[],mappingEditor:{enabled:!1,indexBeingEdited:-1},preferredChannelIndex:0,commandsAreBroadcast:!1,geofencePolygonId:void 0,geofenceAction:i.FU.RETURN,name:null,items:{byId:{},order:[]},editorPanel:{followScroll:!1},plannerDialog:{applyGeofence:!1,open:!1,parameters:{fromUser:{},fromContext:{}},selectedType:null},lastSuccessfulPlannerInvocationParameters:null,progress:{currentItemId:void 0,currentItemRatio:void 0},lastClearedMissionData:null},{actions:p,reducer:d}=(0,o.Z0)({name:"mission",initialState:f,reducers:{addMissionItem(e,t){const{item:r,index:n}=t.payload,{id:o,type:a}=r;if(!o)throw new Error("Mission item must have an ID");if(!a)throw new Error("Mission item must have a type");if(e.items.byId[o])throw new Error("Mission item ID is already taken");"number"==typeof n?(0,l.Mw)(e.items,r,n):(0,l.$$)(e.items,r)},adjustMissionMapping(e,t){const{uavId:r,to:o}=t.payload,a=e.mapping.indexOf(r),i=(0,n.default)(o)?null:e.mapping[o];a>=0&&(e.mapping[a]=null!=i?i:null),(0,n.default)(o)||(e.mapping[o]=r)},cancelMappingEditorSessionAtCurrentSlot:(0,u.kP)((e=>{e.mappingEditor.indexBeingEdited=-1})),clearGeofencePolygonId:(0,u.kP)((e=>{e.geofencePolygonId=void 0})),clearMapping(e){e.mapping=Array.from({length:e.mapping.length},(()=>null))},clearMappingSlot(e,t){const r=t.payload;r>=0&&r<e.mapping.length&&(e.mapping[r]=null)},closeMissionPlannerDialog:(0,u.kP)((e=>{e.plannerDialog.open=!1})),finishMappingEditorSession:(0,u.kP)((e=>{e.mappingEditor.enabled=!1,e.mappingEditor.indexBeingEdited=-1})),commitMappingEditorSessionAtCurrentSlot(e,t){const{continuation:r,value:o}=t.payload,a="string"==typeof o&&o.trim().length>0?o:null,i=e.mappingEditor.indexBeingEdited;if(i>=0&&i<e.mapping.length){const t=e.mapping[i],r=null===a?-1:e.mapping.indexOf(a);r>=0&&(e.mapping[r]=null!=t?t:null),e.mapping[i]=a}e.mappingEditor.indexBeingEdited=function(e,t){const{mapping:r}=e,o=e.mappingEditor.indexBeingEdited,a=r.length,i="prev"===t||"prevEmpty"===t?-1:"next"===t||"nextEmpty"===t?1:0,c="prevEmpty"===t||"nextEmpty"===t;let l;if(0===i)l=-1;else for(l=(o+i)%a;l!==o&&c&&!(0,n.default)(r[l]);l=(l+i)%a);return l===o&&(l=-1),l}(e,r)},moveMissionItem:{prepare:(e,t)=>({payload:{oldIndex:e,newIndex:t}}),reducer(e,t){const{oldIndex:r,newIndex:n}=t.payload,o=e.items.order.length;if(r>=0&&r<o&&n>=0&&n<o&&r!==n){const[t]=e.items.order.splice(r,1);e.items.order.splice(n,0,t)}}},removeMissionItemsByIds(e,t){(0,l.Zj)(e.items,t.payload)},removeUAVsFromMapping(e,t){for(const r of t.payload){const t=e.mapping.indexOf(r);t>=0&&(e.mapping[t]=null)}},replaceMapping(e,t){const r=t.payload;if(!Array.isArray(r))throw new TypeError("New mapping must be an array");if(r.length!==e.mapping.length)throw new Error("Cannot change mapping length with replaceMapping()");e.mapping=r},setCommandsAreBroadcast(e,t){e.commandsAreBroadcast=Boolean(t.payload)},setEditorPanelFollowScroll(e,t){e.editorPanel.followScroll=Boolean(t.payload)},setGeofenceAction(e,t){e.geofenceAction=t.payload},setGeofencePolygonId(e,t){e.geofencePolygonId=t.payload},setMappingLength(e,t){const r="string"==typeof t.payload?Number.parseInt(t.payload,10):t.payload;if(Number.isNaN(r)||r<0||r>1e3)return;const n=e.mapping.length;if(r<n)e.mapping.splice(r),e.homePositions.splice(r),e.landingPositions.splice(r),e.takeoffHeadings.splice(r);else if(r>n){const t=Array.from({length:r-n},(()=>null));e.mapping.push(...t),e.homePositions.push(...t),e.landingPositions.push(...t),e.takeoffHeadings.push(...t)}},_setMissionItemsFromValidatedArray(e,{payload:t}){e.items={order:t.map((e=>e.id)),byId:Object.fromEntries(t.map((e=>[e.id,e])))},e.progress={currentItemId:void 0,currentItemRatio:void 0}},setMissionType(e,t){e.type="string"==typeof t.payload?t.payload:c.Pp.UNKNOWN},setMissionName(e,t){e.name="string"==typeof t.payload?t.payload:null},setMissionPlannerDialogApplyGeofence(e,t){e.plannerDialog.applyGeofence=Boolean(t.payload)},setMissionPlannerDialogSelectedType(e,t){e.plannerDialog.selectedType=t.payload},setMissionPlannerDialogContextParameters(e,t){e.plannerDialog.parameters.fromContext=t.payload},setMissionPlannerDialogUserParameters(e,t){e.plannerDialog.parameters.fromUser=t.payload},setLastSuccessfulPlannerInvocationParameters(e,t){e.lastSuccessfulPlannerInvocationParameters=t.payload},setLastClearedMissionData(e,t){e.lastClearedMissionData=t.payload},showMissionPlannerDialog:(0,u.kP)((e=>{e.plannerDialog.open=!0})),startMappingEditorSessionAtSlot(e,t){const r="number"==typeof t.payload?t.payload:-1,n=r<0||r>=e.mapping.length?-1:r;e.mappingEditor.enabled=!0,e.mappingEditor.indexBeingEdited=n},startMappingEditorSession:(0,u.kP)((e=>{e.mappingEditor.enabled=!0,e.mappingEditor.indexBeingEdited=-1})),togglePreferredChannel(e){e.preferredChannelIndex=e.preferredChannelIndex?0:1},updateCurrentMissionItemId(e,t){e.progress.currentItemId=t.payload,e.progress.currentItemRatio=void 0},updateCurrentMissionItemRatio(e,t){e.progress.currentItemRatio=t.payload},updateHomePositions(e,t){e.homePositions=s(e.mapping.length,t.payload)},updateLandingPositions(e,t){e.landingPositions=s(e.mapping.length,t.payload)},updateMissionItemParameters:{prepare:(e,t)=>({payload:{itemId:e,parameters:t}}),reducer(e,t){const{itemId:r,parameters:n}=t.payload,o=e.items.byId[r];o&&(o.parameters=Object.assign(Object.assign({},o.parameters),n))}},updateTakeoffHeadings(e,{payload:t}){Array.isArray(t)?e.takeoffHeadings=s(e.mapping.length,t):e.takeoffHeadings=Array.from({length:e.mapping.length},(()=>t))}},extraReducers(e){e.addCase(a.Hk,((e,t)=>{const r=t.payload;e.geofencePolygonId&&r.includes(e.geofencePolygonId)&&(e.geofencePolygonId=void 0)}))}}),{addMissionItem:y,adjustMissionMapping:m,cancelMappingEditorSessionAtCurrentSlot:h,clearGeofencePolygonId:v,clearMapping:g,clearMappingSlot:b,closeMissionPlannerDialog:w,commitMappingEditorSessionAtCurrentSlot:E,finishMappingEditorSession:A,moveMissionItem:S,removeMissionItemsByIds:O,removeUAVsFromMapping:x,replaceMapping:j,setCommandsAreBroadcast:k,setEditorPanelFollowScroll:T,setGeofenceAction:I,setGeofencePolygonId:C,setLastClearedMissionData:P,setLastSuccessfulPlannerInvocationParameters:L,setMappingLength:_,setMissionName:N,setMissionPlannerDialogApplyGeofence:R,setMissionPlannerDialogContextParameters:D,setMissionPlannerDialogSelectedType:M,setMissionPlannerDialogUserParameters:F,setMissionType:U,showMissionPlannerDialog:G,startMappingEditorSession:V,startMappingEditorSessionAtSlot:B,togglePreferredChannel:H,updateCurrentMissionItemId:W,updateCurrentMissionItemRatio:z,updateHomePositions:Y,updateLandingPositions:K,updateMissionItemParameters:q,updateTakeoffHeadings:$,_setMissionItemsFromValidatedArray:Z}=p,X=d},30070:(e,t,r)=>{"use strict";r.d(t,{D:()=>n});const n=(0,r(30038).VP)("objects/notifyObjectsDeletedOnServer")},39777:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>m,HC:()=>u,_l:()=>y,eQ:()=>s,h5:()=>d,hO:()=>p,pK:()=>f});var n=r(30038),o=r(43247),a=r(68528);const i={manifest:o.Tg,rebootAfterUpload:!1,dialog:{open:!1}},{actions:c,reducer:l}=(0,n.Z0)({name:"parameters",initialState:i,reducers:{clearManifest:(0,a.kP)((e=>{(0,o.d5)(e.manifest)})),closeParameterUploadSetupDialog:(0,a.kP)((e=>{e.dialog.open=!1})),removeParameterFromManifest(e,t){const{payload:r}=t,{manifest:n}=e;r&&"string"==typeof r&&(0,o.T$)(n,r)},setRebootAfterUpload(e,t){e.rebootAfterUpload=Boolean(t.payload)},showParameterUploadSetupDialog:(0,a.kP)((e=>{e.dialog.open=!0})),updateParametersInManifest(e,t){const{payload:r}=t,{manifest:n}=e;if(Array.isArray(r))for(const{name:e,value:t}of r)n.order.includes(e)&&(0,o.T$)(n,e),(0,o.BS)(n,{id:e,name:e,value:t})}}}),{clearManifest:u,closeParameterUploadSetupDialog:s,removeParameterFromManifest:f,setRebootAfterUpload:p,showParameterUploadSetupDialog:d,updateParametersInManifest:y}=c,m=l},35476:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>d,Uq:()=>s,Wl:()=>p});var n=r(30038),o=r(43247);const a={groups:(0,o.q9)([{id:"weather",label:"Weather"},{id:"permissions",label:"Permissions"},{id:"equipment",label:"Equipment"},{id:"environment",label:"Environment"}]),items:(0,o.q9)([{id:"weather-wind-speed",label:"Wind speed is within an acceptable range",groupId:"weather"},{id:"weather-visibility",label:"Visibility sufficient for flight",groupId:"weather"},{id:"weather-precipitation",label:"Precipitation within acceptable range",groupId:"weather"},{id:"planetary-k-index",label:"No geomagnetic storms indicated by Kp-index",groupId:"weather"},{id:"permissions-drone-pilot-license",label:"Drone pilot license is valid",groupId:"permissions"},{id:"permissions-airspace-authorization",label:"Airspace authorization has been obtained",groupId:"permissions"},{id:"equipment-rc-charged",label:"Remote controller batteries are charged",groupId:"equipment"},{id:"equipment-propellers-mounted",label:"Drone propellers are securely mounted",groupId:"equipment"},{id:"equipment-no-visible-damage",label:"No visible damage on drone components",groupId:"equipment"},{id:"environment-no-obstructions",label:"No obstructions in takeoff area",groupId:"environment"},{id:"environment-cordoned-off",label:"Takeoff and landing area cordoned off",groupId:"environment"},{id:"environment-flight-path-clear",label:"No people below flight paths",groupId:"environment"}]),checked:[]},{actions:i,reducer:c}=(0,n.Z0)({name:"preflight",initialState:a,reducers:{clearPreflightCheckGroups(e){(0,o.d5)(e.items),(0,o.d5)(e.groups),e.checked=[]},clearPreflightCheckListItems(e){(0,o.d5)(e.items),e.checked=[]},setPreflightCheckListItems(e,t){const{groups:r,items:n}=t.payload;r.byId&&r.order&&n.byId&&n.order&&(e.items={byId:n.byId,order:n.order},e.groups={byId:r.byId,order:r.order},e.checked=[])},setPreflightCheckStatus(e,t){const{id:r,checked:n}=t.payload,o=e.items.byId[r],a=e.checked.indexOf(r);o&&(n&&a<0?e.checked.push(r):!n&&a>=0&&e.checked.splice(a,1))},togglePreflightCheckStatus(e,t){const r=t.payload,n=e.items.byId[r],o=e.checked.indexOf(r);n&&(o<0?e.checked.push(r):o>=0&&e.checked.splice(o,1))}}}),{clearPreflightCheckGroups:l,clearPreflightCheckListItems:u,setPreflightCheckListItems:s,setPreflightCheckStatus:f,togglePreflightCheckStatus:p}=i,d=c},93334:(e,t,r)=>{"use strict";r.d(t,{Jt:()=>u,an:()=>s,dk:()=>f,rb:()=>l});var n=r(37095),o=r(87092),a=function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{l(n.next(e))}catch(e){a(e)}}function c(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,c)}l((n=n.apply(e,t||[])).next())}))};let i;function c(e){void 0!==i&&(i(e),i=void 0)}function l(){return e=>{e((0,n.CF)()),c(void 0)}}function u(e){return void 0===e?l():t=>{t((0,n.gP)()),c(e)}}function s(e={}){return t=>a(this,void 0,void 0,(function*(){return c(void 0),t((0,n.jr)(Object.assign({type:o.r.GENERIC},e))),new Promise((e=>{i=e}))}))}function f(e,t={}){return r=>a(this,void 0,void 0,(function*(){return c(void 0),r((0,n.jr)(Object.assign({type:o.r.CONFIRMATION,message:e},t))),new Promise((e=>{i=e}))}))}},37095:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>s,CF:()=>c,gP:()=>u,jr:()=>l});var n=r(30038);const o={open:!1,type:r(87092).r.GENERIC,initialValues:{},schema:{},cancelButtonLabel:void 0,message:void 0,submitButtonLabel:void 0,title:void 0},{reducer:a,actions:i}=(0,n.Z0)({name:"prompt",initialState:o,reducers:{_cancelPromptDialog(e){e.open=!1},_showPromptDialog(e,{payload:t}){e.open=!0,Object.assign(e,t)},_submitPromptDialog(e){e.open=!1}}}),{_cancelPromptDialog:c,_showPromptDialog:l,_submitPromptDialog:u}=i,s=a},87092:(e,t,r)=>{"use strict";var n;r.d(t,{r:()=>n}),function(e){e.GENERIC="generic",e.CONFIRMATION="confirmation"}(n||(n={}))},49957:(e,t,r)=>{"use strict";r.d(t,{fU:()=>s,_N:()=>f,Ay:()=>v,i2:()=>p,Iy:()=>d,YN:()=>y,IP:()=>m,W4:()=>h});var n,o=r(97859),a=r(30038),i=r(68528);!function(e){e.LON_LAT="lonLat",e.ECEF="ecef"}(n||(n={}));const c={stats:{lastUpdatedAt:void 0,satellites:{},messages:{},antenna:{descriptor:void 0,height:void 0,position:void 0,positionECEF:void 0,serialNumber:void 0,stationId:void 0},survey:{accuracy:void 0,flags:0}},dialog:{open:!1,antennaPositionFormat:n.LON_LAT,surveySettingsEditorVisible:!1}},{actions:l,reducer:u}=(0,a.Z0)({name:"rtk",initialState:c,reducers:{closeRTKSetupDialog:(0,i.kP)((e=>{e.dialog.open=!1})),closeSurveySettingsPanel:(0,i.kP)((e=>{e.dialog.surveySettingsEditorVisible=!1})),showRTKSetupDialog:(0,i.kP)((e=>{e.dialog.open=!0})),resetRTKStatistics(e){e.stats.lastUpdatedAt=void 0,e.stats.antenna={},e.stats.satellites={},e.stats.messages={},e.stats.survey={}},setAntennaPositionFormat(e,t){e.dialog.antennaPositionFormat=t.payload},toggleSurveySettingsPanel:(0,i.kP)((e=>{e.dialog.surveySettingsEditorVisible=!e.dialog.surveySettingsEditorVisible})),updateRTKStatistics(e,t){const{antenna:r,lastUpdatedAt:n,messages:a,satellites:i,survey:c}=t.payload;e.stats.antenna=r,e.stats.lastUpdatedAt=n,e.stats.messages=a,e.stats.satellites=i,void 0===e.stats.survey&&(e.stats.survey={}),(0,o.default)(c.accuracy)||(e.stats.survey.accuracy=c.accuracy),(0,o.default)(c.flags)||(e.stats.survey.flags=c.flags)}}}),{closeRTKSetupDialog:s,closeSurveySettingsPanel:f,resetRTKStatistics:p,setAntennaPositionFormat:d,showRTKSetupDialog:y,toggleSurveySettingsPanel:m,updateRTKStatistics:h}=l,v=u},81772:(e,t,r)=>{"use strict";var n;r.d(t,{I:()=>n}),function(e){e.GEOFENCE="geofence",e.SETTINGS="settings"}(n||(n={}))},88356:(e,t,r)=>{"use strict";var n;r.d(t,{FU:()=>n,cd:()=>i,tw:()=>c}),function(e){e.KEEP_CURRENT="keepCurrent",e.REPORT="report",e.LAND="land",e.RETURN="return",e.SMART_LAND="smartLand",e.SMART_RETURN="smartReturn",e.STOP="stop",e.SHUT_DOWN="shutDown"}(n||(n={}));const o=Object.values(n),a={[n.KEEP_CURRENT]:"Keep current action",[n.REPORT]:"Report only",[n.LAND]:"Land",[n.RETURN]:"Return to home",[n.SMART_LAND]:"Land with collision avoidance",[n.SMART_RETURN]:"Return to home with collision avoidance",[n.STOP]:"Stop and hover",[n.SHUT_DOWN]:"Shut down"};function i(e){return a[e]||`unknown action: ${e}`}function c(e){return o.includes(e)}},79259:(e,t,r)=>{"use strict";r.d(t,{$0:()=>u,Ay:()=>d,L0:()=>f,VI:()=>l,cT:()=>s,fy:()=>p});var n=r(30038),o=r(68528);const a={dialog:{open:!1,selectedTab:r(81772).I.GEOFENCE},geofence:{horizontalMargin:20,verticalMargin:10,simplify:!0,maxVertexCount:10},settings:{criticalBatteryVoltage:null,lowBatteryVoltage:null,returnToHomeAltitude:null,returnToHomeSpeed:null}},{actions:i,reducer:c}=(0,n.Z0)({name:"safety",initialState:a,reducers:{closeSafetyDialog:(0,o.kP)((e=>{e.dialog.open=!1})),openSafetyDialog:(0,o.kP)((e=>{e.dialog.open=!0})),setSafetyDialogTab(e,{payload:t}){e.dialog.selectedTab=t},updateGeofenceSettings(e,{payload:t}){Object.assign(e.geofence,t)},updateSafetySettings(e,{payload:t}){Object.assign(e.settings,t)}}}),{closeSafetyDialog:l,openSafetyDialog:u,setSafetyDialogTab:s,updateGeofenceSettings:f,updateSafetySettings:p}=i,d=c},21044:(e,t,r)=>{"use strict";r.d(t,{P:()=>a,d:()=>o});const n=({rounding:e,minimum:t})=>(r,n)=>Math.max(t||e,Math.ceil(((r||0)+n)/e)*e),o=n({minimum:30,rounding:10}),a=n({minimum:30,rounding:10})},35654:(e,t,r)=>{"use strict";r.d(t,{A:()=>i,o:()=>a});var n=r(30038);const o={dialogVisible:!1,editedLocationId:void 0},{actions:a,reducer:i}=(0,n.Z0)({name:"saved-location-editor",initialState:o,reducers:{_cancelLocationEditing(e){e.editedLocationId=void 0},_closeSavedLocationEditorDialog(e){e.dialogVisible=!1},editSavedLocation(e,{payload:t}){e.dialogVisible=!0,e.editedLocationId=t}}})},40349:(e,t,r)=>{"use strict";r.d(t,{A:()=>i,o:()=>a});var n=r(30038),o=r(43247);const{actions:a,reducer:i}=(0,n.Z0)({name:"savedLocations",initialState:{byId:{fahegy:{id:"fahegy",name:"Farkashegy Airfield",center:{lon:18.915125,lat:47.486305},rotation:59,zoom:17,notes:""},elte:{id:"elte",name:"ELTE Garden",center:{lon:19.061951,lat:47.47334},rotation:0,zoom:17,notes:""}},order:["fahegy","elte"]},reducers:{addSavedLocation(e,t){(0,o.BS)(e,t.payload)},createNewSavedLocation(e,t){(0,o.xQ)(e,t)},deleteSavedLocation(e,t){(0,o.T$)(e,t.payload)},updateSavedLocation(e,t){(0,o.M5)(e,t.payload)}}})},7882:(e,t,r)=>{"use strict";r.d(t,{A:()=>i,o:()=>a});var n=r(30038);const o={lastError:void 0,open:!1},{actions:a,reducer:i}=(0,n.Z0)({name:"authentication-dialog",initialState:o,reducers:{authenticateToServerFulfilled(e,{payload:t}){var r;t.result?(e.lastError=void 0,e.open=!1):e.lastError=null!==(r=t.reason)&&void 0!==r?r:"Unexpected failure"},authenticateToServerPending(e){e.lastError=void 0},closeAuthenticationDialog(e){e.lastError=void 0,e.open=!1},showAuthenticationDialog(e){e.lastError=void 0,e.open=!0}}})},14440:(e,t,r)=>{"use strict";r.d(t,{X:()=>n,f:()=>o});const n=1e3,o=500},67163:(e,t,r)=>{"use strict";r.d(t,{A:()=>a,o:()=>o});var n=r(30038);const{actions:o,reducer:a}=(0,n.Z0)({name:"deauthentication-dialog",initialState:{open:!1},reducers:{closeDeauthenticationDialog(e){e.open=!1},showDeauthenticationDialog(e){e.open=!0}}})},23715:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>u,SD:()=>c,o1:()=>s});var n,o=r(30038),a=r(68528),i=r(69260);const c=Boolean(null===(n=window.bridge)||void 0===n?void 0:n.createTCPSocket),l={active:!1,protocol:c?i.Z.TCP:i.Z.WS,hostName:void 0,port:c?5001:5e3,isSecure:!1,dialogVisible:!1,selectedTab:i.Q.AUTO},{reducer:u,actions:s}=(0,o.Z0)({name:"server-settings-dialog",initialState:l,reducers:{closeServerSettingsDialog(e,t){Object.assign(e,t.payload,{dialogVisible:!1})},disconnectFromServer(e){e.active=!1},setServerSettingsDialogTab(e,t){e.selectedTab=t.payload},showServerSettingsDialog:(0,a.kP)((e=>{e.dialogVisible=!0})),updateServerSettings(e,t){Object.assign(e,t.payload)}}})},21279:(e,t,r)=>{"use strict";r.d(t,{uY:()=>u,XP:()=>d,sX:()=>y,S6:()=>m,mZ:()=>h,HC:()=>w,e3:()=>E,W6:()=>A,nm:()=>S,Jp:()=>O,Ay:()=>D,d:()=>x,gW:()=>j,tQ:()=>k,am:()=>T,DY:()=>I,wT:()=>C,_Y:()=>P,ww:()=>L,z_:()=>_,MX:()=>N});var n=r(30038),o=r(51644),a=r(94648),i=r(43247),c=r(68528);function l(e,t,r){const{hostName:n,label:o,port:a,protocol:i}=r.payload,c=`${n}:${a}:${t}:${i}`,l={id:c,hostName:n,label:o,port:a,protocol:i,type:t};r.key=c,void 0===e.detected.byId[c]?(r.wasAdded=!0,e.detected.order.push(c)):r.wasAdded=!1,e.detected.byId[c]=l}const u={methods:[],required:!1,user:"",valid:!1},s={current:{authentication:u,features:{},license:void 0,state:o.KN.DISCONNECTED,timeSync:{adjusting:!1,adjustmentResult:void 0,calculating:!1,clockSkew:void 0,roundTripTime:void 0},version:void 0},isAuthenticating:!1,isScanning:!1,detected:i.Tg,token:(0,a.b)(),timeSyncDialog:{open:!1}},{actions:f,reducer:p}=(0,n.Z0)({name:"servers",initialState:s,reducers:{addDetectedServer(e,t){l(e,"detected",t)},addInferredServer(e,t){l(e,"inferred",t)},addServerFeatures(e,t){let{payload:r}=t;Array.isArray(r)||(r=[r]);for(let t of r){"object"!=typeof t&&(t={name:String(t),data:!0});const{name:r,data:n}=t;e.current.features[r]=n}},adjustServerTimePromisePending(e){e.current.timeSync.adjusting=!0,e.current.timeSync.adjustmentResult=void 0},adjustServerTimePromiseFulfilled(e){e.current.timeSync.adjusting=!1,e.current.timeSync.adjustmentResult=!0},adjustServerTimePromiseRejected(e){e.current.timeSync.adjusting=!1,e.current.timeSync.adjustmentResult=!1},authenticateToServerPromisePending(e){e.isAuthenticating=!0},authenticateToServerPromiseFulfilled(e){e.isAuthenticating=!1},authenticateToServerPromiseRejected(e){e.isAuthenticating=!1},clearAuthenticatedUser(e){e.current.authentication.user=""},clearAuthenticationToken(e){e.token=void 0},clearServerFeatures(e){e.current.features={}},clearServerLicense(e){e.current.license=void 0},clearTimeSyncStatistics(e){e.current.timeSync={clockSkew:void 0,roundTripTime:void 0}},calculateClockSkewPromisePending(e){e.current.timeSync.calculating=!0},calculateClockSkewPromiseFulfilled(e,t){e.current.timeSync.calculating=!1;const{clockSkew:r,roundTripTime:n}=t.payload;e.current.timeSync.clockSkew="number"==typeof r&&Number.isFinite(r)?r:void 0,e.current.timeSync.roundTripTime="number"==typeof n&&Number.isFinite(n)?n:void 0},calculateClockSkewPromiseRejected(e){e.current.timeSync.calculating=!1},closeTimeSyncWarningDialog:(0,c.kP)((e=>{e.timeSyncDialog.open=!1})),openTimeSyncWarningDialog:(0,c.kP)((e=>{e.timeSyncDialog.open=!0})),removeAllDetectedServers(e){(0,i.d5)(e.detected)},setAuthenticatedUser(e,t){var r;e.current.authentication.user=null!==(r=t.payload)&&void 0!==r?r:""},setCurrentServerConnectionState(e,t){const r=t.payload;e.current.state=r,r===o.KN.DISCONNECTED&&(e.current.authentication=u)},setServerLicense(e,{payload:t}){e.current.license=t},setServerVersion(e,{payload:t}){e.current.version=t},startScanning(e){e.isScanning=!0},stopScanning(e){e.isScanning=!1},updateCurrentServerAuthenticationSettings(e,t){const{methods:r,required:n,user:o}=t.payload;Array.isArray(r)&&(e.current.authentication.required=Boolean(n),e.current.authentication.methods=r.map(String),void 0!==o&&(e.current.authentication.user=o),e.current.authentication.valid=!0)},updateDetectedServerHostname(e,t){const{key:r,hostName:n}=t.payload,o=e.detected.byId[r];o&&(o.hostName=n)},updateDetectedServerLabel(e,t){const{key:r,label:n}=t.payload,o=e.detected.byId[r];o&&(o.label=n)}}}),{addDetectedServer:d,addInferredServer:y,addServerFeatures:m,authenticateToServerPromiseFulfilled:h,authenticateToServerPromisePending:v,authenticateToServerPromiseRejected:g,clearAuthenticatedUser:b,clearAuthenticationToken:w,clearServerFeatures:E,clearServerLicense:A,clearTimeSyncStatistics:S,closeTimeSyncWarningDialog:O,openTimeSyncWarningDialog:x,removeAllDetectedServers:j,setAuthenticatedUser:k,setCurrentServerConnectionState:T,setServerLicense:I,setServerVersion:C,startScanning:P,stopScanning:L,updateCurrentServerAuthenticationSettings:_,updateDetectedServerHostname:N,updateDetectedServerLabel:R}=f,D=p},69260:(e,t,r)=>{"use strict";var n,o;r.d(t,{Q:()=>o,Z:()=>n}),function(e){e.TCP="tcp",e.WS="ws"}(n||(n={})),function(e){e.AUTO="auto",e.MANUAL="manual"}(o||(o={}))},92523:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>d,PD:()=>u,CQ:()=>s,Wl:()=>f,gW:()=>l,yo:()=>p});var n=r(30038);const o=(e,t)=>{e.expiresAt=((e,t)=>"number"==typeof t&&t>=0?"number"==typeof e.expiresAt?Math.min(e.expiresAt,t):t:e.expiresAt)(e,t),"number"==typeof e.expiresAt&&e.expiresAt<=Date.now()&&(e.isExpired=!0)},a={broadcast:!1,expiresAt:void 0,featureIdForTooltip:void 0,isExpired:!1},{actions:i,reducer:c}=(0,n.Z0)({name:"session",initialState:a,reducers:{ensureSessionExpiresNoLaterThan(e,t){o(e,t.payload)},ensureSessionIsNotLongerThan(e,t){const r=t.payload;if("number"==typeof r&&r>=0){const t=Date.now()+1e3*r;o(e,t)}},expireSession(e){o(e,Date.now())},setBroadcast(e,t){e.broadcast=Boolean(t.payload)},setFeatureIdForTooltip(e,t){e.featureIdForTooltip=t.payload}}}),{setBroadcast:l,ensureSessionExpiresNoLaterThan:u,ensureSessionIsNotLongerThan:s,expireSession:f,setFeatureIdForTooltip:p}=i,d=c},42360:(e,t,r)=>{"use strict";r.d(t,{A:()=>i,o:()=>c});var n=r(30038),o=r(68528);const a={open:!1,selectedTab:r(1483).Ez.DISPLAY},{reducer:i,actions:c}=(0,n.Z0)({name:"app-settings",initialState:a,reducers:{closeAppSettingsDialog(e){e.open=!1},setAppSettingsDialogTab(e,t){e.selectedTab=t.payload},showAppSettingsDialog:(0,o.kP)((e=>{e.open=!0})),toggleAppSettingsDialog:(0,o.kP)((e=>{e.open=!e.open}))}})},84864:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>b,DB:()=>h,fw:()=>m,uV:()=>g,vZ:()=>v});var n,o=r(59984),a=r(30038),i=r(4575),c=r(78421),l=r(28850),u=r(78059),s=r(68528),f=r(1483);const p={display:{altitudeSummaryType:c.Vk.AMSL,coordinateFormat:c.Sq.SIGNED_DEGREES,experimentalFeaturesEnabled:!1,hideEmptyMissionSlots:!1,language:"en",optimizeForSingleUAV:o.A.optimizeForSingleUAV.default,optimizeUIForTouch:null!==(n=o.A.optimizeUIForTouch.default)&&void 0!==n?n:u._w,showMissionIds:!1,showMouseCoordinates:!0,showScaleLine:!0,theme:f.Sx.AUTO,hideInactiveSegmentsOnDarkLCD:!1,uavListFilters:[],uavListLayout:f.vl.GRID,uavListSortPreference:{key:l.ur.DEFAULT,reverse:!1}},threeD:{scenery:"auto",lighting:"dark",grid:"none",quality:"medium",showAxes:!0,showHomePositions:!0,showLandingPositions:!1,showStatistics:!1,showTrajectoriesOfSelection:!0},localServer:{cliArguments:"",enabled:!1,searchPath:[]},uavs:{autoRemove:!1,warnThreshold:3,goneThreshold:60,forgetThreshold:600,placementAccuracy:1e3,defaultBatteryCellCount:i.Fu,fullChargeVoltage:i.r0,lowVoltageThreshold:i.X8,criticalVoltageThreshold:i.Wq,preferredBatteryDisplayStyle:c.Ji.VOLTAGE,uavOperationConfirmationStyle:c.eB.NEVER},apiKeys:{}},{actions:d,reducer:y}=(0,a.Z0)({name:"settings",initialState:p,reducers:{replaceAppSettings:{prepare:(e,t)=>({payload:{category:e,updates:t}}),reducer(e,t){const{category:r,updates:n}=t.payload;void 0!==e[r]&&(e[r]=n)}},toggleLightingConditionsInThreeDView:(0,s.kP)((e=>{e.threeD.lighting="dark"===e.threeD.lighting?"light":"dark"})),toggleMissionIds:(0,s.kP)((e=>{e.display.showMissionIds=!e.display.showMissionIds})),updateAppSettings:{prepare:(e,t)=>({payload:{category:e,updates:t}}),reducer(e,t){const{category:r,updates:n}=t.payload;void 0!==e[r]&&(e[r]=Object.assign(Object.assign({},e[r]),n))}}}}),{replaceAppSettings:m,toggleLightingConditionsInThreeDView:h,toggleMissionIds:v,updateAppSettings:g}=d,b=y},1483:(e,t,r)=>{"use strict";var n,o,a;r.d(t,{Ez:()=>n,Sx:()=>o,vl:()=>a}),function(e){e.API_KEYS="apiKeys",e.DISPLAY="display",e.PREFLIGHT="preflight",e.SERVER="server",e.THREE_D="threeD",e.UAVS="uavs"}(n||(n={})),function(e){e.AUTO="auto",e.DARK="dark",e.LIGHT="light"}(o||(o={})),function(e){e.GRID="grid",e.LIST="list"}(a||(a={}))},60279:(e,t,r)=>{"use strict";var n,o;r.d(t,{EZ:()=>c,Mb:()=>n,_e:()=>u,ay:()=>i,jp:()=>l,n_:()=>a,us:()=>o}),function(e){e.AHL="ahl",e.AMSL="amsl"}(n||(n={})),function(e){e.NONE="none",e.ABSOLUTE="absolute",e.RELATIVE="relative"}(o||(o={}));const a={type:n.AHL,value:0},i={type:o.RELATIVE,value:0},c={width:12,depth:12,height:6},l="showUpload",u=Object.freeze({type:l})},4452:(e,t,r)=>{"use strict";var n,o,a;r.d(t,{OX:()=>n,_9:()=>a,mb:()=>o}),function(e){e.INDOOR="indoor",e.OUTDOOR="outdoor"}(n||(n={})),function(e){e.SYNCED="synced",e.NOT_SYNCED="notSynced",e.IN_PROGRESS="inProgress",e.ERROR="error"}(o||(o={})),function(e){e.RC="rc",e.AUTO="auto"}(a||(a={}))},10876:(e,t,r)=>{"use strict";r.d(t,{Al:()=>R,Ay:()=>Q,Bm:()=>v,Dg:()=>T,Ej:()=>A,J4:()=>I,JI:()=>O,Jt:()=>B,L5:()=>J,Lx:()=>$,M8:()=>G,O1:()=>L,Po:()=>N,T6:()=>w,U9:()=>K,VU:()=>E,Vh:()=>Y,W3:()=>H,Z7:()=>j,aC:()=>W,b1:()=>g,c4:()=>X,dQ:()=>Z,eD:()=>y,eR:()=>V,gJ:()=>q,iI:()=>k,j8:()=>m,kY:()=>P,l9:()=>_,lO:()=>b,mZ:()=>h,pl:()=>C,qH:()=>U,rU:()=>z,sH:()=>x,w7:()=>S,xP:()=>F});var n=r(22278),o=r(97859),a=r(35704),i=r(30038),c=r(26144),l=r(68528),u=r(60279),s=r(4452);const f={data:void 0,loading:!1,progress:0,sourceUrl:void 0,changedSinceLoaded:!1,lastLoadAttemptFailed:!1,environment:{editing:!1,outdoor:{coordinateSystem:{orientation:"0",origin:void 0,type:c.COORDINATE_SYSTEM_TYPE},altitudeReference:Object.assign({},u.n_),takeoffHeading:Object.assign({},u.ay)},indoor:{coordinateSystem:{orientation:"0"},room:{visible:!1,firstCorner:[-u.EZ.width/2,-u.EZ.depth/2,0],secondCorner:[u.EZ.width/2,u.EZ.depth/2,u.EZ.height]},takeoffHeading:Object.assign({},u.ay)},type:s.OX.OUTDOOR},loadShowFromCloudDialog:{open:!1},manualPreflightChecksDialog:{open:!1},onboardPreflightChecksDialog:{open:!1},preflight:{manualChecksSignedOffAt:void 0,onboardChecksSignedOffAt:void 0,takeoffAreaApprovedAt:void 0},start:{authorized:!1,clock:void 0,utcTime:void 0,timeOnClock:void 0,method:s._9.RC,uavIds:[],syncStatusWithServer:s.mb.NOT_SYNCED},startTimeDialog:{open:!1},takeoffAreaSetupDialog:{open:!1}},{actions:p,reducer:d}=(0,i.Z0)({name:"show",initialState:f,reducers:{approveTakeoffAreaAt(e,t){e.preflight.takeoffAreaApprovedAt=t.payload},_clearLoadedShow:(0,l.kP)((e=>{e.data=void 0,e.sourceUrl=void 0,e.changedSinceLoaded=!1,e.preflight.manualChecksSignedOffAt=void 0,e.preflight.onboardChecksSignedOffAt=void 0,e.preflight.takeoffAreaApprovedAt=void 0})),clearManualPreflightChecks:(0,l.kP)((e=>{e.preflight.manualChecksSignedOffAt=void 0})),clearOnboardPreflightChecks:(0,l.kP)((e=>{e.preflight.onboardChecksSignedOffAt=void 0})),clearStartTimeAndMethod(e){e.start.utcTime=void 0,e.start.timeOnClock=void 0,e.start.method=s._9.RC},closeEnvironmentEditorDialog:(0,l.kP)((e=>{e.environment.editing=!1})),closeLoadShowFromCloudDialog:(0,l.kP)((e=>{e.loadShowFromCloudDialog.open=!1})),closeManualPreflightChecksDialog:(0,l.kP)((e=>{e.manualPreflightChecksDialog.open=!1})),closeOnboardPreflightChecksDialog:(0,l.kP)((e=>{e.onboardPreflightChecksDialog.open=!1})),closeStartTimeDialog:(0,l.kP)((e=>{e.startTimeDialog.open=!1})),closeTakeoffAreaSetupDialog:(0,l.kP)((e=>{e.takeoffAreaSetupDialog.open=!1})),loadingProgress(e,t){if(e.loading){const r=Number(t.payload);Number.isNaN(r)?e.progress=void 0:e.progress=Math.min(1,Math.max(r,0))}},loadingPromisePending(e){e.loading=!0,e.progress=void 0,e.changedSinceLoaded=!1},loadingPromiseFulfilled(e,t){const{spec:r,url:n}=t.payload;e.data=r,e.sourceUrl=n,e.loading=!1,e.progress=void 0,e.changedSinceLoaded=!1},loadingPromiseRejected(e){e.loading=!1,e.progress=void 0,e.changedSinceLoaded=!1},notifyShowFileChangedSinceLoaded(e){e.changedSinceLoaded=!0},openEnvironmentEditorDialog:(0,l.kP)((e=>{e.environment.editing=!0})),openLoadShowFromCloudDialog:(0,l.kP)((e=>{e.loadShowFromCloudDialog.open=!0})),openManualPreflightChecksDialog:(0,l.kP)((e=>{e.manualPreflightChecksDialog.open=!0})),openOnboardPreflightChecksDialog:(0,l.kP)((e=>{e.onboardPreflightChecksDialog.open=!0})),openStartTimeDialog:(0,l.kP)((e=>{e.startTimeDialog.open=!0})),openTakeoffAreaSetupDialog:(0,l.kP)((e=>{e.takeoffAreaSetupDialog.open=!0})),revokeTakeoffAreaApproval:(0,l.kP)((e=>{e.preflight.takeoffAreaApprovedAt=void 0})),setEnvironmentType(e,t){e.environment.type=t.payload},setIndoorShowOrientation(e,t){e.environment.indoor.coordinateSystem.orientation=String(t.payload)},setIndoorShowTakeoffHeadingSpecification(e,t){var r;e.environment.indoor.takeoffHeading=null!==(r=t.payload)&&void 0!==r?r:u.ay},setLastLoadingAttemptFailed(e,t){e.lastLoadAttemptFailed=Boolean(t.payload)},_setOutdoorShowAltitudeReference(e,t){const{payload:r}=t;"object"==typeof r&&void 0!==r.type&&void 0!==r.value&&(e.environment.outdoor.altitudeReference=r)},setOutdoorShowOrientation(e,t){e.environment.outdoor.coordinateSystem.orientation=String(t.payload)},setOutdoorShowOrigin(e,t){e.environment.outdoor.coordinateSystem.origin=t.payload},setOutdoorShowTakeoffHeadingSpecification(e,t){var r;e.environment.outdoor.takeoffHeading=null!==(r=t.payload)&&void 0!==r?r:u.ay},setRoomCorners(e,t){const r=t.payload;if(!Array.isArray(r)||r.length<2)return;const n=r[0],o=r[1];!Array.isArray(n)||n.length<3||!Array.isArray(o)||o.length<3||((0,a.A)(e,"environment.indoor.room.firstCorner",n.slice(0,3)),(0,a.A)(e,"environment.indoor.room.secondCorner",o.slice(0,3)))},setRoomVisibility(e,t){(0,a.A)(e,"environment.indoor.room.visible",Boolean(t.payload))},setShowAuthorization(e,t){e.start.authorized=!0===t.payload},setShowSettingsSynchronizationStatus(e,t){Object.values(s.mb).includes(t.payload)&&(e.start.syncStatusWithServer=t.payload)},setStartMethod(e,t){Object.values(s._9).includes(t.payload)&&(e.start.method=t.payload)},setStartTime(e,t){const{payload:r}=t,{clock:a,time:i}=r||{};e.start.clock=(0,o.default)(a)||""===a?void 0:String(a);if(!(0,o.default)(e.start.clock))e.start.timeOnClock=(0,o.default)(i)||"number"!=typeof i?void 0:i;else{const t=i instanceof Date?(0,n.A)(i):i;e.start.utcTime="number"==typeof t?t:void 0}},setUAVIdsToStartAutomatically(e,t){Array.isArray(t.payload)&&(e.start.uavIds=t.payload)},signOffOnManualPreflightChecksAt(e,t){e.preflight.manualChecksSignedOffAt=t.payload},signOffOnOnboardPreflightChecksAt(e,t){e.preflight.onboardChecksSignedOffAt=t.payload},synchronizeShowSettings(){}}}),{approveTakeoffAreaAt:y,_clearLoadedShow:m,clearManualPreflightChecks:h,clearOnboardPreflightChecks:v,clearStartTimeAndMethod:g,closeEnvironmentEditorDialog:b,closeLoadShowFromCloudDialog:w,closeManualPreflightChecksDialog:E,closeOnboardPreflightChecksDialog:A,closeStartTimeDialog:S,closeTakeoffAreaSetupDialog:O,loadingProgress:x,loadingPromiseFulfilled:j,notifyShowFileChangedSinceLoaded:k,openEnvironmentEditorDialog:T,openLoadShowFromCloudDialog:I,openManualPreflightChecksDialog:C,openOnboardPreflightChecksDialog:P,openStartTimeDialog:L,openTakeoffAreaSetupDialog:_,revokeTakeoffAreaApproval:N,setEnvironmentType:R,setIndoorShowOrientation:D,setIndoorShowTakeoffHeadingSpecification:M,setLastLoadingAttemptFailed:F,_setOutdoorShowAltitudeReference:U,setOutdoorShowOrientation:G,setOutdoorShowOrigin:V,setOutdoorShowTakeoffHeadingSpecification:B,setRoomCorners:H,setRoomVisibility:W,setShowAuthorization:z,setShowSettingsSynchronizationStatus:Y,setStartMethod:K,setStartTime:q,setUAVIdsToStartAutomatically:$,signOffOnManualPreflightChecksAt:Z,signOffOnOnboardPreflightChecksAt:X,synchronizeShowSettings:J}=p,Q=d},61035:(e,t,r)=>{"use strict";r.d(t,{A:()=>c,p:()=>i});var n=r(30038);const{actions:o,reducer:a}=(0,n.Z0)({name:"sidebar",initialState:{open:!1},reducers:{setSidebarOpen(e,t){e.open=t.payload}}}),{setSidebarOpen:i}=o,c=a},43326:(e,t,r)=>{"use strict";r.d(t,{A:()=>i,k:()=>a});var n=r(38967);const o=new n.MiniSignal,a=e=>{o.dispatch(e)},i=o},15133:(e,t,r)=>{"use strict";var n;r.d(t,{N:()=>n}),function(e){e.SUCCESS="success",e.WARNING="warning",e.ERROR="error",e.INFO="info",e.DEFAULT="default"}(n||(n={}))},10247:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>m,S0:()=>u,hp:()=>s,vb:()=>f,$9:()=>p,Em:()=>d});var n,o=r(30038);!function(e){e.FLY="fly",e.WALK="walk"}(n||(n={}));const a={camera:{position:void 0,rotation:void 0},navigation:{mode:n.WALK,parameters:{}},tooltip:void 0,sceneId:0},{actions:i,reducer:c}=(0,o.Z0)({name:"threeD",initialState:a,reducers:{notifySceneRemoval(e){e.sceneId++},resetZoom(){},rotateViewTowards(){},setCameraPose(e,t){const{position:r,rotation:n}=t.payload;e.camera.position=r,e.camera.rotation=n},setNavigationMode(e,t){const{payload:r}=t;if("string"==typeof r)e.navigation.mode=r,e.navigation.parameters={};else{const{mode:t,parameters:n}=r;"string"==typeof t&&"object"==typeof n&&(e.navigation.mode=t,e.navigation.parameters=n)}},showTooltip(e,t){e.tooltip=t.payload?String(t.payload):void 0},hideTooltip(e){e.tooltip=void 0}}}),{hideTooltip:l,notifySceneRemoval:u,resetZoom:s,rotateViewTowards:f,setCameraPose:p,setNavigationMode:d,showTooltip:y}=i,m=c},72863:(e,t,r)=>{"use strict";r.d(t,{$J:()=>c,Ay:()=>l,Lz:()=>i});var n=r(30038);const{actions:o,reducer:a}=(0,n.Z0)({name:"tour",initialState:{isOpen:!1,seen:!1},reducers:{dismissTour(e){e.isOpen=!1,e.seen=!0},startTour(e){e.isOpen=!0}}}),{dismissTour:i,startTour:c}=o,l=a},6615:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>u,Yq:()=>l,ic:()=>c});var n=r(30038),o=r(68528);const{actions:a,reducer:i}=(0,n.Z0)({name:"uavControl",initialState:{flyToTargetDialog:{open:!1,initialValues:{coords:"",mode:"relative",altitude:0}}},reducers:{closeFlyToTargetDialog:(0,o.kP)((e=>{e.flyToTargetDialog.open=!1})),openFlyToTargetDialog(e,{payload:{coords:t,mode:r="ahl",altitude:n=10}}){e.flyToTargetDialog.initialValues={coords:t,mode:r,altitude:n},e.flyToTargetDialog.open=!0}}}),{closeFlyToTargetDialog:c,openFlyToTargetDialog:l}=a,u=i},99487:(e,t,r)=>{"use strict";r.d(t,{Ex:()=>o,VV:()=>n,Vd:()=>i,dP:()=>c,uv:()=>a});const n=185,o=414,a=448,i=n+o,c=48+a},12152:(e,t,r)=>{"use strict";r.d(t,{Aq:()=>g,Ay:()=>A,E_:()=>m,I3:()=>d,Te:()=>f,Tz:()=>p,V1:()=>v,fc:()=>h,fm:()=>E,ge:()=>w,kP:()=>b,qz:()=>y});var n=r(30038),o=r(34902),a=r(61506),i=r(68528),c=r(99487);const l={open:!1,selectedUAVId:void 0,selectedTab:r(3791).Q.PREFLIGHT,position:{x:0,y:0},width:c.Vd},{actions:u,reducer:s}=(0,n.Z0)({name:"uav-details",initialState:l,reducers:{openUAVDetailsDialog(e,{payload:t}){e.selectedUAVId=t,e.open=!0},closeUAVDetailsDialog:(0,i.kP)((e=>{e.open=!1})),setSelectedTabInUAVDetailsDialog(e,{payload:t}){e.selectedTab=t},setSelectedUAVIdInUAVDetailsDialog(e,{payload:t}){e.selectedUAVId=t},setUAVDetailsDialogPosition(e,{payload:t}){e.position=t},setUAVDetailsDialogWidth(e,{payload:t}){e.width=t}},extraReducers(e){e.addCase(o.td,((e,{payload:t})=>{const r=t.find(a.wy);r&&(e.selectedUAVId=(0,a.Xc)(r))}))}}),{openUAVDetailsDialog:f,closeUAVDetailsDialog:p,setSelectedTabInUAVDetailsDialog:d,setSelectedUAVIdInUAVDetailsDialog:y,setUAVDetailsDialogPosition:m,setUAVDetailsDialogWidth:h}=u,v=e=>e.dialogs.uavDetails.open,g=e=>e.dialogs.uavDetails.selectedUAVId,b=e=>e.dialogs.uavDetails.selectedTab,w=e=>e.dialogs.uavDetails.position,E=e=>e.dialogs.uavDetails.width,A=s},16457:(e,t,r)=>{"use strict";r.d(t,{Av:()=>m,Ay:()=>E,Bx:()=>y,Im:()=>w,bo:()=>f,qy:()=>v,rE:()=>g,yE:()=>b});var n,o,a,i=r(30038),c=r(1081),l=function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{l(n.next(e))}catch(e){a(e)}}function c(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,c)}l((n=n.apply(e,t||[])).next())}))},u=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};const s=new(a=class{constructor(){n.set(this,{}),o.set(this,new TextEncoder),this.write=e=>l(this,void 0,void 0,(function*(){const t=Array.from(new Uint8Array(yield window.crypto.subtle.digest("SHA-1",u(this,o,"f").encode(e))),(e=>e.toString(16).padStart(2,"0"))).join("");return u(this,n,"f")[t]=e,t})),this.read=e=>u(this,n,"f")[e]}},n=new WeakMap,o=new WeakMap,a);var f;!function(e){e.LOADING="loading",e.ERROR="error",e.SUCCESS="success"}(f||(f={}));const{actions:p,reducer:d}=(0,i.Z0)({name:"logDownload",initialState:{},reducers:{setLogDownloadProgress:{prepare:(e,t,r)=>({payload:{uavId:e,logId:t,progress:r}}),reducer(e,{payload:{uavId:t,logId:r,progress:n}}){var o;(null!==(o=e[t])&&void 0!==o?o:e[t]={})[r]={status:f.LOADING,progress:n}}},setLogDownloadError:{prepare:(e,t,r)=>({payload:{uavId:e,logId:t,error:r}}),reducer(e,{payload:{uavId:t,logId:r,error:n}}){var o;(null!==(o=e[t])&&void 0!==o?o:e[t]={})[r]={status:f.ERROR,error:n}}},setLogDownloadValue:{prepare:(e,t,r)=>({payload:{uavId:e,logId:t,value:r}}),reducer(e,{payload:{uavId:t,logId:r,value:n}}){var o;(null!==(o=e[t])&&void 0!==o?o:e[t]={})[r]={status:f.SUCCESS,value:n}}}}}),{setLogDownloadError:y,setLogDownloadProgress:m,setLogDownloadValue:h}=p,v=(e,t)=>r=>{r(m(e,t))},g=(e,t,r)=>n=>l(void 0,void 0,void 0,(function*(){const o=yield s.write(r);n(h(e,t,o))})),b=(e,t)=>r=>{var n;return null===(n=r.logDownload[e])||void 0===n?void 0:n[t]},w=(e,t)=>(0,c.createSelector)(b(e,t),(e=>{if((null==e?void 0:e.status)===f.SUCCESS)return s.read(e.value)})),E=d},21460:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>b,Of:()=>d,PZ:()=>m,Qj:()=>y,T1:()=>f,aE:()=>g,hE:()=>v,uW:()=>h});var n=r(30038),o=r(34902),a=r(61506),i=r(43247),c=r(3791);const l=Object.assign(Object.assign({},i.Tg),{panel:{followMapSelection:!0,selectedTab:c.o.PREFLIGHT,selectedUAVId:void 0}}),{actions:u,reducer:s}=(0,n.Z0)({name:"uavs",initialState:l,reducers:{addUAVs(e,t){for(const r of Object.values(t.payload))(0,i.so)(e,r);(0,i.k5)(e)},clearUAVList(e){(0,i.d5)(e)},_removeUAVsByIds(e,t){(0,i.Zj)(e,t.payload)},setSelectedTabInUAVDetailsPanel(e,{payload:t}){e.panel.selectedTab=t},setSelectedUAVIdInUAVDetailsPanel(e,{payload:t}){e.panel.selectedUAVId=t},toggleFollowMapSelectionInUAVDetailsPanel:{prepare:()=>({payload:null}),reducer(e){e.panel.followMapSelection=!e.panel.followMapSelection}},updateAgesOfUAVs(e,t){for(const[r,n]of Object.entries(t.payload)){const t=r?e.byId[r]:void 0;t&&(t.age=n)}},updateUAVs(e,t){for(const r of Object.values(t.payload))(0,i.H5)(e,r)}},extraReducers(e){e.addCase(o.td,((e,{payload:t})=>{if(e.panel.followMapSelection){const r=t.filter(a.wy);r.length>0&&(e.panel.selectedUAVId=(0,a.Xc)(r[0]))}}))}}),{addUAVs:f,clearUAVList:p,setSelectedTabInUAVDetailsPanel:d,setSelectedUAVIdInUAVDetailsPanel:y,toggleFollowMapSelectionInUAVDetailsPanel:m,updateAgesOfUAVs:h,updateUAVs:v,_removeUAVsByIds:g}=u,b=s},3791:(e,t,r)=>{"use strict";var n,o;r.d(t,{Q:()=>n,o:()=>o}),function(e){e.LOGS="logs",e.MESSAGES="messages",e.PREFLIGHT="preflight",e.TESTS="tests"}(n||(n={})),function(e){e.LOGS="logs",e.MESSAGES="messages",e.PREFLIGHT="preflight",e.TESTS="tests"}(o||(o={}))},25558:(e,t,r)=>{"use strict";r.d(t,{FK:()=>j,uw:()=>k,AP:()=>T,yG:()=>C,gB:()=>P,kb:()=>L,OX:()=>_,gg:()=>N,$C:()=>I,iZ:()=>R,wM:()=>E,G:()=>A,wo:()=>S,yx:()=>O,Ay:()=>W,nW:()=>x,mP:()=>D,dH:()=>M,SX:()=>U,i5:()=>G,ci:()=>B,tY:()=>V,lm:()=>F,aH:()=>H});var n=r(30038),o=r(60279),a=r(10876),i=r(43247),c=r(68528),l=r(52351),u=r(97859),s=r(24089),f=r(57456);const p=["failedItems","itemsInProgress","itemsWaitingToStart","itemsQueued","itemsFinished"];function d(e,t){(0,i.T$)(e.history,t)}function y(e){e.queues.failedItems=[],e.queues.itemsFinished=[],e.queues.itemsQueued=[],e.queues.itemsWaitingToStart=[],e.errors={},e.dialog.showLastUploadResult=!1}function m(e,t){for(const r of t)delete e.errors[r]}const h=({target:e,doNotMoveWhenIn:t=[]}={})=>{const r=(0,f.default)(p,...e?[e]:[],...t);return(t,n)=>{const o=(0,l.A)(n.payload),a=e?t.queues[e]:void 0;for(const e of r){const r=t.queues[e];(0,s.A)(r,...o),"failedItems"===e&&m(t,o)}if(!(0,u.default)(a))for(const e of o)a.includes(e)||a.push(e)}},v=({source:e,target:t})=>(r,n)=>{const o=(0,l.A)(n.payload),a=r.queues[e],i=t?r.queues[t]:void 0;for(const e of o){const t=a.indexOf(e);t>=0&&(a.splice(t,1),i&&i.push(e))}"failedItems"===e&&m(r,o)},g={currentJob:{type:void 0,payload:void 0,running:!1},history:{order:[],byId:{}},queues:{itemsInProgress:[],itemsWaitingToStart:[],itemsQueued:[],itemsFinished:[],failedItems:[]},errors:{},dialog:{open:!1,showLastUploadResult:!1,selectedJob:{type:void 0,payload:void 0},backAction:void 0},settings:{autoRetry:!1,flashFailed:!1}},{actions:b,reducer:w}=(0,n.Z0)({name:"upload",initialState:g,reducers:{clearLastUploadResultForJobType(e,t){const{payload:r}=t;r&&d(e,r)},clearUploadQueue:(0,c.kP)((e=>{e.queues.itemsWaitingToStart=[]})),closeUploadDialog:(0,c.kP)((e=>{e.dialog.open=!1})),dismissLastUploadResult:(0,c.kP)((e=>{e.dialog.showLastUploadResult=!1})),putUavsInWaitingQueue:h({target:"itemsWaitingToStart",doNotMoveWhenIn:["itemsQueued","itemsInProgress"]}),removeUavsFromWaitingQueue:h({target:void 0,doNotMoveWhenIn:["itemsQueued","itemsInProgress"]}),setupNextUploadJob(e,t){const{payload:r}=t,{type:n,payload:o,targets:a}=r;e.currentJob.running||(e.currentJob.type=n,e.currentJob.payload=o,y(e),e.queues.itemsWaitingToStart=[...a])},setUploadAutoRetry(e,t){e.settings.autoRetry=Boolean(t.payload)},setFlashFailed(e,t){e.settings.flashFailed=Boolean(t.payload)},_enqueueFailedUploads:v({source:"failedItems",target:"itemsWaitingToStart"}),_enqueueSuccessfulUploads:v({source:"itemsFinished",target:"itemsWaitingToStart"}),_notifyUploadFinished(e,t){const{success:r,cancelled:n}=t.payload;if(e.queues.itemsWaitingToStart=[],e.queues.itemsInProgress=[],e.queues.itemsQueued=[],e.currentJob.running=!1,e.currentJob.type){const t={id:e.currentJob.type,payload:e.currentJob.payload,result:n?"cancelled":r?"success":"error"};(0,i.M5)(e.history,t)}e.dialog.showLastUploadResult=!0},_notifyUploadStarted(e){e.currentJob.running=!0,e.dialog.showLastUploadResult=!1},_notifyUploadOnUavCancelled:v({source:"itemsInProgress",target:"itemsWaitingToStart"}),_notifyUploadOnUavFailed:v({source:"itemsInProgress",target:"failedItems"}),_notifyUploadOnUavQueued:v({source:"itemsWaitingToStart",target:"itemsQueued"}),_notifyUploadOnUavStarted:v({source:"itemsQueued",target:"itemsInProgress"}),_notifyUploadOnUavSucceeded:v({source:"itemsInProgress",target:"itemsFinished"}),_setErrorMessageForUAV:{reducer(e,t){const{uavId:r,message:n}=t.payload;n?e.errors[r]=n:delete e.errors[r]},prepare:(e,t)=>({payload:{uavId:e,message:String(t)}})},openUploadDialogKeepingCurrentJob(e,t){var r;const{payload:n}=t,{backAction:o}=null!=n?n:{};(null===(r=e.dialog.selectedJob)||void 0===r?void 0:r.type)&&(e.dialog.open=!0,e.dialog.backAction=o)},openUploadDialogForJob(e,t){var r;const{payload:n}=t,{job:o,options:a}=null!=n?n:{},{type:i,payload:c}=null!=o?o:{},{backAction:l}=null!=a?a:{};i&&(e.currentJob.running||(null===(r=e.dialog.selectedJob)||void 0===r?void 0:r.type)===i||y(e),e.dialog.backAction=l,e.dialog.selectedJob={type:i,payload:c},e.dialog.showLastUploadResult=!1,e.dialog.open=!0)},startUpload:(0,c.kP)((()=>{})),cancelUpload:(0,c.kP)((()=>{}))},extraReducers(e){e.addCase(a.j8,(e=>{d(e,o._e.type)}))}}),{cancelUpload:E,clearLastUploadResultForJobType:A,clearUploadQueue:S,closeUploadDialog:O,dismissLastUploadResult:x,_enqueueFailedUploads:j,_enqueueSuccessfulUploads:k,_notifyUploadFinished:T,_notifyUploadStarted:I,_notifyUploadOnUavCancelled:C,_notifyUploadOnUavFailed:P,_notifyUploadOnUavQueued:L,_notifyUploadOnUavStarted:_,_notifyUploadOnUavSucceeded:N,_setErrorMessageForUAV:R,openUploadDialogForJob:D,openUploadDialogKeepingCurrentJob:M,setupNextUploadJob:F,putUavsInWaitingQueue:U,removeUavsFromWaitingQueue:G,setUploadAutoRetry:V,setFlashFailed:B,startUpload:H}=b,W=w},89626:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>u,_U:()=>l,xx:()=>c});var n=r(30038),o=r(68528);const{actions:a,reducer:i}=(0,n.Z0)({name:"version-check",initialState:{dialog:{open:!1}},reducers:{closeVersionCheckDialog:(0,o.kP)((e=>{e.dialog.open=!1})),showVersionCheckDialog:(0,o.kP)((e=>{e.dialog.open=!0}))}}),{closeVersionCheckDialog:c,showVersionCheckDialog:l}=a,u=i},56319:(e,t,r)=>{"use strict";r.d(t,{Ag:()=>l,Ay:()=>s,Lt:()=>u,mh:()=>c});var n=r(30038);const o={loading:!1,error:void 0,data:void 0,lastUpdateAttemptAt:void 0,lastUpdatedAt:void 0},{actions:a,reducer:i}=(0,n.Z0)({name:"weather",initialState:o,reducers:{clearWeatherData(e){e.data=void 0,e.error=void 0,e.lastUpdatedAt=void 0,e.lastUpdateAttemptAt=void 0},loadingPromisePending(e){e.loading=!0},loadingPromiseFulfilled(e,t){e.data=t.payload,e.loading=!1,e.error=void 0},loadingPromiseRejected:{prepare:e=>({payload:String(e)}),reducer(e,t){e.loading=!1,e.error=t.payload}},setLastUpdateTimestamp(e,t){e.lastUpdatedAt=Number(t.payload)},setLastUpdateAttemptTimestamp(e,t){e.lastUpdateAttemptAt=Number(t.payload)}}}),{clearWeatherData:c,setLastUpdateTimestamp:l,setLastUpdateAttemptTimestamp:u}=a,s=i},16122:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>s,O7:()=>l,Q2:()=>u,eH:()=>c});var n=r(30038);const o={hideHeaders:!1,isFixed:!1,state:void 0},{actions:a,reducer:i}=(0,n.Z0)({name:"workbench",initialState:o,reducers:{setWorkbenchHasHeaders(e,{payload:t}){e.hideHeaders=!(null==t||t)},setWorkbenchIsFixed(e,{payload:t}){e.isFixed=null!=t&&t},saveWorkbenchState:{prepare:e=>({payload:e.getState()}),reducer(e,t){e.state=t.payload}}}}),{setWorkbenchIsFixed:c,setWorkbenchHasHeaders:l,saveWorkbenchState:u}=a,s=i},9383:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>c,SM:()=>i,yN:()=>a});var n=r(96540);const o=new(r(20240).A),a=n.createContext(o),i=e=>n.forwardRef(((t,r)=>n.createElement(a.Consumer,null,(o=>n.createElement(e,Object.assign({},t,{ref:r,flock:o})))))),c=o},7168:(e,t,r)=>{"use strict";var n;r.d(t,{A:()=>i}),function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.ON_GROUND=1]="ON_GROUND",e[e.LOGGING_DEACTIVATED=2]="LOGGING_DEACTIVATED",e[e.PREARM_CHECK_IN_PROGRESS=3]="PREARM_CHECK_IN_PROGRESS",e[e.AUTOPILOT_INITIALIZING=4]="AUTOPILOT_INITIALIZING",e[e.TAKEOFF=5]="TAKEOFF",e[e.LANDING=6]="LANDING",e[e.LANDED=7]="LANDED",e[e.MOTORS_RUNNING_WHILE_ON_GROUND=8]="MOTORS_RUNNING_WHILE_ON_GROUND",e[e.SLEEPING=9]="SLEEPING",e[e.FLIGHT_CONTROL_SUSPENDED=10]="FLIGHT_CONTROL_SUSPENDED",e[e.RETURN_TO_HOME=63]="RETURN_TO_HOME",e[e.LOW_DISK_SPACE=64]="LOW_DISK_SPACE",e[e.RC_SIGNAL_LOST_WARNING=65]="RC_SIGNAL_LOST_WARNING",e[e.BATTERY_LOW_WARNING=66]="BATTERY_LOW_WARNING",e[e.TIMESYNC_ERROR=67]="TIMESYNC_ERROR",e[e.FAR_FROM_TAKEOFF_POSITION=68]="FAR_FROM_TAKEOFF_POSITION",e[e.INVALID_MISSION_CONFIGURATION=69]="INVALID_MISSION_CONFIGURATION",e[e.RADIO_MISSING=70]="RADIO_MISSING",e[e.GEOFENCE_VIOLATION_WARNING=71]="GEOFENCE_VIOLATION_WARNING",e[e.WIND_SPEED_WARNING=72]="WIND_SPEED_WARNING",e[e.DISARMED=73]="DISARMED",e[e.REBOOT_REQUIRED=74]="REBOOT_REQUIRED",e[e.DRIFT_FROM_DESIRED_POSITION=75]="DRIFT_FROM_DESIRED_POSITION",e[e.AUTOPILOT_COMM_TIMEOUT=128]="AUTOPILOT_COMM_TIMEOUT",e[e.AUTOPILOT_ACK_TIMEOUT=129]="AUTOPILOT_ACK_TIMEOUT",e[e.AUTOPILOT_PROTOCOL_ERROR=130]="AUTOPILOT_PROTOCOL_ERROR",e[e.PREARM_CHECK_FAILURE=131]="PREARM_CHECK_FAILURE",e[e.RC_SIGNAL_LOST_ERROR=132]="RC_SIGNAL_LOST_ERROR",e[e.GPS_SIGNAL_LOST=133]="GPS_SIGNAL_LOST",e[e.BATTERY_LOW_ERROR=134]="BATTERY_LOW_ERROR",e[e.TARGET_NOT_FOUND=135]="TARGET_NOT_FOUND",e[e.TARGET_TOO_FAR=136]="TARGET_TOO_FAR",e[e.CONFIGURATION_ERROR=137]="CONFIGURATION_ERROR",e[e.RC_NOT_CALIBRATED=138]="RC_NOT_CALIBRATED",e[e.WIND_SPEED_ERROR=139]="WIND_SPEED_ERROR",e[e.PAYLOAD_ERROR=140]="PAYLOAD_ERROR",e[e.PROXIMITY_ERROR=141]="PROXIMITY_ERROR",e[e.SIMULATED_ERROR=188]="SIMULATED_ERROR",e[e.CONTROL_ALGORITHM_ERROR=189]="CONTROL_ALGORITHM_ERROR",e[e.SENSOR_FAILURE=190]="SENSOR_FAILURE",e[e.UNSPECIFIED_ERROR=191]="UNSPECIFIED_ERROR",e[e.HW_SW_INCOMPATIBLE=192]="HW_SW_INCOMPATIBLE",e[e.MAGNETIC_ERROR=193]="MAGNETIC_ERROR",e[e.GYROSCOPE_ERROR=194]="GYROSCOPE_ERROR",e[e.ACCELEROMETER_ERROR=195]="ACCELEROMETER_ERROR",e[e.PRESSURE_SENSOR_ERROR=196]="PRESSURE_SENSOR_ERROR",e[e.GPS_SIGNAL_LOST_CRITICAL=197]="GPS_SIGNAL_LOST_CRITICAL",e[e.MOTOR_MALFUNCTION=198]="MOTOR_MALFUNCTION",e[e.BATTERY_CRITICAL=199]="BATTERY_CRITICAL",e[e.NO_GPS_HOME_POSITION=200]="NO_GPS_HOME_POSITION",e[e.GEOFENCE_VIOLATION=201]="GEOFENCE_VIOLATION",e[e.INTERNAL_CLOCK_ERROR=202]="INTERNAL_CLOCK_ERROR",e[e.EXTERNAL_CLOCK_ERROR=203]="EXTERNAL_CLOCK_ERROR",e[e.REQUIRED_HW_COMPONENT_MISSING=204]="REQUIRED_HW_COMPONENT_MISSING",e[e.AUTOPILOT_INIT_FAILED=205]="AUTOPILOT_INIT_FAILED",e[e.AUTOPILOT_COMM_FAILED=206]="AUTOPILOT_COMM_FAILED",e[e.CRASH=207]="CRASH",e[e.SIMULATED_CRITICAL_ERROR=253]="SIMULATED_CRITICAL_ERROR",e[e.CRITICAL_SENSOR_FAILURE=254]="CRITICAL_SENSOR_FAILURE",e[e.UNSPECIFIED_CRITICAL_ERROR=255]="UNSPECIFIED_CRITICAL_ERROR"}(n||(n={}));const o={[n.NO_ERROR]:"ok",[n.ON_GROUND]:"ground",[n.LOGGING_DEACTIVATED]:"no log",[n.PREARM_CHECK_IN_PROGRESS]:"prearm",[n.AUTOPILOT_INITIALIZING]:"init",[n.TAKEOFF]:"takeoff",[n.LANDING]:"landing",[n.LANDED]:"landed",[n.MOTORS_RUNNING_WHILE_ON_GROUND]:"motors",[n.SLEEPING]:"sleep",[n.FLIGHT_CONTROL_SUSPENDED]:"paused",[n.RETURN_TO_HOME]:"RTH",[n.LOW_DISK_SPACE]:"storage",[n.RC_SIGNAL_LOST_WARNING]:"RC lost",[n.BATTERY_LOW_WARNING]:"lowbat",[n.TIMESYNC_ERROR]:"timesync",[n.FAR_FROM_TAKEOFF_POSITION]:"tkoffpos",[n.INVALID_MISSION_CONFIGURATION]:"mission",[n.RADIO_MISSING]:"no radio",[n.GEOFENCE_VIOLATION_WARNING]:"fence",[n.WIND_SPEED_WARNING]:"wind",[n.DISARMED]:"disarm",[n.REBOOT_REQUIRED]:"reboot",[n.DRIFT_FROM_DESIRED_POSITION]:"drift",[n.AUTOPILOT_COMM_TIMEOUT]:"comm t/o",[n.AUTOPILOT_ACK_TIMEOUT]:"ack t/o",[n.AUTOPILOT_PROTOCOL_ERROR]:"proto",[n.PREARM_CHECK_FAILURE]:"prearm",[n.RC_SIGNAL_LOST_ERROR]:"RC lost",[n.GPS_SIGNAL_LOST]:"no GPS",[n.BATTERY_LOW_ERROR]:"lowbat",[n.TARGET_NOT_FOUND]:"target",[n.TARGET_TOO_FAR]:"too far",[n.CONFIGURATION_ERROR]:"config",[n.RC_NOT_CALIBRATED]:"RC calib",[n.WIND_SPEED_ERROR]:"wind",[n.PAYLOAD_ERROR]:"payload",[n.PROXIMITY_ERROR]:"proximity",[n.SIMULATED_ERROR]:"simerr",[n.CONTROL_ALGORITHM_ERROR]:"control",[n.SENSOR_FAILURE]:"sensor",[n.UNSPECIFIED_ERROR]:"error",[n.HW_SW_INCOMPATIBLE]:"compat",[n.MAGNETIC_ERROR]:"mag",[n.GYROSCOPE_ERROR]:"gyro",[n.ACCELEROMETER_ERROR]:"acc",[n.PRESSURE_SENSOR_ERROR]:"baro",[n.GPS_SIGNAL_LOST_CRITICAL]:"GPS",[n.MOTOR_MALFUNCTION]:"motor",[n.BATTERY_CRITICAL]:"lowbat",[n.NO_GPS_HOME_POSITION]:"home",[n.GEOFENCE_VIOLATION]:"fence",[n.INTERNAL_CLOCK_ERROR]:"clk",[n.EXTERNAL_CLOCK_ERROR]:"extclk",[n.REQUIRED_HW_COMPONENT_MISSING]:"no HW",[n.AUTOPILOT_INIT_FAILED]:"initfail",[n.AUTOPILOT_COMM_FAILED]:"commfail",[n.CRASH]:"crash",[n.SIMULATED_CRITICAL_ERROR]:"simcrit",[n.CRITICAL_SENSOR_FAILURE]:"sensor",[n.UNSPECIFIED_CRITICAL_ERROR]:"fatal"},a={[n.NO_ERROR]:"No error",[n.ON_GROUND]:"Drone is on the ground with motors off",[n.LOGGING_DEACTIVATED]:"Logging deactivated",[n.PREARM_CHECK_IN_PROGRESS]:"Prearm check in progress",[n.AUTOPILOT_INITIALIZING]:"Autopilot initializing",[n.TAKEOFF]:"Drone is taking off",[n.LANDING]:"Drone is landing",[n.LANDED]:"Drone has landed successfully",[n.MOTORS_RUNNING_WHILE_ON_GROUND]:"Motors are running while on ground",[n.SLEEPING]:"Drone is in sleep mode",[n.FLIGHT_CONTROL_SUSPENDED]:"Flight control is suspended",[n.RETURN_TO_HOME]:"Drone is returning home",[n.LOW_DISK_SPACE]:"Low disk space",[n.RC_SIGNAL_LOST_WARNING]:"RC lost",[n.BATTERY_LOW_WARNING]:"Battery low",[n.TIMESYNC_ERROR]:"Timesync error",[n.FAR_FROM_TAKEOFF_POSITION]:"Drone is not at its designated takeoff position",[n.INVALID_MISSION_CONFIGURATION]:"Mission configuration error or mission out of geofence",[n.RADIO_MISSING]:"Radio channel offline",[n.GEOFENCE_VIOLATION_WARNING]:"Drone is outside geofence on ground",[n.WIND_SPEED_WARNING]:"Wind speed is high",[n.DISARMED]:"Drone not armed yet",[n.REBOOT_REQUIRED]:"Drone requires a reboot",[n.DRIFT_FROM_DESIRED_POSITION]:"Drift from desired position is large",[n.AUTOPILOT_COMM_TIMEOUT]:"Autopilot communication timeout",[n.AUTOPILOT_ACK_TIMEOUT]:"Autopilot acknowledgment timeout",[n.AUTOPILOT_PROTOCOL_ERROR]:"Autopilot communication protocol error",[n.PREARM_CHECK_FAILURE]:"Prearm check failure",[n.RC_SIGNAL_LOST_ERROR]:"RC signal lost",[n.GPS_SIGNAL_LOST]:"GPS signal lost or GPS error",[n.BATTERY_LOW_ERROR]:"Battery low",[n.TARGET_NOT_FOUND]:"Target not found",[n.TARGET_TOO_FAR]:"Target is too far",[n.CONFIGURATION_ERROR]:"Configuration error",[n.RC_NOT_CALIBRATED]:"RC not calibrated",[n.WIND_SPEED_ERROR]:"Wind speed is too high",[n.PAYLOAD_ERROR]:"Payload error",[n.PROXIMITY_ERROR]:"Proximity sensor error",[n.SIMULATED_ERROR]:"Simulated error",[n.CONTROL_ALGORITHM_ERROR]:"Error in control algorithm",[n.SENSOR_FAILURE]:"Unspecified sensor failure",[n.UNSPECIFIED_ERROR]:"Unspecified error",[n.HW_SW_INCOMPATIBLE]:"Incompatible hardware or software",[n.MAGNETIC_ERROR]:"Magnetometer error",[n.GYROSCOPE_ERROR]:"Gyroscope error",[n.ACCELEROMETER_ERROR]:"Accelerometer error",[n.PRESSURE_SENSOR_ERROR]:"Pressure sensor or altimeter error",[n.GPS_SIGNAL_LOST_CRITICAL]:"GPS error or GPS signal lost",[n.MOTOR_MALFUNCTION]:"Motor malfunction",[n.BATTERY_CRITICAL]:"Battery critical",[n.NO_GPS_HOME_POSITION]:"No GPS home position",[n.GEOFENCE_VIOLATION]:"Geofence violation",[n.INTERNAL_CLOCK_ERROR]:"Internal clock error",[n.EXTERNAL_CLOCK_ERROR]:"External clock error",[n.REQUIRED_HW_COMPONENT_MISSING]:"Required hardware component missing",[n.AUTOPILOT_INIT_FAILED]:"Autopilot initialization failed",[n.AUTOPILOT_COMM_FAILED]:"Autopilot communication failed",[n.CRASH]:"Drone crashed",[n.SIMULATED_CRITICAL_ERROR]:"Simulated critical error",[n.CRITICAL_SENSOR_FAILURE]:"Unspecified critical sensor failure",[n.UNSPECIFIED_CRITICAL_ERROR]:"Unspecified critical error"};!function(e){e.abbreviate=e=>o[e]||`E${e}`,e.describe=e=>a[e]||`Error ${e}`}(n||(n={}));const i=n},65360:(e,t,r)=>{"use strict";r.d(t,{AI:()=>n,O0:()=>l,V:()=>i,W9:()=>u,kx:()=>a});var n,o=r(51644);!function(e){e[e.INFO=0]="INFO",e[e.WARNING=1]="WARNING",e[e.ERROR=2]="ERROR",e[e.FATAL=3]="FATAL"}(n||(n={}));const a=e=>(255&e)>>6,i=e=>e&&e.length>0?Math.max(...e.map(a)):n.INFO,c={[n.FATAL]:o.AI.CRITICAL,[n.ERROR]:o.AI.ERROR,[n.WARNING]:o.AI.WARNING,[n.INFO]:o.AI.INFO};function l(e){return c[e]}function u(e){return l(a(e))}},6284:(e,t,r)=>{"use strict";function n(e){if("string"!=typeof e||e.includes("."))throw new Error(`Invalid extension name: ${e}`)}function o(e){if("string"!=typeof e||0===e.length)throw new Error(`Invalid object ID: ${e}`)}r.d(t,{p:()=>o,r:()=>n})},87982:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(96540);const o=(0,r(95126).A)(n.createElement("path",{d:"M12 7.5C12.69 7.5 13.27 7.73 13.76 8.2S14.5 9.27 14.5 10C14.5 11.05 14 11.81 13 12.28V21H11V12.28C10 11.81 9.5 11.05 9.5 10C9.5 9.27 9.76 8.67 10.24 8.2S11.31 7.5 12 7.5M16.69 5.3C17.94 6.55 18.61 8.11 18.7 10C18.7 11.8 18.03 13.38 16.69 14.72L15.5 13.5C16.5 12.59 17 11.42 17 10C17 8.67 16.5 7.5 15.5 6.5L16.69 5.3M6.09 4.08C4.5 5.67 3.7 7.64 3.7 10S4.5 14.3 6.09 15.89L4.92 17.11C3 15.08 2 12.7 2 10C2 7.3 3 4.94 4.92 2.91L6.09 4.08M19.08 2.91C21 4.94 22 7.3 22 10C22 12.8 21 15.17 19.08 17.11L17.91 15.89C19.5 14.3 20.3 12.33 20.3 10S19.5 5.67 17.91 4.08L19.08 2.91M7.31 5.3L8.5 6.5C7.5 7.42 7 8.58 7 10C7 11.33 7.5 12.5 8.5 13.5L7.31 14.72C5.97 13.38 5.3 11.8 5.3 10C5.3 8.2 5.97 6.64 7.31 5.3Z"}),"Antenna")},69358:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(96540);const o=(0,r(95126).A)(n.createElement("path",{d:"M11 21h-1l1-7H7.5c-.58 0-.57-.32-.38-.66.19-.34.05-.08.07-.12C8.48 10.94 10.42 7.54 13 3h1l-1 7h3.5c.49 0 .56.33.47.51l-.07.15C12.96 17.55 11 21 11 21z"}),"Bolt")},16160:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(96540);const o=(0,r(95126).A)(n.createElement("path",{d:"M21,12v-2h-2V7l-3-3l-2,2l-2-2l-2,2L8,4L5,7v3H3v2h2v2H3v2h2v4h14v-4h2v-2h-2v-2H21z M16,6.83l1,1V10h-2V7.83l0.41-0.41 L16,6.83z M12,6.83l0.59,0.59L13,7.83V10h-2V7.83l0.41-0.41L12,6.83z M11,14v-2h2v2H11z M13,16v2h-2v-2H13z M7,7.83l1-1l0.59,0.59 L9,7.83V10H7V7.83z M7,12h2v2H7V12z M7,16h2v2H7V16z M17,18h-2v-2h2V18z M17,14h-2v-2h2V14z"}),"PlacesFence")},13083:(e,t,r)=>{"use strict";r.d(t,{F:()=>l,m:()=>n});var n,o=r(4575),a=r(4181);!function(e){e.FULL="Full",e.NEAR_FULL="NearFull",e.OK="Ok",e.WARNING="Warning",e.ERROR="Error",e.UNKNOWN="Unknown"}(n||(n={}));const i={[n.FULL]:a.Status.OFF,[n.NEAR_FULL]:a.Status.OFF,[n.OK]:a.Status.OFF,[n.WARNING]:a.Status.WARNING,[n.ERROR]:a.Status.ERROR,[n.UNKNOWN]:a.Status.OFF},c={[n.FULL]:95,[n.NEAR_FULL]:60,[n.OK]:20,[n.WARNING]:10};class l{constructor({defaultBatteryCellCount:e=o.Fu,voltageThresholds:{full:t=o.r0,low:r=o.X8,critical:a=o.Wq,empty:l=o.yu}={}}={}){this.estimatePercentageFromVoltagePerCell=e=>e<=this.emptyVoltage?0:e>=this.fullChargeVoltage?100:Math.round((e-this.emptyVoltage)/(this.fullChargeVoltage-this.emptyVoltage)*100),this.estimatePercentageFromVoltage=(e,t)=>{const r=this.getVoltagePerCell(e,t);return this.estimatePercentageFromVoltagePerCell(r)},this.getSemanticBatteryStatus=(e,t,r)=>{const n=this.getBatteryStatus(e,t,r);return i[n]},this.getBatteryStatus=(e,t,r)=>{if(t)return t>c[n.FULL]?n.FULL:t>c[n.NEAR_FULL]?n.NEAR_FULL:t>c[n.OK]?n.OK:t>c[n.WARNING]?n.WARNING:n.ERROR;const o=this.getVoltagePerCell(e,r);return o>this.nearFullChargeVoltage?n.FULL:o>=this.okVoltageThreshold?n.NEAR_FULL:o>=this.lowVoltageThreshold?n.OK:o>=this.criticalVoltageThreshold?n.WARNING:n.ERROR},this.getVoltagePerCell=(e,t=this.defaultBatteryCellCount)=>!e||t<1?0:e/t,this.defaultBatteryCellCount=e,this.fullChargeVoltage=t,this.nearFullChargeVoltage=t-.1*(t-r),this.okVoltageThreshold=t-.4*(t-r),this.lowVoltageThreshold=r,this.criticalVoltageThreshold=Math.min(a,r),this.emptyVoltage=Math.min(l,this.criticalVoltageThreshold)}}},4575:(e,t,r)=>{"use strict";r.d(t,{Fu:()=>n,Wq:()=>i,X8:()=>a,r0:()=>o,yu:()=>c});const n=3,o=4.2,a=3.6,i=3.4,c=3.3},51644:(e,t,r)=>{"use strict";r.d(t,{AI:()=>a,DR:()=>b,GR:()=>u,Go:()=>o,Jj:()=>v,Jq:()=>g,KN:()=>n,RG:()=>A,XV:()=>p,Y9:()=>E,Zm:()=>i,aO:()=>d,ke:()=>y,os:()=>m,ri:()=>S});var n,o,a,i,c=r(94800);!function(e){e.DISCONNECTED="disconnected",e.CONNECTING="connecting",e.CONNECTED="connected",e.DISCONNECTING="disconnecting"}(n||(n={})),function(e){e.OUTBOUND="outbound",e.INBOUND="inbound",e.ERROR="error"}(o||(o={})),function(e){e.DEBUG="debug",e.INFO="info",e.WARNING="warning",e.ERROR="error",e.CRITICAL="critical"}(a||(a={})),function(e){e.UNKNOWN="unknown",e.TEXT="text",e.ARDUPILOT="ardupilot",e.ULOG="ulog",e.FLOCKCTRL="flockctrl"}(i||(i={}));const l={[i.UNKNOWN]:{label:"Unknown",description:"Unknown flight log format"},[i.TEXT]:{label:"Plain text",description:"Plain text flight log"},[i.ARDUPILOT]:{label:"ArduPilot",description:"ArduPilot flight log"},[i.ULOG]:{label:"PX4 ULog",description:"PX4 ULog flight log"},[i.FLOCKCTRL]:{label:"FlockCtrl",description:"FlockCtrl high-level flight log"}};function u(e){return(l[e]||l[i.UNKNOWN]).description}var s;!function(e){e.ACRO="acro",e.ALTITUDE_HOLD="alt",e.AUTO="auto",e.CIRCLE="circle",e.FLOW_HOLD="flow",e.FOLLOW="follow",e.GUIDED="guided",e.LAND="land",e.LOITER="loiter",e.MISSION="mission",e.OTHER="other",e.PRECISION_LANDING="precland",e.POSITION_HOLD="pos",e.RTH="rth",e.SHOW="show",e.SIMPLE="simple",e.STABILIZE="stab",e.TAKEOFF="takeoff",e.UNKNOWN="unknown"}(s||(s={}));const f={[s.ACRO]:{abbreviation:"Acro",label:"Acrobatic",description:"Acrobatic"},[s.ALTITUDE_HOLD]:{abbreviation:"Alt",label:"Altitude hold",description:"Altitude hold"},[s.AUTO]:{abbreviation:"Auto",label:"Automatic",description:"Automatic"},[s.CIRCLE]:{abbreviation:"Circ",label:"Circling",description:"Circling around point of interest"},[s.FLOW_HOLD]:{abbreviation:"Flow",label:"Optical flow hold",description:"Optical flow hold"},[s.FOLLOW]:{abbreviation:"Flw",label:"Following",description:"Following another device",status:c.n.SUCCESS},[s.GUIDED]:{abbreviation:"Guid",label:"Guided",description:"Guided by companion computer",status:c.n.SUCCESS},[s.LAND]:{abbreviation:"Land",label:"Landing",description:"Autonomous landing",status:c.n.WARNING},[s.LOITER]:{abbreviation:"Loit",label:"Loiter",description:"Posiiton hold with manual velocity control"},[s.MISSION]:{abbreviation:"Wp",label:"Mission",description:"Following pre-programmed mission",status:c.n.SUCCESS},[s.OTHER]:{abbreviation:"Othr",label:"Other",description:"Other, unspecified flight mode"},[s.PRECISION_LANDING]:{abbreviation:"Plnd",label:"Precision landing",description:"Autonomous precision landing"},[s.POSITION_HOLD]:{abbreviation:"Pos",label:"Position hold",description:"Position hold with manual attitude control"},[s.RTH]:{abbreviation:"RTH",label:"Return to home",description:"Autonomous return to home",status:c.n.RTH},[s.SHOW]:{abbreviation:"Show",label:"Drone show",description:"Executing a drone show",status:c.n.SUCCESS},[s.SIMPLE]:{abbreviation:"Simp",label:"Simple",description:"Simplified aided flight mode"},[s.STABILIZE]:{abbreviation:"Stab",label:"Stabilize",description:"Roll and pitch stabilization"},[s.TAKEOFF]:{abbreviation:"Take",label:"Takeoff",description:"Autonomous takeoff"},[s.UNKNOWN]:{abbreviation:"----",label:"Unknown",description:"Unknown flight mode"}},p=e=>(e=>Object.values(s).includes(e))(e)?f[e].abbreviation:e.slice(0,4);function d(e){const t=f[e];return t?t.label:String(e).toUpperCase()}function y(e){return(f[e]||f[s.UNKNOWN]).status}var m;!function(e){e[e.NO_GPS=0]="NO_GPS",e[e.NO_FIX=1]="NO_FIX",e[e.FIX_2D=2]="FIX_2D",e[e.FIX_3D=3]="FIX_3D",e[e.DGPS=4]="DGPS",e[e.RTK_FLOAT=5]="RTK_FLOAT",e[e.RTK_FIXED=6]="RTK_FIXED",e[e.STATIC=7]="STATIC",e[e.UNKNOWN=8]="UNKNOWN"}(m||(m={}));const h={[m.NO_GPS]:{abbreviation:"",description:"No GPS connected",status:c.n.ERROR},[m.NO_FIX]:{abbreviation:"",description:"No GPS fix obtained",status:c.n.ERROR},[m.FIX_2D]:{abbreviation:"2D",description:"2D GPS fix",status:c.n.WARNING},[m.FIX_3D]:{abbreviation:"3D",description:"3D GPS fix",status:c.n.WARNING},[m.DGPS]:{abbreviation:"DGPS",description:"3D GPS fix with DGPS/SBAS",status:c.n.SUCCESS},[m.RTK_FLOAT]:{abbreviation:"RTK",description:"RTK float",status:c.n.SUCCESS},[m.RTK_FIXED]:{abbreviation:"RTK+",description:"RTK fixed",status:c.n.SUCCESS},[m.STATIC]:{abbreviation:"STA",description:"Static position",status:c.n.SUCCESS},[m.UNKNOWN]:{abbreviation:"----",description:"Unknown GPS fix type",status:c.n.WARNING}};function v(e){return(h[e]||h[m.UNKNOWN]).abbreviation}function g(e){return(h[e]||h[m.UNKNOWN]).status}var b;!function(e){e.OFF="off",e.PASS="pass",e.WARNING="warning",e.RUNNING="running",e.SOFT_FAILURE="softFailure",e.FAILURE="failure",e.ERROR="error",e.UNKNOWN="unknown"}(b||(b={}));const w={[b.OFF]:{description:"Disabled",overallDescription:"All preflight checks are disabled",status:c.n.OFF},[b.PASS]:{description:"OK",overallDescription:"Preflight checks passed",status:c.n.SUCCESS},[b.WARNING]:{description:"Needs attention",overallDescription:"Some preflight check items need attention",status:c.n.WARNING},[b.RUNNING]:{description:"Check in progress...",overallDescription:"Preflight checks are in progress...",status:c.n.WAITING},[b.SOFT_FAILURE]:{description:"Temporary failure",overallDescription:"Some preflight checks failed temporarily",status:c.n.WARNING},[b.FAILURE]:{description:"Failed",overallDescription:"Preflight checks failed",status:c.n.ERROR},[b.ERROR]:{description:"Error while executing test",overallDescription:"Error while executing preflight checks",status:c.n.CRITICAL},[b.UNKNOWN]:{description:"Unknown test result",overallDescription:"Unknown preflight test result",status:c.n.OFF}};function E(e){return(w[e]||w[b.UNKNOWN]).description}function A(e){return(w[e]||w[b.UNKNOWN]).overallDescription}function S(e){return(w[e]||w[b.UNKNOWN]).status}},2431:(e,t,r)=>{"use strict";r.d(t,{UQ:()=>o,WM:()=>p,h$:()=>d,lo:()=>n,rv:()=>s,tX:()=>f,uw:()=>y});var n,o,a=r(79486),i=r(117),c=r(78964),l=r(40410);!function(e){e.CIRCLE="circle",e.LINE_STRING="lineString",e.POINTS="points",e.POLYGON="polygon"}(n||(n={})),function(e){e.HIDDEN="hidden",e.NORMAL="normal",e.THICK_OUTLINE="thickOutline",e.THIN_OUTLINE="thinOutline"}(o||(o={}));const u={[n.CIRCLE]:{name:"Circle",icon:c.A,canBeMeasured:!1,hasInterior:!0,hasPoints:!1},[n.LINE_STRING]:{name:"Path",icon:i.A,canBeMeasured:!0,hasInterior:!1,hasPoints:!0},[n.POINTS]:{name:"Marker",icon:a.A,canBeMeasured:!1,hasInterior:!1,hasPoints:!1},[n.POLYGON]:{name:"Polygon",icon:l.A,canBeMeasured:!0,hasInterior:!0,hasPoints:!0}};function s(e){var t,r;return null!==(r=null===(t=u[e])||void 0===t?void 0:t.name)&&void 0!==r?r:"Feature"}function f(e){var t,r;return null!==(r=null===(t=u[e])||void 0===t?void 0:t.icon)&&void 0!==r?r:u[n.POINTS].icon}const p=e=>{var t,r;return null!==(r=null===(t=u[e])||void 0===t?void 0:t.canBeMeasured)&&void 0!==r&&r},d=e=>{var t,r;return null!==(r=null===(t=u[e])||void 0===t?void 0:t.hasInterior)&&void 0!==r&&r},y=e=>{var t,r;return null!==(r=null===(t=u[e])||void 0===t?void 0:t.hasPoints)&&void 0!==r&&r}},78468:(e,t,r)=>{"use strict";r.d(t,{$F:()=>u,FA:()=>n,fp:()=>s,i7:()=>l,wA:()=>f});var n,o=r(63614),a=r(920),i=r(25029),c=r(32722);!function(e){e.DEFAULT="default",e.WITH_WARNINGS="withWarnings",e.WITH_ERRORS="withErrors",e.INACTIVE_ONLY="inactiveOnly"}(n||(n={}));const l=[n.DEFAULT,n.WITH_WARNINGS,n.WITH_ERRORS,n.INACTIVE_ONLY],u={[n.DEFAULT]:(0,a.tt)("filtering.label.all"),[n.WITH_WARNINGS]:(0,a.tt)("filtering.label.warningsAndErrors"),[n.WITH_ERRORS]:(0,a.tt)("filtering.label.errors"),[n.INACTIVE_ONLY]:(0,a.tt)("filtering.label.noTelemetry")},s={[n.DEFAULT]:(0,a.tt)("filtering.shortLabel.all"),[n.WITH_WARNINGS]:(0,a.tt)("filtering.shortLabel.warningsAndErrors"),[n.WITH_ERRORS]:(0,a.tt)("filtering.shortLabel.errors"),[n.INACTIVE_ONLY]:(0,a.tt)("filtering.shortLabel.noTelemetry")},f=o((e=>{switch(e){case n.WITH_ERRORS:return e=>!!(e&&Array.isArray(e.errors)&&e.errors.length>0)&&(0,i.A)(Math.max(...e.errors));case n.WITH_WARNINGS:return e=>!!(e&&Array.isArray(e.errors)&&e.errors.length>0)&&(0,i.y)(Math.max(...e.errors));case n.INACTIVE_ONLY:return e=>(null==e?void 0:e.age)===c.O.INACTIVE;default:return}}))},20240:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var n=r(66401),o=r(71720),a=r(38967),i=r(32722);class c{constructor(){this._uavsById={},this.uavsAdded=new a.MiniSignal,this.uavsUpdated=new a.MiniSignal,this.uavsRemoved=new a.MiniSignal}_createUAVById(e){return new i.A(e)}getAllUAVIds(){return Object.keys(this._uavsById).sort()}getAllUAVs(){return this.getAllUAVIds().map((e=>this._uavsById[e]))}getUAVById(e){return this._uavsById[e]}getOrCreateUAVById(e){let t=this._uavsById[e];return t||(t=this._createUAVById(e),this._uavsById[e]=t),t}handleUAVInformationMessage(e){if(!e.status)return;const{addedUAVs:t,updatedUAVs:r}=(0,o.A)(e.status,((e,t,r)=>{let n=this.getUAVById(r);n||(n=this._createUAVById(r),this._uavsById[r]=n,e.addedUAVs.push(n));n.handleUAVStatusInfo(t)&&e.updatedUAVs.push(n)}),{addedUAVs:new Array,updatedUAVs:new Array});(0,n.A)(t)||this.uavsAdded.dispatch(t),(0,n.A)(r)||this.uavsUpdated.dispatch(r)}removeUAVById(e){this.removeUAVsByIds([e])}removeUAVsByIds(e){const t=[];for(const r of e){const e=this._uavsById[r];void 0!==e&&(t.push(e),delete this._uavsById[r])}(0,n.A)(t)||this.uavsRemoved.dispatch(t)}}},61506:(e,t,r)=>{"use strict";r.d(t,{gP:()=>R,aU:()=>_,IP:()=>D,Ws:()=>N,cE:()=>i,LM:()=>c,Kg:()=>l,Du:()=>u,Mc:()=>v,N9:()=>g,y_:()=>b,hy:()=>w,JT:()=>E,p$:()=>A,CF:()=>S,ff:()=>j,Xf:()=>O,Xc:()=>x,VV:()=>s,TT:()=>k,FX:()=>T,GK:()=>I,D4:()=>C,aP:()=>P,wy:()=>L,lm:()=>f,S2:()=>p,PI:()=>h,Ru:()=>d,O3:()=>y,ZO:()=>m});const n=e=>t=>e+t,o=e=>t=>null==t?void 0:t.startsWith(e),a=e=>t=>{if(t.startsWith(e))return t.slice(e.length)},i=n("area$"),c=n("beacon$"),l=n("dock$"),u=n("feature$"),s=n("home$"),f=n("land$"),p=n("missionItem$"),d=n("origin$"),y=n("planned$"),m=n("uav$"),h=n("mission$"),v=a("area$"),g=a("beacon$"),b=a("dock$"),w=a("feature$"),E=a("home$"),A=a("land$"),S=a("missionItem$"),O=a("origin$"),x=(a("planned$"),a("uav$")),j=a("mission$"),k=o("area$"),T=(o("beacon$"),o("dock$")),I=o("feature$"),C=(o("home$"),o("land$"),o("missionItem$")),P=o("origin$"),L=(o("planned$"),o("uav$")),_=(o("mission$"),"map"),N="mission",R="convexHull",D="missionItemLineString"},23354:(e,t,r)=>{"use strict";r.d(t,{AT:()=>C,Aq:()=>A,FM:()=>I,Kd:()=>x,Pr:()=>N,RJ:()=>w,T9:()=>_,Uz:()=>D,XM:()=>S,Xt:()=>j,ci:()=>k,eS:()=>M,fZ:()=>T,m_:()=>R,mb:()=>n,q5:()=>E,xe:()=>P});var n,o=r(96540),a=r(96563),i=r(77793),c=r(29287),l=r(51338),u=r(37201),s=r(79389),f=r(8721),p=r(23119),d=r(90820),y=r(90350),m=r(97904),h=r(65693),v=r(95183),g=r(2564),b=r(87982);!function(e){e.BASE="base",e.BEACONS="beacons",e.DOCKS="docks",e.FEATURES="features",e.GEOJSON="geojson",e.GRATICULE="graticule",e.HEATMAP="heatmap",e.HEXGRID="hexgrid",e.IMAGE="image",e.MISSION_INFO="home",e.OWN_LOCATION="ownLocation",e.TILE_SERVER="tileServer",e.UAVS="uavs",e.UAV_TRACE="uavTrace",e.UNAVAILABLE="unavailable",e.UNTYPED="untyped"}(n||(n={}));const w=[n.BASE,n.TILE_SERVER,n.GRATICULE,n.FEATURES,n.IMAGE,n.UAVS,n.BEACONS,n.DOCKS,n.UAV_TRACE,n.MISSION_INFO,n.OWN_LOCATION,n.GEOJSON,n.HEATMAP],E=[n.IMAGE];var A;!function(e){e.WMS="wms",e.XYZ="xyz",e.TILE_CACHE="tileCache"}(A||(A={}));const S=[A.WMS,A.XYZ,A.TILE_CACHE],O={[n.BASE]:{label:"Base layer",icon:m.A,parameters:{source:"osm"}},[n.BEACONS]:{label:"Beacons",icon:b.A,parameters:{}},[n.DOCKS]:{label:"Docking stations",icon:u.A,parameters:{}},[n.FEATURES]:{label:"Features",icon:y.A,parameters:{}},[n.GEOJSON]:{label:"GeoJSON layer",icon:i.A,parameters:{data:{},strokeColor:{r:85,g:85,b:225,alpha:1},strokeWidth:2,fillColor:{r:170,g:170,b:225,alpha:.5}},multiple:!0},[n.GRATICULE]:{label:"Graticule",icon:s.A,parameters:{strokeColor:{r:0,g:0,b:0,alpha:.2},strokeWidth:1}},[n.HEATMAP]:{label:"Heatmap",icon:g.A,parameters:{subscriptions:[],minHue:100,maxHue:0,threshold:0,coloringFunction:"linear",minValue:0,maxValue:0,autoScale:!0,maxPoints:1e3,unit:"",minDistance:5,snapToGrid:!1}},[n.IMAGE]:{label:"Image",icon:p.A,parameters:{image:{data:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIGZpbGw9IiNmZmYiLz4KPHBhdGggZD0ibTAgMCAxMDAgMTAwIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMXB4Ii8+CjxwYXRoIGQ9Ik0gMCwxMDAgMTAwLDAiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIxcHgiLz4KPC9zdmc+Cg==",name:"",dimensions:{}},transform:{position:void 0,angle:0,scale:1}},multiple:!0},[n.HEXGRID]:{label:"Hex grid layer",icon:s.A,parameters:{center:[19.061951,47.47334],size:8,radius:5e-4}},[n.MISSION_INFO]:{label:"Mission info",icon:d.A,parameters:{showConvexHull:!0,showOrigin:!0,showHomePositions:!0,showLandingPositions:!1,showTrajectoriesOfSelection:!0,showMissionItems:!0}},[n.OWN_LOCATION]:{label:"Own location",icon:h.A,parameters:{showAccuracy:!0,showOrientation:!0}},[n.TILE_SERVER]:{label:"Tile server",icon:c.A,parameters:{type:A.WMS,url:"http://ows.mundialis.de/services/service",layers:"TOPO-OSM-WMS"},multiple:!0},[n.UAVS]:{label:"UAVs",icon:l.A,parameters:{}},[n.UAV_TRACE]:{label:"UAV trace",icon:v.A,parameters:{trailLength:10,trailWidth:2,trailColor:{r:0,g:0,b:0,a:1}}},[n.UNAVAILABLE]:{label:"Unavailable layer",icon:a.A},[n.UNTYPED]:{label:"Untyped layer",icon:f.A}};function x(e,t,r,o){const a=null!=t?t:n.UNTYPED;return{id:e,type:a,label:r,visible:a!==n.UNTYPED,parameters:null!=o?o:k(a)}}function j(e){var t;return null!==(t=O[e].multiple)&&void 0!==t&&t}function k(e){var t;const r=O[e],n=null!==(t=null==r?void 0:r.parameters)&&void 0!==t?t:{};return structuredClone(n)}function T(e){return e.getLayers().getArray().filter(L)}function I(e){return e.getLayers().getArray().filter(_)}function C(e){return o.createElement(O[e].icon)}function P(e){var t;return Boolean((null===(t=null==e?void 0:e.getVisible)||void 0===t?void 0:t.call(e))&&e.get("triggersTooltip"))}function L(e){var t;return Boolean((null===(t=null==e?void 0:e.getVisible)||void 0===t?void 0:t.call(e))&&e.get("editable"))}function _(e){var t;return Boolean((null===(t=null==e?void 0:e.getVisible)||void 0===t?void 0:t.call(e))&&e.get("selectable"))}function N(e){return O[e].label}function R(e,t=!0){e.set("editable",t)}function D(e,t=!0){e.set("selectable",t)}function M(e,t=!0){e.set("triggersTooltip",t)}},12209:(e,t,r)=>{"use strict";r.d(t,{A0:()=>C,IU:()=>a,K1:()=>I,Pp:()=>o,SO:()=>k,XV:()=>O,kE:()=>x,lJ:()=>T,y8:()=>S});var n,o,a,i,c=r(96540),l=r(95475),u=r(51338),s=r(71762),f=r(62625),p=r(49406),d=r(9955),y=r(90345),m=r(28540),h=r(11057),v=r(16160),g=r(49974),b=r(79495),w=r(84639),E=r(32);!function(e){e.START="start",e.END="end"}(n||(n={})),function(e){e.SHOW="show",e.WAYPOINT="waypoint",e.UNKNOWN=""}(o||(o={})),function(e){e.UNKNOWN="",e.TAKEOFF="takeoff",e.LAND="land",e.RETURN_TO_HOME="returnToHome",e.GO_TO="goTo",e.CHANGE_ALTITUDE="changeAltitude",e.CHANGE_FLIGHT_MODE="changeFlightMode",e.CHANGE_HEADING="changeHeading",e.CHANGE_SPEED="changeSpeed",e.MARKER="marker",e.SET_PAYLOAD="setPayload",e.SET_PARAMETER="setParameter",e.UPDATE_FLIGHT_AREA="updateFlightArea",e.UPDATE_GEOFENCE="updateGeofence",e.UPDATE_SAFETY="updateSafety"}(a||(a={})),function(e){e.ON="on",e.OFF="off",e.TRIGGER="trigger",e.TRIGGER_AT_INTERVAL="triggerInterval",e.TRIGGER_AT_DISTANCE="triggerDistance"}(i||(i={}));const A={title:"Altitude",type:"object",properties:{value:{title:"Value",description:"The altitude to reach in [m]",type:"number",minimum:0,exclusiveMinimum:0},reference:{title:"Reference",description:"The altitude reference to use",type:"string",enum:Object.values(E.Mb),default:E.Mb.HOME}},required:["value","reference"]},S={[a.UNKNOWN]:"?",[a.TAKEOFF]:c.createElement(m.A,null),[a.LAND]:c.createElement(b.A,null),[a.RETURN_TO_HOME]:c.createElement(w.A,null),[a.GO_TO]:"#",[a.CHANGE_ALTITUDE]:c.createElement(l.A,null),[a.CHANGE_FLIGHT_MODE]:c.createElement(u.A,null),[a.CHANGE_HEADING]:c.createElement(s.A,null),[a.CHANGE_SPEED]:c.createElement(f.A,null),[a.MARKER]:c.createElement(p.A,null),[a.SET_PAYLOAD]:c.createElement(d.A,null),[a.SET_PARAMETER]:c.createElement(y.A,null),[a.UPDATE_FLIGHT_AREA]:c.createElement(h.A,null),[a.UPDATE_GEOFENCE]:c.createElement(v.A,null),[a.UPDATE_SAFETY]:c.createElement(g.A,null)},O={[a.UNKNOWN]:"Unknown mission item",[a.TAKEOFF]:"Takeoff",[a.LAND]:"Land",[a.RETURN_TO_HOME]:"Return to home",[a.GO_TO]:"Go to waypoint",[a.CHANGE_ALTITUDE]:"Change altitude",[a.CHANGE_FLIGHT_MODE]:"Change flight mode",[a.CHANGE_HEADING]:"Change heading",[a.CHANGE_SPEED]:"Change speed",[a.MARKER]:"Marker",[a.SET_PAYLOAD]:"Set payload",[a.SET_PARAMETER]:"Set parameter",[a.UPDATE_FLIGHT_AREA]:"Update flight area",[a.UPDATE_GEOFENCE]:"Update geofence",[a.UPDATE_SAFETY]:"Update safety parameters"},x={[a.UNKNOWN]:{properties:{},required:[]},[a.TAKEOFF]:{properties:{alt:A},required:[]},[a.LAND]:{properties:{},required:[]},[a.RETURN_TO_HOME]:{properties:{},required:[]},[a.GO_TO]:{properties:{lat:{title:"Latitude",description:"The latitude to go to in [deg]",type:"number",minimum:-90,maximum:90},lon:{title:"Longitude",description:"The longitude to go to in [deg]",type:"number",minimum:-180,maximum:180}},required:["lat","lon"]},[a.CHANGE_ALTITUDE]:{properties:{alt:A},required:["alt"]},[a.CHANGE_FLIGHT_MODE]:{properties:{},required:[]},[a.CHANGE_HEADING]:{properties:{heading:{title:"Heading",type:"object",properties:{value:{title:"Value",description:"The absolute heading to turn to in [deg]",type:"number"},mode:{title:"Mode",description:"The heading mode to use",type:"string",enum:Object.values(E.GH),default:E.GH.ABSOLUTE}}}},required:["heading"]},[a.CHANGE_SPEED]:{properties:{velocityXY:{title:"Horizontal speed",description:"The horizontal velocity to use in [m/s]",type:"number",minimum:0,exclusiveMinimum:0},velocityZ:{title:"Vertical speed",description:"The vertical velocity to use in [m/s]",type:"number",minimum:0,exclusiveMinimum:0}},required:[]},[a.MARKER]:{properties:{},required:[]},[a.SET_PAYLOAD]:{properties:{},required:[]},[a.SET_PARAMETER]:{properties:{},required:[]},[a.UPDATE_FLIGHT_AREA]:{properties:{},required:[]},[a.UPDATE_GEOFENCE]:{properties:{},required:[]},[a.UPDATE_SAFETY]:{properties:{},required:[]}};function j(e){if("object"!=typeof e)return!1;const{value:t,reference:r}=e;return!("number"!=typeof t||!Number.isFinite(t)||"string"!=typeof r||!Object.values(E.Mb).includes(r))}function k(e){if("object"!=typeof e)return!1;const{type:t,parameters:r}=e;if("string"!=typeof t||!t)return!1;if("object"!=typeof r)return!1;switch(t){case a.UNKNOWN:return!1;case a.GO_TO:{const{lon:e,lat:t,alt:n}=r;if("number"!=typeof e||"number"!=typeof t||!Number.isFinite(e)||!Number.isFinite(t)||void 0!==n&&!j(n))return!1}break;case a.CHANGE_ALTITUDE:{const{alt:e}=r;if(!j(e))return!1}break;case a.CHANGE_FLIGHT_MODE:{const{mode:e}=r;if("string"!=typeof e)return!1}break;case a.CHANGE_HEADING:{const{heading:e}=r;if(!function(e){if("object"!=typeof e)return!1;const{value:t,mode:r}=e;return!("number"!=typeof t||!Number.isFinite(t)||"string"!=typeof r||!Object.values(E.GH).includes(r))}(e))return!1}break;case a.CHANGE_SPEED:{const{velocityXY:e,velocityZ:t}=r;if(!("number"==typeof e&&Number.isFinite(e)||"number"==typeof t&&Number.isFinite(t)))return!1}break;case a.LAND:break;case a.MARKER:{const{marker:e}=r;if("string"!=typeof e||!Object.values(n).includes(e))return!1}break;case a.TAKEOFF:case a.RETURN_TO_HOME:break;case a.SET_PAYLOAD:{const{name:e,action:t,value:n}=r;if("string"!=typeof e||"string"!=typeof t||!Object.values(i).includes(t)||void 0!==n&&("number"!=typeof n||!Number.isFinite(n)))return!1}break;case a.SET_PARAMETER:{const{name:e,value:t}=r;if("string"!=typeof e||"string"!=typeof t&&("number"!=typeof t||!Number.isFinite(t))&&"boolean"!=typeof t)return!1}break;case a.UPDATE_FLIGHT_AREA:{const{coordinateSystem:e}=r;if("string"!=typeof e||"geodetic"!==e)return!1}break;case a.UPDATE_GEOFENCE:{const{coordinateSystem:e}=r;if("string"!=typeof e||"geodetic"!==e)return!1}break;case a.UPDATE_SAFETY:{const{safety:e}=r;if(!e)return!1}}return!0}function T(e){if(k(e)&&e.type===a.UPDATE_FLIGHT_AREA){const{flightArea:t}=e.parameters;return t.polygons[0]}}function I(e){if(k(e)&&e.type===a.GO_TO){const{lon:t,lat:r}=e.parameters;return{lon:t,lat:r}}}function C(e){if(k(e))return e.type===a.GO_TO||e.type===a.TAKEOFF||e.type===a.CHANGE_ALTITUDE?e.parameters.alt:void 0}},78421:(e,t,r)=>{"use strict";var n;r.d(t,{Gl:()=>p,Ji:()=>s,Ri:()=>m,Sq:()=>c,Vk:()=>n,Wf:()=>i,eB:()=>d,pe:()=>u}),function(e){e.AMSL="amsl",e.AHL="ahl",e.AGL="agl",e.XYZ="xyz"}(n||(n={}));const o={[n.AMSL]:"Altitude above mean sea level",[n.AHL]:"Altitude above home level",[n.AGL]:"Altitude above ground level",[n.XYZ]:"Altitude in local coordinate system"},a={[n.AMSL]:"AMSL",[n.AHL]:"AHL",[n.AGL]:"AGL",[n.XYZ]:"Z coordinate"},i=(e,{short:t=!1}={})=>(t?a:o)[e]||"Unknown altitude type";var c;!function(e){e.DEGREES="d",e.DEGREES_MINUTES="dm",e.DEGREES_MINUTES_SECONDS="dms",e.SIGNED_DEGREES="-d",e.SIGNED_DEGREES_MINUTES="-dm",e.SIGNED_DEGREES_MINUTES_SECONDS="-dms"}(c||(c={}));const l={[c.DEGREES]:"Decimal degrees",[c.DEGREES_MINUTES]:"Degrees and minutes",[c.DEGREES_MINUTES_SECONDS]:"Degrees, minutes and seconds",[c.SIGNED_DEGREES]:"Decimal degrees (signed)",[c.SIGNED_DEGREES_MINUTES]:"Degrees and minutes (signed)",[c.SIGNED_DEGREES_MINUTES_SECONDS]:"Degrees, minutes and seconds (signed)"},u=e=>l[e]||"Unknown format";var s;!function(e){e.VOLTAGE="voltage",e.PERCENTAGE="percentage",e.FORCED_PERCENTAGE="forcedPercentage"}(s||(s={}));const f={[s.VOLTAGE]:"Prefer voltage",[s.PERCENTAGE]:"Prefer percentage and show voltage if unknown",[s.FORCED_PERCENTAGE]:"Prefer percentage and estimate it from voltage if needed"},p=e=>f[e]||"Unknown style";var d;!function(e){e.NEVER="never",e.ONLY_MULTIPLE="onlyMultiple",e.ALWAYS="always"}(d||(d={}));const y={[d.NEVER]:"Never ask for confirmation",[d.ONLY_MULTIPLE]:"Confirm when the operation may affect multiple UAVs",[d.ALWAYS]:"Always ask for confirmation"},m=e=>y[e]||"Unknown style"},28850:(e,t,r)=>{"use strict";r.d(t,{CR:()=>u,T0:()=>l,WL:()=>s,az:()=>f,ur:()=>n});var n,o=r(97859),a=r(63614),i=r(920),c=r(51644);!function(e){e.DEFAULT="default",e.STATUS="status",e.FLIGHT_MODE="flightMode",e.BATTERY="battery",e.GPS_FIX="gpsFix",e.ALTITUDE_MSL="amsl",e.ALTITUDE_HOME="ahl",e.ALTITUDE_GROUND="agl",e.HEADING="heading"}(n||(n={}));const l=[n.DEFAULT,n.STATUS,n.FLIGHT_MODE,n.BATTERY,n.GPS_FIX,n.ALTITUDE_MSL,n.ALTITUDE_HOME,n.ALTITUDE_GROUND,n.HEADING],u={[n.DEFAULT]:(0,i.tt)("sorting.label.default"),[n.STATUS]:(0,i.tt)("sorting.label.status"),[n.FLIGHT_MODE]:(0,i.tt)("sorting.label.flightMode"),[n.BATTERY]:(0,i.tt)("sorting.label.battery"),[n.GPS_FIX]:(0,i.tt)("sorting.label.gpsFix"),[n.ALTITUDE_MSL]:(0,i.tt)("sorting.label.amsl"),[n.ALTITUDE_HOME]:(0,i.tt)("sorting.label.ahl"),[n.ALTITUDE_GROUND]:(0,i.tt)("sorting.label.agl"),[n.HEADING]:(0,i.tt)("sorting.label.heading")},s={[n.DEFAULT]:(0,i.tt)("sorting.shortLabel.default"),[n.STATUS]:(0,i.tt)("sorting.shortLabel.status"),[n.FLIGHT_MODE]:(0,i.tt)("sorting.shortLabel.flightMode"),[n.BATTERY]:(0,i.tt)("sorting.shortLabel.battery"),[n.GPS_FIX]:(0,i.tt)("sorting.shortLabel.gpsFix"),[n.ALTITUDE_MSL]:(0,i.tt)("sorting.shortLabel.amsl"),[n.ALTITUDE_HOME]:(0,i.tt)("sorting.shortLabel.ahl"),[n.ALTITUDE_GROUND]:(0,i.tt)("sorting.shortLabel.agl"),[n.HEADING]:(0,i.tt)("sorting.shortLabel.heading")},f=a((e=>{switch(e){case n.STATUS:return e=>e&&Array.isArray(e.errors)&&e.errors.length>0?Math.max(...e.errors):0;case n.FLIGHT_MODE:return e=>{var t;return null!==(t=null==e?void 0:e.mode)&&void 0!==t?t:""};case n.BATTERY:return e=>{if((0,o.default)(e))return-1e4;const{battery:t}=e;return(0,o.default)(t.percentage)?(0,o.default)(t.voltage)?-1e4:t.voltage:t.percentage>=0?t.percentage+1e4:-1e4};case n.GPS_FIX:return e=>{if((0,o.default)(e))return-1e4;const{type:t=c.os.NO_FIX,numSatellites:r=0}=(null==e?void 0:e.gpsFix)||{};return 100*Math.max(t,0)+Math.max(r,0)};case n.ALTITUDE_MSL:return e=>{var t;const r=null===(t=null==e?void 0:e.position)||void 0===t?void 0:t.amsl;return(0,o.default)(r)?-1e4:r};case n.ALTITUDE_HOME:return e=>{var t;const r=null===(t=null==e?void 0:e.position)||void 0===t?void 0:t.ahl;return(0,o.default)(r)?-1e4:r};case n.ALTITUDE_GROUND:return e=>{var t;const r=null===(t=null==e?void 0:e.position)||void 0===t?void 0:t.agl;return(0,o.default)(r)?-1e4:r};case n.HEADING:return e=>{const t=null==e?void 0:e.heading;return(0,o.default)(t)?720:t};case n.DEFAULT:return}}))},25029:(e,t,r)=>{"use strict";function n(e){return(255&e)>=128}function o(e){return(255&e)>=64}r.d(t,{A:()=>n,y:()=>o})},32722:(e,t,r)=>{"use strict";r.d(t,{A:()=>l,O:()=>n});var n,o=r(13293),a=r(46996),i=r(97859),c=r(51644);!function(e){e.ACTIVE="active",e.INACTIVE="inactive",e.GONE="gone",e.FORGOTTEN="forgotten"}(n||(n={}));class l{constructor(e){this.handleUAVStatusInfo=e=>{const{timestamp:t,position:r,positionXYZ:n,heading:o,mode:l,gps:u,errors:s,battery:f,light:p,debug:d,velocity:y,velocityXYZ:m}=e;let h,v=!1;if(t&&(this.lastUpdated=t,v=!0),r&&(this._position={lat:r[0]/1e7,lon:r[1]/1e7,amsl:(0,i.default)(r[2])?void 0:r[2]/1e3,ahl:(0,i.default)(r[3])?void 0:r[3]/1e3,agl:(0,i.default)(r[4])?void 0:r[4]/1e3},v=!0),n&&Array.isArray(n)&&n.length>=3&&(this.localPosition=[n[0]/1e3,n[1]/1e3,n[2]/1e3],v=!0),void 0!==o&&this.heading!==o/10&&(this.heading=o/10,v=!0),void 0!==y&&this.velocity!==y&&(this.velocity=[y[0]/1e3,y[1]/1e3,y[2]/1e3],v=!0),m&&(this.localVelocity=[m[0]/1e3,m[1]/1e3,m[2]/1e3],v=!0),void 0!==p&&this.light!==p&&(this.light=p,v=!0),void 0!==l&&this.mode!==l&&(this.mode=l,v=!0),void 0!==u&&Array.isArray(u)&&(this.gpsFix.type=u.length>0?u[0]:c.os.NO_GPS,this.gpsFix.numSatellites=u.length>1&&"number"==typeof u[1]?u[1]:void 0,this.gpsFix.horizontalAccuracy="number"==typeof u[2]?u[2]/1e3:void 0,this.gpsFix.verticalAccuracy="number"==typeof u[3]?u[3]/1e3:void 0,v=!0),void 0!==d&&this._debug!==d&&(this._debug=d,this._debugAsByteArray=void 0,this._debugString=void 0,v=!0),h=Array.isArray(s)?s:s?[s]:[],(0,a.default)(this._errors,h)||(this._errors.splice(0,this._errors.length,...h),this._mostSevereError=Math.max(0,...this._errors),v=!0),Array.isArray(f)){const[e,t,r]=f;this.battery.voltage!==e/10&&(this.battery.voltage=e/10,v=!0),this.battery.percentage!==t&&(this.battery.percentage=t,v=!0),this.battery.charging!==r&&(this.battery.charging=r,v=!0)}return v},this._debug=void 0,this._debugAsByteArray=void 0,this._debugString=void 0,this._id=e,this._errors=[],this._mostSevereError=0,this._position=void 0,this.battery={voltage:void 0,percentage:void 0,charging:void 0},this.gpsFix={type:c.os.NO_GPS,numSatellites:void 0,horizontalAccuracy:void 0,verticalAccuracy:void 0},this.heading=void 0,this.lastUpdated=void 0,this.light=65535,this.localPosition=void 0,this.localVelocity=void 0,this.mode=void 0,this.velocity=void 0}get agl(){var e;return null===(e=this._position)||void 0===e?void 0:e.agl}get ahl(){var e;return null===(e=this._position)||void 0===e?void 0:e.ahl}get amsl(){var e;return null===(e=this._position)||void 0===e?void 0:e.amsl}get debug(){if(void 0===this._debugAsByteArray&&void 0!==this._debug)try{const e=o.o4.atob(this._debug);this._debugAsByteArray=new Uint8Array(new ArrayBuffer(e.length));for(let t=0;t<e.length;t++)this._debugAsByteArray[t]=e.codePointAt(t)}catch(e){this._debugAsByteArray=new Uint8Array}return this._debugAsByteArray}get debugString(){return void 0===this._debugString&&void 0!==this.debug&&(this._debugString=Array.from(this.debug).map((e=>e>=32&&e<128?String.fromCodePoint(e):".")).join("")),this._debugString}get error(){return this._errors&&this._errors.length>0?this._errors[0]:void 0}get errors(){return this._errors}get id(){return this._id}get lat(){var e;return null===(e=this._position)||void 0===e?void 0:e.lat}get lon(){var e;return null===(e=this._position)||void 0===e?void 0:e.lon}get mostSevereError(){return this._mostSevereError}get hasLocalPosition(){return!(0,i.default)(this.localPosition)}toJSON(){var e,t;const r=(null===(e=this._position)||void 0===e?void 0:e.lat)&&(null===(t=this._position)||void 0===t?void 0:t.lon)?Object.assign({},this._position):void 0,n=this.hasLocalPosition?structuredClone(this.localPosition):void 0;return{id:this._id,age:this.age,battery:Object.assign({},this.battery),debugString:this.debugString,errors:[...this._errors],gpsFix:Object.assign({},this.gpsFix),heading:this.heading,lastUpdated:this.lastUpdated,light:this.light,localPosition:n,localVelocity:structuredClone(this.localVelocity),mode:this.mode,position:r,velocity:structuredClone(this.velocity)}}}},94648:(e,t,r)=>{"use strict";function n(){var e,t,r;const n=new URL(window.location.href);return null!==(r=null===(t=null===(e=null==n?void 0:n.searchParams)||void 0===e?void 0:e.get)||void 0===t?void 0:t.call(e,"token"))&&void 0!==r?r:void 0}r.d(t,{b:()=>n})},43247:(e,t,r)=>{"use strict";r.d(t,{$$:()=>E,BF:()=>y,BS:()=>A,H5:()=>P,Im:()=>I,M5:()=>L,Mw:()=>v,T$:()=>j,Tg:()=>d,Yb:()=>C,Zj:()=>k,ch:()=>w,d5:()=>S,dE:()=>T,k5:()=>_,q9:()=>O,so:()=>b,xQ:()=>x});var n=r(39622),o=r(97859),a=r(23149),i=r(85037),c=r(24089),l=r(38189),u=r(13346),s=r(975),f=r(72648),p=r(68528);const d=Object.freeze({byId:p.t0,order:p.Ml}),y="@@newItem",m=e=>void 0!==(null==e?void 0:e.id)&&null!==e.id&&""!==e.id&&e.id!==y;class h extends Error{constructor(e,t="An item with the same ID already exists"){super(t),this.name="ItemExistsError",this.id=e}}const v=(e,t,r)=>{const o=t&&t.id===y;((e,t)=>{if(m(t)){if((0,n.A)(e.byId,t.id))throw new h(t.id)}else{if(!("name"in t)||"string"!=typeof t.name)throw new Error("New item needs either an ID or a name");t.id=(0,f.ls)(t.name,Object.keys(e.byId))}})(e,t=Object.assign({},t)),e.byId[t.id]=t,r<0?e.order.splice(0,0,t.id):r>=e.order.length?e.order.push(t.id):e.order.splice(r,0,t.id),o&&delete e.byId[y]};function g(e,t,r="id"){if("id"===r)return(0,l.A)(e.order,t.id);const n="function"==typeof r?r:(0,i.A)(r);return(0,u.A)(e.order,t.id,(r=>{const o=e.byId[r];return n(void 0===o?t:o)}))}const b=(e,t,r="id")=>{const n=g(e,t,r);v(e,t,n)},w=(e,t,r="id")=>{((e,t,r)=>{try{v(e,t,r)}catch(e){}})(e,t,g(e,t,r))},E=(e,t)=>{v(e,t,e.order.length)},A=(e,t)=>{v(e,t,0)},S=e=>{e.byId={},e.order=[]},O=(e,t="id")=>{let r=0;const n={byId:{},order:[]},a="function"==typeof t?t:(0,i.A)(t);for(const t of e){const e=a(t);if((0,o.default)(e))throw new Error(`Item at index ${r} has no key`);if(void 0!==n.byId[e])throw new Error(`Duplicate key: ${e}`);n.byId[e]=t,n.order.push(e),r++}return n},x=(e,t)=>{const r=y;"function"==typeof t?t(r):(0,a.A)(t)&&(t.id=r),e.byId[r]={id:r}},j=(e,t)=>{delete e.byId[t],(0,c.A)(e.order,t)},k=(e,t)=>{for(const r of t)delete e.byId[r];(0,c.A)(e.order,...t)},T=(e,t)=>{for(const r of t)void 0!==e.byId[r]&&k(e,t)},I=({byId:e,order:t})=>void 0===t?Object.values(e):0===t.length?p.Ml:t.map((t=>e[t])).filter((e=>!(0,o.default)(e))),C=(e,t)=>Object.assign(Object.assign({},e),{order:t}),P=(e,t,r="id")=>{m(t)&&e.byId[t.id]?e.byId[t.id]=Object.assign({},t):b(e,t,r)},L=(e,t)=>{m(t)&&e.byId[t.id]?e.byId[t.id]=Object.assign({},t):A(e,t)},_=e=>{e.order=(0,s.M)(e.order)}},45056:(e,t,r)=>{"use strict";r.d(t,{Os:()=>c,ax:()=>l,jI:()=>i});var n,o=r(59984),a=r(97859);const i=e=>{var t,r;return null===(r=null===(t=null===o.A||void 0===o.A?void 0:o.A.features)||void 0===t?void 0:t[e])||void 0===r||r},c=!(0,a.default)(null===(n=null===o.A||void 0===o.A?void 0:o.A.session)||void 0===n?void 0:n.maxLengthInSeconds),l=()=>{const e=null===o.A||void 0===o.A?void 0:o.A.perspectives;return Array.isArray(e)&&e[0]?e[0]:"default"}},63175:(e,t,r)=>{"use strict";r.d(t,{BO:()=>v,DB:()=>b,J8:()=>s,Jd:()=>g,Sz:()=>h,Vs:()=>i,a3:()=>c,aD:()=>u,cG:()=>f,d:()=>E,iS:()=>A,sg:()=>p,ts:()=>S,wu:()=>O,xv:()=>x,zL:()=>w});var n=r(22315),o=r(40001),a=r(97859);function i(e){return`(${e.map((e=>e.toFixed(2))).join(", ")})`}function c(e){return(e<3600?l:u)(e)}function l(e){e=Math.round(e);return`${String(Math.floor(e/60))}:${String(Math.floor(e)%60).padStart(2,"0")}`}function u(e,t={}){if(e<0)return"-"+u(-e,t);const{padHours:r}=t;let{precision:n=0}=t;if(n=Math.max(Math.floor(n),0),n>0){const t=Math.pow(10,n);e=Math.round(e*t)/t}let o=String(Math.floor(e/3600));r&&o.length<2&&(o="0"+o),e%=3600;let a=String(Math.floor(e/60));a.length<2&&(a="0"+a);let i=(e%=60).toFixed(n);return e<10&&(i="0"+i),`${o}:${a}:${i}`}function s(e){return`s${e+1}`}function f(e,t){return t<=e?"":t===e+1?s(e):`${s(e)}\u2013${t}`}const p=[{multiplier:1e3,unit:"km"},{multiplier:1,unit:"m"},{multiplier:.01,unit:"cm"}],d=[{multiplier:Math.pow(1e3,2),unit:"km\xb2"},{multiplier:Math.pow(100,2),unit:"ha",breakpoint:.1},{multiplier:1,unit:"m\xb2"}],y=[{multiplier:1,unit:"m/s"}],m=(e,t)=>e+(/^[a-zA-Z]/.test(t)?"\xa0":"")+t,h=(e,t="",r=0)=>{var n;if(Array.isArray(t)&&t.length>0){const{multiplier:o,unit:a,digits:i=r}=null!==(n=t.find((({multiplier:t,breakpoint:r=1})=>r<=Math.abs(e)/t)))&&void 0!==n?n:t.at(-1);return m(0===e?"0":(e/o).toFixed(i),a)}return m(0===e?"0":e.toFixed(r),"string"==typeof t?t:"")},v=(e,t=2)=>h(e,p,t),g=(e,t=2)=>h(e,d,t),b=(e,t=2)=>h(e,y,t);function w(e,{maxCount:t=8,separator:r=" \xb7 "}={}){const n=Array.isArray(e)?e.length:0;return 0===n?"":n>t?`${e.slice(0,t-1).join(r)} and ${n-t+1} more`:e.join(r)}const E=(e,t=0,r="",n="\u2014")=>(0,a.default)(e)||Number.isNaN(e)?n:"number"==typeof e?r?`${e.toFixed(t)}${r}`:e.toFixed(t):e,A=(e,t="\u2014")=>(0,a.default)(e)||Number.isNaN(e)?t:(0,n.A)((0,o.A)(e)),S=(e,t)=>"month"===t?`${e}mo`:"second"===t&&e<1?"now":`${e}${t.charAt(0)}`,O=(e,t,r)=>{const n=S(e,t);return"now"===n?n:"ago"===r?`${n} ago`:`in ${n}`};function x(e,t,{ellipsis:r="\u2026"}={}){return(0,a.default)(e)?"":("string"!=typeof e&&(e=String(e)),e.length>t&&(e=e.slice(0,t)+r),e)}},32:(e,t,r)=>{"use strict";r.d(t,{$S:()=>ee,Al:()=>q,EK:()=>z,Ek:()=>te,GH:()=>T,Hc:()=>D,Mb:()=>k,OU:()=>N,Pk:()=>P,Q9:()=>ne,SK:()=>F,Sx:()=>Q,TQ:()=>M,Ur:()=>K,YG:()=>R,Yn:()=>$,Yo:()=>re,cC:()=>W,d4:()=>_,dK:()=>B,dc:()=>I,f9:()=>Z,h3:()=>J,h7:()=>C,iw:()=>H,n0:()=>U,q8:()=>X,ve:()=>V});var n=r(1274),o=r(83171),a=r(97859),i=r(88389),c=r(18803),l=r(6933),u=r(70915),s=r(34142),f=r(2871),p=r(96702),d=r(11217),y=r(34338),m=r(2757),h=r(20281),v=r(54602),g=r(52490),b=r(46673),w=r(50365),E=r(30669),A=r(93279),S=r(2431),O=r(63175),x=r(28550);const j=r(78059).wl?"@":"\u2220";var k,T;function I(e,t){const r=(0,x.eh)(t[0]-e[0]),n=(0,x.eh)(e[1]),o=(0,x.eh)(t[1]),a=Math.sin(r)*Math.cos(o),i=Math.cos(n)*Math.sin(o)-Math.sin(n)*Math.cos(o)*Math.cos(r);return(180*Math.atan2(a,i)/Math.PI+360)%360}function C(e,t){return(I(t,e)+180)%360}!function(e){e.HOME="home",e.MSL="msl",e.GROUND="ground"}(k||(k={})),function(e){e.ABSOLUTE="absolute",e.WAYPOINT="waypoint"}(T||(T={}));const P=e=>(t,r)=>{if(2!==t.length||!(0,x.fB)(t[0])||!(0,x.fB)(t[1]))throw new TypeError("Must be called with two points only");const n="number"==typeof e?e:e(),[o,a]=t,i=[(o[0]+a[0])/2,(o[1]+a[1])/2],c=l.e$([o[0]-i[0],o[1]-i[1]],n),f=l.e$([a[0]-i[0],a[1]-i[1]],n),p=u.Tr([c,f]),d=[u.R(p),u.k_(p),u.WU(p),u.Py(p),u.R(p)].map((e=>l.WQ(l.e$(e,-n),i)));return r?(r.setCoordinates([d]),r):new s.default([d])},L=((0,o.A)(((e,t)=>_(e,[t])[0])),e=>e instanceof m.default&&e.getSource()instanceof v.default),_=(0,o.A)(((e,t)=>{const r=Array.from({length:t.length});for(const n of e.getLayers().getArray()){if(!L(n)||!n.getVisible())continue;const e=n.getSource();if(e)for(const[n,o]of t.entries())if(!r[n]){const t=e.getFeatureById(o);t&&(r[n]=t)}}return r})),N=(e,t)=>{if(e.intersectsCoordinate(t))return t;let r;if(e instanceof y.A?r=e.getGeometries():e instanceof f.A?r=e.getPolygons():e instanceof p.A&&(r=e.getLineStrings()),void 0!==r){const e=r.map((e=>N(e,t))),n=(0,i.A)(e,(e=>x.CX.bind(t,e)));return null!=n?n:[Number.NaN,Number.NaN]}return e.getClosestPoint(t)},R=({digits:e,reverse:t=!1,separator:r=", ",unit:n})=>{const o=t?[1,0]:[0,1];return t=>t?(0,O.Sz)(t[o[0]],n,e)+r+(0,O.Sz)(t[o[1]],n,e):""},D=({digits:e,unit:t})=>r=>r?(0,O.Sz)(r[0],t,e)+` ${j} `+(0,O.Sz)(r[1],"\xb0",e):"",M=e=>{switch(e.type){case S.lo.LINE_STRING:{const t=(0,g.R3)(new d.default(e.points.map((0,c.A)(K))));return(0,O.BO)(t)}case S.lo.POLYGON:{const t=(0,g.UG)(new s.default([e.points,...e.holes].map((e=>e.map((0,c.A)(K))))));return(0,O.Jd)(t)}default:throw new Error("Unsupported feature type to measure: "+e.type)}};function F(e){const t=u.S5();for(const r of e)u.X$(t,r);return t}const U=e=>((e%360+360)%360).toFixed(1),G=((0,o.A)(((e,t)=>{const r=e[0],n=e[1];return 0===r&&0===n?t:t.map((e=>[e[0]+r,e[1]+n]))})),e=>(t,r)=>{if((0,a.default)(t))return r;try{return e(t)}catch(e){return r}}),V=G((e=>{const{reference:t,value:r}=e,n=(0,O.BO)(r);return t===k.MSL?n+" AMSL":t===k.HOME?n+" above home":t===k.GROUND?n+" above ground":`${n} above unknown reference: ${String(t)}`})),B=G((e=>{const{mode:t,value:r}=e,n=r.toFixed(1)+"\xb0";return t===T.WAYPOINT?"Always face next waypoint":t===T.ABSOLUTE?n:`${n} @ unknown mode: ${String(t)}`})),H=R({digits:7,reverse:!0,unit:"\xb0"}),W=e=>{if((0,a.default)(e))return"";try{return H(e)}catch(e){return""}},z=e=>{try{const t=new n(e);return[t.getLongitude(),t.getLatitude()]}catch(e){return}},Y=((e,t)=>{const r=1/t,n=r*(2-r),o=Math.sqrt(n),a=e*(1-r),i=(a+2*e)/3;return Object.freeze({eccentricity:o,eccentricitySquared:n,flattening:r,inverseFlattening:t,meanRadius:i,semiMajorAxis:e,semiMinorAxis:a})})(6378137,298.257223563),K=h.Rb,q=h.WP,$=(e,t)=>{const r=K(e);return q([r[0]+t[0],r[1]+t[1]])};class Z{constructor({origin:e,orientation:t=0,type:r="neu",ellipsoid:n=Y}){if(this._vec=[0,0,0],"neu"!==r&&"nwu"!==r)throw new Error("unknown coordinate system type: "+r);if("number"!=typeof t&&(t=Number.parseFloat(t)),Number.isNaN(t))throw new TypeError("invalid orientation");this._vec=[0,0,0],this._origin=e,this._orientation=(0,x.eh)(t),this._ellipsoid=n,this._type=r,this._precalculate()}fromLonLat(e){const t=[0,0];return this._updateArrayFromLonLat(t,e[0],e[1]),t}fromLonLatAhl(e){const t=[0,0,e[2]];return this._updateArrayFromLonLat(t,e[0],e[1]),t}get type(){return this._type}toLonLat(e){const t=[e[0],e[1]*this._yMul];return l.e$(t,this._orientation),[t[1]/this._r2OverCosOriginLatInRadians/this._piOver180+this._origin[0],t[0]/this._r1/this._piOver180+this._origin[1]]}toLonLatAhl(e){return[...this.toLonLat([e[0],e[1]]),e[2]]}updateVector3FromLonLatAhl(e,t,r,n){this._updateArrayFromLonLat(this._vec,t,r),e.x=this._vec[0],e.y="nwu"===this._type?this._vec[1]:-this._vec[1],e.z=n}_precalculate(){const e=(0,x.eh)(this._origin[1]),t=this._ellipsoid.semiMajorAxis,r=this._ellipsoid.eccentricitySquared,n=1-r*Math.pow(Math.sin(e),2);this._piOver180=Math.PI/180,this._r1=t*(1-r)/Math.pow(n,1.5),this._r2OverCosOriginLatInRadians=t/Math.sqrt(n)*Math.cos(e),this._yMul="neu"===this._type?1:-1}_updateArrayFromLonLat(e,t,r){e[0]=(r-this._origin[1])*this._piOver180*this._r1,e[1]=(t-this._origin[0])*this._piOver180*this._r2OverCosOriginLatInRadians,l.e$(e,-this._orientation),e[1]*=this._yMul}}function X(e){const t=Math.hypot(e[0],e[1]);if(t>0){const r=(0,x.xW)(Math.atan2(e[1],e[0]));return[t,r<0?r+360:r]}return[0,0]}const J=(e,t)=>{if(0===e.length)return[];let r;const n=(0,x.l7)(e),o=e.map((e=>[e[0]-n[0],e[1]-n[1]])),a=new Z({origin:[0,0]}),i=o.map((e=>a.toLonLat(e)));1===e.length?r=A.zx(i[0]):2===e.length?r=A.wi([i[0],i[1]]):((0,x.hR)(i),r=A.n1([i]));const c=(0,b.A)(r,t/1e3);if(!Array.isArray(c.geometry.coordinates[0]))throw new TypeError("a coordinate array is expected as the first linear ring of the polygon");const l=c.geometry.coordinates[0].map((e=>{const t=a.fromLonLat(e);return[t[0]+n[0],t[1]+n[1]]}));return(0,x.HF)(l)};function Q([e,...t]){const{geometry:r}=t.reduce(((e,t)=>(0,w.A)(e,A.n1([t]))),A.n1([e]));switch(r.type){case"Polygon":return[r.coordinates];case"MultiPolygon":return r.coordinates;default:throw new Error(`Unexpected geometry type: ${r.type}`)}}function ee(e){return[Math.round(1e7*e.lat),Math.round(1e7*e.lon)]}function te(e){return[Math.round(1e7*e[1]),Math.round(1e7*e[0])]}function re(e){return[e[1]/1e7,e[0]/1e7]}function ne(e,t){return 1e3*(0,E.A)(e,t)}},28550:(e,t,r)=>{"use strict";r.d(t,{CX:()=>v,HF:()=>b,HR:()=>m,dc:()=>A,eY:()=>x,eh:()=>f,fB:()=>s,hR:()=>g,hw:()=>y,ko:()=>w,l7:()=>d,mS:()=>O,xW:()=>p});var n=r(29008),o=r(88389),a=r(85037),i=r(21690),c=r(93291),l=r.n(c),u=r(93279);const s=e=>Array.isArray(e)&&2===e.length&&e.every((e=>"number"==typeof e));function f(e){return e*Math.PI/180}function p(e){return 180*e/Math.PI}function d(e,t=2){const r=Array.from({length:t},(()=>0)),n=e&&Array.isArray(e)?e.length:0;if(0===n)return r;for(const n of e)for(let e=0;e<t;e++)r[e]+=n[e]||0;for(let e=0;e<t;e++)r[e]/=n;return r}function y(e){const t=[0,0];for(const r of e.map(f))t[0]+=Math.cos(r),t[1]+=Math.sin(r);const r=p(Math.atan2(t[1],t[0]));return r<0?r+360:r}function m(e,t,{distanceFunction:r=v,getter:o=n.default}={}){const i="function"==typeof o?o:(0,a.A)(o),c=e.map(i),l=t.map(i);return c.map((e=>l.map((t=>r(e,t)))))}const h=(e,t)=>e[0]*t[0]+e[1]*t[1],v=(e,t)=>Math.hypot(e[0]-t[0],e[1]-t[1]);function g(e){if(!Array.isArray(e)||e.length<2)return;const t=e.at(0),r=e.at(-1);if(!s(t)||!s(r))return;const n=t.length;let o=!0;if(n===r.length){o=!1;for(let e=0;e<n;e++)if(t[e]!==r[e]){o=!0;break}}o&&e.push(t)}const b=e=>l()(e).map((t=>{const r=e[t];return r.length>2?r.slice(0,2):r}));function w(e){if(0===e.length)return;if(1===e.length&&s(e[0]))return u.zx(e[0]).geometry;if(2===e.length)return u.wi(e).geometry;const t=[...e];return g(t),u.n1([t]).geometry}const E=([e,t])=>Math.hypot(e,t),A=(e,t)=>Math.PI/2-Math.atan2(t[1]-e[1],t[0]-e[0]),S=(e,t)=>{if(t<3)return e;if(e.length<=t)return e;const r=t=>e.at(t%e.length),n=(t,r)=>{e[(t+e.length)%e.length]=r},a=(0,o.A)((0,i.A)(e.length),(e=>((e,t,r)=>{const n=[t[0]-e[0],t[1]-e[1]],o=[r[0]-t[0],r[1]-t[1]];return Math.acos(h(n,o)/(E(n)*E(o)))})(r(e-1),r(e),r(e+1)))),c=(([e,t,r,n,o])=>{const a=(e,t)=>[e[1]-t[1],t[0]-e[0]],i=a(e,t),c=a(t,n),l=a(n,o),u=h(i,e),s=h(c,r),f=h(l,o),p=i[0]*c[1]-i[1]*c[0],d=l[0]*c[1]-l[1]*c[0];return[e,[(c[1]*u-i[1]*s)/p,(-c[0]*u+i[0]*s)/p],[(c[1]*f-l[1]*s)/d,(-c[0]*f+l[0]*s)/d],o]})([-2,-1,0,1,2].map((e=>r(a+e))));return n(a-2,c[0]),n(a-1,c[1]),n(a+1,c[2]),n(a+2,c[3]),e.splice(a,1),S(e,t)},O=([e,...t],r)=>{const n=S(t,r);if(!s(n[0]))throw new Error("polygons need to have at least three 2D vertices");return[...n,n[0]]},x=(e,t,r=2.5)=>{const n=t/r,o=n*(t/2);if(e>2*o){return 2*n+(e-2*o)/t}{const t=e/2;return 2*(Math.sqrt(2*t*r)/r)}}},72648:(e,t,r)=>{"use strict";r.d(t,{KN:()=>o,OM:()=>a,ls:()=>i});var n=r(18042);function o(e,t){const r=Array.isArray(t);if(r){if(!t.includes(e))return e}else if(!(e in t))return e;let n,o=0;for(;;)if(o++,n=`${e}_${o}`,r){if(!t.includes(n))return n}else if(!(n in t))return n}function a(e,t){if(!t.includes(e))return e;const r=e.match(/^(.*)\s+(\d+)$/),n=r?r[1]:e.trimEnd();let o,a=r?Number.parseInt(r[2],10):0;for(;;)if(a++,o=`${n} ${a}`,!t.includes(o))return o}function i(e,t){return o((0,n.A)(e),t)}},56278:(e,t,r)=>{"use strict";r.d(t,{Ab:()=>l,Kw:()=>c});var n=r(1806),o=r(39622),a=r(32084);const i={unix:0};function c(e){if(""===e)return 0;const t=e.split(":");if(t.length<=3){const e=t.map((e=>e.length>0?Number.parseFloat(e):0));if(e.every((e=>Number.isFinite(e))))return e.reduce(((e,t)=>60*e+t),0)}return Number.NaN}const l=e=>(0,a.A)(e)&&(0,o.A)(i,e)?i[e]:u(e),u=e=>(0,n.A)(e).getTime()},78059:(e,t,r)=>{"use strict";r.d(t,{G3:()=>o,GB:()=>a,_w:()=>i,wl:()=>n});const n=navigator.platform.includes("Mac"),o=(navigator.platform.includes("Win32")||navigator.platform.includes("Windows"),n?e=>Boolean(e.metaKey):e=>Boolean(e.ctrlKey)),a=n?"Cmd":"Ctrl",i=navigator.maxTouchPoints>0},68528:(e,t,r)=>{"use strict";r.d(t,{Ml:()=>c,kP:()=>i,t0:()=>l,vR:()=>a});var n=r(71959),o=r(30038);function a(e,t,{minDelay:r}={}){let a=t;return r&&r>0&&(a=(...e)=>(0,n.A)(t(...e),r)),(0,o.VP)(e,((...e)=>({payload:a(...e)})))}const i=e=>({prepare:()=>({payload:void 0}),reducer:e}),c=Object.freeze([]),l=Object.freeze({})},56084:(e,t,r)=>{"use strict";r.d(t,{D:()=>l,y:()=>c});var n=r(46996),o=r(1081),a=r(86234),i=r(2833);const c=(0,o.createSelectorCreator)(a.UI,i),l=(0,o.createSelectorCreator)(a.UI,{resultEqualityCheck:n.default})},54371:(e,t,r)=>{"use strict";r.d(t,{E2:()=>i,Im:()=>n,Tq:()=>s,fH:()=>p,fj:()=>f,jZ:()=>u,lq:()=>a,mw:()=>o,nd:()=>c,yj:()=>l});const n=e=>null==e||""===e,o=e=>{if(n(e))return"Value is required"},a=e=>t=>n(t)?void 0:e(t),i=e=>{if(!Number.isFinite(Number(e)))return"Value must be a number"},c=e=>{if(!Number.isInteger(Number(e)))return"Value must be an integer"},l=e=>{if(1!==Math.sign(Number(e)))return"Value must be positive"};function u(e){return t=>{if(Number(t)<e)return`Minimum allowed value is ${e}`}}function s(e,t){return e>t&&([e,t]=[t,e]),r=>{if(Number(r)<e||Number(r)>t)return`Value must be between ${e} and ${t}`}}function f(e){return t=>e.map((e=>e(t))).find(Boolean)}function p(e){return t=>{const r={};for(const n of Object.keys(e)){const o=f([e[n]].flat())(t[n]);o&&(r[n]=o)}return r}}},46928:(e,t,r)=>{"use strict";r.d(t,{Fm:()=>i,Gk:()=>n.always,He:()=>a,IO:()=>n.altShiftKeysOnly,IT:()=>o,Js:()=>n.altKeyOnly,Kg:()=>n.shiftKeyOnly,N1:()=>n.pointerMove,TS:()=>n.noModifierKeys,Zm:()=>n.never,fs:()=>n.primaryAction,k5:()=>n.platformModifierKeyOnly,qG:()=>n.doubleClick});r(78059);var n=r(58704);const o=e=>e.originalEvent instanceof MouseEvent&&1===e.originalEvent.button&&e.originalEvent.shiftKey&&e.originalEvent.altKey,a=e=>"contextmenu"===e.originalEvent.type,i=e=>"keydown"===e.type&&"Escape"===e.originalEvent.code},19023:(e,t,r)=>{"use strict";r.d(t,{L:()=>a,NL:()=>n,o8:()=>i});var n,o=r(32);function a(e){return null==e?void 0:e.startsWith("draw")}function i(e,t){switch(e){case n.DRAW_POINT:return{type:"Point"};case n.DRAW_CIRCLE:return{type:"Circle"};case n.DRAW_RECTANGLE:return{geometryFunction:(0,o.Pk)((()=>t?-t.getView().getRotation():0)),type:"Circle"};case n.DRAW_PATH:return{type:"LineString"};case n.DRAW_POLYGON:return{type:"Polygon"};default:return{type:"Point"}}}!function(e){e.SELECT="select",e.ZOOM="zoom",e.PAN="pan",e.DRAW_POINT="drawPoint",e.DRAW_CIRCLE="drawCircle",e.DRAW_RECTANGLE="drawRectangle",e.DRAW_PATH="drawPath",e.DRAW_POLYGON="drawPolygon",e.CUT_HOLE="cutHole",e.EDIT_FEATURE="editFeature",e.ADD_WAYPOINT="addWaypoint"}(n||(n={}))},19457:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAJCAYAAADpeqZqAAAAWklEQVR4nJWOyw3AIAxDHcQC7L8jbwT3AlJBfNp3SiI7dtRaLSlKKeoA1oEsKSQZCEluexw8Tm3ohk+E7bnOUHUGcNh+HwbBygw4AZ7FN/Lt84p0l+yTflV8AKQyLdcCRJi/AAAAAElFTkSuQmCC"},72759:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAYAAADEUlfTAAAAIklEQVR4nGNgYGD4z4Ad/Mdg4ODDBXCZRFgCp5EEHQMXBwAQAgz0SVCcggAAAABJRU5ErkJggg=="},44552:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAFUlEQVQY02NgGJzgPxTjZDMNQkcDAOi4Bf2rdMdGAAAAAElFTkSuQmCC"},18758:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAIklEQVR4nGNkYGD4z0AAMBFSAAOETPpPlEmDUREjAxHhBABPvAQLFv3qngAAAABJRU5ErkJggg=="},17591:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAJklEQVR4nGP8//8/AyHARFDFUFbEwsDAwMDIyIgzHP7//89IlEkApSkHEScJTKoAAAAASUVORK5CYII="},53051:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAKUlEQVR4nGNgYGD4z4Af/Mdg4FKASwCnDf8JKSBoAtEmEXQTQd8RDCcA6+4Q8OvIgasAAAAASUVORK5CYII="},39714:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAANUlEQVR4nI2QMQoAMAwCz5L/f9mOzZIaN0E9UDyZhaaQz6atgBHgambEJ5wBKoS0WaIvfT+6K2MIECN19MAAAAAASUVORK5CYII="},2306:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAGFBMVEX29vb19fXw8PDy8vL09PTz8/Pv7+/x8fGKuegbAAAAyUlEQVR42pXRQQ7CMBRDwST9pfe/MahEmgURbt7WmpVb6+vG0dd9REnn66xRy/qXiCgmEIIJhGACIZhACCYQgvlDCDFIEAwSBIMEwSBBMEgQDBIEgwTBIEEwCJEMQiSDENFMQmQzCZEbNyGemd6KeGZ6u4hnXe2qbdLHFjhf1XqNLXHev4wdMd9nspiEiWISJgqECQJhgkCYIBAmCIQJAmGCQJggECYJhAkCEUMEwhCBMEQgDJEIQ2RSg0iEIRJhiB/S+rrjqvXQ3paIJUgPBXxiAAAAAElFTkSuQmCC"},76085:e=>{"use strict";e.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z%27 fill=%27%23fff%27/%3E%3C/svg%3E"},89169:e=>{"use strict";e.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z%27 fill=%27%23fff%27/%3E%3C/svg%3E"},66517:e=>{"use strict";e.exports="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E"},37889:e=>{"use strict";e.exports="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E"},23201:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMCA2czEuNzk2LS4wMTMgNC42Ny0zLjYxNUM1Ljg1MS45IDYuOTMuMDA2IDggMGMxLjA3LS4wMDYgMi4xNDguODg3IDMuMzQzIDIuMzg1QzE0LjIzMyA2LjAwNSAxNiA2IDE2IDZIMHoiIGZpbGw9InJnYmEoMCwgOCwgMTYsIDAuMikiLz48L3N2Zz4="},3995:(e,t,r)=>{"use strict";e.exports=r.p+"756a5d1d3cefa357cddd.png"},14141:(e,t,r)=>{"use strict";e.exports=r.p+"accfa46338ac100df097.png"},85690:(e,t,r)=>{"use strict";e.exports=r.p+"746c5b26af66e0ec66a2.png"},66947:(e,t,r)=>{"use strict";e.exports=r.p+"95ccd0f851a9715276ce.png"},26945:(e,t,r)=>{"use strict";e.exports=r.p+"0f2bf7a72d52c52151d0.png"},52195:(e,t,r)=>{"use strict";e.exports=r.p+"c1c64df77b3cc7dc595a.png"},8268:(e,t,r)=>{"use strict";e.exports=r.p+"17aa0f96c6a6c12802d0.png"},46465:(e,t,r)=>{"use strict";e.exports=r.p+"a0ffa3fec5fb5d4576e3.ttf"},15911:(e,t,r)=>{"use strict";e.exports=r.p+"4fee81dc0969cba3673c.woff"},84525:(e,t,r)=>{"use strict";e.exports=r.p+"04ec25f00ae3dd879b4f.woff2"},67309:(e,t,r)=>{"use strict";e.exports=r.p+"3e448884afe00630c246.ttf"},44131:(e,t,r)=>{"use strict";e.exports=r.p+"fd1931c83fb432d22683.woff"},49947:(e,t,r)=>{"use strict";e.exports=r.p+"c21727b877af05fcd8e8.woff2"},73970:(e,t,r)=>{"use strict";e.exports=r.p+"d1d8bc4c326ab51962ca.ttf"},31746:(e,t,r)=>{"use strict";e.exports=r.p+"188265e96597209b2b7c.woff"},54244:(e,t,r)=>{"use strict";e.exports=r.p+"b4e7a0530d8f59d6bf37.woff2"},43506:()=>{},78982:()=>{},47790:()=>{},73776:()=>{},77965:()=>{},66089:()=>{},79368:()=>{},64688:()=>{},42634:()=>{},51069:()=>{},15340:()=>{},79838:()=>{},81802:()=>{}}]);